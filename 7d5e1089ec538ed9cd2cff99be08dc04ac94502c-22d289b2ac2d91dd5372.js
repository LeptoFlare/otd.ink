(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"7ueG":function(module,exports,__webpack_require__){"use strict";eval("\nvar $ = __webpack_require__(\"I+eb\");\nvar $trimStart = __webpack_require__(\"WKiH\").start;\nvar forcedStringTrimMethod = __webpack_require__(\"yNLB\");\n\nvar FORCED = forcedStringTrimMethod('trimStart');\n\nvar trimStart = FORCED ? function trimStart() {\n  return $trimStart(this);\n} : ''.trimStart;\n\n// `String.prototype.{ trimStart, trimLeft }` methods\n// https://github.com/tc39/ecmascript-string-left-right-trim\n$({ target: 'String', proto: true, forced: FORCED }, {\n  trimStart: trimStart,\n  trimLeft: trimStart\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLXN0YXJ0LmpzP2VlZTciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixRQUFRLG1CQUFPLENBQUMsTUFBcUI7QUFDckMsaUJBQWlCLG1CQUFPLENBQUMsTUFBMEI7QUFDbkQsNkJBQTZCLG1CQUFPLENBQUMsTUFBaUM7O0FBRXRFOztBQUVBO0FBQ0E7QUFDQSxDQUFDOztBQUVELHNCQUFzQixzQkFBc0I7QUFDNUM7QUFDQSxHQUFHLGdEQUFnRDtBQUNuRDtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiI3dWVHLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyICQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZXhwb3J0Jyk7XG52YXIgJHRyaW1TdGFydCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9zdHJpbmctdHJpbScpLnN0YXJ0O1xudmFyIGZvcmNlZFN0cmluZ1RyaW1NZXRob2QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvc3RyaW5nLXRyaW0tZm9yY2VkJyk7XG5cbnZhciBGT1JDRUQgPSBmb3JjZWRTdHJpbmdUcmltTWV0aG9kKCd0cmltU3RhcnQnKTtcblxudmFyIHRyaW1TdGFydCA9IEZPUkNFRCA/IGZ1bmN0aW9uIHRyaW1TdGFydCgpIHtcbiAgcmV0dXJuICR0cmltU3RhcnQodGhpcyk7XG59IDogJycudHJpbVN0YXJ0O1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1TdGFydCwgdHJpbUxlZnQgfWAgbWV0aG9kc1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvZWNtYXNjcmlwdC1zdHJpbmctbGVmdC1yaWdodC10cmltXG4kKHsgdGFyZ2V0OiAnU3RyaW5nJywgcHJvdG86IHRydWUsIGZvcmNlZDogRk9SQ0VEIH0sIHtcbiAgdHJpbVN0YXJ0OiB0cmltU3RhcnQsXG4gIHRyaW1MZWZ0OiB0cmltU3RhcnRcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7ueG\n")},LPf0:function(module,exports,__webpack_require__){eval('__webpack_require__("E9XD");\n\n__webpack_require__("7ueG");\n\n!function (e, t) {\n   true ? module.exports = t(__webpack_require__("q1tI"), __webpack_require__("i8i4")) : undefined;\n}(this, function (n, r) {\n  return a = {}, o.m = i = [function (e, t) {\n    e.exports = n;\n  }, function (e, t, n) {\n    "use strict";\n\n    n.d(t, "c", function () {\n      return i;\n    }), n.d(t, "b", function () {\n      return a;\n    }), n.d(t, "l", function () {\n      return s;\n    }), n.d(t, "a", function () {\n      return c;\n    }), n.d(t, "k", function () {\n      return u;\n    }), n.d(t, "e", function () {\n      return d;\n    }), n.d(t, "g", function () {\n      return p;\n    }), n.d(t, "d", function () {\n      return f;\n    }), n.d(t, "h", function () {\n      return h;\n    }), n.d(t, "i", function () {\n      return m;\n    }), n.d(t, "f", function () {\n      return b;\n    }), n.d(t, "j", function () {\n      return y;\n    });\n    var r = n(14),\n        l = n.n(r),\n        o = n(8);\n\n    var i = function i(r, o) {\n      return function (e) {\n        var t, n;\n        t = o, ((n = e).detail && n.detail.embedId === t || n.data && n.data.embedId === t) && r(e);\n      };\n    },\n        a = function a(e, t) {\n      t.data.embedId === e && Object(o.a)(t);\n    },\n        s = function s(e, t, n) {\n      return c(n, (i = t, (o = e) in (r = {}) ? Object.defineProperty(r, o, {\n        value: i,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : r[o] = i, r));\n      var r, o, i;\n    },\n        c = function c(e, t) {\n      var n = [],\n          r = l()(e, !0),\n          o = r.query,\n          i = r.origin,\n          a = r.pathname,\n          s = r.hash,\n          c = a.replace(/\\/$/, ""),\n          u = Object.assign({}, o, t);\n      return Object.keys(u).forEach(function (e) {\n        n.push("".concat(encodeURIComponent(e), "=").concat(encodeURIComponent(u[e])));\n      }), "".concat(i).concat(c, "?").concat(n.join("&")).concat(s);\n    },\n        u = function u(r, o) {\n      return Object.keys(o).reduce(function (e, t) {\n        var n = o[t];\n        return null != n && null != r[t] && !1 !== r[t] && (e[n] = r[t]), e;\n      }, {});\n    },\n        d = function d() {\n      var e, t, n;\n      document.querySelector && (t = "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0", (e = document.querySelector("meta[name=viewport]")) ? e.setAttribute("content", t) : ((n = document.createElement("meta")).content = t, n.name = "viewport", document.head.appendChild(n)));\n    },\n        p = function p(e) {\n      if (window.top !== window) return !1;\n      var t = e.getBoundingClientRect(),\n          n = .2 * t.height,\n          r = window.innerWidth || document.documentElement.clientWidth,\n          o = window.innerHeight || document.documentElement.clientHeight;\n      return t.top >= -n && t.left >= -n && t.bottom <= o + n && t.right <= r + n;\n    },\n        f = function f(r, o, i) {\n      var a;\n      return function () {\n        for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) {\n          t[n] = arguments[n];\n        }\n\n        clearTimeout(a), a = setTimeout(function () {\n          a = null, r.call.apply(r, [i].concat(t));\n        }, o);\n      };\n    },\n        h = function h() {\n      return null;\n    },\n        m = function m(e) {\n      var t = e.detail.url;\n\n      try {\n        var n = document.createElement("a");\n        n.href = t, document.body.appendChild(n), n.click(), document.body.removeChild(n);\n      } catch (e) {}\n    },\n        b = function b(e) {\n      return {\n        response_id: e && e.detail ? e.detail.response_id : void 0\n      };\n    },\n        y = function y(e) {\n      return "".concat(e).replace(/rgba\\((.*),\\s?[\\d.]+\\)/, "rgb($1)");\n    };\n  }, function (e, t, n) {\n    e.exports = n(23)();\n  }, function (e, Ie, Re) {\n    "use strict";\n\n    (function (e) {\n      Re.d(Ie, "a", function () {\n        return Ae;\n      }), Re.d(Ie, "b", function () {\n        return ae;\n      }), Re.d(Ie, "d", function () {\n        return Pe;\n      });\n      var i = Re(9),\n          E = Re(0),\n          g = Re.n(E),\n          y = (Re(18), Re(19)),\n          a = Re(20),\n          A = Re(12),\n          t = Re(11),\n          v = Re.n(t);\n\n      function P() {\n        return (P = Object.assign || function (e) {\n          for (var t = 1; t < arguments.length; t++) {\n            var n = arguments[t];\n\n            for (var r in n) {\n              Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n            }\n          }\n\n          return e;\n        }).apply(this, arguments);\n      }\n\n      var o = function o(e, t) {\n        for (var n = [e[0]], r = 0, o = t.length; r < o; r += 1) {\n          n.push(t[r], e[r + 1]);\n        }\n\n        return n;\n      },\n          c = function c(e) {\n        return null !== e && "object" == typeof e && "[object Object]" === (e.toString ? e.toString() : Object.prototype.toString.call(e)) && !Object(i.typeOf)(e);\n      },\n          w = Object.freeze([]),\n          I = Object.freeze({});\n\n      function u(e) {\n        return "function" == typeof e;\n      }\n\n      function O(e) {\n        return e.displayName || e.name || "Component";\n      }\n\n      function C(e) {\n        return e && "string" == typeof e.styledComponentId;\n      }\n\n      function s() {\n        return Re.nc;\n      }\n\n      var d = void 0 !== e && (e.env.REACT_APP_SC_ATTR || e.env.SC_ATTR) || "data-styled",\n          l = "data-styled-version",\n          p = "5.1.1",\n          f = "/*!sc*/\\n",\n          r = "undefined" != typeof window && "HTMLElement" in window,\n          n = "boolean" == typeof SC_DISABLE_SPEEDY && SC_DISABLE_SPEEDY || void 0 !== e && (e.env.REACT_APP_SC_DISABLE_SPEEDY || e.env.SC_DISABLE_SPEEDY) || !1,\n          h = {};\n\n      function k(e) {\n        for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), r = 1; r < t; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        throw new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#" + e + " for more information." + (0 < n.length ? " Additional arguments: " + n.join(", ") : ""));\n      }\n\n      function m(e) {\n        var t = document.head,\n            n = e || t,\n            r = document.createElement("style"),\n            o = function (e) {\n          for (var t = e.childNodes, n = t.length; 0 <= n; n--) {\n            var r = t[n];\n            if (r && 1 === r.nodeType && r.hasAttribute(d)) return r;\n          }\n        }(n),\n            i = void 0 !== o ? o.nextSibling : null;\n\n        r.setAttribute(d, "active"), r.setAttribute(l, p);\n        var a = s();\n        return a && r.setAttribute("nonce", a), n.insertBefore(r, i), r;\n      }\n\n      function b(e) {\n        if (F.has(e)) return F.get(e);\n        var t = M++;\n        return F.set(e, t), D.set(t, e), t;\n      }\n\n      function S(e) {\n        for (var t, n = e.getTag(), r = n.length, o = "", i = 0; i < r; i++) {\n          var a,\n              s,\n              c,\n              u,\n              l = (t = i, D.get(t));\n          void 0 !== l && (a = e.names.get(l), s = n.getGroup(i), void 0 !== a && 0 !== s.length && (c = d + ".g" + i + \'[id="\' + l + \'"]\', u = "", void 0 !== a && a.forEach(function (e) {\n            0 < e.length && (u += e + ",");\n          }), o += s + c + \'{content:"\' + u + \'"}\' + f));\n        }\n\n        return o;\n      }\n\n      function j(e, t) {\n        for (var n, r, o = t.innerHTML.split(f), i = [], a = 0, s = o.length; a < s; a++) {\n          var c,\n              u,\n              l,\n              d = o[a].trim();\n          d && ((c = d.match(z)) ? (u = 0 | parseInt(c[1], 10), l = c[2], 0 != u && (n = l, M <= (r = u) && (M = r + 1), F.set(n, r), D.set(r, n), function (e, t, n) {\n            for (var r, o = n.split(","), i = 0, a = o.length; i < a; i++) {\n              (r = o[i]) && e.registerName(t, r);\n            }\n          }(e, l, c[3]), e.getTag().insertRules(u, i)), i.length = 0) : i.push(d));\n        }\n      }\n\n      function x(e) {\n        return H(B, e);\n      }\n\n      var R = function () {\n        function e(e) {\n          var t = this.element = m(e);\n          t.appendChild(document.createTextNode("")), this.sheet = function (e) {\n            if (e.sheet) return e.sheet;\n\n            for (var t = document.styleSheets, n = 0, r = t.length; n < r; n++) {\n              var o = t[n];\n              if (o.ownerNode === e) return o;\n            }\n\n            k(17);\n          }(t), this.length = 0;\n        }\n\n        var t = e.prototype;\n        return t.insertRule = function (e, t) {\n          try {\n            return this.sheet.insertRule(t, e), this.length++, !0;\n          } catch (e) {\n            return !1;\n          }\n        }, t.deleteRule = function (e) {\n          this.sheet.deleteRule(e), this.length--;\n        }, t.getRule = function (e) {\n          var t = this.sheet.cssRules[e];\n          return void 0 !== t && "string" == typeof t.cssText ? t.cssText : "";\n        }, e;\n      }(),\n          T = function () {\n        function e(e) {\n          var t = this.element = m(e);\n          this.nodes = t.childNodes, this.length = 0;\n        }\n\n        var t = e.prototype;\n        return t.insertRule = function (e, t) {\n          if (e <= this.length && 0 <= e) {\n            var n = document.createTextNode(t),\n                r = this.nodes[e];\n            return this.element.insertBefore(n, r || null), this.length++, !0;\n          }\n\n          return !1;\n        }, t.deleteRule = function (e) {\n          this.element.removeChild(this.nodes[e]), this.length--;\n        }, t.getRule = function (e) {\n          return e < this.length ? this.nodes[e].textContent : "";\n        }, e;\n      }(),\n          _ = function () {\n        function e(e) {\n          this.rules = [], this.length = 0;\n        }\n\n        var t = e.prototype;\n        return t.insertRule = function (e, t) {\n          return e <= this.length && (this.rules.splice(e, 0, t), this.length++, !0);\n        }, t.deleteRule = function (e) {\n          this.rules.splice(e, 1), this.length--;\n        }, t.getRule = function (e) {\n          return e < this.length ? this.rules[e] : "";\n        }, e;\n      }(),\n          L = function () {\n        function e(e) {\n          this.groupSizes = new Uint32Array(512), this.length = 512, this.tag = e;\n        }\n\n        var t = e.prototype;\n        return t.indexOfGroup = function (e) {\n          for (var t = 0, n = 0; n < e; n++) {\n            t += this.groupSizes[n];\n          }\n\n          return t;\n        }, t.insertRules = function (e, t) {\n          if (e >= this.groupSizes.length) {\n            for (var n = this.groupSizes, r = n.length, o = r; o <= e;) {\n              (o <<= 1) < 0 && k(16, "" + e);\n            }\n\n            this.groupSizes = new Uint32Array(o), this.groupSizes.set(n), this.length = o;\n\n            for (var i = r; i < o; i++) {\n              this.groupSizes[i] = 0;\n            }\n          }\n\n          for (var a = this.indexOfGroup(e + 1), s = 0, c = t.length; s < c; s++) {\n            this.tag.insertRule(a, t[s]) && (this.groupSizes[e]++, a++);\n          }\n        }, t.clearGroup = function (e) {\n          if (e < this.length) {\n            var t = this.groupSizes[e],\n                n = this.indexOfGroup(e),\n                r = n + t;\n            this.groupSizes[e] = 0;\n\n            for (var o = n; o < r; o++) {\n              this.tag.deleteRule(n);\n            }\n          }\n        }, t.getGroup = function (e) {\n          var t = "";\n          if (e >= this.length || 0 === this.groupSizes[e]) return t;\n\n          for (var n = this.groupSizes[e], r = this.indexOfGroup(e), o = r + n, i = r; i < o; i++) {\n            t += this.tag.getRule(i) + f;\n          }\n\n          return t;\n        }, e;\n      }(),\n          F = new Map(),\n          D = new Map(),\n          M = 1,\n          N = "style[" + d + "][" + l + \'="\' + p + \'"]\',\n          z = new RegExp("^" + d + \'\\\\.g(\\\\d+)\\\\[id="([\\\\w\\\\d-]+)"\\\\].*?"([^"]*)\'),\n          $ = r,\n          W = {\n        isServer: !r,\n        useCSSOMInjection: !n\n      },\n          q = function () {\n        function t(e, t, n) {\n          void 0 === e && (e = W), void 0 === t && (t = {}), this.options = P({}, W, {}, e), this.gs = t, this.names = new Map(n), !this.options.isServer && r && $ && ($ = !1, function (e) {\n            for (var t = document.querySelectorAll(N), n = 0, r = t.length; n < r; n++) {\n              var o = t[n];\n              o && "active" !== o.getAttribute(d) && (j(e, o), o.parentNode && o.parentNode.removeChild(o));\n            }\n          }(this));\n        }\n\n        t.registerId = b;\n        var e = t.prototype;\n        return e.reconstructWithOptions = function (e) {\n          return new t(P({}, this.options, {}, e), this.gs, this.names);\n        }, e.allocateGSInstance = function (e) {\n          return this.gs[e] = (this.gs[e] || 0) + 1;\n        }, e.getTag = function () {\n          return this.tag || (this.tag = (t = this.options, n = t.isServer, r = t.useCSSOMInjection, o = t.target, e = new (n ? _ : r ? R : T)(o), new L(e)));\n          var e, t, n, r, o;\n        }, e.hasNameForId = function (e, t) {\n          return this.names.has(e) && this.names.get(e).has(t);\n        }, e.registerName = function (e, t) {\n          var n;\n          b(e), this.names.has(e) ? this.names.get(e).add(t) : ((n = new Set()).add(t), this.names.set(e, n));\n        }, e.insertRules = function (e, t, n) {\n          this.registerName(e, t), this.getTag().insertRules(b(e), n);\n        }, e.clearNames = function (e) {\n          this.names.has(e) && this.names.get(e).clear();\n        }, e.clearRules = function (e) {\n          this.getTag().clearGroup(b(e)), this.clearNames(e);\n        }, e.clearTag = function () {\n          this.tag = void 0;\n        }, e.toString = function () {\n          return S(this);\n        }, t;\n      }(),\n          B = 5381,\n          H = function H(e, t) {\n        for (var n = t.length; n;) {\n          e = 33 * e ^ t.charCodeAt(--n);\n        }\n\n        return e;\n      };\n\n      var U = /^\\s*\\/\\/.*$/gm;\n\n      function G(e) {\n        var l,\n            d,\n            a,\n            s,\n            c,\n            t = void 0 === e ? I : e,\n            n = t.options,\n            r = void 0 === n ? I : n,\n            o = t.plugins,\n            i = void 0 === o ? w : o,\n            u = new y.a(r),\n            p = [],\n            f = (l = function l(e) {\n          p.push(e);\n        }, d = "/*|*/", function (e, t, n, r, o, i, a, s, c, u) {\n          switch (e) {\n            case 1:\n              if (0 === c && 64 === t.charCodeAt(0)) return l(t + ";"), "";\n              break;\n\n            case 2:\n              if (0 === s) return t + d;\n              break;\n\n            case 3:\n              switch (s) {\n                case 102:\n                case 112:\n                  return l(n[0] + t), "";\n\n                default:\n                  return t + (0 === u ? d : "");\n              }\n\n            case -2:\n              t.split("/*|*/}").forEach(h);\n          }\n        });\n\n        function h(e) {\n          if (e) try {\n            l(e + "}");\n          } catch (e) {}\n        }\n\n        function m(e, t, n) {\n          return 0 < t && -1 !== n.slice(0, t).indexOf(s) && n.slice(t - s.length, t) !== s ? "." + a : e;\n        }\n\n        function b(e, t, n, r) {\n          void 0 === r && (r = "&");\n          var o = e.replace(U, ""),\n              i = t && n ? n + " " + t + " { " + o + " }" : o;\n          return a = r, s = t, c = new RegExp("\\\\" + s + "\\\\b", "g"), u(n || !t ? "" : t, i);\n        }\n\n        return u.use([].concat(i, [function (e, t, n) {\n          2 === e && n.length && 0 < n[0].lastIndexOf(s) && (n[0] = n[0].replace(c, m));\n        }, f, function (e) {\n          if (-2 === e) {\n            var t = p;\n            return p = [], t;\n          }\n        }])), b.hash = i.length ? i.reduce(function (e, t) {\n          return t.name || k(15), H(e, t.name);\n        }, B).toString() : "", b;\n      }\n\n      var Y = g.a.createContext(),\n          V = (Y.Consumer, g.a.createContext()),\n          K = (V.Consumer, new q()),\n          X = G();\n\n      function Z() {\n        return Object(E.useContext)(Y) || K;\n      }\n\n      function Q() {\n        return Object(E.useContext)(V) || X;\n      }\n\n      var J = function () {\n        function e(e, t) {\n          var n = this;\n          this.inject = function (e) {\n            e.hasNameForId(n.id, n.name) || e.insertRules(n.id, n.name, X.apply(void 0, n.stringifyArgs));\n          }, this.toString = function () {\n            return k(12, String(n.name));\n          }, this.name = e, this.id = "sc-keyframes-" + e, this.stringifyArgs = t;\n        }\n\n        return e.prototype.getName = function () {\n          return this.name;\n        }, e;\n      }(),\n          ee = /([A-Z])/g,\n          te = /^ms-/;\n\n      function ne(e) {\n        return e.replace(ee, "-$1").toLowerCase().replace(te, "-ms-");\n      }\n\n      var re = function re(e) {\n        return null == e || !1 === e || "" === e;\n      },\n          oe = function r(o, e) {\n        var i = [];\n        return Object.keys(o).forEach(function (e) {\n          if (!re(o[e])) {\n            if (c(o[e])) return i.push.apply(i, r(o[e], e)), i;\n            if (u(o[e])) return i.push(ne(e) + ":", o[e], ";"), i;\n            i.push(ne(e) + ": " + (null == (n = o[t = e]) || "boolean" == typeof n || "" === n ? "" : "number" != typeof n || 0 === n || t in a.a ? String(n).trim() : n + "px") + ";");\n          }\n\n          var t, n;\n          return i;\n        }), e ? [e + " {"].concat(i, ["}"]) : i;\n      };\n\n      function ie(e, t, n) {\n        if (Array.isArray(e)) {\n          for (var r, o = [], i = 0, a = e.length; i < a; i += 1) {\n            "" !== (r = ie(e[i], t, n)) && (Array.isArray(r) ? o.push.apply(o, r) : o.push(r));\n          }\n\n          return o;\n        }\n\n        return re(e) ? "" : C(e) ? "." + e.styledComponentId : u(e) ? "function" != typeof (s = e) || s.prototype && s.prototype.isReactComponent || !t ? e : ie(e(t), t, n) : e instanceof J ? n ? (e.inject(n), e.getName()) : e : c(e) ? oe(e) : e.toString();\n        var s;\n      }\n\n      function ae(e) {\n        for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), r = 1; r < t; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        return u(e) || c(e) ? ie(o(w, [e].concat(n))) : 0 === n.length && 1 === e.length && "string" == typeof e[0] ? e : ie(o(e, n));\n      }\n\n      var se = function se(e) {\n        return "function" == typeof e || "object" == typeof e && null !== e && !Array.isArray(e);\n      },\n          ce = function ce(e) {\n        return "__proto__" !== e && "constructor" !== e && "prototype" !== e;\n      };\n\n      function ue(e) {\n        for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), r = 1; r < t; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        for (var o, i, a, s, c = 0, u = n; c < u.length; c++) {\n          var l = u[c];\n          if (se(l)) for (var d in l) {\n            ce(d) && (o = e, i = l[d], s = o[a = d], se(i) && se(s) ? ue(s, i) : o[a] = i);\n          }\n        }\n\n        return e;\n      }\n\n      function le(e) {\n        return String.fromCharCode(e + (25 < e ? 39 : 97));\n      }\n\n      var de = /(a)(d)/gi;\n\n      function pe(e) {\n        for (var t = "", n = Math.abs(e); 52 < n; n = n / 52 | 0) {\n          t = le(n % 52) + t;\n        }\n\n        return (le(n % 52) + t).replace(de, "$1-$2");\n      }\n\n      function fe(e) {\n        for (var t = 0; t < e.length; t += 1) {\n          var n = e[t];\n          if (u(n) && !C(n)) return !1;\n        }\n\n        return !0;\n      }\n\n      var he = function () {\n        function e(e, t) {\n          this.rules = e, this.staticRulesId = "", this.isStatic = fe(e), this.componentId = t, this.baseHash = x(t), q.registerId(t);\n        }\n\n        return e.prototype.generateAndInjectStyles = function (e, t, n) {\n          var r = this.componentId;\n\n          if (this.isStatic && !n.hash) {\n            if (this.staticRulesId && t.hasNameForId(r, this.staticRulesId)) return this.staticRulesId;\n            var o,\n                i = ie(this.rules, e, t).join(""),\n                a = pe(H(this.baseHash, i.length) >>> 0);\n            return t.hasNameForId(r, a) || (o = n(i, "." + a, void 0, r), t.insertRules(r, a, o)), this.staticRulesId = a;\n          }\n\n          for (var s = this.rules.length, c = H(this.baseHash, n.hash), u = "", l = 0; l < s; l++) {\n            var d,\n                p,\n                f = this.rules[l];\n            "string" == typeof f ? u += f : (d = ie(f, e, t), p = Array.isArray(d) ? d.join("") : d, c = H(c, p + l), u += p);\n          }\n\n          var h,\n              m = pe(c >>> 0);\n          return t.hasNameForId(r, m) || (h = n(u, "." + m, void 0, r), t.insertRules(r, m, h)), m;\n        }, e;\n      }(),\n          me = (new Set(), function (e, t, n) {\n        return void 0 === n && (n = I), e.theme !== n.theme && e.theme || t || n.theme;\n      }),\n          be = /[!"#$%&\'()*+,./:;<=>?@[\\\\\\]^`{|}~-]+/g,\n          ye = /(^-|-$)/g;\n\n      function ge(e) {\n        return e.replace(be, "-").replace(ye, "");\n      }\n\n      function ve(e) {\n        return "string" == typeof e && !0;\n      }\n\n      var we = function we(e) {\n        return pe(x(e) >>> 0);\n      };\n\n      var Oe = g.a.createContext();\n      Oe.Consumer;\n      var Ce = {};\n\n      function ke(e, t, n) {\n        void 0 === e && (e = I);\n        var i = P({}, t, {\n          theme: e\n        }),\n            a = {};\n        return n.forEach(function (e) {\n          var t,\n              n,\n              r,\n              o = e;\n\n          for (t in u(o) && (o = o(i)), o) {\n            i[t] = a[t] = "className" === t ? (n = a[t], r = o[t], n && r ? n + " " + r : n || r) : o[t];\n          }\n        }), [i, a];\n      }\n\n      function Se(e, t, n) {\n        var r = e.attrs,\n            o = e.componentStyle,\n            i = e.defaultProps,\n            a = e.foldedComponentIds,\n            s = e.shouldForwardProp,\n            c = e.styledComponentId,\n            u = e.target;\n        Object(E.useDebugValue)(c);\n        var l,\n            d,\n            p,\n            f,\n            h,\n            m,\n            b = ke(me(t, Object(E.useContext)(Oe), i) || I, t, r),\n            y = b[0],\n            g = b[1],\n            v = (l = o, d = 0 < r.length, p = y, f = Z(), h = Q(), m = l.isStatic && !d ? l.generateAndInjectStyles(I, f, h) : l.generateAndInjectStyles(p, f, h), Object(E.useDebugValue)(m), m),\n            w = n,\n            O = g.$as || t.$as || g.as || t.as || u,\n            C = ve(O),\n            k = g !== t ? P({}, t, {}, g) : t,\n            S = s || C && A.a,\n            j = {};\n\n        for (var x in k) {\n          "$" !== x[0] && "as" !== x && ("forwardedAs" === x ? j.as = k[x] : S && !S(x, A.a) || (j[x] = k[x]));\n        }\n\n        return t.style && g.style !== t.style && (j.style = P({}, t.style, {}, g.style)), j.className = Array.prototype.concat(a, c, v !== c ? v : null, t.className, g.className).filter(Boolean).join(" "), j.ref = w, Object(E.createElement)(O, j);\n      }\n\n      function je(n, o, i) {\n        var e,\n            t = C(n),\n            r = !ve(n),\n            a = o.displayName,\n            s = void 0 === a ? ve(e = n) ? "styled." + e : "Styled(" + O(e) + ")" : a,\n            c = o.componentId,\n            u = void 0 === c ? function (e, t) {\n          var n = "string" != typeof e ? "sc" : ge(e);\n          Ce[n] = (Ce[n] || 0) + 1;\n          var r = n + "-" + we(n + Ce[n]);\n          return t ? t + "-" + r : r;\n        }(o.displayName, o.parentComponentId) : c,\n            l = o.attrs,\n            d = void 0 === l ? w : l,\n            p = o.displayName && o.componentId ? ge(o.displayName) + "-" + o.componentId : o.componentId || u,\n            f = t && n.attrs ? Array.prototype.concat(n.attrs, d).filter(Boolean) : d,\n            h = o.shouldForwardProp;\n        t && n.shouldForwardProp && (h = h ? function (e, t) {\n          return n.shouldForwardProp(e, t) && o.shouldForwardProp(e, t);\n        } : n.shouldForwardProp);\n\n        function m(e, t) {\n          return Se(b, e, t);\n        }\n\n        var b,\n            y = new he(t ? n.componentStyle.rules.concat(i) : i, p);\n        return m.displayName = s, (b = g.a.forwardRef(m)).attrs = f, b.componentStyle = y, b.displayName = s, b.shouldForwardProp = h, b.foldedComponentIds = t ? Array.prototype.concat(n.foldedComponentIds, n.styledComponentId) : w, b.styledComponentId = p, b.target = t ? n.target : n, b.withComponent = function (e) {\n          var t = o.componentId,\n              n = function (e, t) {\n            if (null == e) return {};\n\n            for (var n, r = {}, o = Object.keys(e), i = 0; i < o.length; i++) {\n              n = o[i], 0 <= t.indexOf(n) || (r[n] = e[n]);\n            }\n\n            return r;\n          }(o, ["componentId"]),\n              r = t && t + "-" + (ve(e) ? e : ge(O(e)));\n\n          return je(e, P({}, n, {\n            attrs: f,\n            componentId: r\n          }), i);\n        }, Object.defineProperty(b, "defaultProps", {\n          get: function get() {\n            return this._foldedDefaultProps;\n          },\n          set: function set(e) {\n            this._foldedDefaultProps = t ? ue({}, n.defaultProps, e) : e;\n          }\n        }), b.toString = function () {\n          return "." + b.styledComponentId;\n        }, r && v()(b, n, {\n          attrs: !0,\n          componentStyle: !0,\n          displayName: !0,\n          foldedComponentIds: !0,\n          shouldForwardProp: !0,\n          self: !0,\n          styledComponentId: !0,\n          target: !0,\n          withComponent: !0\n        }), b;\n      }\n\n      function xe(e) {\n        return function t(n, r, o) {\n          if (void 0 === o && (o = I), !Object(i.isValidElementType)(r)) return k(1, String(r));\n\n          function e() {\n            return n(r, o, ae.apply(void 0, arguments));\n          }\n\n          return e.withConfig = function (e) {\n            return t(n, r, P({}, o, {}, e));\n          }, e.attrs = function (e) {\n            return t(n, r, P({}, o, {\n              attrs: Array.prototype.concat(o.attrs, e).filter(Boolean)\n            }));\n          }, e;\n        }(je, e);\n      }\n\n      ["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "big", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "keygen", "label", "legend", "li", "link", "main", "map", "mark", "marquee", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "script", "section", "select", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "textarea", "tfoot", "th", "thead", "time", "title", "tr", "track", "u", "ul", "var", "video", "wbr", "circle", "clipPath", "defs", "ellipse", "foreignObject", "g", "image", "line", "linearGradient", "marker", "mask", "path", "pattern", "polygon", "polyline", "radialGradient", "rect", "stop", "svg", "text", "tspan"].forEach(function (e) {\n        xe[e] = xe(e);\n      });\n\n      var Ee = function () {\n        function e(e, t) {\n          this.rules = e, this.componentId = t, this.isStatic = fe(e);\n        }\n\n        var t = e.prototype;\n        return t.createStyles = function (e, t, n, r) {\n          var o = r(ie(this.rules, t, n).join(""), ""),\n              i = this.componentId + e;\n          n.insertRules(i, i, o);\n        }, t.removeStyles = function (e, t) {\n          t.clearRules(this.componentId + e);\n        }, t.renderStyles = function (e, t, n, r) {\n          q.registerId(this.componentId + e), this.removeStyles(e, n), this.createStyles(e, t, n, r);\n        }, e;\n      }();\n\n      function Ae(e) {\n        for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), r = 1; r < t; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        var o = ae.apply(void 0, [e].concat(n)),\n            c = "sc-global-" + we(JSON.stringify(o)),\n            u = new Ee(o, c);\n        return g.a.memo(function e(t) {\n          var n = Z(),\n              r = Q(),\n              o = Object(E.useContext)(Oe),\n              i = Object(E.useRef)(null);\n          null === i.current && (i.current = n.allocateGSInstance(c));\n          var a,\n              s = i.current;\n          return u.isStatic ? u.renderStyles(s, h, n, r) : (a = P({}, t, {\n            theme: me(t, o, e.defaultProps)\n          }), u.renderStyles(s, a, n, r)), Object(E.useEffect)(function () {\n            return function () {\n              return u.removeStyles(s, n);\n            };\n          }, w), null;\n        });\n      }\n\n      function Pe(e) {\n        for (var t = arguments.length, n = new Array(1 < t ? t - 1 : 0), r = 1; r < t; r++) {\n          n[r - 1] = arguments[r];\n        }\n\n        var o = ae.apply(void 0, [e].concat(n)).join(""),\n            i = we(o);\n        return new J(i, [o, i, "@keyframes"]);\n      }\n\n      Ie.c = xe;\n    }).call(this, Re(25));\n  }, function (e, t, n) {\n    "use strict";\n\n    n.d(t, "a", function () {\n      return q;\n    }), n.d(t, "e", function () {\n      return B;\n    }), n.d(t, "b", function () {\n      return H;\n    }), n.d(t, "c", function () {\n      return U;\n    }), n.d(t, "d", function () {\n      return G;\n    }), n.d(t, "g", function () {\n      return Y;\n    }), n.d(t, "f", function () {\n      return V;\n    });\n\n    var i = n(0),\n        b = n.n(i),\n        a = n(5),\n        r = n(2),\n        o = n.n(r),\n        s = n(17),\n        y = n.n(s),\n        c = n(3),\n        g = "data:image/gif;base64,R0lGODlhEQARAIAAAODn7P///yH5BAEHAAEALAAAAAARABEAAAIqBIKpab3v3EMyVHWtWZluf0za0XFNKDJfCq5i5JpomdUxqKLQVmInqyoAADs=",\n        v = n(1),\n        w = n(6),\n        _u = function u() {\n      return (_u = Object.assign || function (e) {\n        for (var t, n = 1, r = arguments.length; n < r; n++) {\n          for (var o in t = arguments[n]) {\n            Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    },\n        l = {\n      lines: 12,\n      length: 7,\n      width: 5,\n      radius: 10,\n      scale: 1,\n      corners: 1,\n      color: "#000",\n      fadeColor: "transparent",\n      animation: "spinner-line-fade-default",\n      rotate: 0,\n      direction: 1,\n      speed: 1,\n      zIndex: 2e9,\n      className: "spinner",\n      top: "50%",\n      left: "50%",\n      shadow: "0 0 1px transparent",\n      position: "absolute"\n    },\n        d = (p.prototype.spin = function (e) {\n      return this.stop(), this.el = document.createElement("div"), this.el.className = this.opts.className, this.el.setAttribute("role", "progressbar"), f(this.el, {\n        position: this.opts.position,\n        width: 0,\n        zIndex: this.opts.zIndex,\n        left: this.opts.left,\n        top: this.opts.top,\n        transform: "scale(" + this.opts.scale + ")"\n      }), e && e.insertBefore(this.el, e.firstChild || null), function (e, t) {\n        var n = Math.round(t.corners * t.width * 500) / 1e3 + "px",\n            r = "none";\n        !0 === t.shadow ? r = "0 2px 4px #000" : "string" == typeof t.shadow && (r = t.shadow);\n\n        for (var o = function (e) {\n          for (var t = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/, n = [], r = 0, o = e.split(","); r < o.length; r++) {\n            var i,\n                a,\n                s,\n                c,\n                u = o[r].match(t);\n            null !== u && (i = +u[2], a = +u[5], s = u[4], c = u[7], 0 != i || s || (s = c), 0 != a || c || (c = s), s === c && n.push({\n              prefix: u[1] || "",\n              x: i,\n              y: a,\n              xUnits: s,\n              yUnits: c,\n              end: u[8]\n            }));\n          }\n\n          return n;\n        }(r), i = 0; i < t.lines; i++) {\n          var a = ~~(360 / t.lines * i + t.rotate),\n              s = f(document.createElement("div"), {\n            position: "absolute",\n            top: -t.width / 2 + "px",\n            width: t.length + t.width + "px",\n            height: t.width + "px",\n            background: h(t.fadeColor, i),\n            borderRadius: n,\n            transformOrigin: "left",\n            transform: "rotate(" + a + "deg) translateX(" + t.radius + "px)"\n          }),\n              c = i * t.direction / t.lines / t.speed;\n          c -= 1 / t.speed;\n          var u = f(document.createElement("div"), {\n            width: "100%",\n            height: "100%",\n            background: h(t.color, i),\n            borderRadius: n,\n            boxShadow: function (e, t) {\n              for (var n = [], r = 0, o = e; r < o.length; r++) {\n                var i = o[r],\n                    a = function (e, t, n) {\n                  var r = n * Math.PI / 180,\n                      o = Math.sin(r),\n                      i = Math.cos(r);\n                  return [Math.round(1e3 * (e * i + t * o)) / 1e3, Math.round(1e3 * (-e * o + t * i)) / 1e3];\n                }(i.x, i.y, t);\n\n                n.push(i.prefix + a[0] + i.xUnits + " " + a[1] + i.yUnits + i.end);\n              }\n\n              return n.join(", ");\n            }(o, a),\n            animation: 1 / t.speed + "s linear " + c + "s infinite " + t.animation\n          });\n          s.appendChild(u), e.appendChild(s);\n        }\n      }(this.el, this.opts), this;\n    }, p.prototype.stop = function () {\n      return this.el && (("undefined" != typeof requestAnimationFrame ? cancelAnimationFrame : clearTimeout)(this.animateId), this.el.parentNode && this.el.parentNode.removeChild(this.el), this.el = void 0), this;\n    }, p);\n\n    function p(e) {\n      void 0 === e && (e = {}), this.opts = _u(_u({}, l), e);\n    }\n\n    function f(e, t) {\n      for (var n in t) {\n        e.style[n] = t[n];\n      }\n\n      return e;\n    }\n\n    function h(e, t) {\n      return "string" == typeof e ? e : e[t % e.length];\n    }\n\n    function m(e) {\n      return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;\n      })(e);\n    }\n\n    function O(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function C(o) {\n      for (var e = 1; e < arguments.length; e++) {\n        var i = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? O(Object(i), !0).forEach(function (e) {\n          var t, n, r;\n          t = o, r = i[n = e], n in t ? Object.defineProperty(t, n, {\n            value: r,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = r;\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : O(Object(i)).forEach(function (e) {\n          Object.defineProperty(o, e, Object.getOwnPropertyDescriptor(i, e));\n        });\n      }\n\n      return o;\n    }\n\n    function k(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function S(e, t) {\n      return (S = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function j(i) {\n      var a = function () {\n        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n        if (Reflect.construct.sham) return !1;\n        if ("function" == typeof Proxy) return !0;\n\n        try {\n          return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n        } catch (e) {\n          return !1;\n        }\n      }();\n\n      return function () {\n        var e,\n            t,\n            n,\n            r,\n            o = E(i);\n        return t = a ? (e = E(this).constructor, Reflect.construct(o, arguments, e)) : o.apply(this, arguments), n = this, !(r = t) || "object" !== m(r) && "function" != typeof r ? x(n) : r;\n      };\n    }\n\n    function x(e) {\n      if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n      return e;\n    }\n\n    function E(e) {\n      return (E = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    var A = {\n      lines: 16,\n      length: 3,\n      width: 3,\n      radius: 14,\n      color: "#FFFFFF",\n      speed: 2.1,\n      trail: 60,\n      shadow: !1,\n      hwaccel: !1,\n      top: "50%",\n      left: "50%",\n      position: "absolute",\n      zIndex: 999\n    },\n        P = c.c.div.withConfig({\n      displayName: "spinner__SpinnerWrapper",\n      componentId: "c8kk4-0"\n    })(["@keyframes spinner-line-fade-more{0%,100%{opacity:0;}1%{opacity:1;}}@keyframes spinner-line-fade-quick{0%,39%,100%{opacity:0.25;}40%{opacity:1;}}@keyframes spinner-line-fade-default{0%,100%{opacity:0.22;}1%{opacity:1;}}@keyframes spinner-line-shrink{0%,25%,100%{transform:scale(0.5);opacity:0.25;}26%{transform:scale(1);opacity:1;}}"]),\n        I = function () {\n      !function (e, t) {\n        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && S(e, t);\n      }(o, i["Component"]);\n      var e,\n          t,\n          n,\n          r = j(o);\n\n      function o(e) {\n        var t;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n        }(this, o), (t = r.call(this, e)).getRef = t.getRef.bind(x(t)), t;\n      }\n\n      return e = o, (t = [{\n        key: "componentDidMount",\n        value: function value() {\n          this.instantiateSpinner(this.props);\n        }\n      }, {\n        key: "componentWillReceiveProps",\n        value: function value(e) {\n          e.config.color !== this.props.config.color ? (this.spinner.stop(), this.instantiateSpinner(e)) : !0 !== e.stopped || this.props.stopped ? e.stopped || !0 !== this.props.stopped || this.spinner.spin(this.container) : this.spinner.stop();\n        }\n      }, {\n        key: "componentWillUnmount",\n        value: function value() {\n          this.spinner.stop();\n        }\n      }, {\n        key: "getRef",\n        value: function value(e) {\n          this.container = e;\n        }\n      }, {\n        key: "instantiateSpinner",\n        value: function value(e) {\n          this.spinner = new d(C(C({}, A), e.config)), e.stopped || this.spinner.spin(this.container);\n        }\n      }, {\n        key: "render",\n        value: function value() {\n          return b.a.createElement(P, {\n            ref: this.getRef\n          });\n        }\n      }]) && k(e.prototype, t), n && k(e, n), o;\n    }();\n\n    I.propTypes = {\n      config: o.a.object,\n      stopped: o.a.bool,\n      className: o.a.string,\n      style: o.a.object\n    }, I.defaultProps = {\n      config: A,\n      className: "",\n      style: {}\n    };\n    var R,\n        T = I;\n\n    function _(e) {\n      return (_ = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;\n      })(e);\n    }\n\n    function L(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function F(t) {\n      for (var e = 1; e < arguments.length; e++) {\n        var n = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? L(Object(n), !0).forEach(function (e) {\n          W(t, e, n[e]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : L(Object(n)).forEach(function (e) {\n          Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));\n        });\n      }\n\n      return t;\n    }\n\n    function D(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function M(e, t) {\n      return (M = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function N(i) {\n      var a = function () {\n        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n        if (Reflect.construct.sham) return !1;\n        if ("function" == typeof Proxy) return !0;\n\n        try {\n          return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n        } catch (e) {\n          return !1;\n        }\n      }();\n\n      return function () {\n        var e,\n            t,\n            n,\n            r,\n            o = $(i);\n        return t = a ? (e = $(this).constructor, Reflect.construct(o, arguments, e)) : o.apply(this, arguments), n = this, !(r = t) || "object" !== _(r) && "function" != typeof r ? z(n) : r;\n      };\n    }\n\n    function z(e) {\n      if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n      return e;\n    }\n\n    function $(e) {\n      return ($ = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function W(e, t, n) {\n      return t in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n      }) : e[t] = n, e;\n    }\n\n    var q = 5,\n        B = "popup",\n        H = "drawer_left",\n        U = "drawer_right",\n        G = "popover",\n        Y = "side_panel",\n        V = (W(R = {}, B, "popup-blank"), W(R, H, "popup-classic"), W(R, U, "popup-drawer"), W(R, G, "popup-popover"), W(R, Y, "popup-side-panel"), R),\n        K = c.c.div.withConfig({\n      displayName: "popup__BaseWrapper",\n      componentId: "sc-10ta2p7-0"\n    })(["visibility:", ";opacity:", ";position:", ";max-width:100%;z-index:10001;"], function (e) {\n      return e.open ? "visible" : "hidden";\n    }, function (e) {\n      return e.open ? 1 : 0;\n    }, function (e) {\n      return e.isContained ? "absolute" : "fixed";\n    }),\n        X = c.c.div.withConfig({\n      displayName: "popup__Overlay",\n      componentId: "sc-10ta2p7-1"\n    })(["visibility:", ";opacity:", ";transition:opacity 200ms ease,visibility 0s linear ", ";background:rgba(0,0,0,0.85);position:", ";overflow:", ";left:0;top:0;right:0;bottom:0;z-index:10001;min-height:100%;"], function (e) {\n      return e.appearing ? "hidden" : "visible";\n    }, function (e) {\n      return e.appearing ? 0 : 1;\n    }, function (e) {\n      return e.appearing ? "200ms" : "0s";\n    }, function (e) {\n      return e.isContained ? "absolute" : "fixed";\n    }, function (e) {\n      return e.isContained ? "hidden" : "auto";\n    }),\n        Z = Object(c.c)(K).withConfig({\n      displayName: "popup__popupWrapper",\n      componentId: "sc-10ta2p7-2"\n    })(["", " transition:all 300ms ease-out;"], function (e) {\n      var t = (100 - e.size) / 2;\n      return e.isContained ? "\\n        width: calc(".concat(e.size, "% - 80px);\\n        height: calc(").concat(e.size, "% - 80px);\\n        top: calc(").concat(t, "% + 40px);\\n        left: calc(").concat(t, "% + 40px);\\n      ") : "\\n      width: calc(".concat(e.size, "% - 80px);\\n      height: calc(").concat(e.size, "% - 80px);\\n      top: calc(").concat(t, "% + 40px);\\n      left: calc(").concat(t, "% + 40px);\\n    ");\n    }),\n        Q = Object(c.c)(K).withConfig({\n      displayName: "popup__drawerWrapper",\n      componentId: "sc-10ta2p7-3"\n    })(["transition:all 400ms ease-out;width:", "px;height:100%;top:0;"], function (e) {\n      return e.width;\n    }),\n        J = Object(c.c)(Q).withConfig({\n      displayName: "popup__drawerLeftWrapper",\n      componentId: "sc-10ta2p7-4"\n    })(["left:", "px;"], function (e) {\n      return e.open ? 0 : -(e.width - 30);\n    }),\n        ee = Object(c.c)(Q).withConfig({\n      displayName: "popup__drawerRightWrapper",\n      componentId: "sc-10ta2p7-5"\n    })(["right:", "px;"], function (e) {\n      return e.open ? 0 : -(e.width - 30);\n    }),\n        te = Object(c.c)(K).withConfig({\n      displayName: "popup__popoverWrapper",\n      componentId: "sc-10ta2p7-6"\n    })(["width:", "px;height:", "px;transition:all 300ms ease-out;bottom:96px;right:16px;border-radius:4px;overflow:hidden;box-shadow:rgba(0,0,0,0.08) 0px 2px 4px,rgba(0,0,0,0.06) 0px 2px 12px;"], function (e) {\n      return e.width;\n    }, function (e) {\n      return e.height;\n    }),\n        ne = c.c.div.withConfig({\n      displayName: "popup__sidePanelWrapper",\n      componentId: "sc-10ta2p7-7"\n    })(["width:", "px;height:", "px;box-shadow:rgba(0,0,0,", ") 0px 2px 4px,rgba(0,0,0,", ") 0px 2px 12px;transition:box-shadow 300ms ease-out;"], function (e) {\n      return e.width;\n    }, function (e) {\n      return e.height;\n    }, function (e) {\n      return e.open ? "0.08" : "0";\n    }, function (e) {\n      return e.open ? "0.06" : "0";\n    }),\n        re = c.c.img.withConfig({\n      displayName: "popup__BaseCloseImage",\n      componentId: "sc-10ta2p7-8"\n    })(["position:absolute;padding:8px;cursor:pointer;width:initial;max-width:initial;"]),\n        oe = c.c.img.withConfig({\n      displayName: "popup__IconCloseImage",\n      componentId: "sc-10ta2p7-9"\n    })(["padding:8px;vertical-align:middle;"]),\n        ie = Object(c.c)(re).withConfig({\n      displayName: "popup__closeImagePopup",\n      componentId: "sc-10ta2p7-10"\n    })(["top:-34px;right:-34px;"]),\n        ae = Object(c.c)(re).withConfig({\n      displayName: "popup__closeImageLeft",\n      componentId: "sc-10ta2p7-11"\n    })(["top:12px;right:-38px;@media screen and (max-width:800px){right:12px;}"]),\n        se = Object(c.c)(re).withConfig({\n      displayName: "popup__closeImageRight",\n      componentId: "sc-10ta2p7-12"\n    })(["top:12px;left:-38px;right:auto;@media screen and (max-width:800px){left:12px;}"]),\n        ce = function () {\n      !function (e, t) {\n        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && M(e, t);\n      }(o, i["Component"]);\n      var e,\n          t,\n          n,\n          r = N(o);\n\n      function o(e) {\n        var t;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n        }(this, o), (t = r.call(this, e)).state = {\n          isLoading: !0,\n          frameAnimate: !1,\n          iframeLoaded: !1,\n          popupAnimate: !0,\n          transitionEnded: !1\n        }, t.handleMessage = t.handleMessage.bind(z(t)), t.handleKeyDown = Object(v.c)(t.handleKeyDown.bind(z(t)), t.props.embedId), t.handleAutoClose = Object(v.c)(t.handleAutoClose.bind(z(t)), t.props.embedId), t.handleClose = Object(v.c)(t.handleClose.bind(z(t)), t.props.embedId), t.handleFormSubmit = Object(v.c)(t.handleFormSubmit.bind(z(t)), t.props.embedId), t.handleIframeLoad = t.handleIframeLoad.bind(z(t)), t.handleAnimateBeforeClose = t.handleAnimateBeforeClose.bind(z(t)), t.handleTransitionEnd = t.handleTransitionEnd.bind(z(t)), t.setWrapperRef = t.setWrapperRef.bind(z(t)), t.handleFormScreenChanged = Object(v.c)(t.handleFormScreenChanged.bind(z(t)), t.props.embedId), t;\n      }\n\n      return e = o, (t = [{\n        key: "componentDidMount",\n        value: function value() {\n          var e = this;\n          window.addEventListener("message", this.handleMessage), window.addEventListener("keydown", this.handleKeyDown), window.addEventListener("form-close", this.handleClose), window.addEventListener("form-submit", this.handleFormSubmit), window.addEventListener("embed-auto-close-popup", this.handleAutoClose), window.addEventListener("redirect-after-submit", v.i), window.addEventListener("thank-you-screen-redirect", v.i), window.addEventListener("form-screen-changed", this.handleFormScreenChanged), window.tfClosePopup = this.handleClose, setTimeout(function () {\n            e.setState({\n              popupAnimate: !1\n            });\n          }, 100);\n          this.updateIcon(b.a.createElement(T, {\n            config: {\n              scale: .6\n            },\n            stopped: this.state.iframeLoaded\n          }));\n        }\n      }, {\n        key: "componentWillUnmount",\n        value: function value() {\n          window.removeEventListener("message", this.handleMessage), window.removeEventListener("keydown", this.handleKeyDown), window.removeEventListener("form-close", this.handleClose), window.removeEventListener("form-submit", this.handleFormSubmit), window.removeEventListener("embed-auto-close-popup", this.handleAutoClose), window.removeEventListener("redirect-after-submit", v.i), window.removeEventListener("thank-you-screen-redirect", v.i), window.removeEventListener("form-screen-changed", this.handleFormScreenChanged), delete window.tfClosePopup;\n        }\n      }, {\n        key: "setWrapperRef",\n        value: function value(e) {\n          this.wrapper = e;\n        }\n      }, {\n        key: "getWrapperComponent",\n        value: function value(e) {\n          return e === U ? ee : e === H ? J : e === G ? te : e === Y ? ne : Z;\n        }\n      }, {\n        key: "getCloseImage",\n        value: function value(e) {\n          return e === U ? se : e === H ? ae : ie;\n        }\n      }, {\n        key: "handleFormScreenChanged",\n        value: function value(e) {\n          this.props.options.onScreenChanged && this.props.options.onScreenChanged(e);\n        }\n      }, {\n        key: "updateIcon",\n        value: function value(e) {\n          this.props.icon && (this.iconHTML || (this.iconHTML = this.props.icon.innerHTML), this.props.icon.innerHTML = "", e ? Object(a.render)(e, this.props.icon) : this.props.icon.innerHTML = this.iconHTML);\n        }\n      }, {\n        key: "handleIframeLoad",\n        value: function value(e) {\n          var t = this;\n          this.setState({\n            iframeLoaded: !0\n          }, function () {\n            setTimeout(function () {\n              t.state.isLoading && (t.updateIcon(b.a.createElement(oe, {\n                alt: "close-typeform",\n                "data-qa": "popup-close-button",\n                src: g\n              })), t.handleSidePanelOpen(), t.setState({\n                frameAnimate: !0,\n                isLoading: !1\n              }), e && e.contentWindow && e.contentWindow.focus());\n            }, 500);\n          });\n        }\n      }, {\n        key: "handleAnimateBeforeClose",\n        value: function value() {\n          var e = this;\n          this.updateIcon(), this.handleSidePanelClose(), this.setState({\n            frameAnimate: !1,\n            popupAnimate: !1\n          }, function () {\n            setTimeout(function () {\n              e.setState({\n                popupAnimate: !0\n              }, function () {\n                setTimeout(e.props.onClose, 400);\n              });\n            }, 400);\n          });\n        }\n      }, {\n        key: "handleClose",\n        value: function value() {\n          this.setState({\n            isLoading: !1\n          }), this.handleAnimateBeforeClose();\n        }\n      }, {\n        key: "handleKeyDown",\n        value: function value(e) {\n          "Escape" !== e.code && 27 !== e.which || this.handleAnimateBeforeClose();\n        }\n      }, {\n        key: "handleMessage",\n        value: function value(e) {\n          Object(v.b)(this.props.embedId, e);\n        }\n      }, {\n        key: "handleAutoClose",\n        value: function value(e) {\n          var t = this,\n              n = e.detail.isProPlus || e.detail.canSetAutocloseDelay,\n              r = this.props.options,\n              o = r.isAutoCloseEnabled,\n              i = r.autoClose;\n          o && setTimeout(function () {\n            t.handleAnimateBeforeClose();\n          }, 1e3 * (n ? i : q));\n        }\n      }, {\n        key: "handleTransitionEnd",\n        value: function value(e) {\n          e.target === this.wrapper && this.setState({\n            transitionEnded: this.state.frameAnimate\n          });\n        }\n      }, {\n        key: "handleFormSubmit",\n        value: function value(e) {\n          this.props.options.onSubmit && this.props.options.onSubmit(Object(v.f)(e));\n        }\n      }, {\n        key: "handleSidePanelOpen",\n        value: function value() {\n          var e = this.props.options,\n              t = e.mode,\n              n = e.container,\n              r = e.width,\n              o = e.height;\n          t === Y && (n.style.width = "".concat(r, "px"), n.style.height = "".concat(o, "px"));\n        }\n      }, {\n        key: "handleSidePanelClose",\n        value: function value() {\n          var e = this.props.options,\n              t = e.mode,\n              n = e.container;\n          t === Y && (n.style.width = 0);\n        }\n      }, {\n        key: "render",\n        value: function value() {\n          var e = null,\n              t = this.props,\n              n = t.embedId,\n              r = t.options,\n              o = t.url,\n              i = r.width,\n              a = r.height,\n              s = r.hideScrollbars,\n              c = r.isContained,\n              u = r.mode,\n              l = r.size;\n          s && (e = {\n            width: "calc(100% + ".concat(y()(), "px)")\n          }), u === B && (e = F(F({}, e), {}, {\n            WebkitMaskImage: "-webkit-radial-gradient(circle, white, black)",\n            WebkitTransform: "translateZ(0)"\n          }));\n          var d = Object(v.l)("typeform-embed-id", n, o),\n              p = this.getWrapperComponent(u),\n              f = this.getCloseImage(u),\n              h = u === G || u === Y,\n              m = b.a.createElement(p, {\n            "data-qa": "popup-mode-".concat(u),\n            height: a,\n            innerRef: this.setWrapperRef,\n            isContained: c,\n            mode: u,\n            onTransitionEnd: this.handleTransitionEnd,\n            open: this.state.frameAnimate && !this.state.isLoading,\n            size: l,\n            width: i\n          }, !h && this.state.iframeLoaded && b.a.createElement(f, {\n            alt: "close-typeform",\n            "data-qa": "popup-close-button",\n            mode: u,\n            onClick: this.handleAnimateBeforeClose,\n            src: g\n          }), b.a.createElement(w.a, {\n            onLoad: this.handleIframeLoad,\n            src: d,\n            style: e\n          }));\n          return h ? m : b.a.createElement(X, {\n            appearing: this.state.popupAnimate,\n            isContained: c\n          }, b.a.createElement(T, {\n            stopped: this.state.iframeLoaded\n          }), m);\n        }\n      }]) && D(e.prototype, t), n && D(e, n), o;\n    }();\n\n    ce.propTypes = {\n      icon: o.a.func,\n      embedId: o.a.string,\n      height: o.a.number,\n      onClose: o.a.func,\n      options: o.a.object.isRequired,\n      url: o.a.string.isRequired,\n      width: o.a.number\n    };\n    t.h = ce;\n  }, function (e, t) {\n    e.exports = r;\n  }, function (e, t, n) {\n    "use strict";\n\n    var i = n(0),\n        a = n.n(i),\n        r = n(2),\n        o = n.n(r);\n\n    function s(e) {\n      return (s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;\n      })(e);\n    }\n\n    function c() {\n      return (c = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var n = arguments[t];\n\n          for (var r in n) {\n            Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n          }\n        }\n\n        return e;\n      }).apply(this, arguments);\n    }\n\n    function u(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function l(o) {\n      for (var e = 1; e < arguments.length; e++) {\n        var i = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? u(Object(i), !0).forEach(function (e) {\n          var t, n, r;\n          t = o, r = i[n = e], n in t ? Object.defineProperty(t, n, {\n            value: r,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = r;\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : u(Object(i)).forEach(function (e) {\n          Object.defineProperty(o, e, Object.getOwnPropertyDescriptor(i, e));\n        });\n      }\n\n      return o;\n    }\n\n    function d(e, t) {\n      if (null == e) return {};\n\n      var n,\n          r = function (e, t) {\n        if (null == e) return {};\n        var n,\n            r,\n            o = {},\n            i = Object.keys(e);\n\n        for (r = 0; r < i.length; r++) {\n          n = i[r], 0 <= t.indexOf(n) || (o[n] = e[n]);\n        }\n\n        return o;\n      }(e, t);\n\n      if (Object.getOwnPropertySymbols) for (var o = Object.getOwnPropertySymbols(e), i = 0; i < o.length; i++) {\n        n = o[i], 0 <= t.indexOf(n) || Object.prototype.propertyIsEnumerable.call(e, n) && (r[n] = e[n]);\n      }\n      return r;\n    }\n\n    function p(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function f(e, t) {\n      return (f = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function h(i) {\n      var a = function () {\n        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n        if (Reflect.construct.sham) return !1;\n        if ("function" == typeof Proxy) return !0;\n\n        try {\n          return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n        } catch (e) {\n          return !1;\n        }\n      }();\n\n      return function () {\n        var e,\n            t,\n            n,\n            r,\n            o = b(i);\n        return t = a ? (e = b(this).constructor, Reflect.construct(o, arguments, e)) : o.apply(this, arguments), n = this, !(r = t) || "object" !== s(r) && "function" != typeof r ? m(n) : r;\n      };\n    }\n\n    function m(e) {\n      if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n      return e;\n    }\n\n    function b(e) {\n      return (b = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    var y = function () {\n      !function (e, t) {\n        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && f(e, t);\n      }(o, i["Component"]);\n      var e,\n          t,\n          n,\n          r = h(o);\n\n      function o(e) {\n        var t;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n        }(this, o), (t = r.call(this, e)).iframeRef = null, t.handleLoad = t.handleLoad.bind(m(t)), t.getRef = t.getRef.bind(m(t)), t;\n      }\n\n      return e = o, (t = [{\n        key: "shouldComponentUpdate",\n        value: function value(e) {\n          return e.src !== this.props.src;\n        }\n      }, {\n        key: "getRef",\n        value: function value(e) {\n          this.iframeRef = e;\n        }\n      }, {\n        key: "handleLoad",\n        value: function value() {\n          this.props.onLoad && this.props.onLoad(this.iframeRef);\n        }\n      }, {\n        key: "render",\n        value: function value() {\n          var e = this.props,\n              t = e.style,\n              n = d(e, ["style"]);\n          return a.a.createElement("iframe", c({}, n, {\n            allow: "camera; microphone; autoplay; encrypted-media; fullscreen;",\n            "data-qa": "iframe",\n            frameBorder: "0",\n            height: "100%",\n            onLoad: this.handleLoad,\n            ref: this.getRef,\n            src: this.props.src,\n            style: l({\n              border: 0\n            }, t),\n            title: "typeform-embed",\n            width: "100%"\n          }));\n        }\n      }]) && p(e.prototype, t), n && p(e, n), o;\n    }();\n\n    y.propTypes = {\n      src: o.a.string.isRequired,\n      onLoad: o.a.func,\n      style: o.a.object\n    };\n    t.a = y;\n  }, function (e, t, n) {\n    "use strict";\n\n    n.r(t), n.d(t, "makePopup", function () {\n      return q;\n    }), n.d(t, "makeWidget", function () {\n      return se;\n    }), n.d(t, "makeFullScreen", function () {\n      return fe;\n    });\n    var i = n(0),\n        f = n.n(i),\n        h = n(5),\n        p = n.n(h),\n        m = n(1);\n\n    function r(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function o(o) {\n      for (var e = 1; e < arguments.length; e++) {\n        var i = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? r(Object(i), !0).forEach(function (e) {\n          var t, n, r;\n          t = o, r = i[n = e], n in t ? Object.defineProperty(t, n, {\n            value: r,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = r;\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : r(Object(i)).forEach(function (e) {\n          Object.defineProperty(o, e, Object.getOwnPropertyDescriptor(i, e));\n        });\n      }\n\n      return o;\n    }\n\n    var b = function b(e, t) {\n      var n = function (e) {\n        var t = {};\n        if ("" !== e && null !== e) for (var n = e.split("&"), r = 0; r < n.length; r++) {\n          var o = n[r].split("=");\n          t[o[0]] = decodeURIComponent(o[1]);\n        }\n        return t;\n      }(window.location.search.substr(1)),\n          r = o({}, t);\n\n      return e.forEach(function (e) {\n        e in t || (r[e] = n[e]);\n      }), r;\n    };\n\n    function d() {\n      return Math.random().toString(36).substr(2, 5);\n    }\n\n    function a(e) {\n      var t = e.color,\n          n = e.onClick,\n          r = e.dataQa;\n      return f.a.createElement(l, {\n        "data-qa": r,\n        onClick: n\n      }, f.a.createElement(w, {\n        backgroundColor: t\n      }), f.a.createElement(O, {\n        backgroundColor: t\n      }));\n    }\n\n    var y = function y(e) {\n      return /mobile|tablet|android/i.test(e.toLowerCase());\n    },\n        g = n(4),\n        s = n(2),\n        c = n.n(s),\n        u = n(3),\n        l = u.c.div.withConfig({\n      displayName: "close-icon__Root",\n      componentId: "e8o6b5-0"\n    })(["position:absolute;z-index:1001;top:0;right:0;font-size:20px;font-family:sans-serif;width:50px;height:50px;"]),\n        v = Object(u.b)(["border-radius:0;display:block;height:2px;width:25px;position:absolute;right:6px;top:6px;"]),\n        w = u.c.span.withConfig({\n      displayName: "close-icon__ArrowLeft",\n      componentId: "e8o6b5-1"\n    })(["", " background-color:", ";transform:translate(0,13px) rotate3d(0,0,1,-135deg);"], v, function (e) {\n      return e.backgroundColor;\n    }),\n        O = u.c.span.withConfig({\n      displayName: "close-icon__ArrowRight",\n      componentId: "e8o6b5-2"\n    })(["", " background-color:", ";transform:translate(0,13px) rotate3d(0,0,1,-45deg);"], v, function (e) {\n      return e.backgroundColor;\n    });\n\n    a.propTypes = {\n      color: c.a.string,\n      dataQa: c.a.string,\n      onClick: c.a.func\n    };\n    var C = a,\n        k = n(6);\n\n    function S(e) {\n      return (S = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;\n      })(e);\n    }\n\n    function j(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function x(e, t) {\n      return (x = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function E(i) {\n      var a = function () {\n        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n        if (Reflect.construct.sham) return !1;\n        if ("function" == typeof Proxy) return !0;\n\n        try {\n          return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n        } catch (e) {\n          return !1;\n        }\n      }();\n\n      return function () {\n        var e,\n            t,\n            n,\n            r,\n            o = P(i);\n        return t = a ? (e = P(this).constructor, Reflect.construct(o, arguments, e)) : o.apply(this, arguments), n = this, !(r = t) || "object" !== S(r) && "function" != typeof r ? A(n) : r;\n      };\n    }\n\n    function A(e) {\n      if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n      return e;\n    }\n\n    function P(e) {\n      return (P = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    function I() {\n      var e = function (e, t) {\n        t = t || e.slice(0);\n        return Object.freeze(Object.defineProperties(e, {\n          raw: {\n            value: Object.freeze(t)\n          }\n        }));\n      }(["\\n  .__typeform-embed-mobile-modal-open {\\n    overflow: hidden !important;\\n    position: fixed !important;\\n    top: 0 !important;\\n    left: 0 !important;\\n    right: 0 !important;\\n    bottom: 0 !important;\\n  }\\n"]);\n\n      return I = function I() {\n        return e;\n      }, e;\n    }\n\n    var R = u.c.div.withConfig({\n      displayName: "mobile-modal__Wrapper",\n      componentId: "urpdwm-0"\n    })(["visibility:", ";opacity:", ";background-color:", ";position:fixed !important;z-index:10001;left:0 !important;right:0 !important;top:0 !important;bottom:0 !important;overflow:hidden !important;height:100%;transition:all 400ms ease ", "s;"], function (e) {\n      return e.open ? "visible" : "hidden";\n    }, function (e) {\n      return e.open ? 1 : 0;\n    }, function (e) {\n      return e.backgroundColor;\n    }, function (e) {\n      return e.openDelay;\n    }),\n        T = Object(u.a)(I()),\n        _ = function () {\n      !function (e, t) {\n        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && x(e, t);\n      }(o, i["Component"]);\n      var e,\n          t,\n          n,\n          r = E(o);\n\n      function o(e) {\n        var t;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n        }(this, o), (t = r.call(this, e)).state = {\n          backgroundColor: e.backgroundColor,\n          buttonColor: e.buttonColor\n        }, t.handleMessage = t.handleMessage.bind(A(t)), t.handleAutoClose = Object(m.c)(t.handleAutoClose.bind(A(t)), t.props.embedId), t.handleFormSubmit = Object(m.c)(t.handleFormSubmit.bind(A(t)), t.props.embedId), t.handleFormTheme = Object(m.c)(t.handleFormTheme.bind(A(t)), t.props.embedId), t.handleClose = t.handleClose.bind(A(t)), t;\n      }\n\n      return e = o, (t = [{\n        key: "componentDidMount",\n        value: function value() {\n          window.addEventListener("message", this.handleMessage), window.addEventListener("embed-auto-close-popup", this.handleAutoClose), window.addEventListener("form-submit", this.handleFormSubmit), window.addEventListener("form-theme", this.handleFormTheme), window.addEventListener("redirect-after-submit", m.i), window.addEventListener("thank-you-screen-redirect", m.i), this.props.open && this.open();\n        }\n      }, {\n        key: "componentDidUpdate",\n        value: function value(e) {\n          !e.open && this.props.open && this.open(), e.backgroundColor === this.props.backgroundColor && e.buttonColor === this.props.buttonColor || this.setState({\n            backgroundColor: this.props.backgroundColor,\n            buttonColor: this.props.buttonColor\n          });\n        }\n      }, {\n        key: "componentWillUnmount",\n        value: function value() {\n          window.removeEventListener("message", this.handleMessage), window.removeEventListener("embed-auto-close-popup", this.handleAutoClose), window.removeEventListener("form-submit", this.handleFormSubmit), window.removeEventListener("form-theme", this.handleFormTheme), window.removeEventListener("redirect-after-submit", m.i), window.removeEventListener("thank-you-screen-redirect", m.i), document.body.classList.remove("__typeform-embed-mobile-modal-open");\n        }\n      }, {\n        key: "handleMessage",\n        value: function value(e) {\n          Object(m.b)(this.props.embedId, e);\n        }\n      }, {\n        key: "handleAutoClose",\n        value: function value(e) {\n          var t = this,\n              n = e.detail.isProPlus || e.detail.canSetAutocloseDelay,\n              r = this.props,\n              o = r.isAutoCloseEnabled,\n              i = r.autoClose,\n              a = void 0 === i ? g.a : i,\n              s = 1e3 * (n ? a : g.a);\n          o && setTimeout(function () {\n            t.handleClose();\n          }, s);\n        }\n      }, {\n        key: "handleFormSubmit",\n        value: function value(e) {\n          this.props.onSubmit && this.props.onSubmit(Object(m.f)(e));\n        }\n      }, {\n        key: "handleFormTheme",\n        value: function value(e) {\n          var t = (e.detail || {}).theme;\n          this.setState({\n            backgroundColor: t.backgroundColor,\n            buttonColor: t.color\n          });\n        }\n      }, {\n        key: "open",\n        value: function value() {\n          var e = this;\n          setTimeout(function () {\n            e.originalBodyScrollTop = window.document.body.scrollTop, document.body.classList.add("__typeform-embed-mobile-modal-open");\n          }, 1e3 * this.props.openDelay + 500);\n        }\n      }, {\n        key: "handleClose",\n        value: function value() {\n          var e = this;\n          document.body.classList.remove("__typeform-embed-mobile-modal-open"), setTimeout(function () {\n            window.document.body.scrollTop = e.originalBodyScrollTop;\n          }, 40), this.props.onClose && this.props.onClose();\n        }\n      }, {\n        key: "render",\n        value: function value() {\n          var e = this.props,\n              t = e.embedId,\n              n = e.url,\n              r = e.open,\n              o = this.state,\n              i = o.backgroundColor,\n              a = o.buttonColor,\n              s = Object(m.l)("typeform-embed-id", t, n);\n          return f.a.createElement(R, {\n            backgroundColor: i,\n            "data-qa": "mobile-modal",\n            open: r,\n            openDelay: this.props.openDelay\n          }, f.a.createElement(T, null), r && f.a.createElement(k.a, {\n            src: s\n          }), f.a.createElement(C, {\n            color: a,\n            dataQa: "close-button-mobile",\n            onClick: this.handleClose\n          }));\n        }\n      }]) && j(e.prototype, t), n && j(e, n), o;\n    }();\n\n    _.propTypes = {\n      url: c.a.string,\n      open: c.a.bool,\n      isAutoCloseEnabled: c.a.bool,\n      backgroundColor: c.a.string,\n      buttonColor: c.a.string,\n      buttonText: c.a.string,\n      onClose: c.a.func,\n      onSubmit: c.a.func,\n      autoClose: c.a.number,\n      openDelay: c.a.number,\n      embedId: c.a.string\n    }, _.defaultProps = {\n      open: !1,\n      openDelay: 0,\n      autoClose: null,\n      backgroundColor: "transparent",\n      buttonColor: "#FFF"\n    };\n\n    var L = _,\n        F = function F(t, n, e) {\n      var r = 2 < arguments.length && void 0 !== e ? e : {};\n      return function (e) {\n        try {\n          if (e.data.type !== t) return;\n          r.includePayload ? n(e) : n();\n        } catch (e) {}\n      };\n    },\n        D = function D(e, t, n) {\n      switch (t) {\n        case "load":\n          e.open();\n          break;\n\n        case "exit":\n          o = e, i = parseInt(n, 10), a = 0, document.addEventListener("mousemove", function e(t) {\n            t.clientY < i && t.clientY < a ? (o.open(), document.removeEventListener("mousemove", e)) : a = t.clientY;\n          });\n          break;\n\n        case "time":\n          var r = parseInt(n, 10);\n          setTimeout(function () {\n            e.open();\n          }, r);\n          break;\n\n        case "scroll":\n          s = e, c = parseInt(n, 10), document.addEventListener("scroll", function e() {\n            var t = window.pageYOffset || document.documentElement.scrollTop,\n                n = document.documentElement.clientTop || 0,\n                r = document.documentElement.scrollHeight,\n                o = t - n,\n                i = o / r * 100,\n                a = o + window.innerHeight >= r;\n            (c <= i || a) && (s.open(), document.removeEventListener("scroll", e));\n          });\n      }\n\n      var s, c, o, i, a;\n    };\n\n    function M(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function N(o) {\n      for (var e = 1; e < arguments.length; e++) {\n        var i = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? M(Object(i), !0).forEach(function (e) {\n          var t, n, r;\n          t = o, r = i[n = e], n in t ? Object.defineProperty(t, n, {\n            value: r,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = r;\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : M(Object(i)).forEach(function (e) {\n          Object.defineProperty(o, e, Object.getOwnPropertyDescriptor(i, e));\n        });\n      }\n\n      return o;\n    }\n\n    var z = function z(e, t) {\n      var n = t.mode === g.b || t.mode === g.c,\n          r = t.width || t.drawerWidth || 800,\n          o = t.width || 320,\n          i = n ? r : o;\n      return N({\n        embedId: e,\n        mode: g.e,\n        embedType: g.f[t.mode] || g.f[g.e],\n        isModalOpen: !1,\n        autoClose: g.a,\n        hideFooter: !1,\n        hideHeaders: !1,\n        hideScrollbars: !1,\n        disableTracking: !1,\n        transferableUrlParameters: t.transferableUrlParameters || [],\n        onSubmit: m.h,\n        open: null,\n        openValue: null,\n        width: i,\n        height: 500,\n        isAutoCloseEnabled: void 0 !== t.autoClose,\n        size: 100\n      }, t);\n    },\n        $ = {\n      embedType: "typeform-embed",\n      hideFooter: "embed-hide-footer",\n      hideHeaders: "embed-hide-headers",\n      disableTracking: "disable-tracking"\n    },\n        W = function W(e, t) {\n      var n = e.url,\n          r = e.domNode,\n          o = e.close,\n          i = e.icon,\n          a = t.autoClose,\n          s = t.buttonText,\n          c = t.embedId,\n          u = t.isAutoCloseEnabled,\n          l = t.onSubmit,\n          d = Object(m.k)(t, $),\n          d = b(t.transferableUrlParameters, d),\n          p = Object(m.a)(n, d);\n      !y(navigator.userAgent) && 1024 <= window.screen.width && 768 <= window.screen.height ? Object(h.render)(f.a.createElement(g.h, {\n        embedId: c,\n        icon: i,\n        onClose: o,\n        options: t,\n        url: p\n      }), r) : (Object(m.e)(), Object(h.render)(f.a.createElement(L, {\n        autoClose: a,\n        buttonText: s,\n        embedId: c,\n        isAutoCloseEnabled: u,\n        onClose: o,\n        onSubmit: l,\n        open: !0,\n        url: p\n      }), r));\n    };\n\n    function q(s, e, t) {\n      var c = d();\n      window.addEventListener("message", Object(m.c)(F("form-ready", e.onReady), c)), window.addEventListener("message", Object(m.c)(F("form-closed", e.onClose), c));\n      var u = z(c, e);\n      if (!Number.isSafeInteger(u.width)) throw new Error("Whoops! You provided an invalid \'width\' option: \\"".concat(u.width, \'". It must be a number.\'));\n      if (!Number.isSafeInteger(u.height)) throw new Error("Whoops! You provided an invalid \'height\' option: \\"".concat(u.height, \'". It must be a number.\'));\n      var l = document.createElement("div");\n      u.isContained = void 0 !== u.container, u.container = u.container || document.body, u.container.appendChild(l);\n      var n = {\n        element: t,\n        open: function open(e) {\n          var t = e && e.currentTarget ? e.currentTarget : this.element,\n              n = t && t.href ? t.href : s,\n              r = t && t.querySelector("span.icon"),\n              o = {\n            domNode: l,\n            icon: r,\n            url: n,\n            close: this.close.bind(this)\n          },\n              i = 0 < l.children.length,\n              a = u.mode === g.d || u.mode === g.g;\n          i && a ? "function" == typeof window.tfClosePopup && window.tfClosePopup(N(N({}, e), {}, {\n            detail: {\n              embedId: c\n            }\n          })) : W(o, u);\n        },\n        close: function close() {\n          window.postMessage({\n            type: "form-closed",\n            embedId: c\n          }, "*"), Object(h.unmountComponentAtNode)(l);\n        }\n      };\n      return !u.open && u.autoOpen && (u.open = "load"), D(n, u.open, u.openValue), n;\n    }\n\n    function B(e) {\n      return (B = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) {\n        return typeof e;\n      } : function (e) {\n        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;\n      })(e);\n    }\n\n    function H(e, t) {\n      for (var n = 0; n < t.length; n++) {\n        var r = t[n];\n        r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r);\n      }\n    }\n\n    function U(e, t) {\n      return (U = Object.setPrototypeOf || function (e, t) {\n        return e.__proto__ = t, e;\n      })(e, t);\n    }\n\n    function G(i) {\n      var a = function () {\n        if ("undefined" == typeof Reflect || !Reflect.construct) return !1;\n        if (Reflect.construct.sham) return !1;\n        if ("function" == typeof Proxy) return !0;\n\n        try {\n          return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n        } catch (e) {\n          return !1;\n        }\n      }();\n\n      return function () {\n        var e,\n            t,\n            n,\n            r,\n            o = V(i);\n        return t = a ? (e = V(this).constructor, Reflect.construct(o, arguments, e)) : o.apply(this, arguments), n = this, !(r = t) || "object" !== B(r) && "function" != typeof r ? Y(n) : r;\n      };\n    }\n\n    function Y(e) {\n      if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");\n      return e;\n    }\n\n    function V(e) {\n      return (V = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n        return e.__proto__ || Object.getPrototypeOf(e);\n      })(e);\n    }\n\n    var K = 200,\n        X = u.c.div.withConfig({\n      displayName: "widget__WidgetWrapper",\n      componentId: "sc-1rxjz1n-0"\n    })(["height:100%;position:relative;"]),\n        Z = Object(u.d)(["10%{opacity:1;}25%{top:0;left:0;width:100%;height:100%;opacity:1;}70%{top:0;left:0;width:100%;height:100%;opacity:1;}100%{top:0;left:0;width:100%;height:100%;opacity:0;}"]),\n        Q = Object(u.d)(["100%{opacity:0;}75%{opacity:1;}25%{opacity:1;}0%{opacity:0;}"]),\n        J = u.c.div.withConfig({\n      displayName: "widget__Placeholder",\n      componentId: "sc-1rxjz1n-1"\n    })(["position:fixed;top:", "px;left:", "px;height:", ";width:", ";animation:", " 1.5s ease;visibility:", ";background:", ";opacity:0;pointer-events:none;"], function (e) {\n      return e.top;\n    }, function (e) {\n      return e.left;\n    }, function (e) {\n      return e.height ? "".concat(e.height, "px") : "100%";\n    }, function (e) {\n      return e.width ? "".concat(e.width, "px") : "100%";\n    }, function (e) {\n      return e.open ? Z : Q;\n    }, function (e) {\n      return e.visible ? "visible" : "hidden";\n    }, function (e) {\n      return e.backgroundColor;\n    }),\n        ee = u.c.div.withConfig({\n      displayName: "widget__IframeWrapper",\n      componentId: "sc-1rxjz1n-2"\n    })(["height:100%;width:100%;overflow:hidden;background:", ";"], function (e) {\n      return e.backgroundColor;\n    }),\n        te = function () {\n      !function (e, t) {\n        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");\n        e.prototype = Object.create(t && t.prototype, {\n          constructor: {\n            value: e,\n            writable: !0,\n            configurable: !0\n          }\n        }), t && U(e, t);\n      }(o, i["Component"]);\n      var e,\n          t,\n          n,\n          r = G(o);\n\n      function o(e) {\n        var t;\n        return function (e, t) {\n          if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");\n        }(this, o), (t = r.call(this, e)).embedId = e.embedId || d(), t.mobileEmbedId = d(), t.wrapperRef = Object(i.createRef)(), t.fullScreenModalDiv = document.createElement("div"), t.state = {\n          isFormReady: !1,\n          isIframeFocused: !1,\n          isFullscreen: !1,\n          buttonColor: "black",\n          backgroundColor: "transparent"\n        }, t.handleMessage = t.handleMessage.bind(Y(t)), t.handleFormReady = Object(m.c)(t.handleFormReady.bind(Y(t)), t.embedId), t.handleFormSubmit = Object(m.c)(t.handleFormSubmit.bind(Y(t)), t.embedId), t.handleMobileFormSubmit = t.handleMobileFormSubmit.bind(Y(t)), t.handleFormTheme = Object(m.c)(t.handleFormTheme.bind(Y(t)), t.embedId), t.goFullScreen = Object(m.c)(t.goFullScreen.bind(Y(t)), t.embedId), t.focusIframe = t.focusIframe.bind(Y(t)), t.handleClose = t.handleClose.bind(Y(t)), t.reloadIframe = t.reloadIframe.bind(Y(t)), t.debouncedScroll = Object(m.d)(t.focusIframe, K, Y(t)), t.setIframeRef = t.setIframeRef.bind(Y(t)), t.sendFocusMessageToIframe = t.sendFocusMessageToIframe.bind(Y(t)), t.handleFormScreenChanged = t.handleFormScreenChanged.bind(Y(t)), t;\n      }\n\n      return e = o, (t = [{\n        key: "componentDidMount",\n        value: function value() {\n          window.addEventListener("message", this.handleMessage), window.addEventListener("form-ready", this.handleFormReady), window.addEventListener("scroll", this.debouncedScroll), window.addEventListener("form-submit", this.handleFormSubmit), window.addEventListener("form-theme", this.handleFormTheme), window.addEventListener("welcome-screen-hidden", this.goFullScreen), window.addEventListener("redirect-after-submit", m.i), window.addEventListener("thank-you-screen-redirect", m.i), window.addEventListener("form-screen-changed", this.handleFormScreenChanged), document.body.appendChild(this.fullScreenModalDiv);\n        }\n      }, {\n        key: "componentWillUnmount",\n        value: function value() {\n          window.removeEventListener("message", this.handleMessage), window.removeEventListener("form-ready", this.handleFormReady), window.removeEventListener("scroll", this.debouncedScroll), window.removeEventListener("form-submit", this.handleFormSubmit), window.removeEventListener("form-theme", this.handleFormTheme), window.removeEventListener("welcome-screen-hidden", this.goFullScreen), window.removeEventListener("redirect-after-submit", m.i), window.removeEventListener("thank-you-screen-redirect", m.i), window.removeEventListener("form-screen-changed", this.handleFormScreenChanged), document.body.removeChild(this.fullScreenModalDiv);\n        }\n      }, {\n        key: "setIframeRef",\n        value: function value(e) {\n          this.iframe = e;\n        }\n      }, {\n        key: "goFullScreen",\n        value: function value() {\n          this.props.enabledFullscreen && (this.setState({\n            isFullscreen: !0\n          }), setTimeout(this.reloadIframe, 500));\n        }\n      }, {\n        key: "handleClose",\n        value: function value() {\n          this.setState({\n            isFullscreen: !1\n          });\n        }\n      }, {\n        key: "handleFormReady",\n        value: function value() {\n          var e = this;\n          this.setState({\n            isFormReady: !0\n          }, function () {\n            e.focusIframe();\n          });\n        }\n      }, {\n        key: "handleFormTheme",\n        value: function value(e) {\n          var t = (e.detail || {}).theme;\n          this.setState({\n            backgroundColor: t.backgroundColor,\n            buttonColor: t.color\n          });\n        }\n      }, {\n        key: "handleFormScreenChanged",\n        value: function value(e) {\n          this.props.options.onScreenChanged && this.props.options.onScreenChanged(e);\n        }\n      }, {\n        key: "handleMessage",\n        value: function value(e) {\n          Object(m.b)(this.embedId, e);\n        }\n      }, {\n        key: "handleFormSubmit",\n        value: function value(e) {\n          this.props.options.onSubmit && this.props.options.onSubmit(Object(m.f)(e));\n        }\n      }, {\n        key: "handleMobileFormSubmit",\n        value: function value(e) {\n          this.props.options.onSubmit(e);\n        }\n      }, {\n        key: "reloadIframe",\n        value: function value() {\n          this.iframe.iframeRef.src;\n        }\n      }, {\n        key: "focusIframe",\n        value: function value() {\n          var e, t;\n          this.props.enabledFullscreen || (e = this.iframe.iframeRef) && e.contentWindow && (t = Object(m.g)(e), this.state.isFormReady && !this.state.isIframeFocused && t && null != e.contentWindow && this.setState({\n            isIframeFocused: !0\n          }, this.sendFocusMessageToIframe));\n        }\n      }, {\n        key: "sendFocusMessageToIframe",\n        value: function value() {\n          var e = this.iframe.iframeRef;\n          e && setTimeout(function () {\n            return e.contentWindow.postMessage("embed-focus", "*");\n          }, 100);\n        }\n      }, {\n        key: "render",\n        value: function value() {\n          var e = this.state,\n              t = e.isFullscreen,\n              n = e.backgroundColor,\n              r = e.buttonColor,\n              o = e.isFormReady,\n              i = this.props,\n              a = i.enabledFullscreen,\n              s = i.url,\n              c = this.iframe && this.iframe.iframeRef.getBoundingClientRect(),\n              u = Object(m.l)("typeform-embed-id", this.embedId, s);\n          a && (u = Object(m.l)("disable-tracking", "true", u));\n          var l = Object(m.l)("typeform-welcome", "0", s),\n              l = Object(m.l)("embed-opacity", "100", l),\n              d = t ? Object(m.j)(n) : n;\n          return f.a.createElement(X, {\n            ref: this.wrapperRef\n          }, f.a.createElement(ee, {\n            backgroundColor: a ? n : "transparent"\n          }, f.a.createElement(k.a, {\n            frameBorder: "0",\n            height: "100%",\n            ref: this.setIframeRef,\n            src: u,\n            width: "100%"\n          })), a && f.a.createElement(J, {\n            backgroundColor: d,\n            bottom: c && c.bottom,\n            height: c && c.height,\n            left: c && c.left,\n            open: t,\n            right: c && c.right,\n            top: c && c.top,\n            visible: o,\n            width: c && c.width\n          }), a && p.a.createPortal(f.a.createElement(L, {\n            backgroundColor: n,\n            buttonColor: r,\n            embedId: this.mobileEmbedId,\n            onClose: this.handleClose,\n            onSubmit: this.handleMobileFormSubmit,\n            open: t,\n            openDelay: .3,\n            url: l\n          }), this.fullScreenModalDiv));\n        }\n      }]) && H(e.prototype, t), n && H(e, n), o;\n    }();\n\n    te.propTypes = {\n      url: c.a.string,\n      options: c.a.object.isRequired,\n      enabledFullscreen: c.a.bool,\n      embedId: c.a.string\n    }, te.defaultProps = {\n      options: {},\n      enabledFullscreen: !1\n    };\n    var ne = te;\n\n    function re(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function oe(o) {\n      for (var e = 1; e < arguments.length; e++) {\n        var i = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? re(Object(i), !0).forEach(function (e) {\n          var t, n, r;\n          t = o, r = i[n = e], n in t ? Object.defineProperty(t, n, {\n            value: r,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = r;\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : re(Object(i)).forEach(function (e) {\n          Object.defineProperty(o, e, Object.getOwnPropertyDescriptor(i, e));\n        });\n      }\n\n      return o;\n    }\n\n    var ie = {\n      mode: "embed-widget",\n      hideFooter: !1,\n      hideHeaders: !1,\n      hideScrollbars: !1,\n      disableTracking: !1,\n      transferableUrlParameters: [],\n      onSubmit: m.h,\n      onScreenChanged: m.h\n    },\n        ae = {\n      mode: "typeform-embed",\n      hideFooter: "embed-hide-footer",\n      hideHeaders: "embed-hide-headers",\n      opacity: "embed-opacity",\n      disableTracking: "disable-tracking"\n    };\n\n    function se(e, t, n) {\n      var r = d();\n      n = oe(oe({}, ie), n), window.addEventListener("message", Object(m.c)(F("form-ready", n.onReady), r));\n      var o = y(navigator.userAgent),\n          i = Object(m.k)(n, ae),\n          i = b(n.transferableUrlParameters, i);\n      o && (i = oe(oe({}, i), {}, {\n        "add-placeholder-ws": !0\n      }));\n      var a = Object(m.a)(t, i);\n      Object(h.render)(f.a.createElement(ne, {\n        embedId: r,\n        enabledFullscreen: o,\n        options: n,\n        url: a\n      }), e);\n    }\n\n    var ce = n(8);\n\n    function ue(t, e) {\n      var n,\n          r = Object.keys(t);\n      return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) {\n        return Object.getOwnPropertyDescriptor(t, e).enumerable;\n      })), r.push.apply(r, n)), r;\n    }\n\n    function le(o) {\n      for (var e = 1; e < arguments.length; e++) {\n        var i = null != arguments[e] ? arguments[e] : {};\n        e % 2 ? ue(Object(i), !0).forEach(function (e) {\n          var t, n, r;\n          t = o, r = i[n = e], n in t ? Object.defineProperty(t, n, {\n            value: r,\n            enumerable: !0,\n            configurable: !0,\n            writable: !0\n          }) : t[n] = r;\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(o, Object.getOwnPropertyDescriptors(i)) : ue(Object(i)).forEach(function (e) {\n          Object.defineProperty(o, e, Object.getOwnPropertyDescriptor(i, e));\n        });\n      }\n\n      return o;\n    }\n\n    var de = {\n      mode: "embed-fullpage",\n      disableTracking: !1,\n      onSubmit: m.h\n    },\n        pe = {\n      mode: "typeform-embed",\n      disableTracking: "disable-tracking"\n    };\n\n    function fe(e, t, n) {\n      n = le(le({}, de), n), e.src = Object(m.a)(t, Object(m.k)(n, pe)), e.focus();\n      Object(m.e)(), e.onload = function () {\n        e.contentWindow.focus();\n      }, window.addEventListener("message", ce.a), window.addEventListener("form-submit", function (e) {\n        n.onSubmit(Object(m.f)(e));\n      }), window.addEventListener("redirect-after-submit", m.i), window.addEventListener("thank-you-screen-redirect", m.i);\n    }\n  }, function (e, t, n) {\n    "use strict";\n\n    function r(e) {\n      var t = new RegExp("^(?:f|ht)tp(?:s)?://([^/]+)", "im"),\n          n = e.origin.match(t);\n\n      if (n && 1 < n.length) {\n        var r = n[1].toString();\n        return !!(/^localhost:/.test(window.location.host) ? /(\\.typeform)\\.(com|io)$|^localhost:/ : /(\\.typeform)\\.(com|io)$/).test(r);\n      }\n    }\n\n    var o = n(10),\n        i = n.n(o),\n        a = n(15),\n        s = n.n(a),\n        c = n(16),\n        u = n.n(c);\n\n    t.a = function (e) {\n      e = e.originalEvent || e, r(e) && (u()(e.data) ? window.location.href = e.data : s()(e.data) && e.data.hasOwnProperty("type") ? window.dispatchEvent(new i.a(e.data.type, {\n        detail: e.data\n      })) : window.dispatchEvent(new i.a(e.data)));\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    e.exports = n(26);\n  }, function (n, e, t) {\n    (function (e) {\n      var t = e.CustomEvent;\n      n.exports = function () {\n        try {\n          var e = new t("cat", {\n            detail: {\n              foo: "bar"\n            }\n          });\n          return "cat" === e.type && "bar" === e.detail.foo;\n        } catch (e) {}\n      }() ? t : "undefined" != typeof document && "function" == typeof document.createEvent ? function (e, t) {\n        var n = document.createEvent("CustomEvent");\n        return t ? n.initCustomEvent(e, t.bubbles, t.cancelable, t.detail) : n.initCustomEvent(e, !1, !1, void 0), n;\n      } : function (e, t) {\n        var n = document.createEventObject();\n        return n.type = e, t ? (n.bubbles = Boolean(t.bubbles), n.cancelable = Boolean(t.cancelable), n.detail = t.detail) : (n.bubbles = !1, n.cancelable = !1, n.detail = void 0), n;\n      };\n    }).call(this, t(13));\n  }, function (e, t, n) {\n    "use strict";\n\n    var r = n(9),\n        o = {\n      childContextTypes: !0,\n      contextType: !0,\n      contextTypes: !0,\n      defaultProps: !0,\n      displayName: !0,\n      getDefaultProps: !0,\n      getDerivedStateFromError: !0,\n      getDerivedStateFromProps: !0,\n      mixins: !0,\n      propTypes: !0,\n      type: !0\n    },\n        d = {\n      name: !0,\n      length: !0,\n      prototype: !0,\n      caller: !0,\n      callee: !0,\n      arguments: !0,\n      arity: !0\n    },\n        i = {\n      $$typeof: !0,\n      compare: !0,\n      defaultProps: !0,\n      displayName: !0,\n      propTypes: !0,\n      type: !0\n    },\n        a = {};\n\n    function p(e) {\n      return r.isMemo(e) ? i : a[e.$$typeof] || o;\n    }\n\n    a[r.ForwardRef] = {\n      $$typeof: !0,\n      render: !0,\n      defaultProps: !0,\n      displayName: !0,\n      propTypes: !0\n    }, a[r.Memo] = i;\n    var f = Object.defineProperty,\n        h = Object.getOwnPropertyNames,\n        m = Object.getOwnPropertySymbols,\n        b = Object.getOwnPropertyDescriptor,\n        y = Object.getPrototypeOf,\n        g = Object.prototype;\n\n    e.exports = function e(t, n, r) {\n      if ("string" != typeof n) {\n        var o;\n        !g || (o = y(n)) && o !== g && e(t, o, r);\n        var i = h(n);\n        m && (i = i.concat(m(n)));\n\n        for (var a = p(t), s = p(n), c = 0; c < i.length; ++c) {\n          var u = i[c];\n\n          if (!(d[u] || r && r[u] || s && s[u] || a && a[u])) {\n            var l = b(n, u);\n\n            try {\n              f(t, u, l);\n            } catch (e) {}\n          }\n        }\n      }\n\n      return t;\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    var r = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,\n        o = function (t) {\n      var n = {};\n      return function (e) {\n        return void 0 === n[e] && (n[e] = t(e)), n[e];\n      };\n    }(function (e) {\n      return r.test(e) || 111 === e.charCodeAt(0) && 110 === e.charCodeAt(1) && e.charCodeAt(2) < 91;\n    });\n\n    t.a = o;\n  }, function (e, t) {\n    var n = function () {\n      return this;\n    }();\n\n    try {\n      n = n || new Function("return this")();\n    } catch (e) {\n      "object" == typeof window && (n = window);\n    }\n\n    e.exports = n;\n  }, function (e, t, r) {\n    "use strict";\n\n    (function (a) {\n      var f = r(21),\n          h = r(22),\n          s = /^[A-Za-z][A-Za-z0-9+-.]*:\\/\\//,\n          n = /^([a-z][a-z0-9.+-]*:)?(\\/\\/)?([\\S\\s]*)/i,\n          t = new RegExp("^[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]+");\n\n      function m(e) {\n        return (e || "").toString().replace(t, "");\n      }\n\n      var b = [["#", "hash"], ["?", "query"], function (e) {\n        return e.replace("\\\\", "/");\n      }, ["/", "pathname"], ["@", "auth", 1], [NaN, "host", void 0, 1, 1], [/:(\\d+)$/, "port", void 0, 1], [NaN, "hostname", void 0, 1, 1]],\n          c = {\n        hash: 1,\n        query: 1\n      };\n\n      function y(e) {\n        var t,\n            n = "undefined" != typeof window ? window : void 0 !== a ? a : "undefined" != typeof self ? self : {},\n            r = n.location || {},\n            o = {},\n            i = typeof (e = e || r);\n        if ("blob:" === e.protocol) o = new v(unescape(e.pathname), {});else if ("string" == i) for (t in o = new v(e, {}), c) {\n          delete o[t];\n        } else if ("object" == i) {\n          for (t in e) {\n            t in c || (o[t] = e[t]);\n          }\n\n          void 0 === o.slashes && (o.slashes = s.test(e.href));\n        }\n        return o;\n      }\n\n      function g(e) {\n        e = m(e);\n        var t = n.exec(e);\n        return {\n          protocol: t[1] ? t[1].toLowerCase() : "",\n          slashes: !!t[2],\n          rest: t[3]\n        };\n      }\n\n      function v(e, t, n) {\n        if (e = m(e), !(this instanceof v)) return new v(e, t, n);\n        var r,\n            o,\n            i,\n            a,\n            s,\n            c,\n            u = b.slice(),\n            l = typeof t,\n            d = this,\n            p = 0;\n\n        for ("object" != l && "string" != l && (n = t, t = null), n && "function" != typeof n && (n = h.parse), t = y(t), r = !(o = g(e || "")).protocol && !o.slashes, d.slashes = o.slashes || r && t.slashes, d.protocol = o.protocol || t.protocol || "", e = o.rest, o.slashes || (u[3] = [/(.*)/, "pathname"]); p < u.length; p++) {\n          "function" != typeof (a = u[p]) ? (i = a[0], c = a[1], i != i ? d[c] = e : "string" == typeof i ? ~(s = e.indexOf(i)) && (e = "number" == typeof a[2] ? (d[c] = e.slice(0, s), e.slice(s + a[2])) : (d[c] = e.slice(s), e.slice(0, s))) : (s = i.exec(e)) && (d[c] = s[1], e = e.slice(0, s.index)), d[c] = d[c] || r && a[3] && t[c] || "", a[4] && (d[c] = d[c].toLowerCase())) : e = a(e);\n        }\n\n        n && (d.query = n(d.query)), r && t.slashes && "/" !== d.pathname.charAt(0) && ("" !== d.pathname || "" !== t.pathname) && (d.pathname = function (e, t) {\n          if ("" === e) return t;\n\n          for (var n = (t || "/").split("/").slice(0, -1).concat(e.split("/")), r = n.length, o = n[r - 1], i = !1, a = 0; r--;) {\n            "." === n[r] ? n.splice(r, 1) : ".." === n[r] ? (n.splice(r, 1), a++) : a && (0 === r && (i = !0), n.splice(r, 1), a--);\n          }\n\n          return i && n.unshift(""), "." !== o && ".." !== o || n.push(""), n.join("/");\n        }(d.pathname, t.pathname)), f(d.port, d.protocol) || (d.host = d.hostname, d.port = ""), d.username = d.password = "", d.auth && (a = d.auth.split(":"), d.username = a[0] || "", d.password = a[1] || ""), d.origin = d.protocol && d.host && "file:" !== d.protocol ? d.protocol + "//" + d.host : "null", d.href = d.toString();\n      }\n\n      v.prototype = {\n        set: function set(e, t, n) {\n          var r,\n              o = this;\n\n          switch (e) {\n            case "query":\n              "string" == typeof t && t.length && (t = (n || h.parse)(t)), o[e] = t;\n              break;\n\n            case "port":\n              o[e] = t, f(t, o.protocol) ? t && (o.host = o.hostname + ":" + t) : (o.host = o.hostname, o[e] = "");\n              break;\n\n            case "hostname":\n              o[e] = t, o.port && (t += ":" + o.port), o.host = t;\n              break;\n\n            case "host":\n              o[e] = t, /:\\d+$/.test(t) ? (t = t.split(":"), o.port = t.pop(), o.hostname = t.join(":")) : (o.hostname = t, o.port = "");\n              break;\n\n            case "protocol":\n              o.protocol = t.toLowerCase(), o.slashes = !n;\n              break;\n\n            case "pathname":\n            case "hash":\n              t ? (r = "pathname" === e ? "/" : "#", o[e] = t.charAt(0) !== r ? r + t : t) : o[e] = t;\n              break;\n\n            default:\n              o[e] = t;\n          }\n\n          for (var i = 0; i < b.length; i++) {\n            var a = b[i];\n            a[4] && (o[a[1]] = o[a[1]].toLowerCase());\n          }\n\n          return o.origin = o.protocol && o.host && "file:" !== o.protocol ? o.protocol + "//" + o.host : "null", o.href = o.toString(), o;\n        },\n        toString: function toString(e) {\n          e && "function" == typeof e || (e = h.stringify);\n          var t,\n              n = this,\n              r = n.protocol;\n          r && ":" !== r.charAt(r.length - 1) && (r += ":");\n          var o = r + (n.slashes ? "//" : "");\n          return n.username && (o += n.username, n.password && (o += ":" + n.password), o += "@"), o += n.host + n.pathname, (t = "object" == typeof n.query ? e(n.query) : n.query) && (o += "?" !== t.charAt(0) ? "?" + t : t), n.hash && (o += n.hash), o;\n        }\n      }, v.extractProtocol = g, v.location = y, v.trimLeft = m, v.qs = h, e.exports = v;\n    }).call(this, r(13));\n  }, function (e, t, n) {\n    "use strict";\n    /*!\n     * isobject <https://github.com/jonschlinkert/isobject>\n     *\n     * Copyright (c) 2014-2017, Jon Schlinkert.\n     * Released under the MIT License.\n     */\n\n    e.exports = function (e) {\n      return null != e && "object" == typeof e && !1 === Array.isArray(e);\n    };\n  }, function (e, t) {\n    e.exports = function (e) {\n      if ("string" != typeof e) return !1;\n      var t = e.match(r);\n      if (!t) return !1;\n      var n = t[1];\n      if (!n) return !1;\n      if (o.test(n) || i.test(n)) return !0;\n      return !1;\n    };\n\n    var r = /^(?:\\w+:)?\\/\\/(\\S+)$/,\n        o = /^localhost[\\:?\\d]*(?:[^\\:?\\d]\\S*)?$/,\n        i = /^[^\\s\\.]+\\.\\S{2,}$/;\n  }, function (t, n, e) {\n    var o;\n    (function () {\n      "use strict";\n\n      var r = null,\n          e = function e(_e) {\n        var t, n;\n        return null == _e && (_e = !1), null == r || _e ? "loading" === document.readyState ? null : (t = document.createElement("div"), n = document.createElement("div"), t.style.width = n.style.width = t.style.height = n.style.height = "100px", t.style.overflow = "scroll", n.style.overflow = "hidden", document.body.appendChild(t), document.body.appendChild(n), r = Math.abs(t.scrollHeight - n.scrollHeight), document.body.removeChild(t), document.body.removeChild(n), r) : r;\n      };\n\n      void 0 === (o = function () {\n        return e;\n      }.apply(n, [])) || (t.exports = o);\n    }).call(this);\n  }, function (e, t) {\n    e.exports = function (e, t, n, r) {\n      if (void 0 !== (u = n ? n.call(r, e, t) : void 0)) return !!u;\n      if (e === t) return !0;\n      if ("object" != typeof e || !e || "object" != typeof t || !t) return !1;\n      var o = Object.keys(e),\n          i = Object.keys(t);\n      if (o.length !== i.length) return !1;\n\n      for (var a = Object.prototype.hasOwnProperty.bind(t), s = 0; s < o.length; s++) {\n        var c = o[s];\n        if (!a(c)) return !1;\n        var u,\n            l = e[c],\n            d = t[c];\n        if (!1 === (u = n ? n.call(r, l, d, c) : void 0) || void 0 === u && l !== d) return !1;\n      }\n\n      return !0;\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    t.a = function (e) {\n      function A(e, t, n) {\n        var r = t.trim().split(d),\n            o = (t = r).length,\n            i = e.length;\n\n        switch (i) {\n          case 0:\n          case 1:\n            var a = 0;\n\n            for (e = 0 === i ? "" : e[0] + " "; a < o; ++a) {\n              t[a] = u(e, t[a], n).trim();\n            }\n\n            break;\n\n          default:\n            var s = a = 0;\n\n            for (t = []; a < o; ++a) {\n              for (var c = 0; c < i; ++c) {\n                t[s++] = u(e[c] + " ", r[a], n).trim();\n              }\n            }\n\n        }\n\n        return t;\n      }\n\n      function u(e, t, n) {\n        var r = t.charCodeAt(0);\n\n        switch (r < 33 && (r = (t = t.trim()).charCodeAt(0)), r) {\n          case 38:\n            return t.replace(o, "$1" + e.trim());\n\n          case 58:\n            return e.trim() + t.replace(o, "$1" + e.trim());\n\n          default:\n            if (0 < +n && 0 < t.indexOf("\\f")) return t.replace(o, (58 === e.charCodeAt(0) ? "" : "$1") + e.trim());\n        }\n\n        return e + t;\n      }\n\n      function P(e, t, n, r) {\n        var o = e + ";",\n            i = 2 * t + 3 * n + 4 * r;\n\n        if (944 === i) {\n          e = o.indexOf(":", 9) + 1;\n          var a = o.substring(e, o.length - 1).trim(),\n              a = o.substring(0, e).trim() + a + ";";\n          return 1 === q || 2 === q && I(a, 1) ? "-webkit-" + a + a : a;\n        }\n\n        if (0 === q || 2 === q && !I(o, 1)) return o;\n\n        switch (i) {\n          case 1015:\n            return 97 === o.charCodeAt(10) ? "-webkit-" + o + o : o;\n\n          case 951:\n            return 116 === o.charCodeAt(3) ? "-webkit-" + o + o : o;\n\n          case 963:\n            return 110 === o.charCodeAt(5) ? "-webkit-" + o + o : o;\n\n          case 1009:\n            if (100 !== o.charCodeAt(4)) break;\n\n          case 969:\n          case 942:\n            return "-webkit-" + o + o;\n\n          case 978:\n            return "-webkit-" + o + "-moz-" + o + o;\n\n          case 1019:\n          case 983:\n            return "-webkit-" + o + "-moz-" + o + "-ms-" + o + o;\n\n          case 883:\n            if (45 === o.charCodeAt(8)) return "-webkit-" + o + o;\n            if (0 < o.indexOf("image-set(", 11)) return o.replace(b, "$1-webkit-$2") + o;\n            break;\n\n          case 932:\n            if (45 === o.charCodeAt(4)) switch (o.charCodeAt(5)) {\n              case 103:\n                return "-webkit-box-" + o.replace("-grow", "") + "-webkit-" + o + "-ms-" + o.replace("grow", "positive") + o;\n\n              case 115:\n                return "-webkit-" + o + "-ms-" + o.replace("shrink", "negative") + o;\n\n              case 98:\n                return "-webkit-" + o + "-ms-" + o.replace("basis", "preferred-size") + o;\n            }\n            return "-webkit-" + o + "-ms-" + o + o;\n\n          case 964:\n            return "-webkit-" + o + "-ms-flex-" + o + o;\n\n          case 1023:\n            if (99 !== o.charCodeAt(8)) break;\n            return "-webkit-box-pack" + (a = o.substring(o.indexOf(":", 15)).replace("flex-", "").replace("space-between", "justify")) + "-webkit-" + o + "-ms-flex-pack" + a + o;\n\n          case 1005:\n            return c.test(o) ? o.replace(s, ":-webkit-") + o.replace(s, ":-moz-") + o : o;\n\n          case 1e3:\n            switch (t = (a = o.substring(13).trim()).indexOf("-") + 1, a.charCodeAt(0) + a.charCodeAt(t)) {\n              case 226:\n                a = o.replace(p, "tb");\n                break;\n\n              case 232:\n                a = o.replace(p, "tb-rl");\n                break;\n\n              case 220:\n                a = o.replace(p, "lr");\n                break;\n\n              default:\n                return o;\n            }\n\n            return "-webkit-" + o + "-ms-" + a + o;\n\n          case 1017:\n            if (-1 === o.indexOf("sticky", 9)) break;\n\n          case 975:\n            switch (t = (o = e).length - 10, i = (a = (33 === o.charCodeAt(t) ? o.substring(0, t) : o).substring(e.indexOf(":", 7) + 1).trim()).charCodeAt(0) + (0 | a.charCodeAt(7))) {\n              case 203:\n                if (a.charCodeAt(8) < 111) break;\n\n              case 115:\n                o = o.replace(a, "-webkit-" + a) + ";" + o;\n                break;\n\n              case 207:\n              case 102:\n                o = o.replace(a, "-webkit-" + (102 < i ? "inline-" : "") + "box") + ";" + o.replace(a, "-webkit-" + a) + ";" + o.replace(a, "-ms-" + a + "box") + ";" + o;\n            }\n\n            return o + ";";\n\n          case 938:\n            if (45 === o.charCodeAt(5)) switch (o.charCodeAt(6)) {\n              case 105:\n                return a = o.replace("-items", ""), "-webkit-" + o + "-webkit-box-" + a + "-ms-flex-" + a + o;\n\n              case 115:\n                return "-webkit-" + o + "-ms-flex-item-" + o.replace(h, "") + o;\n\n              default:\n                return "-webkit-" + o + "-ms-flex-line-pack" + o.replace("align-content", "").replace(h, "") + o;\n            }\n            break;\n\n          case 973:\n          case 989:\n            if (45 !== o.charCodeAt(3) || 122 === o.charCodeAt(4)) break;\n\n          case 931:\n          case 953:\n            if (!0 === m.test(e)) return 115 === (a = e.substring(e.indexOf(":") + 1)).charCodeAt(0) ? P(e.replace("stretch", "fill-available"), t, n, r).replace(":fill-available", ":stretch") : o.replace(a, "-webkit-" + a) + o.replace(a, "-moz-" + a.replace("fill-", "")) + o;\n            break;\n\n          case 962:\n            if (o = "-webkit-" + o + (102 === o.charCodeAt(5) ? "-ms-" + o : "") + o, 211 === n + r && 105 === o.charCodeAt(13) && 0 < o.indexOf("transform", 10)) return o.substring(0, o.indexOf(";", 27) + 1).replace(l, "$1-webkit-$2") + o;\n        }\n\n        return o;\n      }\n\n      function I(e, t) {\n        var n = e.indexOf(1 === t ? ":" : "{"),\n            r = e.substring(0, 3 !== t ? n : 10),\n            n = e.substring(n + 1, e.length - 1);\n        return a(2 !== t ? r : r.replace(i, "$1"), n, t);\n      }\n\n      function R(e, t) {\n        var n = P(t, t.charCodeAt(0), t.charCodeAt(1), t.charCodeAt(2));\n        return n !== t + ";" ? n.replace(r, " or ($1)").substring(4) : "(" + t + ")";\n      }\n\n      function T(e, t, n, r, o, i, a, s, c, u) {\n        for (var l, d = 0, p = t; d < H; ++d) {\n          switch (l = y[d].call(f, e, p, n, r, o, i, a, s, c, u)) {\n            case void 0:\n            case !1:\n            case !0:\n            case null:\n              break;\n\n            default:\n              p = l;\n          }\n        }\n\n        if (p !== t) return p;\n      }\n\n      function t(e) {\n        return void 0 !== (e = e.prefix) && (a = null, e ? "function" != typeof e ? q = 1 : (q = 2, a = e) : q = 0), t;\n      }\n\n      function f(e, t) {\n        var n,\n            r = e;\n        r.charCodeAt(0) < 33 && (r = r.trim()), r = [r], 0 < H && void 0 !== (n = T(-1, t, r, r, $, z, 0, 0, 0, 0)) && "string" == typeof n && (t = n);\n\n        var o = function e(t, n, r, o, i) {\n          for (var a, s, c, u, l, d = 0, p = 0, f = 0, h = 0, m = 0, b = 0, y = c = a = 0, g = 0, v = 0, w = 0, O = 0, C = r.length, k = C - 1, S = "", j = "", x = "", E = ""; g < C;) {\n            if (s = r.charCodeAt(g), g === k && 0 !== p + h + f + d && (0 !== p && (s = 47 === p ? 10 : 47), h = f = d = 0, C++, k++), 0 === p + h + f + d) {\n              if (g === k && (0 < v && (S = S.replace(L, "")), 0 < S.trim().length)) {\n                switch (s) {\n                  case 32:\n                  case 9:\n                  case 59:\n                  case 13:\n                  case 10:\n                    break;\n\n                  default:\n                    S += r.charAt(g);\n                }\n\n                s = 59;\n              }\n\n              switch (s) {\n                case 123:\n                  for (a = (S = S.trim()).charCodeAt(0), c = 1, O = ++g; g < C;) {\n                    switch (s = r.charCodeAt(g)) {\n                      case 123:\n                        c++;\n                        break;\n\n                      case 125:\n                        c--;\n                        break;\n\n                      case 47:\n                        switch (s = r.charCodeAt(g + 1)) {\n                          case 42:\n                          case 47:\n                            e: {\n                              for (y = g + 1; y < k; ++y) {\n                                switch (r.charCodeAt(y)) {\n                                  case 47:\n                                    if (42 !== s || 42 !== r.charCodeAt(y - 1) || g + 2 === y) break;\n                                    g = y + 1;\n                                    break e;\n\n                                  case 10:\n                                    if (47 === s) {\n                                      g = y + 1;\n                                      break e;\n                                    }\n\n                                }\n                              }\n\n                              g = y;\n                            }\n\n                        }\n\n                        break;\n\n                      case 91:\n                        s++;\n\n                      case 40:\n                        s++;\n\n                      case 34:\n                      case 39:\n                        for (; g++ < k && r.charCodeAt(g) !== s;) {\n                          ;\n                        }\n\n                    }\n\n                    if (0 === c) break;\n                    g++;\n                  }\n\n                  switch (c = r.substring(O, g), 0 === a && (a = (S = S.replace(_, "").trim()).charCodeAt(0)), a) {\n                    case 64:\n                      switch (0 < v && (S = S.replace(L, "")), s = S.charCodeAt(1)) {\n                        case 100:\n                        case 109:\n                        case 115:\n                        case 45:\n                          v = n;\n                          break;\n\n                        default:\n                          v = B;\n                      }\n\n                      if (O = (c = e(n, v, c, s, i + 1)).length, 0 < H && (l = T(3, c, v = A(B, S, w), n, $, z, O, s, i, o), S = v.join(""), void 0 !== l && 0 === (O = (c = l.trim()).length) && (s = 0, c = "")), 0 < O) switch (s) {\n                        case 115:\n                          S = S.replace(N, R);\n\n                        case 100:\n                        case 109:\n                        case 45:\n                          c = S + "{" + c + "}";\n                          break;\n\n                        case 107:\n                          c = (S = S.replace(F, "$1 $2")) + "{" + c + "}", c = 1 === q || 2 === q && I("@" + c, 3) ? "@-webkit-" + c + "@" + c : "@" + c;\n                          break;\n\n                        default:\n                          c = S + c, 112 === o && (j += c, c = "");\n                      } else c = "";\n                      break;\n\n                    default:\n                      c = e(n, A(n, S, w), c, o, i + 1);\n                  }\n\n                  x += c, c = w = v = y = a = 0, S = "", s = r.charCodeAt(++g);\n                  break;\n\n                case 125:\n                case 59:\n                  if (1 < (O = (S = (0 < v ? S.replace(L, "") : S).trim()).length)) switch (0 === y && (a = S.charCodeAt(0), 45 === a || 96 < a && a < 123) && (O = (S = S.replace(" ", ":")).length), 0 < H && void 0 !== (l = T(1, S, n, t, $, z, j.length, o, i, o)) && 0 === (O = (S = l.trim()).length) && (S = "\\0\\0"), a = S.charCodeAt(0), s = S.charCodeAt(1), a) {\n                    case 0:\n                      break;\n\n                    case 64:\n                      if (105 === s || 99 === s) {\n                        E += S + r.charAt(g);\n                        break;\n                      }\n\n                    default:\n                      58 !== S.charCodeAt(O - 1) && (j += P(S, a, s, S.charCodeAt(2)));\n                  }\n                  w = v = y = a = 0, S = "", s = r.charCodeAt(++g);\n              }\n            }\n\n            switch (s) {\n              case 13:\n              case 10:\n                47 === p ? p = 0 : 0 === 1 + a && 107 !== o && 0 < S.length && (v = 1, S += "\\0"), 0 < H * U && T(0, S, n, t, $, z, j.length, o, i, o), z = 1, $++;\n                break;\n\n              case 59:\n              case 125:\n                if (0 === p + h + f + d) {\n                  z++;\n                  break;\n                }\n\n              default:\n                switch (z++, u = r.charAt(g), s) {\n                  case 9:\n                  case 32:\n                    if (0 === h + d + p) switch (m) {\n                      case 44:\n                      case 58:\n                      case 9:\n                      case 32:\n                        u = "";\n                        break;\n\n                      default:\n                        32 !== s && (u = " ");\n                    }\n                    break;\n\n                  case 0:\n                    u = "\\\\0";\n                    break;\n\n                  case 12:\n                    u = "\\\\f";\n                    break;\n\n                  case 11:\n                    u = "\\\\v";\n                    break;\n\n                  case 38:\n                    0 === h + p + d && (v = w = 1, u = "\\f" + u);\n                    break;\n\n                  case 108:\n                    if (0 === h + p + d + W && 0 < y) switch (g - y) {\n                      case 2:\n                        112 === m && 58 === r.charCodeAt(g - 3) && (W = m);\n\n                      case 8:\n                        111 === b && (W = b);\n                    }\n                    break;\n\n                  case 58:\n                    0 === h + p + d && (y = g);\n                    break;\n\n                  case 44:\n                    0 === p + f + h + d && (v = 1, u += "\\r");\n                    break;\n\n                  case 34:\n                  case 39:\n                    0 === p && (h = h === s ? 0 : 0 === h ? s : h);\n                    break;\n\n                  case 91:\n                    0 === h + p + f && d++;\n                    break;\n\n                  case 93:\n                    0 === h + p + f && d--;\n                    break;\n\n                  case 41:\n                    0 === h + p + d && f--;\n                    break;\n\n                  case 40:\n                    if (0 === h + p + d) {\n                      if (0 === a) switch (2 * m + 3 * b) {\n                        case 533:\n                          break;\n\n                        default:\n                          a = 1;\n                      }\n                      f++;\n                    }\n\n                    break;\n\n                  case 64:\n                    0 === p + f + h + d + y + c && (c = 1);\n                    break;\n\n                  case 42:\n                  case 47:\n                    if (!(0 < h + d + f)) switch (p) {\n                      case 0:\n                        switch (2 * s + 3 * r.charCodeAt(g + 1)) {\n                          case 235:\n                            p = 47;\n                            break;\n\n                          case 220:\n                            O = g, p = 42;\n                        }\n\n                        break;\n\n                      case 42:\n                        47 === s && 42 === m && O + 2 !== g && (33 === r.charCodeAt(O + 2) && (j += r.substring(O, g + 1)), u = "", p = 0);\n                    }\n                }\n\n                0 === p && (S += u);\n            }\n\n            b = m, m = s, g++;\n          }\n\n          if (0 < (O = j.length)) {\n            if (v = n, 0 < H && void 0 !== (l = T(2, j, v, t, $, z, O, o, i, o)) && 0 === (j = l).length) return E + j + x;\n\n            if (j = v.join(",") + "{" + j + "}", 0 != q * W) {\n              switch (2 !== q || I(j, 2) || (W = 0), W) {\n                case 111:\n                  j = j.replace(M, ":-moz-$1") + j;\n                  break;\n\n                case 112:\n                  j = j.replace(D, "::-webkit-input-$1") + j.replace(D, "::-moz-$1") + j.replace(D, ":-ms-input-$1") + j;\n              }\n\n              W = 0;\n            }\n          }\n\n          return E + j + x;\n        }(B, r, t, 0, 0);\n\n        return 0 < H && void 0 !== (n = T(-2, o, r, r, $, z, o.length, 0, 0, 0)) && (o = n), W = 0, z = $ = 1, o;\n      }\n\n      var _ = /^\\0+/g,\n          L = /[\\0\\r\\f]/g,\n          s = /: */g,\n          c = /zoo|gra/,\n          l = /([,: ])(transform)/g,\n          d = /,\\r+?/g,\n          o = /([\\t\\r\\n ])*\\f?&/g,\n          F = /@(k\\w+)\\s*(\\S*)\\s*/,\n          D = /::(place)/g,\n          M = /:(read-only)/g,\n          p = /[svh]\\w+-[tblr]{2}/,\n          N = /\\(\\s*(.*)\\s*\\)/g,\n          r = /([\\s\\S]*?);/g,\n          h = /-self|flex-/g,\n          i = /[^]*?(:[rp][el]a[\\w-]+)[^]*/,\n          m = /stretch|:\\s*\\w+\\-(?:conte|avail)/,\n          b = /([^-])(image-set\\()/,\n          z = 1,\n          $ = 1,\n          W = 0,\n          q = 1,\n          B = [],\n          y = [],\n          H = 0,\n          a = null,\n          U = 0;\n      return f.use = function e(t) {\n        switch (t) {\n          case void 0:\n          case null:\n            H = y.length = 0;\n            break;\n\n          default:\n            if ("function" == typeof t) y[H++] = t;else if ("object" == typeof t) for (var n = 0, r = t.length; n < r; ++n) {\n              e(t[n]);\n            } else U = 0 | !!t;\n        }\n\n        return e;\n      }, f.set = t, void 0 !== e && t(e), f;\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    t.a = {\n      animationIterationCount: 1,\n      borderImageOutset: 1,\n      borderImageSlice: 1,\n      borderImageWidth: 1,\n      boxFlex: 1,\n      boxFlexGroup: 1,\n      boxOrdinalGroup: 1,\n      columnCount: 1,\n      columns: 1,\n      flex: 1,\n      flexGrow: 1,\n      flexPositive: 1,\n      flexShrink: 1,\n      flexNegative: 1,\n      flexOrder: 1,\n      gridRow: 1,\n      gridRowEnd: 1,\n      gridRowSpan: 1,\n      gridRowStart: 1,\n      gridColumn: 1,\n      gridColumnEnd: 1,\n      gridColumnSpan: 1,\n      gridColumnStart: 1,\n      msGridRow: 1,\n      msGridRowSpan: 1,\n      msGridColumn: 1,\n      msGridColumnSpan: 1,\n      fontWeight: 1,\n      lineHeight: 1,\n      opacity: 1,\n      order: 1,\n      orphans: 1,\n      tabSize: 1,\n      widows: 1,\n      zIndex: 1,\n      zoom: 1,\n      WebkitLineClamp: 1,\n      fillOpacity: 1,\n      floodOpacity: 1,\n      stopOpacity: 1,\n      strokeDasharray: 1,\n      strokeDashoffset: 1,\n      strokeMiterlimit: 1,\n      strokeOpacity: 1,\n      strokeWidth: 1\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    e.exports = function (e, t) {\n      if (t = t.split(":")[0], !(e = +e)) return !1;\n\n      switch (t) {\n        case "http":\n        case "ws":\n          return 80 !== e;\n\n        case "https":\n        case "wss":\n          return 443 !== e;\n\n        case "ftp":\n          return 21 !== e;\n\n        case "gopher":\n          return 70 !== e;\n\n        case "file":\n          return !1;\n      }\n\n      return 0 !== e;\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    var i = Object.prototype.hasOwnProperty;\n\n    function a(e) {\n      try {\n        return decodeURIComponent(e.replace(/\\+/g, " "));\n      } catch (e) {\n        return null;\n      }\n    }\n\n    t.stringify = function (e, t) {\n      t = t || "";\n      var n,\n          r,\n          o = [];\n\n      for (r in "string" != typeof t && (t = "?"), e) {\n        if (i.call(e, r)) {\n          if ((n = e[r]) || null != n && !isNaN(n) || (n = ""), r = encodeURIComponent(r), n = encodeURIComponent(n), null === r || null === n) continue;\n          o.push(r + "=" + n);\n        }\n      }\n\n      return o.length ? t + o.join("&") : "";\n    }, t.parse = function (e) {\n      for (var t, n = /([^=?&]+)=?([^&]*)/g, r = {}; t = n.exec(e);) {\n        var o = a(t[1]),\n            i = a(t[2]);\n        null === o || null === i || o in r || (r[o] = i);\n      }\n\n      return r;\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    var s = n(24);\n\n    function r() {}\n\n    function o() {}\n\n    o.resetWarningCache = r, e.exports = function () {\n      function e(e, t, n, r, o, i) {\n        if (i !== s) {\n          var a = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");\n          throw a.name = "Invariant Violation", a;\n        }\n      }\n\n      function t() {\n        return e;\n      }\n\n      var n = {\n        array: e.isRequired = e,\n        bool: e,\n        func: e,\n        number: e,\n        object: e,\n        string: e,\n        symbol: e,\n        any: e,\n        arrayOf: t,\n        element: e,\n        elementType: e,\n        instanceOf: t,\n        node: e,\n        objectOf: t,\n        oneOf: t,\n        oneOfType: t,\n        shape: t,\n        exact: t,\n        checkPropTypes: o,\n        resetWarningCache: r\n      };\n      return n.PropTypes = n;\n    };\n  }, function (e, t, n) {\n    "use strict";\n\n    e.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";\n  }, function (e, t) {\n    var n,\n        r,\n        o = e.exports = {};\n\n    function i() {\n      throw new Error("setTimeout has not been defined");\n    }\n\n    function a() {\n      throw new Error("clearTimeout has not been defined");\n    }\n\n    function s(t) {\n      if (n === setTimeout) return setTimeout(t, 0);\n      if ((n === i || !n) && setTimeout) return n = setTimeout, setTimeout(t, 0);\n\n      try {\n        return n(t, 0);\n      } catch (e) {\n        try {\n          return n.call(null, t, 0);\n        } catch (e) {\n          return n.call(this, t, 0);\n        }\n      }\n    }\n\n    !function () {\n      try {\n        n = "function" == typeof setTimeout ? setTimeout : i;\n      } catch (e) {\n        n = i;\n      }\n\n      try {\n        r = "function" == typeof clearTimeout ? clearTimeout : a;\n      } catch (e) {\n        r = a;\n      }\n    }();\n    var c,\n        u = [],\n        l = !1,\n        d = -1;\n\n    function p() {\n      l && c && (l = !1, c.length ? u = c.concat(u) : d = -1, u.length && f());\n    }\n\n    function f() {\n      if (!l) {\n        var e = s(p);\n        l = !0;\n\n        for (var t = u.length; t;) {\n          for (c = u, u = []; ++d < t;) {\n            c && c[d].run();\n          }\n\n          d = -1, t = u.length;\n        }\n\n        c = null, l = !1, function (t) {\n          if (r === clearTimeout) return clearTimeout(t);\n          if ((r === a || !r) && clearTimeout) return r = clearTimeout, clearTimeout(t);\n\n          try {\n            r(t);\n          } catch (e) {\n            try {\n              return r.call(null, t);\n            } catch (e) {\n              return r.call(this, t);\n            }\n          }\n        }(e);\n      }\n    }\n\n    function h(e, t) {\n      this.fun = e, this.array = t;\n    }\n\n    function m() {}\n\n    o.nextTick = function (e) {\n      var t = new Array(arguments.length - 1);\n      if (1 < arguments.length) for (var n = 1; n < arguments.length; n++) {\n        t[n - 1] = arguments[n];\n      }\n      u.push(new h(e, t)), 1 !== u.length || l || s(f);\n    }, h.prototype.run = function () {\n      this.fun.apply(null, this.array);\n    }, o.title = "browser", o.browser = !0, o.env = {}, o.argv = [], o.version = "", o.versions = {}, o.on = m, o.addListener = m, o.once = m, o.off = m, o.removeListener = m, o.removeAllListeners = m, o.emit = m, o.prependListener = m, o.prependOnceListener = m, o.listeners = function (e) {\n      return [];\n    }, o.binding = function (e) {\n      throw new Error("process.binding is not supported");\n    }, o.cwd = function () {\n      return "/";\n    }, o.chdir = function (e) {\n      throw new Error("process.chdir is not supported");\n    }, o.umask = function () {\n      return 0;\n    };\n  }, function (e, t, n) {\n    "use strict";\n    /** @license React v16.13.1\n     * react-is.production.min.js\n     *\n     * Copyright (c) Facebook, Inc. and its affiliates.\n     *\n     * This source code is licensed under the MIT license found in the\n     * LICENSE file in the root directory of this source tree.\n     */\n\n    var r = "function" == typeof Symbol && Symbol.for,\n        o = r ? Symbol.for("react.element") : 60103,\n        i = r ? Symbol.for("react.portal") : 60106,\n        a = r ? Symbol.for("react.fragment") : 60107,\n        s = r ? Symbol.for("react.strict_mode") : 60108,\n        c = r ? Symbol.for("react.profiler") : 60114,\n        u = r ? Symbol.for("react.provider") : 60109,\n        l = r ? Symbol.for("react.context") : 60110,\n        d = r ? Symbol.for("react.async_mode") : 60111,\n        p = r ? Symbol.for("react.concurrent_mode") : 60111,\n        f = r ? Symbol.for("react.forward_ref") : 60112,\n        h = r ? Symbol.for("react.suspense") : 60113,\n        m = r ? Symbol.for("react.suspense_list") : 60120,\n        b = r ? Symbol.for("react.memo") : 60115,\n        y = r ? Symbol.for("react.lazy") : 60116,\n        g = r ? Symbol.for("react.block") : 60121,\n        v = r ? Symbol.for("react.fundamental") : 60117,\n        w = r ? Symbol.for("react.responder") : 60118,\n        O = r ? Symbol.for("react.scope") : 60119;\n\n    function C(e) {\n      if ("object" == typeof e && null !== e) {\n        var t = e.$$typeof;\n\n        switch (t) {\n          case o:\n            switch (e = e.type) {\n              case d:\n              case p:\n              case a:\n              case c:\n              case s:\n              case h:\n                return e;\n\n              default:\n                switch (e = e && e.$$typeof) {\n                  case l:\n                  case f:\n                  case y:\n                  case b:\n                  case u:\n                    return e;\n\n                  default:\n                    return t;\n                }\n\n            }\n\n          case i:\n            return t;\n        }\n      }\n    }\n\n    function k(e) {\n      return C(e) === p;\n    }\n\n    t.AsyncMode = d, t.ConcurrentMode = p, t.ContextConsumer = l, t.ContextProvider = u, t.Element = o, t.ForwardRef = f, t.Fragment = a, t.Lazy = y, t.Memo = b, t.Portal = i, t.Profiler = c, t.StrictMode = s, t.Suspense = h, t.isAsyncMode = function (e) {\n      return k(e) || C(e) === d;\n    }, t.isConcurrentMode = k, t.isContextConsumer = function (e) {\n      return C(e) === l;\n    }, t.isContextProvider = function (e) {\n      return C(e) === u;\n    }, t.isElement = function (e) {\n      return "object" == typeof e && null !== e && e.$$typeof === o;\n    }, t.isForwardRef = function (e) {\n      return C(e) === f;\n    }, t.isFragment = function (e) {\n      return C(e) === a;\n    }, t.isLazy = function (e) {\n      return C(e) === y;\n    }, t.isMemo = function (e) {\n      return C(e) === b;\n    }, t.isPortal = function (e) {\n      return C(e) === i;\n    }, t.isProfiler = function (e) {\n      return C(e) === c;\n    }, t.isStrictMode = function (e) {\n      return C(e) === s;\n    }, t.isSuspense = function (e) {\n      return C(e) === h;\n    }, t.isValidElementType = function (e) {\n      return "string" == typeof e || "function" == typeof e || e === a || e === p || e === c || e === s || e === h || e === m || "object" == typeof e && null !== e && (e.$$typeof === y || e.$$typeof === b || e.$$typeof === u || e.$$typeof === l || e.$$typeof === f || e.$$typeof === v || e.$$typeof === w || e.$$typeof === O || e.$$typeof === g);\n    }, t.typeOf = C;\n  }], o.c = a, o.d = function (e, t, n) {\n    o.o(e, t) || Object.defineProperty(e, t, {\n      enumerable: !0,\n      get: n\n    });\n  }, o.r = function (e) {\n    "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n      value: "Module"\n    }), Object.defineProperty(e, "__esModule", {\n      value: !0\n    });\n  }, o.t = function (t, e) {\n    if (1 & e && (t = o(t)), 8 & e) return t;\n    if (4 & e && "object" == typeof t && t && t.__esModule) return t;\n    var n = Object.create(null);\n    if (o.r(n), Object.defineProperty(n, "default", {\n      enumerable: !0,\n      value: t\n    }), 2 & e && "string" != typeof t) for (var r in t) {\n      o.d(n, r, function (e) {\n        return t[e];\n      }.bind(null, r));\n    }\n    return n;\n  }, o.n = function (e) {\n    var t = e && e.__esModule ? function () {\n      return e.default;\n    } : function () {\n      return e;\n    };\n    return o.d(t, "a", t), t;\n  }, o.o = function (e, t) {\n    return Object.prototype.hasOwnProperty.call(e, t);\n  }, o.p = "", o(o.s = 7);\n\n  function o(e) {\n    if (a[e]) return a[e].exports;\n    var t = a[e] = {\n      i: e,\n      l: !1,\n      exports: {}\n    };\n    return i[e].call(t.exports, t, t.exports, o), t.l = !0, t.exports;\n  }\n\n  var i, a;\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHR5cGVmb3JtL2VtYmVkL2J1aWxkL2xpYi5wdXJlLmpzP2JjNDYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbUJBQU8sQ0FBQyxNQUFpQzs7QUFFekMsbUJBQU8sQ0FBQyxNQUFzQzs7QUFFOUM7QUFDQSxFQUFFLEtBQXVELHNCQUFzQixtQkFBTyxDQUFDLE1BQU8sR0FBRyxtQkFBTyxDQUFDLE1BQVcsS0FBSyxTQUE2TjtBQUN0VixDQUFDO0FBQ0QsZUFBZTtBQUNmO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUFJO0FBQ1gsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsT0FBTztBQUN0RTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFD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QUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUCxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFL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QUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1AsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFD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Q0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9DQUFvQyxVQUFVO0FBQzlDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsRUFBRTtBQUNqQztBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCw0REFBNEQsT0FBTztBQUN0SDtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLG9EQUFvRCxlQUFlO0FBQ25FO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLEdBQUc7QUFDakMsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0Msc0JBQXNCO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUssaURBQWlELDhDQUE4QztBQUNwRztBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDIiwiZmlsZSI6IkxQZjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZVwiKTtcblxucmVxdWlyZShcImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS1zdGFydFwiKTtcblxuIWZ1bmN0aW9uIChlLCB0KSB7XG4gIFwib2JqZWN0XCIgPT0gdHlwZW9mIGV4cG9ydHMgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgbW9kdWxlID8gbW9kdWxlLmV4cG9ydHMgPSB0KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSkgOiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGRlZmluZSAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKFtcInJlYWN0XCIsIFwicmVhY3QtZG9tXCJdLCB0KSA6IFwib2JqZWN0XCIgPT0gdHlwZW9mIGV4cG9ydHMgPyBleHBvcnRzLnR5cGVmb3JtRW1iZWQgPSB0KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSkgOiBlLnR5cGVmb3JtRW1iZWQgPSB0KGUucmVhY3QsIGVbXCJyZWFjdC1kb21cIl0pO1xufSh0aGlzLCBmdW5jdGlvbiAobiwgcikge1xuICByZXR1cm4gYSA9IHt9LCBvLm0gPSBpID0gW2Z1bmN0aW9uIChlLCB0KSB7XG4gICAgZS5leHBvcnRzID0gbjtcbiAgfSwgZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIG4uZCh0LCBcImNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfSksIG4uZCh0LCBcImJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGE7XG4gICAgfSksIG4uZCh0LCBcImxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHM7XG4gICAgfSksIG4uZCh0LCBcImFcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGM7XG4gICAgfSksIG4uZCh0LCBcImtcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHU7XG4gICAgfSksIG4uZCh0LCBcImVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSksIG4uZCh0LCBcImdcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHA7XG4gICAgfSksIG4uZCh0LCBcImRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGY7XG4gICAgfSksIG4uZCh0LCBcImhcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGg7XG4gICAgfSksIG4uZCh0LCBcImlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG07XG4gICAgfSksIG4uZCh0LCBcImZcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSksIG4uZCh0LCBcImpcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHk7XG4gICAgfSk7XG4gICAgdmFyIHIgPSBuKDE0KSxcbiAgICAgICAgbCA9IG4ubihyKSxcbiAgICAgICAgbyA9IG4oOCk7XG5cbiAgICB2YXIgaSA9IGZ1bmN0aW9uIGkociwgbykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciB0LCBuO1xuICAgICAgICB0ID0gbywgKChuID0gZSkuZGV0YWlsICYmIG4uZGV0YWlsLmVtYmVkSWQgPT09IHQgfHwgbi5kYXRhICYmIG4uZGF0YS5lbWJlZElkID09PSB0KSAmJiByKGUpO1xuICAgICAgfTtcbiAgICB9LFxuICAgICAgICBhID0gZnVuY3Rpb24gYShlLCB0KSB7XG4gICAgICB0LmRhdGEuZW1iZWRJZCA9PT0gZSAmJiBPYmplY3Qoby5hKSh0KTtcbiAgICB9LFxuICAgICAgICBzID0gZnVuY3Rpb24gcyhlLCB0LCBuKSB7XG4gICAgICByZXR1cm4gYyhuLCAoaSA9IHQsIChvID0gZSkgaW4gKHIgPSB7fSkgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkociwgbywge1xuICAgICAgICB2YWx1ZTogaSxcbiAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgfSkgOiByW29dID0gaSwgcikpO1xuICAgICAgdmFyIHIsIG8sIGk7XG4gICAgfSxcbiAgICAgICAgYyA9IGZ1bmN0aW9uIGMoZSwgdCkge1xuICAgICAgdmFyIG4gPSBbXSxcbiAgICAgICAgICByID0gbCgpKGUsICEwKSxcbiAgICAgICAgICBvID0gci5xdWVyeSxcbiAgICAgICAgICBpID0gci5vcmlnaW4sXG4gICAgICAgICAgYSA9IHIucGF0aG5hbWUsXG4gICAgICAgICAgcyA9IHIuaGFzaCxcbiAgICAgICAgICBjID0gYS5yZXBsYWNlKC9cXC8kLywgXCJcIiksXG4gICAgICAgICAgdSA9IE9iamVjdC5hc3NpZ24oe30sIG8sIHQpO1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbi5wdXNoKFwiXCIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodVtlXSkpKTtcbiAgICAgIH0pLCBcIlwiLmNvbmNhdChpKS5jb25jYXQoYywgXCI/XCIpLmNvbmNhdChuLmpvaW4oXCImXCIpKS5jb25jYXQocyk7XG4gICAgfSxcbiAgICAgICAgdSA9IGZ1bmN0aW9uIHUociwgbykge1xuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG8pLnJlZHVjZShmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICB2YXIgbiA9IG9bdF07XG4gICAgICAgIHJldHVybiBudWxsICE9IG4gJiYgbnVsbCAhPSByW3RdICYmICExICE9PSByW3RdICYmIChlW25dID0gclt0XSksIGU7XG4gICAgICB9LCB7fSk7XG4gICAgfSxcbiAgICAgICAgZCA9IGZ1bmN0aW9uIGQoKSB7XG4gICAgICB2YXIgZSwgdCwgbjtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgJiYgKHQgPSBcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTBcIiwgKGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwibWV0YVtuYW1lPXZpZXdwb3J0XVwiKSkgPyBlLnNldEF0dHJpYnV0ZShcImNvbnRlbnRcIiwgdCkgOiAoKG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibWV0YVwiKSkuY29udGVudCA9IHQsIG4ubmFtZSA9IFwidmlld3BvcnRcIiwgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChuKSkpO1xuICAgIH0sXG4gICAgICAgIHAgPSBmdW5jdGlvbiBwKGUpIHtcbiAgICAgIGlmICh3aW5kb3cudG9wICE9PSB3aW5kb3cpIHJldHVybiAhMTtcbiAgICAgIHZhciB0ID0gZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICBuID0gLjIgKiB0LmhlaWdodCxcbiAgICAgICAgICByID0gd2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgIG8gPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgIHJldHVybiB0LnRvcCA+PSAtbiAmJiB0LmxlZnQgPj0gLW4gJiYgdC5ib3R0b20gPD0gbyArIG4gJiYgdC5yaWdodCA8PSByICsgbjtcbiAgICB9LFxuICAgICAgICBmID0gZnVuY3Rpb24gZihyLCBvLCBpKSB7XG4gICAgICB2YXIgYTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGUgPSBhcmd1bWVudHMubGVuZ3RoLCB0ID0gbmV3IEFycmF5KGUpLCBuID0gMDsgbiA8IGU7IG4rKykge1xuICAgICAgICAgIHRbbl0gPSBhcmd1bWVudHNbbl07XG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclRpbWVvdXQoYSksIGEgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhID0gbnVsbCwgci5jYWxsLmFwcGx5KHIsIFtpXS5jb25jYXQodCkpO1xuICAgICAgICB9LCBvKTtcbiAgICAgIH07XG4gICAgfSxcbiAgICAgICAgaCA9IGZ1bmN0aW9uIGgoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgICAgICBtID0gZnVuY3Rpb24gbShlKSB7XG4gICAgICB2YXIgdCA9IGUuZGV0YWlsLnVybDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgbi5ocmVmID0gdCwgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSwgbi5jbGljaygpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9LFxuICAgICAgICBiID0gZnVuY3Rpb24gYihlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXNwb25zZV9pZDogZSAmJiBlLmRldGFpbCA/IGUuZGV0YWlsLnJlc3BvbnNlX2lkIDogdm9pZCAwXG4gICAgICB9O1xuICAgIH0sXG4gICAgICAgIHkgPSBmdW5jdGlvbiB5KGUpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdChlKS5yZXBsYWNlKC9yZ2JhXFwoKC4qKSxcXHM/W1xcZC5dK1xcKS8sIFwicmdiKCQxKVwiKTtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIGUuZXhwb3J0cyA9IG4oMjMpKCk7XG4gIH0sIGZ1bmN0aW9uIChlLCBJZSwgUmUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIChmdW5jdGlvbiAoZSkge1xuICAgICAgUmUuZChJZSwgXCJhXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEFlO1xuICAgICAgfSksIFJlLmQoSWUsIFwiYlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhZTtcbiAgICAgIH0pLCBSZS5kKEllLCBcImRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUGU7XG4gICAgICB9KTtcbiAgICAgIHZhciBpID0gUmUoOSksXG4gICAgICAgICAgRSA9IFJlKDApLFxuICAgICAgICAgIGcgPSBSZS5uKEUpLFxuICAgICAgICAgIHkgPSAoUmUoMTgpLCBSZSgxOSkpLFxuICAgICAgICAgIGEgPSBSZSgyMCksXG4gICAgICAgICAgQSA9IFJlKDEyKSxcbiAgICAgICAgICB0ID0gUmUoMTEpLFxuICAgICAgICAgIHYgPSBSZS5uKHQpO1xuXG4gICAgICBmdW5jdGlvbiBQKCkge1xuICAgICAgICByZXR1cm4gKFAgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgIHZhciBuID0gYXJndW1lbnRzW3RdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciByIGluIG4pIHtcbiAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHIpICYmIChlW3JdID0gbltyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGU7XG4gICAgICAgIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvID0gZnVuY3Rpb24gbyhlLCB0KSB7XG4gICAgICAgIGZvciAodmFyIG4gPSBbZVswXV0sIHIgPSAwLCBvID0gdC5sZW5ndGg7IHIgPCBvOyByICs9IDEpIHtcbiAgICAgICAgICBuLnB1c2godFtyXSwgZVtyICsgMV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG47XG4gICAgICB9LFxuICAgICAgICAgIGMgPSBmdW5jdGlvbiBjKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IGUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBcIltvYmplY3QgT2JqZWN0XVwiID09PSAoZS50b1N0cmluZyA/IGUudG9TdHJpbmcoKSA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKSkgJiYgIU9iamVjdChpLnR5cGVPZikoZSk7XG4gICAgICB9LFxuICAgICAgICAgIHcgPSBPYmplY3QuZnJlZXplKFtdKSxcbiAgICAgICAgICBJID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5cbiAgICAgIGZ1bmN0aW9uIHUoZSkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBPKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuZGlzcGxheU5hbWUgfHwgZS5uYW1lIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIEMoZSkge1xuICAgICAgICByZXR1cm4gZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlLnN0eWxlZENvbXBvbmVudElkO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBzKCkge1xuICAgICAgICByZXR1cm4gUmUubmM7XG4gICAgICB9XG5cbiAgICAgIHZhciBkID0gdm9pZCAwICE9PSBlICYmIChlLmVudi5SRUFDVF9BUFBfU0NfQVRUUiB8fCBlLmVudi5TQ19BVFRSKSB8fCBcImRhdGEtc3R5bGVkXCIsXG4gICAgICAgICAgbCA9IFwiZGF0YS1zdHlsZWQtdmVyc2lvblwiLFxuICAgICAgICAgIHAgPSBcIjUuMS4xXCIsXG4gICAgICAgICAgZiA9IFwiLyohc2MqL1xcblwiLFxuICAgICAgICAgIHIgPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgJiYgXCJIVE1MRWxlbWVudFwiIGluIHdpbmRvdyxcbiAgICAgICAgICBuID0gXCJib29sZWFuXCIgPT0gdHlwZW9mIFNDX0RJU0FCTEVfU1BFRURZICYmIFNDX0RJU0FCTEVfU1BFRURZIHx8IHZvaWQgMCAhPT0gZSAmJiAoZS5lbnYuUkVBQ1RfQVBQX1NDX0RJU0FCTEVfU1BFRURZIHx8IGUuZW52LlNDX0RJU0FCTEVfU1BFRURZKSB8fCAhMSxcbiAgICAgICAgICBoID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGsoZSkge1xuICAgICAgICBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgbiA9IG5ldyBBcnJheSgxIDwgdCA/IHQgLSAxIDogMCksIHIgPSAxOyByIDwgdDsgcisrKSB7XG4gICAgICAgICAgbltyIC0gMV0gPSBhcmd1bWVudHNbcl07XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbiBlcnJvciBvY2N1cnJlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsZWQtY29tcG9uZW50cy9zdHlsZWQtY29tcG9uZW50cy9ibG9iL21hc3Rlci9wYWNrYWdlcy9zdHlsZWQtY29tcG9uZW50cy9zcmMvdXRpbHMvZXJyb3JzLm1kI1wiICsgZSArIFwiIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiICsgKDAgPCBuLmxlbmd0aCA/IFwiIEFkZGl0aW9uYWwgYXJndW1lbnRzOiBcIiArIG4uam9pbihcIiwgXCIpIDogXCJcIikpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBtKGUpIHtcbiAgICAgICAgdmFyIHQgPSBkb2N1bWVudC5oZWFkLFxuICAgICAgICAgICAgbiA9IGUgfHwgdCxcbiAgICAgICAgICAgIHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksXG4gICAgICAgICAgICBvID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBmb3IgKHZhciB0ID0gZS5jaGlsZE5vZGVzLCBuID0gdC5sZW5ndGg7IDAgPD0gbjsgbi0tKSB7XG4gICAgICAgICAgICB2YXIgciA9IHRbbl07XG4gICAgICAgICAgICBpZiAociAmJiAxID09PSByLm5vZGVUeXBlICYmIHIuaGFzQXR0cmlidXRlKGQpKSByZXR1cm4gcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0obiksXG4gICAgICAgICAgICBpID0gdm9pZCAwICE9PSBvID8gby5uZXh0U2libGluZyA6IG51bGw7XG5cbiAgICAgICAgci5zZXRBdHRyaWJ1dGUoZCwgXCJhY3RpdmVcIiksIHIuc2V0QXR0cmlidXRlKGwsIHApO1xuICAgICAgICB2YXIgYSA9IHMoKTtcbiAgICAgICAgcmV0dXJuIGEgJiYgci5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBhKSwgbi5pbnNlcnRCZWZvcmUociwgaSksIHI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGIoZSkge1xuICAgICAgICBpZiAoRi5oYXMoZSkpIHJldHVybiBGLmdldChlKTtcbiAgICAgICAgdmFyIHQgPSBNKys7XG4gICAgICAgIHJldHVybiBGLnNldChlLCB0KSwgRC5zZXQodCwgZSksIHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIFMoZSkge1xuICAgICAgICBmb3IgKHZhciB0LCBuID0gZS5nZXRUYWcoKSwgciA9IG4ubGVuZ3RoLCBvID0gXCJcIiwgaSA9IDA7IGkgPCByOyBpKyspIHtcbiAgICAgICAgICB2YXIgYSxcbiAgICAgICAgICAgICAgcyxcbiAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICAgdSxcbiAgICAgICAgICAgICAgbCA9ICh0ID0gaSwgRC5nZXQodCkpO1xuICAgICAgICAgIHZvaWQgMCAhPT0gbCAmJiAoYSA9IGUubmFtZXMuZ2V0KGwpLCBzID0gbi5nZXRHcm91cChpKSwgdm9pZCAwICE9PSBhICYmIDAgIT09IHMubGVuZ3RoICYmIChjID0gZCArIFwiLmdcIiArIGkgKyAnW2lkPVwiJyArIGwgKyAnXCJdJywgdSA9IFwiXCIsIHZvaWQgMCAhPT0gYSAmJiBhLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIDAgPCBlLmxlbmd0aCAmJiAodSArPSBlICsgXCIsXCIpO1xuICAgICAgICAgIH0pLCBvICs9IHMgKyBjICsgJ3tjb250ZW50OlwiJyArIHUgKyAnXCJ9JyArIGYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBqKGUsIHQpIHtcbiAgICAgICAgZm9yICh2YXIgbiwgciwgbyA9IHQuaW5uZXJIVE1MLnNwbGl0KGYpLCBpID0gW10sIGEgPSAwLCBzID0gby5sZW5ndGg7IGEgPCBzOyBhKyspIHtcbiAgICAgICAgICB2YXIgYyxcbiAgICAgICAgICAgICAgdSxcbiAgICAgICAgICAgICAgbCxcbiAgICAgICAgICAgICAgZCA9IG9bYV0udHJpbSgpO1xuICAgICAgICAgIGQgJiYgKChjID0gZC5tYXRjaCh6KSkgPyAodSA9IDAgfCBwYXJzZUludChjWzFdLCAxMCksIGwgPSBjWzJdLCAwICE9IHUgJiYgKG4gPSBsLCBNIDw9IChyID0gdSkgJiYgKE0gPSByICsgMSksIEYuc2V0KG4sIHIpLCBELnNldChyLCBuKSwgZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGZvciAodmFyIHIsIG8gPSBuLnNwbGl0KFwiLFwiKSwgaSA9IDAsIGEgPSBvLmxlbmd0aDsgaSA8IGE7IGkrKykge1xuICAgICAgICAgICAgICAociA9IG9baV0pICYmIGUucmVnaXN0ZXJOYW1lKHQsIHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0oZSwgbCwgY1szXSksIGUuZ2V0VGFnKCkuaW5zZXJ0UnVsZXModSwgaSkpLCBpLmxlbmd0aCA9IDApIDogaS5wdXNoKGQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB4KGUpIHtcbiAgICAgICAgcmV0dXJuIEgoQiwgZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBSID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBlKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IHRoaXMuZWxlbWVudCA9IG0oZSk7XG4gICAgICAgICAgdC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSksIHRoaXMuc2hlZXQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuc2hlZXQpIHJldHVybiBlLnNoZWV0O1xuXG4gICAgICAgICAgICBmb3IgKHZhciB0ID0gZG9jdW1lbnQuc3R5bGVTaGVldHMsIG4gPSAwLCByID0gdC5sZW5ndGg7IG4gPCByOyBuKyspIHtcbiAgICAgICAgICAgICAgdmFyIG8gPSB0W25dO1xuICAgICAgICAgICAgICBpZiAoby5vd25lck5vZGUgPT09IGUpIHJldHVybiBvO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBrKDE3KTtcbiAgICAgICAgICB9KHQpLCB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gdC5pbnNlcnRSdWxlID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hlZXQuaW5zZXJ0UnVsZSh0LCBlKSwgdGhpcy5sZW5ndGgrKywgITA7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdC5kZWxldGVSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB0aGlzLnNoZWV0LmRlbGV0ZVJ1bGUoZSksIHRoaXMubGVuZ3RoLS07XG4gICAgICAgIH0sIHQuZ2V0UnVsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIHQgPSB0aGlzLnNoZWV0LmNzc1J1bGVzW2VdO1xuICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IHQgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdC5jc3NUZXh0ID8gdC5jc3NUZXh0IDogXCJcIjtcbiAgICAgICAgfSwgZTtcbiAgICAgIH0oKSxcbiAgICAgICAgICBUID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBlKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IHRoaXMuZWxlbWVudCA9IG0oZSk7XG4gICAgICAgICAgdGhpcy5ub2RlcyA9IHQuY2hpbGROb2RlcywgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHQgPSBlLnByb3RvdHlwZTtcbiAgICAgICAgcmV0dXJuIHQuaW5zZXJ0UnVsZSA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgaWYgKGUgPD0gdGhpcy5sZW5ndGggJiYgMCA8PSBlKSB7XG4gICAgICAgICAgICB2YXIgbiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpLFxuICAgICAgICAgICAgICAgIHIgPSB0aGlzLm5vZGVzW2VdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pbnNlcnRCZWZvcmUobiwgciB8fCBudWxsKSwgdGhpcy5sZW5ndGgrKywgITA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9LCB0LmRlbGV0ZVJ1bGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLm5vZGVzW2VdKSwgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgfSwgdC5nZXRSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gZSA8IHRoaXMubGVuZ3RoID8gdGhpcy5ub2Rlc1tlXS50ZXh0Q29udGVudCA6IFwiXCI7XG4gICAgICAgIH0sIGU7XG4gICAgICB9KCksXG4gICAgICAgICAgXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZShlKSB7XG4gICAgICAgICAgdGhpcy5ydWxlcyA9IFtdLCB0aGlzLmxlbmd0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gdC5pbnNlcnRSdWxlID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgICByZXR1cm4gZSA8PSB0aGlzLmxlbmd0aCAmJiAodGhpcy5ydWxlcy5zcGxpY2UoZSwgMCwgdCksIHRoaXMubGVuZ3RoKyssICEwKTtcbiAgICAgICAgfSwgdC5kZWxldGVSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB0aGlzLnJ1bGVzLnNwbGljZShlLCAxKSwgdGhpcy5sZW5ndGgtLTtcbiAgICAgICAgfSwgdC5nZXRSdWxlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gZSA8IHRoaXMubGVuZ3RoID8gdGhpcy5ydWxlc1tlXSA6IFwiXCI7XG4gICAgICAgIH0sIGU7XG4gICAgICB9KCksXG4gICAgICAgICAgTCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZShlKSB7XG4gICAgICAgICAgdGhpcy5ncm91cFNpemVzID0gbmV3IFVpbnQzMkFycmF5KDUxMiksIHRoaXMubGVuZ3RoID0gNTEyLCB0aGlzLnRhZyA9IGU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdCA9IGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gdC5pbmRleE9mR3JvdXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGZvciAodmFyIHQgPSAwLCBuID0gMDsgbiA8IGU7IG4rKykge1xuICAgICAgICAgICAgdCArPSB0aGlzLmdyb3VwU2l6ZXNbbl07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0sIHQuaW5zZXJ0UnVsZXMgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgIGlmIChlID49IHRoaXMuZ3JvdXBTaXplcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG4gPSB0aGlzLmdyb3VwU2l6ZXMsIHIgPSBuLmxlbmd0aCwgbyA9IHI7IG8gPD0gZTspIHtcbiAgICAgICAgICAgICAgKG8gPDw9IDEpIDwgMCAmJiBrKDE2LCBcIlwiICsgZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZ3JvdXBTaXplcyA9IG5ldyBVaW50MzJBcnJheShvKSwgdGhpcy5ncm91cFNpemVzLnNldChuKSwgdGhpcy5sZW5ndGggPSBvO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gcjsgaSA8IG87IGkrKykge1xuICAgICAgICAgICAgICB0aGlzLmdyb3VwU2l6ZXNbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIGEgPSB0aGlzLmluZGV4T2ZHcm91cChlICsgMSksIHMgPSAwLCBjID0gdC5sZW5ndGg7IHMgPCBjOyBzKyspIHtcbiAgICAgICAgICAgIHRoaXMudGFnLmluc2VydFJ1bGUoYSwgdFtzXSkgJiYgKHRoaXMuZ3JvdXBTaXplc1tlXSsrLCBhKyspO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgdC5jbGVhckdyb3VwID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBpZiAoZSA8IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHRoaXMuZ3JvdXBTaXplc1tlXSxcbiAgICAgICAgICAgICAgICBuID0gdGhpcy5pbmRleE9mR3JvdXAoZSksXG4gICAgICAgICAgICAgICAgciA9IG4gKyB0O1xuICAgICAgICAgICAgdGhpcy5ncm91cFNpemVzW2VdID0gMDtcblxuICAgICAgICAgICAgZm9yICh2YXIgbyA9IG47IG8gPCByOyBvKyspIHtcbiAgICAgICAgICAgICAgdGhpcy50YWcuZGVsZXRlUnVsZShuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sIHQuZ2V0R3JvdXAgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciB0ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZSA+PSB0aGlzLmxlbmd0aCB8fCAwID09PSB0aGlzLmdyb3VwU2l6ZXNbZV0pIHJldHVybiB0O1xuXG4gICAgICAgICAgZm9yICh2YXIgbiA9IHRoaXMuZ3JvdXBTaXplc1tlXSwgciA9IHRoaXMuaW5kZXhPZkdyb3VwKGUpLCBvID0gciArIG4sIGkgPSByOyBpIDwgbzsgaSsrKSB7XG4gICAgICAgICAgICB0ICs9IHRoaXMudGFnLmdldFJ1bGUoaSkgKyBmO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9LCBlO1xuICAgICAgfSgpLFxuICAgICAgICAgIEYgPSBuZXcgTWFwKCksXG4gICAgICAgICAgRCA9IG5ldyBNYXAoKSxcbiAgICAgICAgICBNID0gMSxcbiAgICAgICAgICBOID0gXCJzdHlsZVtcIiArIGQgKyBcIl1bXCIgKyBsICsgJz1cIicgKyBwICsgJ1wiXScsXG4gICAgICAgICAgeiA9IG5ldyBSZWdFeHAoXCJeXCIgKyBkICsgJ1xcXFwuZyhcXFxcZCspXFxcXFtpZD1cIihbXFxcXHdcXFxcZC1dKylcIlxcXFxdLio/XCIoW15cIl0qKScpLFxuICAgICAgICAgICQgPSByLFxuICAgICAgICAgIFcgPSB7XG4gICAgICAgIGlzU2VydmVyOiAhcixcbiAgICAgICAgdXNlQ1NTT01JbmplY3Rpb246ICFuXG4gICAgICB9LFxuICAgICAgICAgIHEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIHQoZSwgdCwgbikge1xuICAgICAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IFcpLCB2b2lkIDAgPT09IHQgJiYgKHQgPSB7fSksIHRoaXMub3B0aW9ucyA9IFAoe30sIFcsIHt9LCBlKSwgdGhpcy5ncyA9IHQsIHRoaXMubmFtZXMgPSBuZXcgTWFwKG4pLCAhdGhpcy5vcHRpb25zLmlzU2VydmVyICYmIHIgJiYgJCAmJiAoJCA9ICExLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZm9yICh2YXIgdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoTiksIG4gPSAwLCByID0gdC5sZW5ndGg7IG4gPCByOyBuKyspIHtcbiAgICAgICAgICAgICAgdmFyIG8gPSB0W25dO1xuICAgICAgICAgICAgICBvICYmIFwiYWN0aXZlXCIgIT09IG8uZ2V0QXR0cmlidXRlKGQpICYmIChqKGUsIG8pLCBvLnBhcmVudE5vZGUgJiYgby5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHQucmVnaXN0ZXJJZCA9IGI7XG4gICAgICAgIHZhciBlID0gdC5wcm90b3R5cGU7XG4gICAgICAgIHJldHVybiBlLnJlY29uc3RydWN0V2l0aE9wdGlvbnMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJldHVybiBuZXcgdChQKHt9LCB0aGlzLm9wdGlvbnMsIHt9LCBlKSwgdGhpcy5ncywgdGhpcy5uYW1lcyk7XG4gICAgICAgIH0sIGUuYWxsb2NhdGVHU0luc3RhbmNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nc1tlXSA9ICh0aGlzLmdzW2VdIHx8IDApICsgMTtcbiAgICAgICAgfSwgZS5nZXRUYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudGFnIHx8ICh0aGlzLnRhZyA9ICh0ID0gdGhpcy5vcHRpb25zLCBuID0gdC5pc1NlcnZlciwgciA9IHQudXNlQ1NTT01JbmplY3Rpb24sIG8gPSB0LnRhcmdldCwgZSA9IG5ldyAobiA/IF8gOiByID8gUiA6IFQpKG8pLCBuZXcgTChlKSkpO1xuICAgICAgICAgIHZhciBlLCB0LCBuLCByLCBvO1xuICAgICAgICB9LCBlLmhhc05hbWVGb3JJZCA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmFtZXMuaGFzKGUpICYmIHRoaXMubmFtZXMuZ2V0KGUpLmhhcyh0KTtcbiAgICAgICAgfSwgZS5yZWdpc3Rlck5hbWUgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgIHZhciBuO1xuICAgICAgICAgIGIoZSksIHRoaXMubmFtZXMuaGFzKGUpID8gdGhpcy5uYW1lcy5nZXQoZSkuYWRkKHQpIDogKChuID0gbmV3IFNldCgpKS5hZGQodCksIHRoaXMubmFtZXMuc2V0KGUsIG4pKTtcbiAgICAgICAgfSwgZS5pbnNlcnRSdWxlcyA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgICAgICAgdGhpcy5yZWdpc3Rlck5hbWUoZSwgdCksIHRoaXMuZ2V0VGFnKCkuaW5zZXJ0UnVsZXMoYihlKSwgbik7XG4gICAgICAgIH0sIGUuY2xlYXJOYW1lcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdGhpcy5uYW1lcy5oYXMoZSkgJiYgdGhpcy5uYW1lcy5nZXQoZSkuY2xlYXIoKTtcbiAgICAgICAgfSwgZS5jbGVhclJ1bGVzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB0aGlzLmdldFRhZygpLmNsZWFyR3JvdXAoYihlKSksIHRoaXMuY2xlYXJOYW1lcyhlKTtcbiAgICAgICAgfSwgZS5jbGVhclRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLnRhZyA9IHZvaWQgMDtcbiAgICAgICAgfSwgZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gUyh0aGlzKTtcbiAgICAgICAgfSwgdDtcbiAgICAgIH0oKSxcbiAgICAgICAgICBCID0gNTM4MSxcbiAgICAgICAgICBIID0gZnVuY3Rpb24gSChlLCB0KSB7XG4gICAgICAgIGZvciAodmFyIG4gPSB0Lmxlbmd0aDsgbjspIHtcbiAgICAgICAgICBlID0gMzMgKiBlIF4gdC5jaGFyQ29kZUF0KC0tbik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBVID0gL15cXHMqXFwvXFwvLiokL2dtO1xuXG4gICAgICBmdW5jdGlvbiBHKGUpIHtcbiAgICAgICAgdmFyIGwsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgYSxcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICBjLFxuICAgICAgICAgICAgdCA9IHZvaWQgMCA9PT0gZSA/IEkgOiBlLFxuICAgICAgICAgICAgbiA9IHQub3B0aW9ucyxcbiAgICAgICAgICAgIHIgPSB2b2lkIDAgPT09IG4gPyBJIDogbixcbiAgICAgICAgICAgIG8gPSB0LnBsdWdpbnMsXG4gICAgICAgICAgICBpID0gdm9pZCAwID09PSBvID8gdyA6IG8sXG4gICAgICAgICAgICB1ID0gbmV3IHkuYShyKSxcbiAgICAgICAgICAgIHAgPSBbXSxcbiAgICAgICAgICAgIGYgPSAobCA9IGZ1bmN0aW9uIGwoZSkge1xuICAgICAgICAgIHAucHVzaChlKTtcbiAgICAgICAgfSwgZCA9IFwiLyp8Ki9cIiwgZnVuY3Rpb24gKGUsIHQsIG4sIHIsIG8sIGksIGEsIHMsIGMsIHUpIHtcbiAgICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgaWYgKDAgPT09IGMgJiYgNjQgPT09IHQuY2hhckNvZGVBdCgwKSkgcmV0dXJuIGwodCArIFwiO1wiKSwgXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgaWYgKDAgPT09IHMpIHJldHVybiB0ICsgZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgc3dpdGNoIChzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMDI6XG4gICAgICAgICAgICAgICAgY2FzZSAxMTI6XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbChuWzBdICsgdCksIFwiXCI7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHQgKyAoMCA9PT0gdSA/IGQgOiBcIlwiKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYXNlIC0yOlxuICAgICAgICAgICAgICB0LnNwbGl0KFwiLyp8Ki99XCIpLmZvckVhY2goaCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBoKGUpIHtcbiAgICAgICAgICBpZiAoZSkgdHJ5IHtcbiAgICAgICAgICAgIGwoZSArIFwifVwiKTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gbShlLCB0LCBuKSB7XG4gICAgICAgICAgcmV0dXJuIDAgPCB0ICYmIC0xICE9PSBuLnNsaWNlKDAsIHQpLmluZGV4T2YocykgJiYgbi5zbGljZSh0IC0gcy5sZW5ndGgsIHQpICE9PSBzID8gXCIuXCIgKyBhIDogZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGIoZSwgdCwgbiwgcikge1xuICAgICAgICAgIHZvaWQgMCA9PT0gciAmJiAociA9IFwiJlwiKTtcbiAgICAgICAgICB2YXIgbyA9IGUucmVwbGFjZShVLCBcIlwiKSxcbiAgICAgICAgICAgICAgaSA9IHQgJiYgbiA/IG4gKyBcIiBcIiArIHQgKyBcIiB7IFwiICsgbyArIFwiIH1cIiA6IG87XG4gICAgICAgICAgcmV0dXJuIGEgPSByLCBzID0gdCwgYyA9IG5ldyBSZWdFeHAoXCJcXFxcXCIgKyBzICsgXCJcXFxcYlwiLCBcImdcIiksIHUobiB8fCAhdCA/IFwiXCIgOiB0LCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1LnVzZShbXS5jb25jYXQoaSwgW2Z1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgICAgICAgMiA9PT0gZSAmJiBuLmxlbmd0aCAmJiAwIDwgblswXS5sYXN0SW5kZXhPZihzKSAmJiAoblswXSA9IG5bMF0ucmVwbGFjZShjLCBtKSk7XG4gICAgICAgIH0sIGYsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgaWYgKC0yID09PSBlKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHA7XG4gICAgICAgICAgICByZXR1cm4gcCA9IFtdLCB0O1xuICAgICAgICAgIH1cbiAgICAgICAgfV0pKSwgYi5oYXNoID0gaS5sZW5ndGggPyBpLnJlZHVjZShmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgIHJldHVybiB0Lm5hbWUgfHwgaygxNSksIEgoZSwgdC5uYW1lKTtcbiAgICAgICAgfSwgQikudG9TdHJpbmcoKSA6IFwiXCIsIGI7XG4gICAgICB9XG5cbiAgICAgIHZhciBZID0gZy5hLmNyZWF0ZUNvbnRleHQoKSxcbiAgICAgICAgICBWID0gKFkuQ29uc3VtZXIsIGcuYS5jcmVhdGVDb250ZXh0KCkpLFxuICAgICAgICAgIEsgPSAoVi5Db25zdW1lciwgbmV3IHEoKSksXG4gICAgICAgICAgWCA9IEcoKTtcblxuICAgICAgZnVuY3Rpb24gWigpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdChFLnVzZUNvbnRleHQpKFkpIHx8IEs7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIFEoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QoRS51c2VDb250ZXh0KShWKSB8fCBYO1xuICAgICAgfVxuXG4gICAgICB2YXIgSiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZShlLCB0KSB7XG4gICAgICAgICAgdmFyIG4gPSB0aGlzO1xuICAgICAgICAgIHRoaXMuaW5qZWN0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUuaGFzTmFtZUZvcklkKG4uaWQsIG4ubmFtZSkgfHwgZS5pbnNlcnRSdWxlcyhuLmlkLCBuLm5hbWUsIFguYXBwbHkodm9pZCAwLCBuLnN0cmluZ2lmeUFyZ3MpKTtcbiAgICAgICAgICB9LCB0aGlzLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGsoMTIsIFN0cmluZyhuLm5hbWUpKTtcbiAgICAgICAgICB9LCB0aGlzLm5hbWUgPSBlLCB0aGlzLmlkID0gXCJzYy1rZXlmcmFtZXMtXCIgKyBlLCB0aGlzLnN0cmluZ2lmeUFyZ3MgPSB0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGUucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICAgICAgfSwgZTtcbiAgICAgIH0oKSxcbiAgICAgICAgICBlZSA9IC8oW0EtWl0pL2csXG4gICAgICAgICAgdGUgPSAvXm1zLS87XG5cbiAgICAgIGZ1bmN0aW9uIG5lKGUpIHtcbiAgICAgICAgcmV0dXJuIGUucmVwbGFjZShlZSwgXCItJDFcIikudG9Mb3dlckNhc2UoKS5yZXBsYWNlKHRlLCBcIi1tcy1cIik7XG4gICAgICB9XG5cbiAgICAgIHZhciByZSA9IGZ1bmN0aW9uIHJlKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgPT0gZSB8fCAhMSA9PT0gZSB8fCBcIlwiID09PSBlO1xuICAgICAgfSxcbiAgICAgICAgICBvZSA9IGZ1bmN0aW9uIHIobywgZSkge1xuICAgICAgICB2YXIgaSA9IFtdO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGlmICghcmUob1tlXSkpIHtcbiAgICAgICAgICAgIGlmIChjKG9bZV0pKSByZXR1cm4gaS5wdXNoLmFwcGx5KGksIHIob1tlXSwgZSkpLCBpO1xuICAgICAgICAgICAgaWYgKHUob1tlXSkpIHJldHVybiBpLnB1c2gobmUoZSkgKyBcIjpcIiwgb1tlXSwgXCI7XCIpLCBpO1xuICAgICAgICAgICAgaS5wdXNoKG5lKGUpICsgXCI6IFwiICsgKG51bGwgPT0gKG4gPSBvW3QgPSBlXSkgfHwgXCJib29sZWFuXCIgPT0gdHlwZW9mIG4gfHwgXCJcIiA9PT0gbiA/IFwiXCIgOiBcIm51bWJlclwiICE9IHR5cGVvZiBuIHx8IDAgPT09IG4gfHwgdCBpbiBhLmEgPyBTdHJpbmcobikudHJpbSgpIDogbiArIFwicHhcIikgKyBcIjtcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHQsIG47XG4gICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH0pLCBlID8gW2UgKyBcIiB7XCJdLmNvbmNhdChpLCBbXCJ9XCJdKSA6IGk7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBpZShlLCB0LCBuKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgZm9yICh2YXIgciwgbyA9IFtdLCBpID0gMCwgYSA9IGUubGVuZ3RoOyBpIDwgYTsgaSArPSAxKSB7XG4gICAgICAgICAgICBcIlwiICE9PSAociA9IGllKGVbaV0sIHQsIG4pKSAmJiAoQXJyYXkuaXNBcnJheShyKSA/IG8ucHVzaC5hcHBseShvLCByKSA6IG8ucHVzaChyKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmUoZSkgPyBcIlwiIDogQyhlKSA/IFwiLlwiICsgZS5zdHlsZWRDb21wb25lbnRJZCA6IHUoZSkgPyBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIChzID0gZSkgfHwgcy5wcm90b3R5cGUgJiYgcy5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCB8fCAhdCA/IGUgOiBpZShlKHQpLCB0LCBuKSA6IGUgaW5zdGFuY2VvZiBKID8gbiA/IChlLmluamVjdChuKSwgZS5nZXROYW1lKCkpIDogZSA6IGMoZSkgPyBvZShlKSA6IGUudG9TdHJpbmcoKTtcbiAgICAgICAgdmFyIHM7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGFlKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IGFyZ3VtZW50cy5sZW5ndGgsIG4gPSBuZXcgQXJyYXkoMSA8IHQgPyB0IC0gMSA6IDApLCByID0gMTsgciA8IHQ7IHIrKykge1xuICAgICAgICAgIG5bciAtIDFdID0gYXJndW1lbnRzW3JdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHUoZSkgfHwgYyhlKSA/IGllKG8odywgW2VdLmNvbmNhdChuKSkpIDogMCA9PT0gbi5sZW5ndGggJiYgMSA9PT0gZS5sZW5ndGggJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZVswXSA/IGUgOiBpZShvKGUsIG4pKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHNlID0gZnVuY3Rpb24gc2UoZSkge1xuICAgICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlIHx8IFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSAmJiAhQXJyYXkuaXNBcnJheShlKTtcbiAgICAgIH0sXG4gICAgICAgICAgY2UgPSBmdW5jdGlvbiBjZShlKSB7XG4gICAgICAgIHJldHVybiBcIl9fcHJvdG9fX1wiICE9PSBlICYmIFwiY29uc3RydWN0b3JcIiAhPT0gZSAmJiBcInByb3RvdHlwZVwiICE9PSBlO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gdWUoZSkge1xuICAgICAgICBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgbiA9IG5ldyBBcnJheSgxIDwgdCA/IHQgLSAxIDogMCksIHIgPSAxOyByIDwgdDsgcisrKSB7XG4gICAgICAgICAgbltyIC0gMV0gPSBhcmd1bWVudHNbcl07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBvLCBpLCBhLCBzLCBjID0gMCwgdSA9IG47IGMgPCB1Lmxlbmd0aDsgYysrKSB7XG4gICAgICAgICAgdmFyIGwgPSB1W2NdO1xuICAgICAgICAgIGlmIChzZShsKSkgZm9yICh2YXIgZCBpbiBsKSB7XG4gICAgICAgICAgICBjZShkKSAmJiAobyA9IGUsIGkgPSBsW2RdLCBzID0gb1thID0gZF0sIHNlKGkpICYmIHNlKHMpID8gdWUocywgaSkgOiBvW2FdID0gaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGxlKGUpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZSArICgyNSA8IGUgPyAzOSA6IDk3KSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBkZSA9IC8oYSkoZCkvZ2k7XG5cbiAgICAgIGZ1bmN0aW9uIHBlKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IFwiXCIsIG4gPSBNYXRoLmFicyhlKTsgNTIgPCBuOyBuID0gbiAvIDUyIHwgMCkge1xuICAgICAgICAgIHQgPSBsZShuICUgNTIpICsgdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobGUobiAlIDUyKSArIHQpLnJlcGxhY2UoZGUsIFwiJDEtJDJcIik7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZlKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCArPSAxKSB7XG4gICAgICAgICAgdmFyIG4gPSBlW3RdO1xuICAgICAgICAgIGlmICh1KG4pICYmICFDKG4pKSByZXR1cm4gITE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG5cbiAgICAgIHZhciBoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gZShlLCB0KSB7XG4gICAgICAgICAgdGhpcy5ydWxlcyA9IGUsIHRoaXMuc3RhdGljUnVsZXNJZCA9IFwiXCIsIHRoaXMuaXNTdGF0aWMgPSBmZShlKSwgdGhpcy5jb21wb25lbnRJZCA9IHQsIHRoaXMuYmFzZUhhc2ggPSB4KHQpLCBxLnJlZ2lzdGVySWQodCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZS5wcm90b3R5cGUuZ2VuZXJhdGVBbmRJbmplY3RTdHlsZXMgPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgICAgICAgIHZhciByID0gdGhpcy5jb21wb25lbnRJZDtcblxuICAgICAgICAgIGlmICh0aGlzLmlzU3RhdGljICYmICFuLmhhc2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpY1J1bGVzSWQgJiYgdC5oYXNOYW1lRm9ySWQociwgdGhpcy5zdGF0aWNSdWxlc0lkKSkgcmV0dXJuIHRoaXMuc3RhdGljUnVsZXNJZDtcbiAgICAgICAgICAgIHZhciBvLFxuICAgICAgICAgICAgICAgIGkgPSBpZSh0aGlzLnJ1bGVzLCBlLCB0KS5qb2luKFwiXCIpLFxuICAgICAgICAgICAgICAgIGEgPSBwZShIKHRoaXMuYmFzZUhhc2gsIGkubGVuZ3RoKSA+Pj4gMCk7XG4gICAgICAgICAgICByZXR1cm4gdC5oYXNOYW1lRm9ySWQociwgYSkgfHwgKG8gPSBuKGksIFwiLlwiICsgYSwgdm9pZCAwLCByKSwgdC5pbnNlcnRSdWxlcyhyLCBhLCBvKSksIHRoaXMuc3RhdGljUnVsZXNJZCA9IGE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yICh2YXIgcyA9IHRoaXMucnVsZXMubGVuZ3RoLCBjID0gSCh0aGlzLmJhc2VIYXNoLCBuLmhhc2gpLCB1ID0gXCJcIiwgbCA9IDA7IGwgPCBzOyBsKyspIHtcbiAgICAgICAgICAgIHZhciBkLFxuICAgICAgICAgICAgICAgIHAsXG4gICAgICAgICAgICAgICAgZiA9IHRoaXMucnVsZXNbbF07XG4gICAgICAgICAgICBcInN0cmluZ1wiID09IHR5cGVvZiBmID8gdSArPSBmIDogKGQgPSBpZShmLCBlLCB0KSwgcCA9IEFycmF5LmlzQXJyYXkoZCkgPyBkLmpvaW4oXCJcIikgOiBkLCBjID0gSChjLCBwICsgbCksIHUgKz0gcCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGgsXG4gICAgICAgICAgICAgIG0gPSBwZShjID4+PiAwKTtcbiAgICAgICAgICByZXR1cm4gdC5oYXNOYW1lRm9ySWQociwgbSkgfHwgKGggPSBuKHUsIFwiLlwiICsgbSwgdm9pZCAwLCByKSwgdC5pbnNlcnRSdWxlcyhyLCBtLCBoKSksIG07XG4gICAgICAgIH0sIGU7XG4gICAgICB9KCksXG4gICAgICAgICAgbWUgPSAobmV3IFNldCgpLCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBuICYmIChuID0gSSksIGUudGhlbWUgIT09IG4udGhlbWUgJiYgZS50aGVtZSB8fCB0IHx8IG4udGhlbWU7XG4gICAgICB9KSxcbiAgICAgICAgICBiZSA9IC9bIVwiIyQlJicoKSorLC4vOjs8PT4/QFtcXFxcXFxdXmB7fH1+LV0rL2csXG4gICAgICAgICAgeWUgPSAvKF4tfC0kKS9nO1xuXG4gICAgICBmdW5jdGlvbiBnZShlKSB7XG4gICAgICAgIHJldHVybiBlLnJlcGxhY2UoYmUsIFwiLVwiKS5yZXBsYWNlKHllLCBcIlwiKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdmUoZSkge1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSAmJiAhMDtcbiAgICAgIH1cblxuICAgICAgdmFyIHdlID0gZnVuY3Rpb24gd2UoZSkge1xuICAgICAgICByZXR1cm4gcGUoeChlKSA+Pj4gMCk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgT2UgPSBnLmEuY3JlYXRlQ29udGV4dCgpO1xuICAgICAgT2UuQ29uc3VtZXI7XG4gICAgICB2YXIgQ2UgPSB7fTtcblxuICAgICAgZnVuY3Rpb24ga2UoZSwgdCwgbikge1xuICAgICAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSBJKTtcbiAgICAgICAgdmFyIGkgPSBQKHt9LCB0LCB7XG4gICAgICAgICAgdGhlbWU6IGVcbiAgICAgICAgfSksXG4gICAgICAgICAgICBhID0ge307XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgdCxcbiAgICAgICAgICAgICAgbixcbiAgICAgICAgICAgICAgcixcbiAgICAgICAgICAgICAgbyA9IGU7XG5cbiAgICAgICAgICBmb3IgKHQgaW4gdShvKSAmJiAobyA9IG8oaSkpLCBvKSB7XG4gICAgICAgICAgICBpW3RdID0gYVt0XSA9IFwiY2xhc3NOYW1lXCIgPT09IHQgPyAobiA9IGFbdF0sIHIgPSBvW3RdLCBuICYmIHIgPyBuICsgXCIgXCIgKyByIDogbiB8fCByKSA6IG9bdF07XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgW2ksIGFdO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBTZShlLCB0LCBuKSB7XG4gICAgICAgIHZhciByID0gZS5hdHRycyxcbiAgICAgICAgICAgIG8gPSBlLmNvbXBvbmVudFN0eWxlLFxuICAgICAgICAgICAgaSA9IGUuZGVmYXVsdFByb3BzLFxuICAgICAgICAgICAgYSA9IGUuZm9sZGVkQ29tcG9uZW50SWRzLFxuICAgICAgICAgICAgcyA9IGUuc2hvdWxkRm9yd2FyZFByb3AsXG4gICAgICAgICAgICBjID0gZS5zdHlsZWRDb21wb25lbnRJZCxcbiAgICAgICAgICAgIHUgPSBlLnRhcmdldDtcbiAgICAgICAgT2JqZWN0KEUudXNlRGVidWdWYWx1ZSkoYyk7XG4gICAgICAgIHZhciBsLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIHAsXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgaCxcbiAgICAgICAgICAgIG0sXG4gICAgICAgICAgICBiID0ga2UobWUodCwgT2JqZWN0KEUudXNlQ29udGV4dCkoT2UpLCBpKSB8fCBJLCB0LCByKSxcbiAgICAgICAgICAgIHkgPSBiWzBdLFxuICAgICAgICAgICAgZyA9IGJbMV0sXG4gICAgICAgICAgICB2ID0gKGwgPSBvLCBkID0gMCA8IHIubGVuZ3RoLCBwID0geSwgZiA9IFooKSwgaCA9IFEoKSwgbSA9IGwuaXNTdGF0aWMgJiYgIWQgPyBsLmdlbmVyYXRlQW5kSW5qZWN0U3R5bGVzKEksIGYsIGgpIDogbC5nZW5lcmF0ZUFuZEluamVjdFN0eWxlcyhwLCBmLCBoKSwgT2JqZWN0KEUudXNlRGVidWdWYWx1ZSkobSksIG0pLFxuICAgICAgICAgICAgdyA9IG4sXG4gICAgICAgICAgICBPID0gZy4kYXMgfHwgdC4kYXMgfHwgZy5hcyB8fCB0LmFzIHx8IHUsXG4gICAgICAgICAgICBDID0gdmUoTyksXG4gICAgICAgICAgICBrID0gZyAhPT0gdCA/IFAoe30sIHQsIHt9LCBnKSA6IHQsXG4gICAgICAgICAgICBTID0gcyB8fCBDICYmIEEuYSxcbiAgICAgICAgICAgIGogPSB7fTtcblxuICAgICAgICBmb3IgKHZhciB4IGluIGspIHtcbiAgICAgICAgICBcIiRcIiAhPT0geFswXSAmJiBcImFzXCIgIT09IHggJiYgKFwiZm9yd2FyZGVkQXNcIiA9PT0geCA/IGouYXMgPSBrW3hdIDogUyAmJiAhUyh4LCBBLmEpIHx8IChqW3hdID0ga1t4XSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHQuc3R5bGUgJiYgZy5zdHlsZSAhPT0gdC5zdHlsZSAmJiAoai5zdHlsZSA9IFAoe30sIHQuc3R5bGUsIHt9LCBnLnN0eWxlKSksIGouY2xhc3NOYW1lID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdChhLCBjLCB2ICE9PSBjID8gdiA6IG51bGwsIHQuY2xhc3NOYW1lLCBnLmNsYXNzTmFtZSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpLCBqLnJlZiA9IHcsIE9iamVjdChFLmNyZWF0ZUVsZW1lbnQpKE8sIGopO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBqZShuLCBvLCBpKSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAgdCA9IEMobiksXG4gICAgICAgICAgICByID0gIXZlKG4pLFxuICAgICAgICAgICAgYSA9IG8uZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBzID0gdm9pZCAwID09PSBhID8gdmUoZSA9IG4pID8gXCJzdHlsZWQuXCIgKyBlIDogXCJTdHlsZWQoXCIgKyBPKGUpICsgXCIpXCIgOiBhLFxuICAgICAgICAgICAgYyA9IG8uY29tcG9uZW50SWQsXG4gICAgICAgICAgICB1ID0gdm9pZCAwID09PSBjID8gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgICB2YXIgbiA9IFwic3RyaW5nXCIgIT0gdHlwZW9mIGUgPyBcInNjXCIgOiBnZShlKTtcbiAgICAgICAgICBDZVtuXSA9IChDZVtuXSB8fCAwKSArIDE7XG4gICAgICAgICAgdmFyIHIgPSBuICsgXCItXCIgKyB3ZShuICsgQ2Vbbl0pO1xuICAgICAgICAgIHJldHVybiB0ID8gdCArIFwiLVwiICsgciA6IHI7XG4gICAgICAgIH0oby5kaXNwbGF5TmFtZSwgby5wYXJlbnRDb21wb25lbnRJZCkgOiBjLFxuICAgICAgICAgICAgbCA9IG8uYXR0cnMsXG4gICAgICAgICAgICBkID0gdm9pZCAwID09PSBsID8gdyA6IGwsXG4gICAgICAgICAgICBwID0gby5kaXNwbGF5TmFtZSAmJiBvLmNvbXBvbmVudElkID8gZ2Uoby5kaXNwbGF5TmFtZSkgKyBcIi1cIiArIG8uY29tcG9uZW50SWQgOiBvLmNvbXBvbmVudElkIHx8IHUsXG4gICAgICAgICAgICBmID0gdCAmJiBuLmF0dHJzID8gQXJyYXkucHJvdG90eXBlLmNvbmNhdChuLmF0dHJzLCBkKS5maWx0ZXIoQm9vbGVhbikgOiBkLFxuICAgICAgICAgICAgaCA9IG8uc2hvdWxkRm9yd2FyZFByb3A7XG4gICAgICAgIHQgJiYgbi5zaG91bGRGb3J3YXJkUHJvcCAmJiAoaCA9IGggPyBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgIHJldHVybiBuLnNob3VsZEZvcndhcmRQcm9wKGUsIHQpICYmIG8uc2hvdWxkRm9yd2FyZFByb3AoZSwgdCk7XG4gICAgICAgIH0gOiBuLnNob3VsZEZvcndhcmRQcm9wKTtcblxuICAgICAgICBmdW5jdGlvbiBtKGUsIHQpIHtcbiAgICAgICAgICByZXR1cm4gU2UoYiwgZSwgdCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYixcbiAgICAgICAgICAgIHkgPSBuZXcgaGUodCA/IG4uY29tcG9uZW50U3R5bGUucnVsZXMuY29uY2F0KGkpIDogaSwgcCk7XG4gICAgICAgIHJldHVybiBtLmRpc3BsYXlOYW1lID0gcywgKGIgPSBnLmEuZm9yd2FyZFJlZihtKSkuYXR0cnMgPSBmLCBiLmNvbXBvbmVudFN0eWxlID0geSwgYi5kaXNwbGF5TmFtZSA9IHMsIGIuc2hvdWxkRm9yd2FyZFByb3AgPSBoLCBiLmZvbGRlZENvbXBvbmVudElkcyA9IHQgPyBBcnJheS5wcm90b3R5cGUuY29uY2F0KG4uZm9sZGVkQ29tcG9uZW50SWRzLCBuLnN0eWxlZENvbXBvbmVudElkKSA6IHcsIGIuc3R5bGVkQ29tcG9uZW50SWQgPSBwLCBiLnRhcmdldCA9IHQgPyBuLnRhcmdldCA6IG4sIGIud2l0aENvbXBvbmVudCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIHQgPSBvLmNvbXBvbmVudElkLFxuICAgICAgICAgICAgICBuID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgICAgIGlmIChudWxsID09IGUpIHJldHVybiB7fTtcblxuICAgICAgICAgICAgZm9yICh2YXIgbiwgciA9IHt9LCBvID0gT2JqZWN0LmtleXMoZSksIGkgPSAwOyBpIDwgby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBuID0gb1tpXSwgMCA8PSB0LmluZGV4T2YobikgfHwgKHJbbl0gPSBlW25dKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgfShvLCBbXCJjb21wb25lbnRJZFwiXSksXG4gICAgICAgICAgICAgIHIgPSB0ICYmIHQgKyBcIi1cIiArICh2ZShlKSA/IGUgOiBnZShPKGUpKSk7XG5cbiAgICAgICAgICByZXR1cm4gamUoZSwgUCh7fSwgbiwge1xuICAgICAgICAgICAgYXR0cnM6IGYsXG4gICAgICAgICAgICBjb21wb25lbnRJZDogclxuICAgICAgICAgIH0pLCBpKTtcbiAgICAgICAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGIsIFwiZGVmYXVsdFByb3BzXCIsIHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlKSB7XG4gICAgICAgICAgICB0aGlzLl9mb2xkZWREZWZhdWx0UHJvcHMgPSB0ID8gdWUoe30sIG4uZGVmYXVsdFByb3BzLCBlKSA6IGU7XG4gICAgICAgICAgfVxuICAgICAgICB9KSwgYi50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gXCIuXCIgKyBiLnN0eWxlZENvbXBvbmVudElkO1xuICAgICAgICB9LCByICYmIHYoKShiLCBuLCB7XG4gICAgICAgICAgYXR0cnM6ICEwLFxuICAgICAgICAgIGNvbXBvbmVudFN0eWxlOiAhMCxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogITAsXG4gICAgICAgICAgZm9sZGVkQ29tcG9uZW50SWRzOiAhMCxcbiAgICAgICAgICBzaG91bGRGb3J3YXJkUHJvcDogITAsXG4gICAgICAgICAgc2VsZjogITAsXG4gICAgICAgICAgc3R5bGVkQ29tcG9uZW50SWQ6ICEwLFxuICAgICAgICAgIHRhcmdldDogITAsXG4gICAgICAgICAgd2l0aENvbXBvbmVudDogITBcbiAgICAgICAgfSksIGI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHhlKGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHQobiwgciwgbykge1xuICAgICAgICAgIGlmICh2b2lkIDAgPT09IG8gJiYgKG8gPSBJKSwgIU9iamVjdChpLmlzVmFsaWRFbGVtZW50VHlwZSkocikpIHJldHVybiBrKDEsIFN0cmluZyhyKSk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG4ociwgbywgYWUuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZS53aXRoQ29uZmlnID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0KG4sIHIsIFAoe30sIG8sIHt9LCBlKSk7XG4gICAgICAgICAgfSwgZS5hdHRycyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gdChuLCByLCBQKHt9LCBvLCB7XG4gICAgICAgICAgICAgIGF0dHJzOiBBcnJheS5wcm90b3R5cGUuY29uY2F0KG8uYXR0cnMsIGUpLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH0sIGU7XG4gICAgICAgIH0oamUsIGUpO1xuICAgICAgfVxuXG4gICAgICBbXCJhXCIsIFwiYWJiclwiLCBcImFkZHJlc3NcIiwgXCJhcmVhXCIsIFwiYXJ0aWNsZVwiLCBcImFzaWRlXCIsIFwiYXVkaW9cIiwgXCJiXCIsIFwiYmFzZVwiLCBcImJkaVwiLCBcImJkb1wiLCBcImJpZ1wiLCBcImJsb2NrcXVvdGVcIiwgXCJib2R5XCIsIFwiYnJcIiwgXCJidXR0b25cIiwgXCJjYW52YXNcIiwgXCJjYXB0aW9uXCIsIFwiY2l0ZVwiLCBcImNvZGVcIiwgXCJjb2xcIiwgXCJjb2xncm91cFwiLCBcImRhdGFcIiwgXCJkYXRhbGlzdFwiLCBcImRkXCIsIFwiZGVsXCIsIFwiZGV0YWlsc1wiLCBcImRmblwiLCBcImRpYWxvZ1wiLCBcImRpdlwiLCBcImRsXCIsIFwiZHRcIiwgXCJlbVwiLCBcImVtYmVkXCIsIFwiZmllbGRzZXRcIiwgXCJmaWdjYXB0aW9uXCIsIFwiZmlndXJlXCIsIFwiZm9vdGVyXCIsIFwiZm9ybVwiLCBcImgxXCIsIFwiaDJcIiwgXCJoM1wiLCBcImg0XCIsIFwiaDVcIiwgXCJoNlwiLCBcImhlYWRcIiwgXCJoZWFkZXJcIiwgXCJoZ3JvdXBcIiwgXCJoclwiLCBcImh0bWxcIiwgXCJpXCIsIFwiaWZyYW1lXCIsIFwiaW1nXCIsIFwiaW5wdXRcIiwgXCJpbnNcIiwgXCJrYmRcIiwgXCJrZXlnZW5cIiwgXCJsYWJlbFwiLCBcImxlZ2VuZFwiLCBcImxpXCIsIFwibGlua1wiLCBcIm1haW5cIiwgXCJtYXBcIiwgXCJtYXJrXCIsIFwibWFycXVlZVwiLCBcIm1lbnVcIiwgXCJtZW51aXRlbVwiLCBcIm1ldGFcIiwgXCJtZXRlclwiLCBcIm5hdlwiLCBcIm5vc2NyaXB0XCIsIFwib2JqZWN0XCIsIFwib2xcIiwgXCJvcHRncm91cFwiLCBcIm9wdGlvblwiLCBcIm91dHB1dFwiLCBcInBcIiwgXCJwYXJhbVwiLCBcInBpY3R1cmVcIiwgXCJwcmVcIiwgXCJwcm9ncmVzc1wiLCBcInFcIiwgXCJycFwiLCBcInJ0XCIsIFwicnVieVwiLCBcInNcIiwgXCJzYW1wXCIsIFwic2NyaXB0XCIsIFwic2VjdGlvblwiLCBcInNlbGVjdFwiLCBcInNtYWxsXCIsIFwic291cmNlXCIsIFwic3BhblwiLCBcInN0cm9uZ1wiLCBcInN0eWxlXCIsIFwic3ViXCIsIFwic3VtbWFyeVwiLCBcInN1cFwiLCBcInRhYmxlXCIsIFwidGJvZHlcIiwgXCJ0ZFwiLCBcInRleHRhcmVhXCIsIFwidGZvb3RcIiwgXCJ0aFwiLCBcInRoZWFkXCIsIFwidGltZVwiLCBcInRpdGxlXCIsIFwidHJcIiwgXCJ0cmFja1wiLCBcInVcIiwgXCJ1bFwiLCBcInZhclwiLCBcInZpZGVvXCIsIFwid2JyXCIsIFwiY2lyY2xlXCIsIFwiY2xpcFBhdGhcIiwgXCJkZWZzXCIsIFwiZWxsaXBzZVwiLCBcImZvcmVpZ25PYmplY3RcIiwgXCJnXCIsIFwiaW1hZ2VcIiwgXCJsaW5lXCIsIFwibGluZWFyR3JhZGllbnRcIiwgXCJtYXJrZXJcIiwgXCJtYXNrXCIsIFwicGF0aFwiLCBcInBhdHRlcm5cIiwgXCJwb2x5Z29uXCIsIFwicG9seWxpbmVcIiwgXCJyYWRpYWxHcmFkaWVudFwiLCBcInJlY3RcIiwgXCJzdG9wXCIsIFwic3ZnXCIsIFwidGV4dFwiLCBcInRzcGFuXCJdLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgeGVbZV0gPSB4ZShlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgRWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGUoZSwgdCkge1xuICAgICAgICAgIHRoaXMucnVsZXMgPSBlLCB0aGlzLmNvbXBvbmVudElkID0gdCwgdGhpcy5pc1N0YXRpYyA9IGZlKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHQgPSBlLnByb3RvdHlwZTtcbiAgICAgICAgcmV0dXJuIHQuY3JlYXRlU3R5bGVzID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgICB2YXIgbyA9IHIoaWUodGhpcy5ydWxlcywgdCwgbikuam9pbihcIlwiKSwgXCJcIiksXG4gICAgICAgICAgICAgIGkgPSB0aGlzLmNvbXBvbmVudElkICsgZTtcbiAgICAgICAgICBuLmluc2VydFJ1bGVzKGksIGksIG8pO1xuICAgICAgICB9LCB0LnJlbW92ZVN0eWxlcyA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgdC5jbGVhclJ1bGVzKHRoaXMuY29tcG9uZW50SWQgKyBlKTtcbiAgICAgICAgfSwgdC5yZW5kZXJTdHlsZXMgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikge1xuICAgICAgICAgIHEucmVnaXN0ZXJJZCh0aGlzLmNvbXBvbmVudElkICsgZSksIHRoaXMucmVtb3ZlU3R5bGVzKGUsIG4pLCB0aGlzLmNyZWF0ZVN0eWxlcyhlLCB0LCBuLCByKTtcbiAgICAgICAgfSwgZTtcbiAgICAgIH0oKTtcblxuICAgICAgZnVuY3Rpb24gQWUoZSkge1xuICAgICAgICBmb3IgKHZhciB0ID0gYXJndW1lbnRzLmxlbmd0aCwgbiA9IG5ldyBBcnJheSgxIDwgdCA/IHQgLSAxIDogMCksIHIgPSAxOyByIDwgdDsgcisrKSB7XG4gICAgICAgICAgbltyIC0gMV0gPSBhcmd1bWVudHNbcl07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbyA9IGFlLmFwcGx5KHZvaWQgMCwgW2VdLmNvbmNhdChuKSksXG4gICAgICAgICAgICBjID0gXCJzYy1nbG9iYWwtXCIgKyB3ZShKU09OLnN0cmluZ2lmeShvKSksXG4gICAgICAgICAgICB1ID0gbmV3IEVlKG8sIGMpO1xuICAgICAgICByZXR1cm4gZy5hLm1lbW8oZnVuY3Rpb24gZSh0KSB7XG4gICAgICAgICAgdmFyIG4gPSBaKCksXG4gICAgICAgICAgICAgIHIgPSBRKCksXG4gICAgICAgICAgICAgIG8gPSBPYmplY3QoRS51c2VDb250ZXh0KShPZSksXG4gICAgICAgICAgICAgIGkgPSBPYmplY3QoRS51c2VSZWYpKG51bGwpO1xuICAgICAgICAgIG51bGwgPT09IGkuY3VycmVudCAmJiAoaS5jdXJyZW50ID0gbi5hbGxvY2F0ZUdTSW5zdGFuY2UoYykpO1xuICAgICAgICAgIHZhciBhLFxuICAgICAgICAgICAgICBzID0gaS5jdXJyZW50O1xuICAgICAgICAgIHJldHVybiB1LmlzU3RhdGljID8gdS5yZW5kZXJTdHlsZXMocywgaCwgbiwgcikgOiAoYSA9IFAoe30sIHQsIHtcbiAgICAgICAgICAgIHRoZW1lOiBtZSh0LCBvLCBlLmRlZmF1bHRQcm9wcylcbiAgICAgICAgICB9KSwgdS5yZW5kZXJTdHlsZXMocywgYSwgbiwgcikpLCBPYmplY3QoRS51c2VFZmZlY3QpKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1LnJlbW92ZVN0eWxlcyhzLCBuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSwgdyksIG51bGw7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBQZShlKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSBhcmd1bWVudHMubGVuZ3RoLCBuID0gbmV3IEFycmF5KDEgPCB0ID8gdCAtIDEgOiAwKSwgciA9IDE7IHIgPCB0OyByKyspIHtcbiAgICAgICAgICBuW3IgLSAxXSA9IGFyZ3VtZW50c1tyXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvID0gYWUuYXBwbHkodm9pZCAwLCBbZV0uY29uY2F0KG4pKS5qb2luKFwiXCIpLFxuICAgICAgICAgICAgaSA9IHdlKG8pO1xuICAgICAgICByZXR1cm4gbmV3IEooaSwgW28sIGksIFwiQGtleWZyYW1lc1wiXSk7XG4gICAgICB9XG5cbiAgICAgIEllLmMgPSB4ZTtcbiAgICB9KS5jYWxsKHRoaXMsIFJlKDI1KSk7XG4gIH0sIGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBuLmQodCwgXCJhXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxO1xuICAgIH0pLCBuLmQodCwgXCJlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCO1xuICAgIH0pLCBuLmQodCwgXCJiXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBIO1xuICAgIH0pLCBuLmQodCwgXCJjXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBVO1xuICAgIH0pLCBuLmQodCwgXCJkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBHO1xuICAgIH0pLCBuLmQodCwgXCJnXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBZO1xuICAgIH0pLCBuLmQodCwgXCJmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBWO1xuICAgIH0pO1xuXG4gICAgdmFyIGkgPSBuKDApLFxuICAgICAgICBiID0gbi5uKGkpLFxuICAgICAgICBhID0gbig1KSxcbiAgICAgICAgciA9IG4oMiksXG4gICAgICAgIG8gPSBuLm4ociksXG4gICAgICAgIHMgPSBuKDE3KSxcbiAgICAgICAgeSA9IG4ubihzKSxcbiAgICAgICAgYyA9IG4oMyksXG4gICAgICAgIGcgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEVRQVJBSUFBQU9EbjdQLy8veUg1QkFFSEFBRUFMQUFBQUFBUkFCRUFBQUlxQklLcGFiM3YzRU15VkhXdFdabHVmMHphMFhGTktESmZDcTVpNUpwb21kVXhxS0xRVm1JbnF5b0FBRHM9XCIsXG4gICAgICAgIHYgPSBuKDEpLFxuICAgICAgICB3ID0gbig2KSxcbiAgICAgICAgX3UgPSBmdW5jdGlvbiB1KCkge1xuICAgICAgcmV0dXJuIChfdSA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCwgbiA9IDEsIHIgPSBhcmd1bWVudHMubGVuZ3RoOyBuIDwgcjsgbisrKSB7XG4gICAgICAgICAgZm9yICh2YXIgbyBpbiB0ID0gYXJndW1lbnRzW25dKSB7XG4gICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgbykgJiYgKGVbb10gPSB0W29dKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0pLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfSxcbiAgICAgICAgbCA9IHtcbiAgICAgIGxpbmVzOiAxMixcbiAgICAgIGxlbmd0aDogNyxcbiAgICAgIHdpZHRoOiA1LFxuICAgICAgcmFkaXVzOiAxMCxcbiAgICAgIHNjYWxlOiAxLFxuICAgICAgY29ybmVyczogMSxcbiAgICAgIGNvbG9yOiBcIiMwMDBcIixcbiAgICAgIGZhZGVDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgYW5pbWF0aW9uOiBcInNwaW5uZXItbGluZS1mYWRlLWRlZmF1bHRcIixcbiAgICAgIHJvdGF0ZTogMCxcbiAgICAgIGRpcmVjdGlvbjogMSxcbiAgICAgIHNwZWVkOiAxLFxuICAgICAgekluZGV4OiAyZTksXG4gICAgICBjbGFzc05hbWU6IFwic3Bpbm5lclwiLFxuICAgICAgdG9wOiBcIjUwJVwiLFxuICAgICAgbGVmdDogXCI1MCVcIixcbiAgICAgIHNoYWRvdzogXCIwIDAgMXB4IHRyYW5zcGFyZW50XCIsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG4gICAgfSxcbiAgICAgICAgZCA9IChwLnByb3RvdHlwZS5zcGluID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3AoKSwgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHRoaXMuZWwuY2xhc3NOYW1lID0gdGhpcy5vcHRzLmNsYXNzTmFtZSwgdGhpcy5lbC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicHJvZ3Jlc3NiYXJcIiksIGYodGhpcy5lbCwge1xuICAgICAgICBwb3NpdGlvbjogdGhpcy5vcHRzLnBvc2l0aW9uLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgekluZGV4OiB0aGlzLm9wdHMuekluZGV4LFxuICAgICAgICBsZWZ0OiB0aGlzLm9wdHMubGVmdCxcbiAgICAgICAgdG9wOiB0aGlzLm9wdHMudG9wLFxuICAgICAgICB0cmFuc2Zvcm06IFwic2NhbGUoXCIgKyB0aGlzLm9wdHMuc2NhbGUgKyBcIilcIlxuICAgICAgfSksIGUgJiYgZS5pbnNlcnRCZWZvcmUodGhpcy5lbCwgZS5maXJzdENoaWxkIHx8IG51bGwpLCBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICB2YXIgbiA9IE1hdGgucm91bmQodC5jb3JuZXJzICogdC53aWR0aCAqIDUwMCkgLyAxZTMgKyBcInB4XCIsXG4gICAgICAgICAgICByID0gXCJub25lXCI7XG4gICAgICAgICEwID09PSB0LnNoYWRvdyA/IHIgPSBcIjAgMnB4IDRweCAjMDAwXCIgOiBcInN0cmluZ1wiID09IHR5cGVvZiB0LnNoYWRvdyAmJiAociA9IHQuc2hhZG93KTtcblxuICAgICAgICBmb3IgKHZhciBvID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBmb3IgKHZhciB0ID0gL15cXHMqKFthLXpBLVpdK1xccyspPygtP1xcZCsoXFwuXFxkKyk/KShbYS16QS1aXSopXFxzKygtP1xcZCsoXFwuXFxkKyk/KShbYS16QS1aXSopKC4qKSQvLCBuID0gW10sIHIgPSAwLCBvID0gZS5zcGxpdChcIixcIik7IHIgPCBvLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgICAgICBhLFxuICAgICAgICAgICAgICAgIHMsXG4gICAgICAgICAgICAgICAgYyxcbiAgICAgICAgICAgICAgICB1ID0gb1tyXS5tYXRjaCh0KTtcbiAgICAgICAgICAgIG51bGwgIT09IHUgJiYgKGkgPSArdVsyXSwgYSA9ICt1WzVdLCBzID0gdVs0XSwgYyA9IHVbN10sIDAgIT0gaSB8fCBzIHx8IChzID0gYyksIDAgIT0gYSB8fCBjIHx8IChjID0gcyksIHMgPT09IGMgJiYgbi5wdXNoKHtcbiAgICAgICAgICAgICAgcHJlZml4OiB1WzFdIHx8IFwiXCIsXG4gICAgICAgICAgICAgIHg6IGksXG4gICAgICAgICAgICAgIHk6IGEsXG4gICAgICAgICAgICAgIHhVbml0czogcyxcbiAgICAgICAgICAgICAgeVVuaXRzOiBjLFxuICAgICAgICAgICAgICBlbmQ6IHVbOF1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfShyKSwgaSA9IDA7IGkgPCB0LmxpbmVzOyBpKyspIHtcbiAgICAgICAgICB2YXIgYSA9IH5+KDM2MCAvIHQubGluZXMgKiBpICsgdC5yb3RhdGUpLFxuICAgICAgICAgICAgICBzID0gZihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCB7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgdG9wOiAtdC53aWR0aCAvIDIgKyBcInB4XCIsXG4gICAgICAgICAgICB3aWR0aDogdC5sZW5ndGggKyB0LndpZHRoICsgXCJweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiB0LndpZHRoICsgXCJweFwiLFxuICAgICAgICAgICAgYmFja2dyb3VuZDogaCh0LmZhZGVDb2xvciwgaSksXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IG4sXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IFwibGVmdFwiLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcInJvdGF0ZShcIiArIGEgKyBcImRlZykgdHJhbnNsYXRlWChcIiArIHQucmFkaXVzICsgXCJweClcIlxuICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBjID0gaSAqIHQuZGlyZWN0aW9uIC8gdC5saW5lcyAvIHQuc3BlZWQ7XG4gICAgICAgICAgYyAtPSAxIC8gdC5zcGVlZDtcbiAgICAgICAgICB2YXIgdSA9IGYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwge1xuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGgodC5jb2xvciwgaSksXG4gICAgICAgICAgICBib3JkZXJSYWRpdXM6IG4sXG4gICAgICAgICAgICBib3hTaGFkb3c6IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIG4gPSBbXSwgciA9IDAsIG8gPSBlOyByIDwgby5sZW5ndGg7IHIrKykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gb1tyXSxcbiAgICAgICAgICAgICAgICAgICAgYSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgciA9IG4gKiBNYXRoLlBJIC8gMTgwLFxuICAgICAgICAgICAgICAgICAgICAgIG8gPSBNYXRoLnNpbihyKSxcbiAgICAgICAgICAgICAgICAgICAgICBpID0gTWF0aC5jb3Mocik7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gW01hdGgucm91bmQoMWUzICogKGUgKiBpICsgdCAqIG8pKSAvIDFlMywgTWF0aC5yb3VuZCgxZTMgKiAoLWUgKiBvICsgdCAqIGkpKSAvIDFlM107XG4gICAgICAgICAgICAgICAgfShpLngsIGkueSwgdCk7XG5cbiAgICAgICAgICAgICAgICBuLnB1c2goaS5wcmVmaXggKyBhWzBdICsgaS54VW5pdHMgKyBcIiBcIiArIGFbMV0gKyBpLnlVbml0cyArIGkuZW5kKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBuLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgICAgIH0obywgYSksXG4gICAgICAgICAgICBhbmltYXRpb246IDEgLyB0LnNwZWVkICsgXCJzIGxpbmVhciBcIiArIGMgKyBcInMgaW5maW5pdGUgXCIgKyB0LmFuaW1hdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHMuYXBwZW5kQ2hpbGQodSksIGUuYXBwZW5kQ2hpbGQocyk7XG4gICAgICAgIH1cbiAgICAgIH0odGhpcy5lbCwgdGhpcy5vcHRzKSwgdGhpcztcbiAgICB9LCBwLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWwgJiYgKChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPyBjYW5jZWxBbmltYXRpb25GcmFtZSA6IGNsZWFyVGltZW91dCkodGhpcy5hbmltYXRlSWQpLCB0aGlzLmVsLnBhcmVudE5vZGUgJiYgdGhpcy5lbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZWwpLCB0aGlzLmVsID0gdm9pZCAwKSwgdGhpcztcbiAgICB9LCBwKTtcblxuICAgIGZ1bmN0aW9uIHAoZSkge1xuICAgICAgdm9pZCAwID09PSBlICYmIChlID0ge30pLCB0aGlzLm9wdHMgPSBfdShfdSh7fSwgbCksIGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGYoZSwgdCkge1xuICAgICAgZm9yICh2YXIgbiBpbiB0KSB7XG4gICAgICAgIGUuc3R5bGVbbl0gPSB0W25dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoKGUsIHQpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gZSA6IGVbdCAlIGUubGVuZ3RoXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtKGUpIHtcbiAgICAgIHJldHVybiAobSA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgIH0gOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgZTtcbiAgICAgIH0pKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIE8odCwgZSkge1xuICAgICAgdmFyIG4sXG4gICAgICAgICAgciA9IE9iamVjdC5rZXlzKHQpO1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgKG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpLCBlICYmIChuID0gbi5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgZSkuZW51bWVyYWJsZTtcbiAgICAgIH0pKSwgci5wdXNoLmFwcGx5KHIsIG4pKSwgcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBDKG8pIHtcbiAgICAgIGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgIHZhciBpID0gbnVsbCAhPSBhcmd1bWVudHNbZV0gPyBhcmd1bWVudHNbZV0gOiB7fTtcbiAgICAgICAgZSAlIDIgPyBPKE9iamVjdChpKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgdCwgbiwgcjtcbiAgICAgICAgICB0ID0gbywgciA9IGlbbiA9IGVdLCBuIGluIHQgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgbiwge1xuICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgICB9KSA6IHRbbl0gPSByO1xuICAgICAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobywgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpIDogTyhPYmplY3QoaSkpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLCBlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBrKGUsIHQpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgciA9IHRbbl07XG4gICAgICAgIHIuZW51bWVyYWJsZSA9IHIuZW51bWVyYWJsZSB8fCAhMSwgci5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIHIgJiYgKHIud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLmtleSwgcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gUyhlLCB0KSB7XG4gICAgICByZXR1cm4gKFMgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUuX19wcm90b19fID0gdCwgZTtcbiAgICAgIH0pKGUsIHQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGooaSkge1xuICAgICAgdmFyIGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBSZWZsZWN0IHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuICExO1xuICAgICAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuICExO1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBQcm94eSkgcmV0dXJuICEwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSksICEwO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICB9KCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgbyA9IEUoaSk7XG4gICAgICAgIHJldHVybiB0ID0gYSA/IChlID0gRSh0aGlzKS5jb25zdHJ1Y3RvciwgUmVmbGVjdC5jb25zdHJ1Y3QobywgYXJndW1lbnRzLCBlKSkgOiBvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIG4gPSB0aGlzLCAhKHIgPSB0KSB8fCBcIm9iamVjdFwiICE9PSBtKHIpICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgciA/IHgobikgOiByO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB4KGUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgIHJldHVybiBlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEUoZSkge1xuICAgICAgcmV0dXJuIChFID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtcbiAgICAgIH0pKGUpO1xuICAgIH1cblxuICAgIHZhciBBID0ge1xuICAgICAgbGluZXM6IDE2LFxuICAgICAgbGVuZ3RoOiAzLFxuICAgICAgd2lkdGg6IDMsXG4gICAgICByYWRpdXM6IDE0LFxuICAgICAgY29sb3I6IFwiI0ZGRkZGRlwiLFxuICAgICAgc3BlZWQ6IDIuMSxcbiAgICAgIHRyYWlsOiA2MCxcbiAgICAgIHNoYWRvdzogITEsXG4gICAgICBod2FjY2VsOiAhMSxcbiAgICAgIHRvcDogXCI1MCVcIixcbiAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgekluZGV4OiA5OTlcbiAgICB9LFxuICAgICAgICBQID0gYy5jLmRpdi53aXRoQ29uZmlnKHtcbiAgICAgIGRpc3BsYXlOYW1lOiBcInNwaW5uZXJfX1NwaW5uZXJXcmFwcGVyXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJjOGtrNC0wXCJcbiAgICB9KShbXCJAa2V5ZnJhbWVzIHNwaW5uZXItbGluZS1mYWRlLW1vcmV7MCUsMTAwJXtvcGFjaXR5OjA7fTEle29wYWNpdHk6MTt9fUBrZXlmcmFtZXMgc3Bpbm5lci1saW5lLWZhZGUtcXVpY2t7MCUsMzklLDEwMCV7b3BhY2l0eTowLjI1O300MCV7b3BhY2l0eToxO319QGtleWZyYW1lcyBzcGlubmVyLWxpbmUtZmFkZS1kZWZhdWx0ezAlLDEwMCV7b3BhY2l0eTowLjIyO30xJXtvcGFjaXR5OjE7fX1Aa2V5ZnJhbWVzIHNwaW5uZXItbGluZS1zaHJpbmt7MCUsMjUlLDEwMCV7dHJhbnNmb3JtOnNjYWxlKDAuNSk7b3BhY2l0eTowLjI1O30yNiV7dHJhbnNmb3JtOnNjYWxlKDEpO29wYWNpdHk6MTt9fVwiXSksXG4gICAgICAgIEkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAhZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgdCAmJiBudWxsICE9PSB0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh0ICYmIHQucHJvdG90eXBlLCB7XG4gICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBlLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgICAgIH1cbiAgICAgICAgfSksIHQgJiYgUyhlLCB0KTtcbiAgICAgIH0obywgaVtcIkNvbXBvbmVudFwiXSk7XG4gICAgICB2YXIgZSxcbiAgICAgICAgICB0LFxuICAgICAgICAgIG4sXG4gICAgICAgICAgciA9IGoobyk7XG5cbiAgICAgIGZ1bmN0aW9uIG8oZSkge1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9KHRoaXMsIG8pLCAodCA9IHIuY2FsbCh0aGlzLCBlKSkuZ2V0UmVmID0gdC5nZXRSZWYuYmluZCh4KHQpKSwgdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGUgPSBvLCAodCA9IFt7XG4gICAgICAgIGtleTogXCJjb21wb25lbnREaWRNb3VudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgdGhpcy5pbnN0YW50aWF0ZVNwaW5uZXIodGhpcy5wcm9wcyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICBlLmNvbmZpZy5jb2xvciAhPT0gdGhpcy5wcm9wcy5jb25maWcuY29sb3IgPyAodGhpcy5zcGlubmVyLnN0b3AoKSwgdGhpcy5pbnN0YW50aWF0ZVNwaW5uZXIoZSkpIDogITAgIT09IGUuc3RvcHBlZCB8fCB0aGlzLnByb3BzLnN0b3BwZWQgPyBlLnN0b3BwZWQgfHwgITAgIT09IHRoaXMucHJvcHMuc3RvcHBlZCB8fCB0aGlzLnNwaW5uZXIuc3Bpbih0aGlzLmNvbnRhaW5lcikgOiB0aGlzLnNwaW5uZXIuc3RvcCgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgdGhpcy5zcGlubmVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiZ2V0UmVmXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdGhpcy5jb250YWluZXIgPSBlO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJpbnN0YW50aWF0ZVNwaW5uZXJcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB0aGlzLnNwaW5uZXIgPSBuZXcgZChDKEMoe30sIEEpLCBlLmNvbmZpZykpLCBlLnN0b3BwZWQgfHwgdGhpcy5zcGlubmVyLnNwaW4odGhpcy5jb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJyZW5kZXJcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHJldHVybiBiLmEuY3JlYXRlRWxlbWVudChQLCB7XG4gICAgICAgICAgICByZWY6IHRoaXMuZ2V0UmVmXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1dKSAmJiBrKGUucHJvdG90eXBlLCB0KSwgbiAmJiBrKGUsIG4pLCBvO1xuICAgIH0oKTtcblxuICAgIEkucHJvcFR5cGVzID0ge1xuICAgICAgY29uZmlnOiBvLmEub2JqZWN0LFxuICAgICAgc3RvcHBlZDogby5hLmJvb2wsXG4gICAgICBjbGFzc05hbWU6IG8uYS5zdHJpbmcsXG4gICAgICBzdHlsZTogby5hLm9iamVjdFxuICAgIH0sIEkuZGVmYXVsdFByb3BzID0ge1xuICAgICAgY29uZmlnOiBBLFxuICAgICAgY2xhc3NOYW1lOiBcIlwiLFxuICAgICAgc3R5bGU6IHt9XG4gICAgfTtcbiAgICB2YXIgUixcbiAgICAgICAgVCA9IEk7XG5cbiAgICBmdW5jdGlvbiBfKGUpIHtcbiAgICAgIHJldHVybiAoXyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgIH0gOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgZTtcbiAgICAgIH0pKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEwodCwgZSkge1xuICAgICAgdmFyIG4sXG4gICAgICAgICAgciA9IE9iamVjdC5rZXlzKHQpO1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgKG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpLCBlICYmIChuID0gbi5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgZSkuZW51bWVyYWJsZTtcbiAgICAgIH0pKSwgci5wdXNoLmFwcGx5KHIsIG4pKSwgcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBGKHQpIHtcbiAgICAgIGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgIHZhciBuID0gbnVsbCAhPSBhcmd1bWVudHNbZV0gPyBhcmd1bWVudHNbZV0gOiB7fTtcbiAgICAgICAgZSAlIDIgPyBMKE9iamVjdChuKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBXKHQsIGUsIG5bZV0pO1xuICAgICAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpIDogTChPYmplY3QobikpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLCBlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBEKGUsIHQpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykge1xuICAgICAgICB2YXIgciA9IHRbbl07XG4gICAgICAgIHIuZW51bWVyYWJsZSA9IHIuZW51bWVyYWJsZSB8fCAhMSwgci5jb25maWd1cmFibGUgPSAhMCwgXCJ2YWx1ZVwiIGluIHIgJiYgKHIud3JpdGFibGUgPSAhMCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLmtleSwgcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gTShlLCB0KSB7XG4gICAgICByZXR1cm4gKE0gPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUuX19wcm90b19fID0gdCwgZTtcbiAgICAgIH0pKGUsIHQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIE4oaSkge1xuICAgICAgdmFyIGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiID09IHR5cGVvZiBSZWZsZWN0IHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuICExO1xuICAgICAgICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuICExO1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBQcm94eSkgcmV0dXJuICEwO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSksICEwO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICB9KCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIG4sXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgbyA9ICQoaSk7XG4gICAgICAgIHJldHVybiB0ID0gYSA/IChlID0gJCh0aGlzKS5jb25zdHJ1Y3RvciwgUmVmbGVjdC5jb25zdHJ1Y3QobywgYXJndW1lbnRzLCBlKSkgOiBvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIG4gPSB0aGlzLCAhKHIgPSB0KSB8fCBcIm9iamVjdFwiICE9PSBfKHIpICYmIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgciA/IHoobikgOiByO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6KGUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtcbiAgICAgIHJldHVybiBlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uICQoZSkge1xuICAgICAgcmV0dXJuICgkID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtcbiAgICAgIH0pKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFcoZSwgdCwgbikge1xuICAgICAgcmV0dXJuIHQgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCB0LCB7XG4gICAgICAgIHZhbHVlOiBuLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICB9KSA6IGVbdF0gPSBuLCBlO1xuICAgIH1cblxuICAgIHZhciBxID0gNSxcbiAgICAgICAgQiA9IFwicG9wdXBcIixcbiAgICAgICAgSCA9IFwiZHJhd2VyX2xlZnRcIixcbiAgICAgICAgVSA9IFwiZHJhd2VyX3JpZ2h0XCIsXG4gICAgICAgIEcgPSBcInBvcG92ZXJcIixcbiAgICAgICAgWSA9IFwic2lkZV9wYW5lbFwiLFxuICAgICAgICBWID0gKFcoUiA9IHt9LCBCLCBcInBvcHVwLWJsYW5rXCIpLCBXKFIsIEgsIFwicG9wdXAtY2xhc3NpY1wiKSwgVyhSLCBVLCBcInBvcHVwLWRyYXdlclwiKSwgVyhSLCBHLCBcInBvcHVwLXBvcG92ZXJcIiksIFcoUiwgWSwgXCJwb3B1cC1zaWRlLXBhbmVsXCIpLCBSKSxcbiAgICAgICAgSyA9IGMuYy5kaXYud2l0aENvbmZpZyh7XG4gICAgICBkaXNwbGF5TmFtZTogXCJwb3B1cF9fQmFzZVdyYXBwZXJcIixcbiAgICAgIGNvbXBvbmVudElkOiBcInNjLTEwdGEycDctMFwiXG4gICAgfSkoW1widmlzaWJpbGl0eTpcIiwgXCI7b3BhY2l0eTpcIiwgXCI7cG9zaXRpb246XCIsIFwiO21heC13aWR0aDoxMDAlO3otaW5kZXg6MTAwMDE7XCJdLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUub3BlbiA/IFwidmlzaWJsZVwiIDogXCJoaWRkZW5cIjtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUub3BlbiA/IDEgOiAwO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5pc0NvbnRhaW5lZCA/IFwiYWJzb2x1dGVcIiA6IFwiZml4ZWRcIjtcbiAgICB9KSxcbiAgICAgICAgWCA9IGMuYy5kaXYud2l0aENvbmZpZyh7XG4gICAgICBkaXNwbGF5TmFtZTogXCJwb3B1cF9fT3ZlcmxheVwiLFxuICAgICAgY29tcG9uZW50SWQ6IFwic2MtMTB0YTJwNy0xXCJcbiAgICB9KShbXCJ2aXNpYmlsaXR5OlwiLCBcIjtvcGFjaXR5OlwiLCBcIjt0cmFuc2l0aW9uOm9wYWNpdHkgMjAwbXMgZWFzZSx2aXNpYmlsaXR5IDBzIGxpbmVhciBcIiwgXCI7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuODUpO3Bvc2l0aW9uOlwiLCBcIjtvdmVyZmxvdzpcIiwgXCI7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDoxMDAwMTttaW4taGVpZ2h0OjEwMCU7XCJdLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUuYXBwZWFyaW5nID8gXCJoaWRkZW5cIiA6IFwidmlzaWJsZVwiO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5hcHBlYXJpbmcgPyAwIDogMTtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUuYXBwZWFyaW5nID8gXCIyMDBtc1wiIDogXCIwc1wiO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5pc0NvbnRhaW5lZCA/IFwiYWJzb2x1dGVcIiA6IFwiZml4ZWRcIjtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUuaXNDb250YWluZWQgPyBcImhpZGRlblwiIDogXCJhdXRvXCI7XG4gICAgfSksXG4gICAgICAgIFogPSBPYmplY3QoYy5jKShLKS53aXRoQ29uZmlnKHtcbiAgICAgIGRpc3BsYXlOYW1lOiBcInBvcHVwX19wb3B1cFdyYXBwZXJcIixcbiAgICAgIGNvbXBvbmVudElkOiBcInNjLTEwdGEycDctMlwiXG4gICAgfSkoW1wiXCIsIFwiIHRyYW5zaXRpb246YWxsIDMwMG1zIGVhc2Utb3V0O1wiXSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0ID0gKDEwMCAtIGUuc2l6ZSkgLyAyO1xuICAgICAgcmV0dXJuIGUuaXNDb250YWluZWQgPyBcIlxcbiAgICAgICAgd2lkdGg6IGNhbGMoXCIuY29uY2F0KGUuc2l6ZSwgXCIlIC0gODBweCk7XFxuICAgICAgICBoZWlnaHQ6IGNhbGMoXCIpLmNvbmNhdChlLnNpemUsIFwiJSAtIDgwcHgpO1xcbiAgICAgICAgdG9wOiBjYWxjKFwiKS5jb25jYXQodCwgXCIlICsgNDBweCk7XFxuICAgICAgICBsZWZ0OiBjYWxjKFwiKS5jb25jYXQodCwgXCIlICsgNDBweCk7XFxuICAgICAgXCIpIDogXCJcXG4gICAgICB3aWR0aDogY2FsYyhcIi5jb25jYXQoZS5zaXplLCBcIiUgLSA4MHB4KTtcXG4gICAgICBoZWlnaHQ6IGNhbGMoXCIpLmNvbmNhdChlLnNpemUsIFwiJSAtIDgwcHgpO1xcbiAgICAgIHRvcDogY2FsYyhcIikuY29uY2F0KHQsIFwiJSArIDQwcHgpO1xcbiAgICAgIGxlZnQ6IGNhbGMoXCIpLmNvbmNhdCh0LCBcIiUgKyA0MHB4KTtcXG4gICAgXCIpO1xuICAgIH0pLFxuICAgICAgICBRID0gT2JqZWN0KGMuYykoSykud2l0aENvbmZpZyh7XG4gICAgICBkaXNwbGF5TmFtZTogXCJwb3B1cF9fZHJhd2VyV3JhcHBlclwiLFxuICAgICAgY29tcG9uZW50SWQ6IFwic2MtMTB0YTJwNy0zXCJcbiAgICB9KShbXCJ0cmFuc2l0aW9uOmFsbCA0MDBtcyBlYXNlLW91dDt3aWR0aDpcIiwgXCJweDtoZWlnaHQ6MTAwJTt0b3A6MDtcIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS53aWR0aDtcbiAgICB9KSxcbiAgICAgICAgSiA9IE9iamVjdChjLmMpKFEpLndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwicG9wdXBfX2RyYXdlckxlZnRXcmFwcGVyXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xMHRhMnA3LTRcIlxuICAgIH0pKFtcImxlZnQ6XCIsIFwicHg7XCJdLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUub3BlbiA/IDAgOiAtKGUud2lkdGggLSAzMCk7XG4gICAgfSksXG4gICAgICAgIGVlID0gT2JqZWN0KGMuYykoUSkud2l0aENvbmZpZyh7XG4gICAgICBkaXNwbGF5TmFtZTogXCJwb3B1cF9fZHJhd2VyUmlnaHRXcmFwcGVyXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xMHRhMnA3LTVcIlxuICAgIH0pKFtcInJpZ2h0OlwiLCBcInB4O1wiXSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLm9wZW4gPyAwIDogLShlLndpZHRoIC0gMzApO1xuICAgIH0pLFxuICAgICAgICB0ZSA9IE9iamVjdChjLmMpKEspLndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwicG9wdXBfX3BvcG92ZXJXcmFwcGVyXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xMHRhMnA3LTZcIlxuICAgIH0pKFtcIndpZHRoOlwiLCBcInB4O2hlaWdodDpcIiwgXCJweDt0cmFuc2l0aW9uOmFsbCAzMDBtcyBlYXNlLW91dDtib3R0b206OTZweDtyaWdodDoxNnB4O2JvcmRlci1yYWRpdXM6NHB4O292ZXJmbG93OmhpZGRlbjtib3gtc2hhZG93OnJnYmEoMCwwLDAsMC4wOCkgMHB4IDJweCA0cHgscmdiYSgwLDAsMCwwLjA2KSAwcHggMnB4IDEycHg7XCJdLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUud2lkdGg7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmhlaWdodDtcbiAgICB9KSxcbiAgICAgICAgbmUgPSBjLmMuZGl2LndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwicG9wdXBfX3NpZGVQYW5lbFdyYXBwZXJcIixcbiAgICAgIGNvbXBvbmVudElkOiBcInNjLTEwdGEycDctN1wiXG4gICAgfSkoW1wid2lkdGg6XCIsIFwicHg7aGVpZ2h0OlwiLCBcInB4O2JveC1zaGFkb3c6cmdiYSgwLDAsMCxcIiwgXCIpIDBweCAycHggNHB4LHJnYmEoMCwwLDAsXCIsIFwiKSAwcHggMnB4IDEycHg7dHJhbnNpdGlvbjpib3gtc2hhZG93IDMwMG1zIGVhc2Utb3V0O1wiXSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLndpZHRoO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5oZWlnaHQ7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLm9wZW4gPyBcIjAuMDhcIiA6IFwiMFwiO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5vcGVuID8gXCIwLjA2XCIgOiBcIjBcIjtcbiAgICB9KSxcbiAgICAgICAgcmUgPSBjLmMuaW1nLndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwicG9wdXBfX0Jhc2VDbG9zZUltYWdlXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xMHRhMnA3LThcIlxuICAgIH0pKFtcInBvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6OHB4O2N1cnNvcjpwb2ludGVyO3dpZHRoOmluaXRpYWw7bWF4LXdpZHRoOmluaXRpYWw7XCJdKSxcbiAgICAgICAgb2UgPSBjLmMuaW1nLndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwicG9wdXBfX0ljb25DbG9zZUltYWdlXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xMHRhMnA3LTlcIlxuICAgIH0pKFtcInBhZGRpbmc6OHB4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZTtcIl0pLFxuICAgICAgICBpZSA9IE9iamVjdChjLmMpKHJlKS53aXRoQ29uZmlnKHtcbiAgICAgIGRpc3BsYXlOYW1lOiBcInBvcHVwX19jbG9zZUltYWdlUG9wdXBcIixcbiAgICAgIGNvbXBvbmVudElkOiBcInNjLTEwdGEycDctMTBcIlxuICAgIH0pKFtcInRvcDotMzRweDtyaWdodDotMzRweDtcIl0pLFxuICAgICAgICBhZSA9IE9iamVjdChjLmMpKHJlKS53aXRoQ29uZmlnKHtcbiAgICAgIGRpc3BsYXlOYW1lOiBcInBvcHVwX19jbG9zZUltYWdlTGVmdFwiLFxuICAgICAgY29tcG9uZW50SWQ6IFwic2MtMTB0YTJwNy0xMVwiXG4gICAgfSkoW1widG9wOjEycHg7cmlnaHQ6LTM4cHg7QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo4MDBweCl7cmlnaHQ6MTJweDt9XCJdKSxcbiAgICAgICAgc2UgPSBPYmplY3QoYy5jKShyZSkud2l0aENvbmZpZyh7XG4gICAgICBkaXNwbGF5TmFtZTogXCJwb3B1cF9fY2xvc2VJbWFnZVJpZ2h0XCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xMHRhMnA3LTEyXCJcbiAgICB9KShbXCJ0b3A6MTJweDtsZWZ0Oi0zOHB4O3JpZ2h0OmF1dG87QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo4MDBweCl7bGVmdDoxMnB4O31cIl0pLFxuICAgICAgICBjZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICFmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0ICYmIG51bGwgIT09IHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQgJiYgdC5wcm90b3R5cGUsIHtcbiAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgICAgfVxuICAgICAgICB9KSwgdCAmJiBNKGUsIHQpO1xuICAgICAgfShvLCBpW1wiQ29tcG9uZW50XCJdKTtcbiAgICAgIHZhciBlLFxuICAgICAgICAgIHQsXG4gICAgICAgICAgbixcbiAgICAgICAgICByID0gTihvKTtcblxuICAgICAgZnVuY3Rpb24gbyhlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH0odGhpcywgbyksICh0ID0gci5jYWxsKHRoaXMsIGUpKS5zdGF0ZSA9IHtcbiAgICAgICAgICBpc0xvYWRpbmc6ICEwLFxuICAgICAgICAgIGZyYW1lQW5pbWF0ZTogITEsXG4gICAgICAgICAgaWZyYW1lTG9hZGVkOiAhMSxcbiAgICAgICAgICBwb3B1cEFuaW1hdGU6ICEwLFxuICAgICAgICAgIHRyYW5zaXRpb25FbmRlZDogITFcbiAgICAgICAgfSwgdC5oYW5kbGVNZXNzYWdlID0gdC5oYW5kbGVNZXNzYWdlLmJpbmQoeih0KSksIHQuaGFuZGxlS2V5RG93biA9IE9iamVjdCh2LmMpKHQuaGFuZGxlS2V5RG93bi5iaW5kKHoodCkpLCB0LnByb3BzLmVtYmVkSWQpLCB0LmhhbmRsZUF1dG9DbG9zZSA9IE9iamVjdCh2LmMpKHQuaGFuZGxlQXV0b0Nsb3NlLmJpbmQoeih0KSksIHQucHJvcHMuZW1iZWRJZCksIHQuaGFuZGxlQ2xvc2UgPSBPYmplY3Qodi5jKSh0LmhhbmRsZUNsb3NlLmJpbmQoeih0KSksIHQucHJvcHMuZW1iZWRJZCksIHQuaGFuZGxlRm9ybVN1Ym1pdCA9IE9iamVjdCh2LmMpKHQuaGFuZGxlRm9ybVN1Ym1pdC5iaW5kKHoodCkpLCB0LnByb3BzLmVtYmVkSWQpLCB0LmhhbmRsZUlmcmFtZUxvYWQgPSB0LmhhbmRsZUlmcmFtZUxvYWQuYmluZCh6KHQpKSwgdC5oYW5kbGVBbmltYXRlQmVmb3JlQ2xvc2UgPSB0LmhhbmRsZUFuaW1hdGVCZWZvcmVDbG9zZS5iaW5kKHoodCkpLCB0LmhhbmRsZVRyYW5zaXRpb25FbmQgPSB0LmhhbmRsZVRyYW5zaXRpb25FbmQuYmluZCh6KHQpKSwgdC5zZXRXcmFwcGVyUmVmID0gdC5zZXRXcmFwcGVyUmVmLmJpbmQoeih0KSksIHQuaGFuZGxlRm9ybVNjcmVlbkNoYW5nZWQgPSBPYmplY3Qodi5jKSh0LmhhbmRsZUZvcm1TY3JlZW5DaGFuZ2VkLmJpbmQoeih0KSksIHQucHJvcHMuZW1iZWRJZCksIHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlID0gbywgKHQgPSBbe1xuICAgICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHZhciBlID0gdGhpcztcbiAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5oYW5kbGVNZXNzYWdlKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlS2V5RG93biksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9ybS1jbG9zZVwiLCB0aGlzLmhhbmRsZUNsb3NlKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb3JtLXN1Ym1pdFwiLCB0aGlzLmhhbmRsZUZvcm1TdWJtaXQpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImVtYmVkLWF1dG8tY2xvc2UtcG9wdXBcIiwgdGhpcy5oYW5kbGVBdXRvQ2xvc2UpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlZGlyZWN0LWFmdGVyLXN1Ym1pdFwiLCB2LmkpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRoYW5rLXlvdS1zY3JlZW4tcmVkaXJlY3RcIiwgdi5pKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb3JtLXNjcmVlbi1jaGFuZ2VkXCIsIHRoaXMuaGFuZGxlRm9ybVNjcmVlbkNoYW5nZWQpLCB3aW5kb3cudGZDbG9zZVBvcHVwID0gdGhpcy5oYW5kbGVDbG9zZSwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgcG9wdXBBbmltYXRlOiAhMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICB0aGlzLnVwZGF0ZUljb24oYi5hLmNyZWF0ZUVsZW1lbnQoVCwge1xuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgIHNjYWxlOiAuNlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0b3BwZWQ6IHRoaXMuc3RhdGUuaWZyYW1lTG9hZGVkXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuaGFuZGxlTWVzc2FnZSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24pLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvcm0tY2xvc2VcIiwgdGhpcy5oYW5kbGVDbG9zZSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9ybS1zdWJtaXRcIiwgdGhpcy5oYW5kbGVGb3JtU3VibWl0KSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbWJlZC1hdXRvLWNsb3NlLXBvcHVwXCIsIHRoaXMuaGFuZGxlQXV0b0Nsb3NlKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZWRpcmVjdC1hZnRlci1zdWJtaXRcIiwgdi5pKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0aGFuay15b3Utc2NyZWVuLXJlZGlyZWN0XCIsIHYuaSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9ybS1zY3JlZW4tY2hhbmdlZFwiLCB0aGlzLmhhbmRsZUZvcm1TY3JlZW5DaGFuZ2VkKSwgZGVsZXRlIHdpbmRvdy50ZkNsb3NlUG9wdXA7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcInNldFdyYXBwZXJSZWZcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB0aGlzLndyYXBwZXIgPSBlO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJnZXRXcmFwcGVyQ29tcG9uZW50XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgcmV0dXJuIGUgPT09IFUgPyBlZSA6IGUgPT09IEggPyBKIDogZSA9PT0gRyA/IHRlIDogZSA9PT0gWSA/IG5lIDogWjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiZ2V0Q2xvc2VJbWFnZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZSkge1xuICAgICAgICAgIHJldHVybiBlID09PSBVID8gc2UgOiBlID09PSBIID8gYWUgOiBpZTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiaGFuZGxlRm9ybVNjcmVlbkNoYW5nZWRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMub25TY3JlZW5DaGFuZ2VkICYmIHRoaXMucHJvcHMub3B0aW9ucy5vblNjcmVlbkNoYW5nZWQoZSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcInVwZGF0ZUljb25cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLmljb24gJiYgKHRoaXMuaWNvbkhUTUwgfHwgKHRoaXMuaWNvbkhUTUwgPSB0aGlzLnByb3BzLmljb24uaW5uZXJIVE1MKSwgdGhpcy5wcm9wcy5pY29uLmlubmVySFRNTCA9IFwiXCIsIGUgPyBPYmplY3QoYS5yZW5kZXIpKGUsIHRoaXMucHJvcHMuaWNvbikgOiB0aGlzLnByb3BzLmljb24uaW5uZXJIVE1MID0gdGhpcy5pY29uSFRNTCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZUlmcmFtZUxvYWRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpZnJhbWVMb2FkZWQ6ICEwXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHQuc3RhdGUuaXNMb2FkaW5nICYmICh0LnVwZGF0ZUljb24oYi5hLmNyZWF0ZUVsZW1lbnQob2UsIHtcbiAgICAgICAgICAgICAgICBhbHQ6IFwiY2xvc2UtdHlwZWZvcm1cIixcbiAgICAgICAgICAgICAgICBcImRhdGEtcWFcIjogXCJwb3B1cC1jbG9zZS1idXR0b25cIixcbiAgICAgICAgICAgICAgICBzcmM6IGdcbiAgICAgICAgICAgICAgfSkpLCB0LmhhbmRsZVNpZGVQYW5lbE9wZW4oKSwgdC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgZnJhbWVBbmltYXRlOiAhMCxcbiAgICAgICAgICAgICAgICBpc0xvYWRpbmc6ICExXG4gICAgICAgICAgICAgIH0pLCBlICYmIGUuY29udGVudFdpbmRvdyAmJiBlLmNvbnRlbnRXaW5kb3cuZm9jdXMoKSk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVBbmltYXRlQmVmb3JlQ2xvc2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHZhciBlID0gdGhpcztcbiAgICAgICAgICB0aGlzLnVwZGF0ZUljb24oKSwgdGhpcy5oYW5kbGVTaWRlUGFuZWxDbG9zZSgpLCB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGZyYW1lQW5pbWF0ZTogITEsXG4gICAgICAgICAgICBwb3B1cEFuaW1hdGU6ICExXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGUuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHBvcHVwQW5pbWF0ZTogITBcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZS5wcm9wcy5vbkNsb3NlLCA0MDApO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIDQwMCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZUNsb3NlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZzogITFcbiAgICAgICAgICB9KSwgdGhpcy5oYW5kbGVBbmltYXRlQmVmb3JlQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiaGFuZGxlS2V5RG93blwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZSkge1xuICAgICAgICAgIFwiRXNjYXBlXCIgIT09IGUuY29kZSAmJiAyNyAhPT0gZS53aGljaCB8fCB0aGlzLmhhbmRsZUFuaW1hdGVCZWZvcmVDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVNZXNzYWdlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgT2JqZWN0KHYuYikodGhpcy5wcm9wcy5lbWJlZElkLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiaGFuZGxlQXV0b0Nsb3NlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdmFyIHQgPSB0aGlzLFxuICAgICAgICAgICAgICBuID0gZS5kZXRhaWwuaXNQcm9QbHVzIHx8IGUuZGV0YWlsLmNhblNldEF1dG9jbG9zZURlbGF5LFxuICAgICAgICAgICAgICByID0gdGhpcy5wcm9wcy5vcHRpb25zLFxuICAgICAgICAgICAgICBvID0gci5pc0F1dG9DbG9zZUVuYWJsZWQsXG4gICAgICAgICAgICAgIGkgPSByLmF1dG9DbG9zZTtcbiAgICAgICAgICBvICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdC5oYW5kbGVBbmltYXRlQmVmb3JlQ2xvc2UoKTtcbiAgICAgICAgICB9LCAxZTMgKiAobiA/IGkgOiBxKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZVRyYW5zaXRpb25FbmRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICBlLnRhcmdldCA9PT0gdGhpcy53cmFwcGVyICYmIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgdHJhbnNpdGlvbkVuZGVkOiB0aGlzLnN0YXRlLmZyYW1lQW5pbWF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVGb3JtU3VibWl0XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uU3VibWl0ICYmIHRoaXMucHJvcHMub3B0aW9ucy5vblN1Ym1pdChPYmplY3Qodi5mKShlKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZVNpZGVQYW5lbE9wZW5cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHZhciBlID0gdGhpcy5wcm9wcy5vcHRpb25zLFxuICAgICAgICAgICAgICB0ID0gZS5tb2RlLFxuICAgICAgICAgICAgICBuID0gZS5jb250YWluZXIsXG4gICAgICAgICAgICAgIHIgPSBlLndpZHRoLFxuICAgICAgICAgICAgICBvID0gZS5oZWlnaHQ7XG4gICAgICAgICAgdCA9PT0gWSAmJiAobi5zdHlsZS53aWR0aCA9IFwiXCIuY29uY2F0KHIsIFwicHhcIiksIG4uc3R5bGUuaGVpZ2h0ID0gXCJcIi5jb25jYXQobywgXCJweFwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZVNpZGVQYW5lbENsb3NlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICB2YXIgZSA9IHRoaXMucHJvcHMub3B0aW9ucyxcbiAgICAgICAgICAgICAgdCA9IGUubW9kZSxcbiAgICAgICAgICAgICAgbiA9IGUuY29udGFpbmVyO1xuICAgICAgICAgIHQgPT09IFkgJiYgKG4uc3R5bGUud2lkdGggPSAwKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICB2YXIgZSA9IG51bGwsXG4gICAgICAgICAgICAgIHQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICBuID0gdC5lbWJlZElkLFxuICAgICAgICAgICAgICByID0gdC5vcHRpb25zLFxuICAgICAgICAgICAgICBvID0gdC51cmwsXG4gICAgICAgICAgICAgIGkgPSByLndpZHRoLFxuICAgICAgICAgICAgICBhID0gci5oZWlnaHQsXG4gICAgICAgICAgICAgIHMgPSByLmhpZGVTY3JvbGxiYXJzLFxuICAgICAgICAgICAgICBjID0gci5pc0NvbnRhaW5lZCxcbiAgICAgICAgICAgICAgdSA9IHIubW9kZSxcbiAgICAgICAgICAgICAgbCA9IHIuc2l6ZTtcbiAgICAgICAgICBzICYmIChlID0ge1xuICAgICAgICAgICAgd2lkdGg6IFwiY2FsYygxMDAlICsgXCIuY29uY2F0KHkoKSgpLCBcInB4KVwiKVxuICAgICAgICAgIH0pLCB1ID09PSBCICYmIChlID0gRihGKHt9LCBlKSwge30sIHtcbiAgICAgICAgICAgIFdlYmtpdE1hc2tJbWFnZTogXCItd2Via2l0LXJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHdoaXRlLCBibGFjaylcIixcbiAgICAgICAgICAgIFdlYmtpdFRyYW5zZm9ybTogXCJ0cmFuc2xhdGVaKDApXCJcbiAgICAgICAgICB9KSk7XG4gICAgICAgICAgdmFyIGQgPSBPYmplY3Qodi5sKShcInR5cGVmb3JtLWVtYmVkLWlkXCIsIG4sIG8pLFxuICAgICAgICAgICAgICBwID0gdGhpcy5nZXRXcmFwcGVyQ29tcG9uZW50KHUpLFxuICAgICAgICAgICAgICBmID0gdGhpcy5nZXRDbG9zZUltYWdlKHUpLFxuICAgICAgICAgICAgICBoID0gdSA9PT0gRyB8fCB1ID09PSBZLFxuICAgICAgICAgICAgICBtID0gYi5hLmNyZWF0ZUVsZW1lbnQocCwge1xuICAgICAgICAgICAgXCJkYXRhLXFhXCI6IFwicG9wdXAtbW9kZS1cIi5jb25jYXQodSksXG4gICAgICAgICAgICBoZWlnaHQ6IGEsXG4gICAgICAgICAgICBpbm5lclJlZjogdGhpcy5zZXRXcmFwcGVyUmVmLFxuICAgICAgICAgICAgaXNDb250YWluZWQ6IGMsXG4gICAgICAgICAgICBtb2RlOiB1LFxuICAgICAgICAgICAgb25UcmFuc2l0aW9uRW5kOiB0aGlzLmhhbmRsZVRyYW5zaXRpb25FbmQsXG4gICAgICAgICAgICBvcGVuOiB0aGlzLnN0YXRlLmZyYW1lQW5pbWF0ZSAmJiAhdGhpcy5zdGF0ZS5pc0xvYWRpbmcsXG4gICAgICAgICAgICBzaXplOiBsLFxuICAgICAgICAgICAgd2lkdGg6IGlcbiAgICAgICAgICB9LCAhaCAmJiB0aGlzLnN0YXRlLmlmcmFtZUxvYWRlZCAmJiBiLmEuY3JlYXRlRWxlbWVudChmLCB7XG4gICAgICAgICAgICBhbHQ6IFwiY2xvc2UtdHlwZWZvcm1cIixcbiAgICAgICAgICAgIFwiZGF0YS1xYVwiOiBcInBvcHVwLWNsb3NlLWJ1dHRvblwiLFxuICAgICAgICAgICAgbW9kZTogdSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQW5pbWF0ZUJlZm9yZUNsb3NlLFxuICAgICAgICAgICAgc3JjOiBnXG4gICAgICAgICAgfSksIGIuYS5jcmVhdGVFbGVtZW50KHcuYSwge1xuICAgICAgICAgICAgb25Mb2FkOiB0aGlzLmhhbmRsZUlmcmFtZUxvYWQsXG4gICAgICAgICAgICBzcmM6IGQsXG4gICAgICAgICAgICBzdHlsZTogZVxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICByZXR1cm4gaCA/IG0gOiBiLmEuY3JlYXRlRWxlbWVudChYLCB7XG4gICAgICAgICAgICBhcHBlYXJpbmc6IHRoaXMuc3RhdGUucG9wdXBBbmltYXRlLFxuICAgICAgICAgICAgaXNDb250YWluZWQ6IGNcbiAgICAgICAgICB9LCBiLmEuY3JlYXRlRWxlbWVudChULCB7XG4gICAgICAgICAgICBzdG9wcGVkOiB0aGlzLnN0YXRlLmlmcmFtZUxvYWRlZFxuICAgICAgICAgIH0pLCBtKTtcbiAgICAgICAgfVxuICAgICAgfV0pICYmIEQoZS5wcm90b3R5cGUsIHQpLCBuICYmIEQoZSwgbiksIG87XG4gICAgfSgpO1xuXG4gICAgY2UucHJvcFR5cGVzID0ge1xuICAgICAgaWNvbjogby5hLmZ1bmMsXG4gICAgICBlbWJlZElkOiBvLmEuc3RyaW5nLFxuICAgICAgaGVpZ2h0OiBvLmEubnVtYmVyLFxuICAgICAgb25DbG9zZTogby5hLmZ1bmMsXG4gICAgICBvcHRpb25zOiBvLmEub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgICB1cmw6IG8uYS5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICAgIHdpZHRoOiBvLmEubnVtYmVyXG4gICAgfTtcbiAgICB0LmggPSBjZTtcbiAgfSwgZnVuY3Rpb24gKGUsIHQpIHtcbiAgICBlLmV4cG9ydHMgPSByO1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGkgPSBuKDApLFxuICAgICAgICBhID0gbi5uKGkpLFxuICAgICAgICByID0gbigyKSxcbiAgICAgICAgbyA9IG4ubihyKTtcblxuICAgIGZ1bmN0aW9uIHMoZSkge1xuICAgICAgcmV0dXJuIChzID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBlO1xuICAgICAgfSA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIGUuY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBlICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBlO1xuICAgICAgfSkoZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYygpIHtcbiAgICAgIHJldHVybiAoYyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IDE7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICB2YXIgbiA9IGFyZ3VtZW50c1t0XTtcblxuICAgICAgICAgIGZvciAodmFyIHIgaW4gbikge1xuICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sIHIpICYmIChlW3JdID0gbltyXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHUodCwgZSkge1xuICAgICAgdmFyIG4sXG4gICAgICAgICAgciA9IE9iamVjdC5rZXlzKHQpO1xuICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgJiYgKG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHQpLCBlICYmIChuID0gbi5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgZSkuZW51bWVyYWJsZTtcbiAgICAgIH0pKSwgci5wdXNoLmFwcGx5KHIsIG4pKSwgcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsKG8pIHtcbiAgICAgIGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgIHZhciBpID0gbnVsbCAhPSBhcmd1bWVudHNbZV0gPyBhcmd1bWVudHNbZV0gOiB7fTtcbiAgICAgICAgZSAlIDIgPyB1KE9iamVjdChpKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgdCwgbiwgcjtcbiAgICAgICAgICB0ID0gbywgciA9IGlbbiA9IGVdLCBuIGluIHQgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgbiwge1xuICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgICB9KSA6IHRbbl0gPSByO1xuICAgICAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobywgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpIDogdShPYmplY3QoaSkpLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLCBlKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkKGUsIHQpIHtcbiAgICAgIGlmIChudWxsID09IGUpIHJldHVybiB7fTtcblxuICAgICAgdmFyIG4sXG4gICAgICAgICAgciA9IGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgIGlmIChudWxsID09IGUpIHJldHVybiB7fTtcbiAgICAgICAgdmFyIG4sXG4gICAgICAgICAgICByLFxuICAgICAgICAgICAgbyA9IHt9LFxuICAgICAgICAgICAgaSA9IE9iamVjdC5rZXlzKGUpO1xuXG4gICAgICAgIGZvciAociA9IDA7IHIgPCBpLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgbiA9IGlbcl0sIDAgPD0gdC5pbmRleE9mKG4pIHx8IChvW25dID0gZVtuXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbztcbiAgICAgIH0oZSwgdCk7XG5cbiAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSBmb3IgKHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSwgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG4gPSBvW2ldLCAwIDw9IHQuaW5kZXhPZihuKSB8fCBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSwgbikgJiYgKHJbbl0gPSBlW25dKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHAoZSwgdCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciByID0gdFtuXTtcbiAgICAgICAgci5lbnVtZXJhYmxlID0gci5lbnVtZXJhYmxlIHx8ICExLCByLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gciAmJiAoci53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIua2V5LCByKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmKGUsIHQpIHtcbiAgICAgIHJldHVybiAoZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICByZXR1cm4gZS5fX3Byb3RvX18gPSB0LCBlO1xuICAgICAgfSkoZSwgdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaChpKSB7XG4gICAgICB2YXIgYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIFJlZmxlY3QgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gITE7XG4gICAgICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFByb3h5KSByZXR1cm4gITA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKSwgITA7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUsXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgbixcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBvID0gYihpKTtcbiAgICAgICAgcmV0dXJuIHQgPSBhID8gKGUgPSBiKHRoaXMpLmNvbnN0cnVjdG9yLCBSZWZsZWN0LmNvbnN0cnVjdChvLCBhcmd1bWVudHMsIGUpKSA6IG8uYXBwbHkodGhpcywgYXJndW1lbnRzKSwgbiA9IHRoaXMsICEociA9IHQpIHx8IFwib2JqZWN0XCIgIT09IHMocikgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiByID8gbShuKSA6IHI7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG0oZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYihlKSB7XG4gICAgICByZXR1cm4gKGIgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO1xuICAgICAgfSkoZSk7XG4gICAgfVxuXG4gICAgdmFyIHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAhZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgdCAmJiBudWxsICE9PSB0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh0ICYmIHQucHJvdG90eXBlLCB7XG4gICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBlLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgICAgIH1cbiAgICAgICAgfSksIHQgJiYgZihlLCB0KTtcbiAgICAgIH0obywgaVtcIkNvbXBvbmVudFwiXSk7XG4gICAgICB2YXIgZSxcbiAgICAgICAgICB0LFxuICAgICAgICAgIG4sXG4gICAgICAgICAgciA9IGgobyk7XG5cbiAgICAgIGZ1bmN0aW9uIG8oZSkge1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9KHRoaXMsIG8pLCAodCA9IHIuY2FsbCh0aGlzLCBlKSkuaWZyYW1lUmVmID0gbnVsbCwgdC5oYW5kbGVMb2FkID0gdC5oYW5kbGVMb2FkLmJpbmQobSh0KSksIHQuZ2V0UmVmID0gdC5nZXRSZWYuYmluZChtKHQpKSwgdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGUgPSBvLCAodCA9IFt7XG4gICAgICAgIGtleTogXCJzaG91bGRDb21wb25lbnRVcGRhdGVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICByZXR1cm4gZS5zcmMgIT09IHRoaXMucHJvcHMuc3JjO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJnZXRSZWZcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB0aGlzLmlmcmFtZVJlZiA9IGU7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZUxvYWRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHRoaXMucHJvcHMub25Mb2FkICYmIHRoaXMucHJvcHMub25Mb2FkKHRoaXMuaWZyYW1lUmVmKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICB2YXIgZSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgIHQgPSBlLnN0eWxlLFxuICAgICAgICAgICAgICBuID0gZChlLCBbXCJzdHlsZVwiXSk7XG4gICAgICAgICAgcmV0dXJuIGEuYS5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIsIGMoe30sIG4sIHtcbiAgICAgICAgICAgIGFsbG93OiBcImNhbWVyYTsgbWljcm9waG9uZTsgYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgZnVsbHNjcmVlbjtcIixcbiAgICAgICAgICAgIFwiZGF0YS1xYVwiOiBcImlmcmFtZVwiLFxuICAgICAgICAgICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIG9uTG9hZDogdGhpcy5oYW5kbGVMb2FkLFxuICAgICAgICAgICAgcmVmOiB0aGlzLmdldFJlZixcbiAgICAgICAgICAgIHNyYzogdGhpcy5wcm9wcy5zcmMsXG4gICAgICAgICAgICBzdHlsZTogbCh7XG4gICAgICAgICAgICAgIGJvcmRlcjogMFxuICAgICAgICAgICAgfSwgdCksXG4gICAgICAgICAgICB0aXRsZTogXCJ0eXBlZm9ybS1lbWJlZFwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XSkgJiYgcChlLnByb3RvdHlwZSwgdCksIG4gJiYgcChlLCBuKSwgbztcbiAgICB9KCk7XG5cbiAgICB5LnByb3BUeXBlcyA9IHtcbiAgICAgIHNyYzogby5hLnN0cmluZy5pc1JlcXVpcmVkLFxuICAgICAgb25Mb2FkOiBvLmEuZnVuYyxcbiAgICAgIHN0eWxlOiBvLmEub2JqZWN0XG4gICAgfTtcbiAgICB0LmEgPSB5O1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgbi5yKHQpLCBuLmQodCwgXCJtYWtlUG9wdXBcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHE7XG4gICAgfSksIG4uZCh0LCBcIm1ha2VXaWRnZXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNlO1xuICAgIH0pLCBuLmQodCwgXCJtYWtlRnVsbFNjcmVlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmU7XG4gICAgfSk7XG4gICAgdmFyIGkgPSBuKDApLFxuICAgICAgICBmID0gbi5uKGkpLFxuICAgICAgICBoID0gbig1KSxcbiAgICAgICAgcCA9IG4ubihoKSxcbiAgICAgICAgbSA9IG4oMSk7XG5cbiAgICBmdW5jdGlvbiByKHQsIGUpIHtcbiAgICAgIHZhciBuLFxuICAgICAgICAgIHIgPSBPYmplY3Qua2V5cyh0KTtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmIChuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSwgZSAmJiAobiA9IG4uZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIGUpLmVudW1lcmFibGU7XG4gICAgICB9KSksIHIucHVzaC5hcHBseShyLCBuKSksIHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbyhvKSB7XG4gICAgICBmb3IgKHZhciBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykge1xuICAgICAgICB2YXIgaSA9IG51bGwgIT0gYXJndW1lbnRzW2VdID8gYXJndW1lbnRzW2VdIDoge307XG4gICAgICAgIGUgJSAyID8gcihPYmplY3QoaSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIHQsIG4sIHI7XG4gICAgICAgICAgdCA9IG8sIHIgPSBpW24gPSBlXSwgbiBpbiB0ID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIG4sIHtcbiAgICAgICAgICAgIHZhbHVlOiByLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfSkgOiB0W25dID0gcjtcbiAgICAgICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKSA6IHIoT2JqZWN0KGkpKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSwgZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG87XG4gICAgfVxuXG4gICAgdmFyIGIgPSBmdW5jdGlvbiBiKGUsIHQpIHtcbiAgICAgIHZhciBuID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHQgPSB7fTtcbiAgICAgICAgaWYgKFwiXCIgIT09IGUgJiYgbnVsbCAhPT0gZSkgZm9yICh2YXIgbiA9IGUuc3BsaXQoXCImXCIpLCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICB2YXIgbyA9IG5bcl0uc3BsaXQoXCI9XCIpO1xuICAgICAgICAgIHRbb1swXV0gPSBkZWNvZGVVUklDb21wb25lbnQob1sxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgICB9KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyKDEpKSxcbiAgICAgICAgICByID0gbyh7fSwgdCk7XG5cbiAgICAgIHJldHVybiBlLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZSBpbiB0IHx8IChyW2VdID0gbltlXSk7XG4gICAgICB9KSwgcjtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZCgpIHtcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgNSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYShlKSB7XG4gICAgICB2YXIgdCA9IGUuY29sb3IsXG4gICAgICAgICAgbiA9IGUub25DbGljayxcbiAgICAgICAgICByID0gZS5kYXRhUWE7XG4gICAgICByZXR1cm4gZi5hLmNyZWF0ZUVsZW1lbnQobCwge1xuICAgICAgICBcImRhdGEtcWFcIjogcixcbiAgICAgICAgb25DbGljazogblxuICAgICAgfSwgZi5hLmNyZWF0ZUVsZW1lbnQodywge1xuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRcbiAgICAgIH0pLCBmLmEuY3JlYXRlRWxlbWVudChPLCB7XG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogdFxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIHZhciB5ID0gZnVuY3Rpb24geShlKSB7XG4gICAgICByZXR1cm4gL21vYmlsZXx0YWJsZXR8YW5kcm9pZC9pLnRlc3QoZS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9LFxuICAgICAgICBnID0gbig0KSxcbiAgICAgICAgcyA9IG4oMiksXG4gICAgICAgIGMgPSBuLm4ocyksXG4gICAgICAgIHUgPSBuKDMpLFxuICAgICAgICBsID0gdS5jLmRpdi53aXRoQ29uZmlnKHtcbiAgICAgIGRpc3BsYXlOYW1lOiBcImNsb3NlLWljb25fX1Jvb3RcIixcbiAgICAgIGNvbXBvbmVudElkOiBcImU4bzZiNS0wXCJcbiAgICB9KShbXCJwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwMDE7dG9wOjA7cmlnaHQ6MDtmb250LXNpemU6MjBweDtmb250LWZhbWlseTpzYW5zLXNlcmlmO3dpZHRoOjUwcHg7aGVpZ2h0OjUwcHg7XCJdKSxcbiAgICAgICAgdiA9IE9iamVjdCh1LmIpKFtcImJvcmRlci1yYWRpdXM6MDtkaXNwbGF5OmJsb2NrO2hlaWdodDoycHg7d2lkdGg6MjVweDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo2cHg7dG9wOjZweDtcIl0pLFxuICAgICAgICB3ID0gdS5jLnNwYW4ud2l0aENvbmZpZyh7XG4gICAgICBkaXNwbGF5TmFtZTogXCJjbG9zZS1pY29uX19BcnJvd0xlZnRcIixcbiAgICAgIGNvbXBvbmVudElkOiBcImU4bzZiNS0xXCJcbiAgICB9KShbXCJcIiwgXCIgYmFja2dyb3VuZC1jb2xvcjpcIiwgXCI7dHJhbnNmb3JtOnRyYW5zbGF0ZSgwLDEzcHgpIHJvdGF0ZTNkKDAsMCwxLC0xMzVkZWcpO1wiXSwgdiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmJhY2tncm91bmRDb2xvcjtcbiAgICB9KSxcbiAgICAgICAgTyA9IHUuYy5zcGFuLndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwiY2xvc2UtaWNvbl9fQXJyb3dSaWdodFwiLFxuICAgICAgY29tcG9uZW50SWQ6IFwiZThvNmI1LTJcIlxuICAgIH0pKFtcIlwiLCBcIiBiYWNrZ3JvdW5kLWNvbG9yOlwiLCBcIjt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsMTNweCkgcm90YXRlM2QoMCwwLDEsLTQ1ZGVnKTtcIl0sIHYsIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfSk7XG5cbiAgICBhLnByb3BUeXBlcyA9IHtcbiAgICAgIGNvbG9yOiBjLmEuc3RyaW5nLFxuICAgICAgZGF0YVFhOiBjLmEuc3RyaW5nLFxuICAgICAgb25DbGljazogYy5hLmZ1bmNcbiAgICB9O1xuICAgIHZhciBDID0gYSxcbiAgICAgICAgayA9IG4oNik7XG5cbiAgICBmdW5jdGlvbiBTKGUpIHtcbiAgICAgIHJldHVybiAoUyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgIH0gOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgZTtcbiAgICAgIH0pKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGooZSwgdCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciByID0gdFtuXTtcbiAgICAgICAgci5lbnVtZXJhYmxlID0gci5lbnVtZXJhYmxlIHx8ICExLCByLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gciAmJiAoci53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIua2V5LCByKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB4KGUsIHQpIHtcbiAgICAgIHJldHVybiAoeCA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICByZXR1cm4gZS5fX3Byb3RvX18gPSB0LCBlO1xuICAgICAgfSkoZSwgdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRShpKSB7XG4gICAgICB2YXIgYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIFJlZmxlY3QgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gITE7XG4gICAgICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFByb3h5KSByZXR1cm4gITA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKSwgITA7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUsXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgbixcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBvID0gUChpKTtcbiAgICAgICAgcmV0dXJuIHQgPSBhID8gKGUgPSBQKHRoaXMpLmNvbnN0cnVjdG9yLCBSZWZsZWN0LmNvbnN0cnVjdChvLCBhcmd1bWVudHMsIGUpKSA6IG8uYXBwbHkodGhpcywgYXJndW1lbnRzKSwgbiA9IHRoaXMsICEociA9IHQpIHx8IFwib2JqZWN0XCIgIT09IFMocikgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiByID8gQShuKSA6IHI7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEEoZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gUChlKSB7XG4gICAgICByZXR1cm4gKFAgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO1xuICAgICAgfSkoZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gSSgpIHtcbiAgICAgIHZhciBlID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgdCA9IHQgfHwgZS5zbGljZSgwKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcmVlemUoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwge1xuICAgICAgICAgIHJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IE9iamVjdC5mcmVlemUodClcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0oW1wiXFxuICAuX190eXBlZm9ybS1lbWJlZC1tb2JpbGUtbW9kYWwtb3BlbiB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcXG4gICAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7XFxuICAgIHRvcDogMCAhaW1wb3J0YW50O1xcbiAgICBsZWZ0OiAwICFpbXBvcnRhbnQ7XFxuICAgIHJpZ2h0OiAwICFpbXBvcnRhbnQ7XFxuICAgIGJvdHRvbTogMCAhaW1wb3J0YW50O1xcbiAgfVxcblwiXSk7XG5cbiAgICAgIHJldHVybiBJID0gZnVuY3Rpb24gSSgpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LCBlO1xuICAgIH1cblxuICAgIHZhciBSID0gdS5jLmRpdi53aXRoQ29uZmlnKHtcbiAgICAgIGRpc3BsYXlOYW1lOiBcIm1vYmlsZS1tb2RhbF9fV3JhcHBlclwiLFxuICAgICAgY29tcG9uZW50SWQ6IFwidXJwZHdtLTBcIlxuICAgIH0pKFtcInZpc2liaWxpdHk6XCIsIFwiO29wYWNpdHk6XCIsIFwiO2JhY2tncm91bmQtY29sb3I6XCIsIFwiO3Bvc2l0aW9uOmZpeGVkICFpbXBvcnRhbnQ7ei1pbmRleDoxMDAwMTtsZWZ0OjAgIWltcG9ydGFudDtyaWdodDowICFpbXBvcnRhbnQ7dG9wOjAgIWltcG9ydGFudDtib3R0b206MCAhaW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiAhaW1wb3J0YW50O2hlaWdodDoxMDAlO3RyYW5zaXRpb246YWxsIDQwMG1zIGVhc2UgXCIsIFwicztcIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5vcGVuID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5vcGVuID8gMSA6IDA7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmJhY2tncm91bmRDb2xvcjtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGUub3BlbkRlbGF5O1xuICAgIH0pLFxuICAgICAgICBUID0gT2JqZWN0KHUuYSkoSSgpKSxcbiAgICAgICAgXyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICFmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiB0ICYmIG51bGwgIT09IHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHQgJiYgdC5wcm90b3R5cGUsIHtcbiAgICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICAgICAgfVxuICAgICAgICB9KSwgdCAmJiB4KGUsIHQpO1xuICAgICAgfShvLCBpW1wiQ29tcG9uZW50XCJdKTtcbiAgICAgIHZhciBlLFxuICAgICAgICAgIHQsXG4gICAgICAgICAgbixcbiAgICAgICAgICByID0gRShvKTtcblxuICAgICAgZnVuY3Rpb24gbyhlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH0odGhpcywgbyksICh0ID0gci5jYWxsKHRoaXMsIGUpKS5zdGF0ZSA9IHtcbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGUuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgIGJ1dHRvbkNvbG9yOiBlLmJ1dHRvbkNvbG9yXG4gICAgICAgIH0sIHQuaGFuZGxlTWVzc2FnZSA9IHQuaGFuZGxlTWVzc2FnZS5iaW5kKEEodCkpLCB0LmhhbmRsZUF1dG9DbG9zZSA9IE9iamVjdChtLmMpKHQuaGFuZGxlQXV0b0Nsb3NlLmJpbmQoQSh0KSksIHQucHJvcHMuZW1iZWRJZCksIHQuaGFuZGxlRm9ybVN1Ym1pdCA9IE9iamVjdChtLmMpKHQuaGFuZGxlRm9ybVN1Ym1pdC5iaW5kKEEodCkpLCB0LnByb3BzLmVtYmVkSWQpLCB0LmhhbmRsZUZvcm1UaGVtZSA9IE9iamVjdChtLmMpKHQuaGFuZGxlRm9ybVRoZW1lLmJpbmQoQSh0KSksIHQucHJvcHMuZW1iZWRJZCksIHQuaGFuZGxlQ2xvc2UgPSB0LmhhbmRsZUNsb3NlLmJpbmQoQSh0KSksIHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlID0gbywgKHQgPSBbe1xuICAgICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmhhbmRsZU1lc3NhZ2UpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImVtYmVkLWF1dG8tY2xvc2UtcG9wdXBcIiwgdGhpcy5oYW5kbGVBdXRvQ2xvc2UpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvcm0tc3VibWl0XCIsIHRoaXMuaGFuZGxlRm9ybVN1Ym1pdCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9ybS10aGVtZVwiLCB0aGlzLmhhbmRsZUZvcm1UaGVtZSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVkaXJlY3QtYWZ0ZXItc3VibWl0XCIsIG0uaSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGhhbmsteW91LXNjcmVlbi1yZWRpcmVjdFwiLCBtLmkpLCB0aGlzLnByb3BzLm9wZW4gJiYgdGhpcy5vcGVuKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImNvbXBvbmVudERpZFVwZGF0ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZSkge1xuICAgICAgICAgICFlLm9wZW4gJiYgdGhpcy5wcm9wcy5vcGVuICYmIHRoaXMub3BlbigpLCBlLmJhY2tncm91bmRDb2xvciA9PT0gdGhpcy5wcm9wcy5iYWNrZ3JvdW5kQ29sb3IgJiYgZS5idXR0b25Db2xvciA9PT0gdGhpcy5wcm9wcy5idXR0b25Db2xvciB8fCB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5wcm9wcy5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICBidXR0b25Db2xvcjogdGhpcy5wcm9wcy5idXR0b25Db2xvclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJjb21wb25lbnRXaWxsVW5tb3VudFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuaGFuZGxlTWVzc2FnZSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW1iZWQtYXV0by1jbG9zZS1wb3B1cFwiLCB0aGlzLmhhbmRsZUF1dG9DbG9zZSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9ybS1zdWJtaXRcIiwgdGhpcy5oYW5kbGVGb3JtU3VibWl0KSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb3JtLXRoZW1lXCIsIHRoaXMuaGFuZGxlRm9ybVRoZW1lKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZWRpcmVjdC1hZnRlci1zdWJtaXRcIiwgbS5pKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0aGFuay15b3Utc2NyZWVuLXJlZGlyZWN0XCIsIG0uaSksIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIl9fdHlwZWZvcm0tZW1iZWQtbW9iaWxlLW1vZGFsLW9wZW5cIik7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZU1lc3NhZ2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICBPYmplY3QobS5iKSh0aGlzLnByb3BzLmVtYmVkSWQsIGUpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVBdXRvQ2xvc2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IHRoaXMsXG4gICAgICAgICAgICAgIG4gPSBlLmRldGFpbC5pc1Byb1BsdXMgfHwgZS5kZXRhaWwuY2FuU2V0QXV0b2Nsb3NlRGVsYXksXG4gICAgICAgICAgICAgIHIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICBvID0gci5pc0F1dG9DbG9zZUVuYWJsZWQsXG4gICAgICAgICAgICAgIGkgPSByLmF1dG9DbG9zZSxcbiAgICAgICAgICAgICAgYSA9IHZvaWQgMCA9PT0gaSA/IGcuYSA6IGksXG4gICAgICAgICAgICAgIHMgPSAxZTMgKiAobiA/IGEgOiBnLmEpO1xuICAgICAgICAgIG8gJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0LmhhbmRsZUNsb3NlKCk7XG4gICAgICAgICAgfSwgcyk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZUZvcm1TdWJtaXRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB0aGlzLnByb3BzLm9uU3VibWl0ICYmIHRoaXMucHJvcHMub25TdWJtaXQoT2JqZWN0KG0uZikoZSkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVGb3JtVGhlbWVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IChlLmRldGFpbCB8fCB7fSkudGhlbWU7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IHQuYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgYnV0dG9uQ29sb3I6IHQuY29sb3JcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwib3BlblwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZS5vcmlnaW5hbEJvZHlTY3JvbGxUb3AgPSB3aW5kb3cuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AsIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChcIl9fdHlwZWZvcm0tZW1iZWQtbW9iaWxlLW1vZGFsLW9wZW5cIik7XG4gICAgICAgICAgfSwgMWUzICogdGhpcy5wcm9wcy5vcGVuRGVsYXkgKyA1MDApO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVDbG9zZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcIl9fdHlwZWZvcm0tZW1iZWQtbW9iaWxlLW1vZGFsLW9wZW5cIiksIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZS5vcmlnaW5hbEJvZHlTY3JvbGxUb3A7XG4gICAgICAgICAgfSwgNDApLCB0aGlzLnByb3BzLm9uQ2xvc2UgJiYgdGhpcy5wcm9wcy5vbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgdmFyIGUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICB0ID0gZS5lbWJlZElkLFxuICAgICAgICAgICAgICBuID0gZS51cmwsXG4gICAgICAgICAgICAgIHIgPSBlLm9wZW4sXG4gICAgICAgICAgICAgIG8gPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICBpID0gby5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICAgICAgICAgIGEgPSBvLmJ1dHRvbkNvbG9yLFxuICAgICAgICAgICAgICBzID0gT2JqZWN0KG0ubCkoXCJ0eXBlZm9ybS1lbWJlZC1pZFwiLCB0LCBuKTtcbiAgICAgICAgICByZXR1cm4gZi5hLmNyZWF0ZUVsZW1lbnQoUiwge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBpLFxuICAgICAgICAgICAgXCJkYXRhLXFhXCI6IFwibW9iaWxlLW1vZGFsXCIsXG4gICAgICAgICAgICBvcGVuOiByLFxuICAgICAgICAgICAgb3BlbkRlbGF5OiB0aGlzLnByb3BzLm9wZW5EZWxheVxuICAgICAgICAgIH0sIGYuYS5jcmVhdGVFbGVtZW50KFQsIG51bGwpLCByICYmIGYuYS5jcmVhdGVFbGVtZW50KGsuYSwge1xuICAgICAgICAgICAgc3JjOiBzXG4gICAgICAgICAgfSksIGYuYS5jcmVhdGVFbGVtZW50KEMsIHtcbiAgICAgICAgICAgIGNvbG9yOiBhLFxuICAgICAgICAgICAgZGF0YVFhOiBcImNsb3NlLWJ1dHRvbi1tb2JpbGVcIixcbiAgICAgICAgICAgIG9uQ2xpY2s6IHRoaXMuaGFuZGxlQ2xvc2VcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1dKSAmJiBqKGUucHJvdG90eXBlLCB0KSwgbiAmJiBqKGUsIG4pLCBvO1xuICAgIH0oKTtcblxuICAgIF8ucHJvcFR5cGVzID0ge1xuICAgICAgdXJsOiBjLmEuc3RyaW5nLFxuICAgICAgb3BlbjogYy5hLmJvb2wsXG4gICAgICBpc0F1dG9DbG9zZUVuYWJsZWQ6IGMuYS5ib29sLFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBjLmEuc3RyaW5nLFxuICAgICAgYnV0dG9uQ29sb3I6IGMuYS5zdHJpbmcsXG4gICAgICBidXR0b25UZXh0OiBjLmEuc3RyaW5nLFxuICAgICAgb25DbG9zZTogYy5hLmZ1bmMsXG4gICAgICBvblN1Ym1pdDogYy5hLmZ1bmMsXG4gICAgICBhdXRvQ2xvc2U6IGMuYS5udW1iZXIsXG4gICAgICBvcGVuRGVsYXk6IGMuYS5udW1iZXIsXG4gICAgICBlbWJlZElkOiBjLmEuc3RyaW5nXG4gICAgfSwgXy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICBvcGVuOiAhMSxcbiAgICAgIG9wZW5EZWxheTogMCxcbiAgICAgIGF1dG9DbG9zZTogbnVsbCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgYnV0dG9uQ29sb3I6IFwiI0ZGRlwiXG4gICAgfTtcblxuICAgIHZhciBMID0gXyxcbiAgICAgICAgRiA9IGZ1bmN0aW9uIEYodCwgbiwgZSkge1xuICAgICAgdmFyIHIgPSAyIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGUgPyBlIDoge307XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoZS5kYXRhLnR5cGUgIT09IHQpIHJldHVybjtcbiAgICAgICAgICByLmluY2x1ZGVQYXlsb2FkID8gbihlKSA6IG4oKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH07XG4gICAgfSxcbiAgICAgICAgRCA9IGZ1bmN0aW9uIEQoZSwgdCwgbikge1xuICAgICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJsb2FkXCI6XG4gICAgICAgICAgZS5vcGVuKCk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImV4aXRcIjpcbiAgICAgICAgICBvID0gZSwgaSA9IHBhcnNlSW50KG4sIDEwKSwgYSA9IDAsIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gZSh0KSB7XG4gICAgICAgICAgICB0LmNsaWVudFkgPCBpICYmIHQuY2xpZW50WSA8IGEgPyAoby5vcGVuKCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZSkpIDogYSA9IHQuY2xpZW50WTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFwidGltZVwiOlxuICAgICAgICAgIHZhciByID0gcGFyc2VJbnQobiwgMTApO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZS5vcGVuKCk7XG4gICAgICAgICAgfSwgcik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxuICAgICAgICAgIHMgPSBlLCBjID0gcGFyc2VJbnQobiwgMTApLCBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGZ1bmN0aW9uIGUoKSB7XG4gICAgICAgICAgICB2YXIgdCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgIG4gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wIHx8IDAsXG4gICAgICAgICAgICAgICAgciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgICAgbyA9IHQgLSBuLFxuICAgICAgICAgICAgICAgIGkgPSBvIC8gciAqIDEwMCxcbiAgICAgICAgICAgICAgICBhID0gbyArIHdpbmRvdy5pbm5lckhlaWdodCA+PSByO1xuICAgICAgICAgICAgKGMgPD0gaSB8fCBhKSAmJiAocy5vcGVuKCksIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgZSkpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcywgYywgbywgaSwgYTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gTSh0LCBlKSB7XG4gICAgICB2YXIgbixcbiAgICAgICAgICByID0gT2JqZWN0LmtleXModCk7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAobiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCksIGUgJiYgKG4gPSBuLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCBlKS5lbnVtZXJhYmxlO1xuICAgICAgfSkpLCByLnB1c2guYXBwbHkociwgbikpLCByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIE4obykge1xuICAgICAgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgdmFyIGkgPSBudWxsICE9IGFyZ3VtZW50c1tlXSA/IGFyZ3VtZW50c1tlXSA6IHt9O1xuICAgICAgICBlICUgMiA/IE0oT2JqZWN0KGkpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciB0LCBuLCByO1xuICAgICAgICAgIHQgPSBvLCByID0gaVtuID0gZV0sIG4gaW4gdCA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBuLCB7XG4gICAgICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICAgIH0pIDogdFtuXSA9IHI7XG4gICAgICAgIH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSkgOiBNKE9iamVjdChpKSkuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksIGUpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvO1xuICAgIH1cblxuICAgIHZhciB6ID0gZnVuY3Rpb24geihlLCB0KSB7XG4gICAgICB2YXIgbiA9IHQubW9kZSA9PT0gZy5iIHx8IHQubW9kZSA9PT0gZy5jLFxuICAgICAgICAgIHIgPSB0LndpZHRoIHx8IHQuZHJhd2VyV2lkdGggfHwgODAwLFxuICAgICAgICAgIG8gPSB0LndpZHRoIHx8IDMyMCxcbiAgICAgICAgICBpID0gbiA/IHIgOiBvO1xuICAgICAgcmV0dXJuIE4oe1xuICAgICAgICBlbWJlZElkOiBlLFxuICAgICAgICBtb2RlOiBnLmUsXG4gICAgICAgIGVtYmVkVHlwZTogZy5mW3QubW9kZV0gfHwgZy5mW2cuZV0sXG4gICAgICAgIGlzTW9kYWxPcGVuOiAhMSxcbiAgICAgICAgYXV0b0Nsb3NlOiBnLmEsXG4gICAgICAgIGhpZGVGb290ZXI6ICExLFxuICAgICAgICBoaWRlSGVhZGVyczogITEsXG4gICAgICAgIGhpZGVTY3JvbGxiYXJzOiAhMSxcbiAgICAgICAgZGlzYWJsZVRyYWNraW5nOiAhMSxcbiAgICAgICAgdHJhbnNmZXJhYmxlVXJsUGFyYW1ldGVyczogdC50cmFuc2ZlcmFibGVVcmxQYXJhbWV0ZXJzIHx8IFtdLFxuICAgICAgICBvblN1Ym1pdDogbS5oLFxuICAgICAgICBvcGVuOiBudWxsLFxuICAgICAgICBvcGVuVmFsdWU6IG51bGwsXG4gICAgICAgIHdpZHRoOiBpLFxuICAgICAgICBoZWlnaHQ6IDUwMCxcbiAgICAgICAgaXNBdXRvQ2xvc2VFbmFibGVkOiB2b2lkIDAgIT09IHQuYXV0b0Nsb3NlLFxuICAgICAgICBzaXplOiAxMDBcbiAgICAgIH0sIHQpO1xuICAgIH0sXG4gICAgICAgICQgPSB7XG4gICAgICBlbWJlZFR5cGU6IFwidHlwZWZvcm0tZW1iZWRcIixcbiAgICAgIGhpZGVGb290ZXI6IFwiZW1iZWQtaGlkZS1mb290ZXJcIixcbiAgICAgIGhpZGVIZWFkZXJzOiBcImVtYmVkLWhpZGUtaGVhZGVyc1wiLFxuICAgICAgZGlzYWJsZVRyYWNraW5nOiBcImRpc2FibGUtdHJhY2tpbmdcIlxuICAgIH0sXG4gICAgICAgIFcgPSBmdW5jdGlvbiBXKGUsIHQpIHtcbiAgICAgIHZhciBuID0gZS51cmwsXG4gICAgICAgICAgciA9IGUuZG9tTm9kZSxcbiAgICAgICAgICBvID0gZS5jbG9zZSxcbiAgICAgICAgICBpID0gZS5pY29uLFxuICAgICAgICAgIGEgPSB0LmF1dG9DbG9zZSxcbiAgICAgICAgICBzID0gdC5idXR0b25UZXh0LFxuICAgICAgICAgIGMgPSB0LmVtYmVkSWQsXG4gICAgICAgICAgdSA9IHQuaXNBdXRvQ2xvc2VFbmFibGVkLFxuICAgICAgICAgIGwgPSB0Lm9uU3VibWl0LFxuICAgICAgICAgIGQgPSBPYmplY3QobS5rKSh0LCAkKSxcbiAgICAgICAgICBkID0gYih0LnRyYW5zZmVyYWJsZVVybFBhcmFtZXRlcnMsIGQpLFxuICAgICAgICAgIHAgPSBPYmplY3QobS5hKShuLCBkKTtcbiAgICAgICF5KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIDEwMjQgPD0gd2luZG93LnNjcmVlbi53aWR0aCAmJiA3NjggPD0gd2luZG93LnNjcmVlbi5oZWlnaHQgPyBPYmplY3QoaC5yZW5kZXIpKGYuYS5jcmVhdGVFbGVtZW50KGcuaCwge1xuICAgICAgICBlbWJlZElkOiBjLFxuICAgICAgICBpY29uOiBpLFxuICAgICAgICBvbkNsb3NlOiBvLFxuICAgICAgICBvcHRpb25zOiB0LFxuICAgICAgICB1cmw6IHBcbiAgICAgIH0pLCByKSA6IChPYmplY3QobS5lKSgpLCBPYmplY3QoaC5yZW5kZXIpKGYuYS5jcmVhdGVFbGVtZW50KEwsIHtcbiAgICAgICAgYXV0b0Nsb3NlOiBhLFxuICAgICAgICBidXR0b25UZXh0OiBzLFxuICAgICAgICBlbWJlZElkOiBjLFxuICAgICAgICBpc0F1dG9DbG9zZUVuYWJsZWQ6IHUsXG4gICAgICAgIG9uQ2xvc2U6IG8sXG4gICAgICAgIG9uU3VibWl0OiBsLFxuICAgICAgICBvcGVuOiAhMCxcbiAgICAgICAgdXJsOiBwXG4gICAgICB9KSwgcikpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBxKHMsIGUsIHQpIHtcbiAgICAgIHZhciBjID0gZCgpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIE9iamVjdChtLmMpKEYoXCJmb3JtLXJlYWR5XCIsIGUub25SZWFkeSksIGMpKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIE9iamVjdChtLmMpKEYoXCJmb3JtLWNsb3NlZFwiLCBlLm9uQ2xvc2UpLCBjKSk7XG4gICAgICB2YXIgdSA9IHooYywgZSk7XG4gICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHUud2lkdGgpKSB0aHJvdyBuZXcgRXJyb3IoXCJXaG9vcHMhIFlvdSBwcm92aWRlZCBhbiBpbnZhbGlkICd3aWR0aCcgb3B0aW9uOiBcXFwiXCIuY29uY2F0KHUud2lkdGgsICdcIi4gSXQgbXVzdCBiZSBhIG51bWJlci4nKSk7XG4gICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHUuaGVpZ2h0KSkgdGhyb3cgbmV3IEVycm9yKFwiV2hvb3BzISBZb3UgcHJvdmlkZWQgYW4gaW52YWxpZCAnaGVpZ2h0JyBvcHRpb246IFxcXCJcIi5jb25jYXQodS5oZWlnaHQsICdcIi4gSXQgbXVzdCBiZSBhIG51bWJlci4nKSk7XG4gICAgICB2YXIgbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICB1LmlzQ29udGFpbmVkID0gdm9pZCAwICE9PSB1LmNvbnRhaW5lciwgdS5jb250YWluZXIgPSB1LmNvbnRhaW5lciB8fCBkb2N1bWVudC5ib2R5LCB1LmNvbnRhaW5lci5hcHBlbmRDaGlsZChsKTtcbiAgICAgIHZhciBuID0ge1xuICAgICAgICBlbGVtZW50OiB0LFxuICAgICAgICBvcGVuOiBmdW5jdGlvbiBvcGVuKGUpIHtcbiAgICAgICAgICB2YXIgdCA9IGUgJiYgZS5jdXJyZW50VGFyZ2V0ID8gZS5jdXJyZW50VGFyZ2V0IDogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICBuID0gdCAmJiB0LmhyZWYgPyB0LmhyZWYgOiBzLFxuICAgICAgICAgICAgICByID0gdCAmJiB0LnF1ZXJ5U2VsZWN0b3IoXCJzcGFuLmljb25cIiksXG4gICAgICAgICAgICAgIG8gPSB7XG4gICAgICAgICAgICBkb21Ob2RlOiBsLFxuICAgICAgICAgICAgaWNvbjogcixcbiAgICAgICAgICAgIHVybDogbixcbiAgICAgICAgICAgIGNsb3NlOiB0aGlzLmNsb3NlLmJpbmQodGhpcylcbiAgICAgICAgICB9LFxuICAgICAgICAgICAgICBpID0gMCA8IGwuY2hpbGRyZW4ubGVuZ3RoLFxuICAgICAgICAgICAgICBhID0gdS5tb2RlID09PSBnLmQgfHwgdS5tb2RlID09PSBnLmc7XG4gICAgICAgICAgaSAmJiBhID8gXCJmdW5jdGlvblwiID09IHR5cGVvZiB3aW5kb3cudGZDbG9zZVBvcHVwICYmIHdpbmRvdy50ZkNsb3NlUG9wdXAoTihOKHt9LCBlKSwge30sIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICBlbWJlZElkOiBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpIDogVyhvLCB1KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgICAgIHdpbmRvdy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICB0eXBlOiBcImZvcm0tY2xvc2VkXCIsXG4gICAgICAgICAgICBlbWJlZElkOiBjXG4gICAgICAgICAgfSwgXCIqXCIpLCBPYmplY3QoaC51bm1vdW50Q29tcG9uZW50QXROb2RlKShsKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiAhdS5vcGVuICYmIHUuYXV0b09wZW4gJiYgKHUub3BlbiA9IFwibG9hZFwiKSwgRChuLCB1Lm9wZW4sIHUub3BlblZhbHVlKSwgbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBCKGUpIHtcbiAgICAgIHJldHVybiAoQiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZTtcbiAgICAgIH0gOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBlLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgZSAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgZTtcbiAgICAgIH0pKGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIEgoZSwgdCkge1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciByID0gdFtuXTtcbiAgICAgICAgci5lbnVtZXJhYmxlID0gci5lbnVtZXJhYmxlIHx8ICExLCByLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gciAmJiAoci53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIua2V5LCByKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBVKGUsIHQpIHtcbiAgICAgIHJldHVybiAoVSA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICByZXR1cm4gZS5fX3Byb3RvX18gPSB0LCBlO1xuICAgICAgfSkoZSwgdCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gRyhpKSB7XG4gICAgICB2YXIgYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIFJlZmxlY3QgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gITE7XG4gICAgICAgIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFByb3h5KSByZXR1cm4gITA7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLCBbXSwgZnVuY3Rpb24gKCkge30pKSwgITA7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGUsXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgbixcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBvID0gVihpKTtcbiAgICAgICAgcmV0dXJuIHQgPSBhID8gKGUgPSBWKHRoaXMpLmNvbnN0cnVjdG9yLCBSZWZsZWN0LmNvbnN0cnVjdChvLCBhcmd1bWVudHMsIGUpKSA6IG8uYXBwbHkodGhpcywgYXJndW1lbnRzKSwgbiA9IHRoaXMsICEociA9IHQpIHx8IFwib2JqZWN0XCIgIT09IEIocikgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiByID8gWShuKSA6IHI7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFkoZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gZSkgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO1xuICAgICAgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gVihlKSB7XG4gICAgICByZXR1cm4gKFYgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpO1xuICAgICAgfSkoZSk7XG4gICAgfVxuXG4gICAgdmFyIEsgPSAyMDAsXG4gICAgICAgIFggPSB1LmMuZGl2LndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwid2lkZ2V0X19XaWRnZXRXcmFwcGVyXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xcnhqejFuLTBcIlxuICAgIH0pKFtcImhlaWdodDoxMDAlO3Bvc2l0aW9uOnJlbGF0aXZlO1wiXSksXG4gICAgICAgIFogPSBPYmplY3QodS5kKShbXCIxMCV7b3BhY2l0eToxO30yNSV7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3BhY2l0eToxO303MCV7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7b3BhY2l0eToxO30xMDAle3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO29wYWNpdHk6MDt9XCJdKSxcbiAgICAgICAgUSA9IE9iamVjdCh1LmQpKFtcIjEwMCV7b3BhY2l0eTowO303NSV7b3BhY2l0eToxO30yNSV7b3BhY2l0eToxO30wJXtvcGFjaXR5OjA7fVwiXSksXG4gICAgICAgIEogPSB1LmMuZGl2LndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwid2lkZ2V0X19QbGFjZWhvbGRlclwiLFxuICAgICAgY29tcG9uZW50SWQ6IFwic2MtMXJ4anoxbi0xXCJcbiAgICB9KShbXCJwb3NpdGlvbjpmaXhlZDt0b3A6XCIsIFwicHg7bGVmdDpcIiwgXCJweDtoZWlnaHQ6XCIsIFwiO3dpZHRoOlwiLCBcIjthbmltYXRpb246XCIsIFwiIDEuNXMgZWFzZTt2aXNpYmlsaXR5OlwiLCBcIjtiYWNrZ3JvdW5kOlwiLCBcIjtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTtcIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS50b3A7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmxlZnQ7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmhlaWdodCA/IFwiXCIuY29uY2F0KGUuaGVpZ2h0LCBcInB4XCIpIDogXCIxMDAlXCI7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLndpZHRoID8gXCJcIi5jb25jYXQoZS53aWR0aCwgXCJweFwiKSA6IFwiMTAwJVwiO1xuICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZS5vcGVuID8gWiA6IFE7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLnZpc2libGUgPyBcInZpc2libGVcIiA6IFwiaGlkZGVuXCI7XG4gICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmJhY2tncm91bmRDb2xvcjtcbiAgICB9KSxcbiAgICAgICAgZWUgPSB1LmMuZGl2LndpdGhDb25maWcoe1xuICAgICAgZGlzcGxheU5hbWU6IFwid2lkZ2V0X19JZnJhbWVXcmFwcGVyXCIsXG4gICAgICBjb21wb25lbnRJZDogXCJzYy0xcnhqejFuLTJcIlxuICAgIH0pKFtcImhlaWdodDoxMDAlO3dpZHRoOjEwMCU7b3ZlcmZsb3c6aGlkZGVuO2JhY2tncm91bmQ6XCIsIFwiO1wiXSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBlLmJhY2tncm91bmRDb2xvcjtcbiAgICB9KSxcbiAgICAgICAgdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAhZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgdCAmJiBudWxsICE9PSB0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSh0ICYmIHQucHJvdG90eXBlLCB7XG4gICAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBlLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgICAgIH1cbiAgICAgICAgfSksIHQgJiYgVShlLCB0KTtcbiAgICAgIH0obywgaVtcIkNvbXBvbmVudFwiXSk7XG4gICAgICB2YXIgZSxcbiAgICAgICAgICB0LFxuICAgICAgICAgIG4sXG4gICAgICAgICAgciA9IEcobyk7XG5cbiAgICAgIGZ1bmN0aW9uIG8oZSkge1xuICAgICAgICB2YXIgdDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIHQpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICB9KHRoaXMsIG8pLCAodCA9IHIuY2FsbCh0aGlzLCBlKSkuZW1iZWRJZCA9IGUuZW1iZWRJZCB8fCBkKCksIHQubW9iaWxlRW1iZWRJZCA9IGQoKSwgdC53cmFwcGVyUmVmID0gT2JqZWN0KGkuY3JlYXRlUmVmKSgpLCB0LmZ1bGxTY3JlZW5Nb2RhbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIHQuc3RhdGUgPSB7XG4gICAgICAgICAgaXNGb3JtUmVhZHk6ICExLFxuICAgICAgICAgIGlzSWZyYW1lRm9jdXNlZDogITEsXG4gICAgICAgICAgaXNGdWxsc2NyZWVuOiAhMSxcbiAgICAgICAgICBidXR0b25Db2xvcjogXCJibGFja1wiLFxuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiXG4gICAgICAgIH0sIHQuaGFuZGxlTWVzc2FnZSA9IHQuaGFuZGxlTWVzc2FnZS5iaW5kKFkodCkpLCB0LmhhbmRsZUZvcm1SZWFkeSA9IE9iamVjdChtLmMpKHQuaGFuZGxlRm9ybVJlYWR5LmJpbmQoWSh0KSksIHQuZW1iZWRJZCksIHQuaGFuZGxlRm9ybVN1Ym1pdCA9IE9iamVjdChtLmMpKHQuaGFuZGxlRm9ybVN1Ym1pdC5iaW5kKFkodCkpLCB0LmVtYmVkSWQpLCB0LmhhbmRsZU1vYmlsZUZvcm1TdWJtaXQgPSB0LmhhbmRsZU1vYmlsZUZvcm1TdWJtaXQuYmluZChZKHQpKSwgdC5oYW5kbGVGb3JtVGhlbWUgPSBPYmplY3QobS5jKSh0LmhhbmRsZUZvcm1UaGVtZS5iaW5kKFkodCkpLCB0LmVtYmVkSWQpLCB0LmdvRnVsbFNjcmVlbiA9IE9iamVjdChtLmMpKHQuZ29GdWxsU2NyZWVuLmJpbmQoWSh0KSksIHQuZW1iZWRJZCksIHQuZm9jdXNJZnJhbWUgPSB0LmZvY3VzSWZyYW1lLmJpbmQoWSh0KSksIHQuaGFuZGxlQ2xvc2UgPSB0LmhhbmRsZUNsb3NlLmJpbmQoWSh0KSksIHQucmVsb2FkSWZyYW1lID0gdC5yZWxvYWRJZnJhbWUuYmluZChZKHQpKSwgdC5kZWJvdW5jZWRTY3JvbGwgPSBPYmplY3QobS5kKSh0LmZvY3VzSWZyYW1lLCBLLCBZKHQpKSwgdC5zZXRJZnJhbWVSZWYgPSB0LnNldElmcmFtZVJlZi5iaW5kKFkodCkpLCB0LnNlbmRGb2N1c01lc3NhZ2VUb0lmcmFtZSA9IHQuc2VuZEZvY3VzTWVzc2FnZVRvSWZyYW1lLmJpbmQoWSh0KSksIHQuaGFuZGxlRm9ybVNjcmVlbkNoYW5nZWQgPSB0LmhhbmRsZUZvcm1TY3JlZW5DaGFuZ2VkLmJpbmQoWSh0KSksIHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlID0gbywgKHQgPSBbe1xuICAgICAgICBrZXk6IFwiY29tcG9uZW50RGlkTW91bnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmhhbmRsZU1lc3NhZ2UpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvcm0tcmVhZHlcIiwgdGhpcy5oYW5kbGVGb3JtUmVhZHkpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmRlYm91bmNlZFNjcm9sbCksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9ybS1zdWJtaXRcIiwgdGhpcy5oYW5kbGVGb3JtU3VibWl0KSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb3JtLXRoZW1lXCIsIHRoaXMuaGFuZGxlRm9ybVRoZW1lKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWxjb21lLXNjcmVlbi1oaWRkZW5cIiwgdGhpcy5nb0Z1bGxTY3JlZW4pLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlZGlyZWN0LWFmdGVyLXN1Ym1pdFwiLCBtLmkpLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRoYW5rLXlvdS1zY3JlZW4tcmVkaXJlY3RcIiwgbS5pKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb3JtLXNjcmVlbi1jaGFuZ2VkXCIsIHRoaXMuaGFuZGxlRm9ybVNjcmVlbkNoYW5nZWQpLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZnVsbFNjcmVlbk1vZGFsRGl2KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiY29tcG9uZW50V2lsbFVubW91bnRcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLmhhbmRsZU1lc3NhZ2UpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvcm0tcmVhZHlcIiwgdGhpcy5oYW5kbGVGb3JtUmVhZHkpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCB0aGlzLmRlYm91bmNlZFNjcm9sbCksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9ybS1zdWJtaXRcIiwgdGhpcy5oYW5kbGVGb3JtU3VibWl0KSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb3JtLXRoZW1lXCIsIHRoaXMuaGFuZGxlRm9ybVRoZW1lKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWxjb21lLXNjcmVlbi1oaWRkZW5cIiwgdGhpcy5nb0Z1bGxTY3JlZW4pLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlZGlyZWN0LWFmdGVyLXN1Ym1pdFwiLCBtLmkpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRoYW5rLXlvdS1zY3JlZW4tcmVkaXJlY3RcIiwgbS5pKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb3JtLXNjcmVlbi1jaGFuZ2VkXCIsIHRoaXMuaGFuZGxlRm9ybVNjcmVlbkNoYW5nZWQpLCBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMuZnVsbFNjcmVlbk1vZGFsRGl2KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwic2V0SWZyYW1lUmVmXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdGhpcy5pZnJhbWUgPSBlO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJnb0Z1bGxTY3JlZW5cIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHRoaXMucHJvcHMuZW5hYmxlZEZ1bGxzY3JlZW4gJiYgKHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsc2NyZWVuOiAhMFxuICAgICAgICAgIH0pLCBzZXRUaW1lb3V0KHRoaXMucmVsb2FkSWZyYW1lLCA1MDApKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiaGFuZGxlQ2xvc2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNGdWxsc2NyZWVuOiAhMVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVGb3JtUmVhZHlcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHZhciBlID0gdGhpcztcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzRm9ybVJlYWR5OiAhMFxuICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGUuZm9jdXNJZnJhbWUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiaGFuZGxlRm9ybVRoZW1lXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdmFyIHQgPSAoZS5kZXRhaWwgfHwge30pLnRoZW1lO1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0LmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIGJ1dHRvbkNvbG9yOiB0LmNvbG9yXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImhhbmRsZUZvcm1TY3JlZW5DaGFuZ2VkXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uU2NyZWVuQ2hhbmdlZCAmJiB0aGlzLnByb3BzLm9wdGlvbnMub25TY3JlZW5DaGFuZ2VkKGUpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVNZXNzYWdlXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgT2JqZWN0KG0uYikodGhpcy5lbWJlZElkLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiaGFuZGxlRm9ybVN1Ym1pdFwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoZSkge1xuICAgICAgICAgIHRoaXMucHJvcHMub3B0aW9ucy5vblN1Ym1pdCAmJiB0aGlzLnByb3BzLm9wdGlvbnMub25TdWJtaXQoT2JqZWN0KG0uZikoZSkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJoYW5kbGVNb2JpbGVGb3JtU3VibWl0XCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShlKSB7XG4gICAgICAgICAgdGhpcy5wcm9wcy5vcHRpb25zLm9uU3VibWl0KGUpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJyZWxvYWRJZnJhbWVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHRoaXMuaWZyYW1lLmlmcmFtZVJlZi5zcmM7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZvY3VzSWZyYW1lXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZSgpIHtcbiAgICAgICAgICB2YXIgZSwgdDtcbiAgICAgICAgICB0aGlzLnByb3BzLmVuYWJsZWRGdWxsc2NyZWVuIHx8IChlID0gdGhpcy5pZnJhbWUuaWZyYW1lUmVmKSAmJiBlLmNvbnRlbnRXaW5kb3cgJiYgKHQgPSBPYmplY3QobS5nKShlKSwgdGhpcy5zdGF0ZS5pc0Zvcm1SZWFkeSAmJiAhdGhpcy5zdGF0ZS5pc0lmcmFtZUZvY3VzZWQgJiYgdCAmJiBudWxsICE9IGUuY29udGVudFdpbmRvdyAmJiB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzSWZyYW1lRm9jdXNlZDogITBcbiAgICAgICAgICB9LCB0aGlzLnNlbmRGb2N1c01lc3NhZ2VUb0lmcmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGtleTogXCJzZW5kRm9jdXNNZXNzYWdlVG9JZnJhbWVcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgICAgIHZhciBlID0gdGhpcy5pZnJhbWUuaWZyYW1lUmVmO1xuICAgICAgICAgIGUgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKFwiZW1iZWQtZm9jdXNcIiwgXCIqXCIpO1xuICAgICAgICAgIH0sIDEwMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAga2V5OiBcInJlbmRlclwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICAgICAgdmFyIGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICB0ID0gZS5pc0Z1bGxzY3JlZW4sXG4gICAgICAgICAgICAgIG4gPSBlLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgICAgciA9IGUuYnV0dG9uQ29sb3IsXG4gICAgICAgICAgICAgIG8gPSBlLmlzRm9ybVJlYWR5LFxuICAgICAgICAgICAgICBpID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgYSA9IGkuZW5hYmxlZEZ1bGxzY3JlZW4sXG4gICAgICAgICAgICAgIHMgPSBpLnVybCxcbiAgICAgICAgICAgICAgYyA9IHRoaXMuaWZyYW1lICYmIHRoaXMuaWZyYW1lLmlmcmFtZVJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgICAgdSA9IE9iamVjdChtLmwpKFwidHlwZWZvcm0tZW1iZWQtaWRcIiwgdGhpcy5lbWJlZElkLCBzKTtcbiAgICAgICAgICBhICYmICh1ID0gT2JqZWN0KG0ubCkoXCJkaXNhYmxlLXRyYWNraW5nXCIsIFwidHJ1ZVwiLCB1KSk7XG4gICAgICAgICAgdmFyIGwgPSBPYmplY3QobS5sKShcInR5cGVmb3JtLXdlbGNvbWVcIiwgXCIwXCIsIHMpLFxuICAgICAgICAgICAgICBsID0gT2JqZWN0KG0ubCkoXCJlbWJlZC1vcGFjaXR5XCIsIFwiMTAwXCIsIGwpLFxuICAgICAgICAgICAgICBkID0gdCA/IE9iamVjdChtLmopKG4pIDogbjtcbiAgICAgICAgICByZXR1cm4gZi5hLmNyZWF0ZUVsZW1lbnQoWCwge1xuICAgICAgICAgICAgcmVmOiB0aGlzLndyYXBwZXJSZWZcbiAgICAgICAgICB9LCBmLmEuY3JlYXRlRWxlbWVudChlZSwge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBhID8gbiA6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIH0sIGYuYS5jcmVhdGVFbGVtZW50KGsuYSwge1xuICAgICAgICAgICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgIHJlZjogdGhpcy5zZXRJZnJhbWVSZWYsXG4gICAgICAgICAgICBzcmM6IHUsXG4gICAgICAgICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICAgICAgICB9KSksIGEgJiYgZi5hLmNyZWF0ZUVsZW1lbnQoSiwge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBkLFxuICAgICAgICAgICAgYm90dG9tOiBjICYmIGMuYm90dG9tLFxuICAgICAgICAgICAgaGVpZ2h0OiBjICYmIGMuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogYyAmJiBjLmxlZnQsXG4gICAgICAgICAgICBvcGVuOiB0LFxuICAgICAgICAgICAgcmlnaHQ6IGMgJiYgYy5yaWdodCxcbiAgICAgICAgICAgIHRvcDogYyAmJiBjLnRvcCxcbiAgICAgICAgICAgIHZpc2libGU6IG8sXG4gICAgICAgICAgICB3aWR0aDogYyAmJiBjLndpZHRoXG4gICAgICAgICAgfSksIGEgJiYgcC5hLmNyZWF0ZVBvcnRhbChmLmEuY3JlYXRlRWxlbWVudChMLCB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IG4sXG4gICAgICAgICAgICBidXR0b25Db2xvcjogcixcbiAgICAgICAgICAgIGVtYmVkSWQ6IHRoaXMubW9iaWxlRW1iZWRJZCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IHRoaXMuaGFuZGxlQ2xvc2UsXG4gICAgICAgICAgICBvblN1Ym1pdDogdGhpcy5oYW5kbGVNb2JpbGVGb3JtU3VibWl0LFxuICAgICAgICAgICAgb3BlbjogdCxcbiAgICAgICAgICAgIG9wZW5EZWxheTogLjMsXG4gICAgICAgICAgICB1cmw6IGxcbiAgICAgICAgICB9KSwgdGhpcy5mdWxsU2NyZWVuTW9kYWxEaXYpKTtcbiAgICAgICAgfVxuICAgICAgfV0pICYmIEgoZS5wcm90b3R5cGUsIHQpLCBuICYmIEgoZSwgbiksIG87XG4gICAgfSgpO1xuXG4gICAgdGUucHJvcFR5cGVzID0ge1xuICAgICAgdXJsOiBjLmEuc3RyaW5nLFxuICAgICAgb3B0aW9uczogYy5hLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgICAgZW5hYmxlZEZ1bGxzY3JlZW46IGMuYS5ib29sLFxuICAgICAgZW1iZWRJZDogYy5hLnN0cmluZ1xuICAgIH0sIHRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgZW5hYmxlZEZ1bGxzY3JlZW46ICExXG4gICAgfTtcbiAgICB2YXIgbmUgPSB0ZTtcblxuICAgIGZ1bmN0aW9uIHJlKHQsIGUpIHtcbiAgICAgIHZhciBuLFxuICAgICAgICAgIHIgPSBPYmplY3Qua2V5cyh0KTtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmIChuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSwgZSAmJiAobiA9IG4uZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIGUpLmVudW1lcmFibGU7XG4gICAgICB9KSksIHIucHVzaC5hcHBseShyLCBuKSksIHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb2Uobykge1xuICAgICAgZm9yICh2YXIgZSA9IDE7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgdmFyIGkgPSBudWxsICE9IGFyZ3VtZW50c1tlXSA/IGFyZ3VtZW50c1tlXSA6IHt9O1xuICAgICAgICBlICUgMiA/IHJlKE9iamVjdChpKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgdCwgbiwgcjtcbiAgICAgICAgICB0ID0gbywgciA9IGlbbiA9IGVdLCBuIGluIHQgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgbiwge1xuICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgICB9KSA6IHRbbl0gPSByO1xuICAgICAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobywgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpIDogcmUoT2JqZWN0KGkpKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSwgZSkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG87XG4gICAgfVxuXG4gICAgdmFyIGllID0ge1xuICAgICAgbW9kZTogXCJlbWJlZC13aWRnZXRcIixcbiAgICAgIGhpZGVGb290ZXI6ICExLFxuICAgICAgaGlkZUhlYWRlcnM6ICExLFxuICAgICAgaGlkZVNjcm9sbGJhcnM6ICExLFxuICAgICAgZGlzYWJsZVRyYWNraW5nOiAhMSxcbiAgICAgIHRyYW5zZmVyYWJsZVVybFBhcmFtZXRlcnM6IFtdLFxuICAgICAgb25TdWJtaXQ6IG0uaCxcbiAgICAgIG9uU2NyZWVuQ2hhbmdlZDogbS5oXG4gICAgfSxcbiAgICAgICAgYWUgPSB7XG4gICAgICBtb2RlOiBcInR5cGVmb3JtLWVtYmVkXCIsXG4gICAgICBoaWRlRm9vdGVyOiBcImVtYmVkLWhpZGUtZm9vdGVyXCIsXG4gICAgICBoaWRlSGVhZGVyczogXCJlbWJlZC1oaWRlLWhlYWRlcnNcIixcbiAgICAgIG9wYWNpdHk6IFwiZW1iZWQtb3BhY2l0eVwiLFxuICAgICAgZGlzYWJsZVRyYWNraW5nOiBcImRpc2FibGUtdHJhY2tpbmdcIlxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZShlLCB0LCBuKSB7XG4gICAgICB2YXIgciA9IGQoKTtcbiAgICAgIG4gPSBvZShvZSh7fSwgaWUpLCBuKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIE9iamVjdChtLmMpKEYoXCJmb3JtLXJlYWR5XCIsIG4ub25SZWFkeSksIHIpKTtcbiAgICAgIHZhciBvID0geShuYXZpZ2F0b3IudXNlckFnZW50KSxcbiAgICAgICAgICBpID0gT2JqZWN0KG0uaykobiwgYWUpLFxuICAgICAgICAgIGkgPSBiKG4udHJhbnNmZXJhYmxlVXJsUGFyYW1ldGVycywgaSk7XG4gICAgICBvICYmIChpID0gb2Uob2Uoe30sIGkpLCB7fSwge1xuICAgICAgICBcImFkZC1wbGFjZWhvbGRlci13c1wiOiAhMFxuICAgICAgfSkpO1xuICAgICAgdmFyIGEgPSBPYmplY3QobS5hKSh0LCBpKTtcbiAgICAgIE9iamVjdChoLnJlbmRlcikoZi5hLmNyZWF0ZUVsZW1lbnQobmUsIHtcbiAgICAgICAgZW1iZWRJZDogcixcbiAgICAgICAgZW5hYmxlZEZ1bGxzY3JlZW46IG8sXG4gICAgICAgIG9wdGlvbnM6IG4sXG4gICAgICAgIHVybDogYVxuICAgICAgfSksIGUpO1xuICAgIH1cblxuICAgIHZhciBjZSA9IG4oOCk7XG5cbiAgICBmdW5jdGlvbiB1ZSh0LCBlKSB7XG4gICAgICB2YXIgbixcbiAgICAgICAgICByID0gT2JqZWN0LmtleXModCk7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyAmJiAobiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCksIGUgJiYgKG4gPSBuLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCBlKS5lbnVtZXJhYmxlO1xuICAgICAgfSkpLCByLnB1c2guYXBwbHkociwgbikpLCByO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxlKG8pIHtcbiAgICAgIGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgIHZhciBpID0gbnVsbCAhPSBhcmd1bWVudHNbZV0gPyBhcmd1bWVudHNbZV0gOiB7fTtcbiAgICAgICAgZSAlIDIgPyB1ZShPYmplY3QoaSksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIHQsIG4sIHI7XG4gICAgICAgICAgdCA9IG8sIHIgPSBpW24gPSBlXSwgbiBpbiB0ID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIG4sIHtcbiAgICAgICAgICAgIHZhbHVlOiByLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgICAgfSkgOiB0W25dID0gcjtcbiAgICAgICAgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG8sIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKSA6IHVlKE9iamVjdChpKSkuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksIGUpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvO1xuICAgIH1cblxuICAgIHZhciBkZSA9IHtcbiAgICAgIG1vZGU6IFwiZW1iZWQtZnVsbHBhZ2VcIixcbiAgICAgIGRpc2FibGVUcmFja2luZzogITEsXG4gICAgICBvblN1Ym1pdDogbS5oXG4gICAgfSxcbiAgICAgICAgcGUgPSB7XG4gICAgICBtb2RlOiBcInR5cGVmb3JtLWVtYmVkXCIsXG4gICAgICBkaXNhYmxlVHJhY2tpbmc6IFwiZGlzYWJsZS10cmFja2luZ1wiXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGZlKGUsIHQsIG4pIHtcbiAgICAgIG4gPSBsZShsZSh7fSwgZGUpLCBuKSwgZS5zcmMgPSBPYmplY3QobS5hKSh0LCBPYmplY3QobS5rKShuLCBwZSkpLCBlLmZvY3VzKCk7XG4gICAgICBPYmplY3QobS5lKSgpLCBlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZS5jb250ZW50V2luZG93LmZvY3VzKCk7XG4gICAgICB9LCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgY2UuYSksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiZm9ybS1zdWJtaXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgbi5vblN1Ym1pdChPYmplY3QobS5mKShlKSk7XG4gICAgICB9KSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWRpcmVjdC1hZnRlci1zdWJtaXRcIiwgbS5pKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0aGFuay15b3Utc2NyZWVuLXJlZGlyZWN0XCIsIG0uaSk7XG4gICAgfVxuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gcihlKSB7XG4gICAgICB2YXIgdCA9IG5ldyBSZWdFeHAoXCJeKD86ZnxodCl0cCg/OnMpPzovLyhbXi9dKylcIiwgXCJpbVwiKSxcbiAgICAgICAgICBuID0gZS5vcmlnaW4ubWF0Y2godCk7XG5cbiAgICAgIGlmIChuICYmIDEgPCBuLmxlbmd0aCkge1xuICAgICAgICB2YXIgciA9IG5bMV0udG9TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuICEhKC9ebG9jYWxob3N0Oi8udGVzdCh3aW5kb3cubG9jYXRpb24uaG9zdCkgPyAvKFxcLnR5cGVmb3JtKVxcLihjb218aW8pJHxebG9jYWxob3N0Oi8gOiAvKFxcLnR5cGVmb3JtKVxcLihjb218aW8pJC8pLnRlc3Qocik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG8gPSBuKDEwKSxcbiAgICAgICAgaSA9IG4ubihvKSxcbiAgICAgICAgYSA9IG4oMTUpLFxuICAgICAgICBzID0gbi5uKGEpLFxuICAgICAgICBjID0gbigxNiksXG4gICAgICAgIHUgPSBuLm4oYyk7XG5cbiAgICB0LmEgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZSA9IGUub3JpZ2luYWxFdmVudCB8fCBlLCByKGUpICYmICh1KCkoZS5kYXRhKSA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZS5kYXRhIDogcygpKGUuZGF0YSkgJiYgZS5kYXRhLmhhc093blByb3BlcnR5KFwidHlwZVwiKSA/IHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBpLmEoZS5kYXRhLnR5cGUsIHtcbiAgICAgICAgZGV0YWlsOiBlLmRhdGFcbiAgICAgIH0pKSA6IHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBpLmEoZS5kYXRhKSkpO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBlLmV4cG9ydHMgPSBuKDI2KTtcbiAgfSwgZnVuY3Rpb24gKG4sIGUsIHQpIHtcbiAgICAoZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0ID0gZS5DdXN0b21FdmVudDtcbiAgICAgIG4uZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgZSA9IG5ldyB0KFwiY2F0XCIsIHtcbiAgICAgICAgICAgIGRldGFpbDoge1xuICAgICAgICAgICAgICBmb286IFwiYmFyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gXCJjYXRcIiA9PT0gZS50eXBlICYmIFwiYmFyXCIgPT09IGUuZGV0YWlsLmZvbztcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH0oKSA/IHQgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBkb2N1bWVudCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUV2ZW50ID8gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpO1xuICAgICAgICByZXR1cm4gdCA/IG4uaW5pdEN1c3RvbUV2ZW50KGUsIHQuYnViYmxlcywgdC5jYW5jZWxhYmxlLCB0LmRldGFpbCkgOiBuLmluaXRDdXN0b21FdmVudChlLCAhMSwgITEsIHZvaWQgMCksIG47XG4gICAgICB9IDogZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICByZXR1cm4gbi50eXBlID0gZSwgdCA/IChuLmJ1YmJsZXMgPSBCb29sZWFuKHQuYnViYmxlcyksIG4uY2FuY2VsYWJsZSA9IEJvb2xlYW4odC5jYW5jZWxhYmxlKSwgbi5kZXRhaWwgPSB0LmRldGFpbCkgOiAobi5idWJibGVzID0gITEsIG4uY2FuY2VsYWJsZSA9ICExLCBuLmRldGFpbCA9IHZvaWQgMCksIG47XG4gICAgICB9O1xuICAgIH0pLmNhbGwodGhpcywgdCgxMykpO1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIHIgPSBuKDkpLFxuICAgICAgICBvID0ge1xuICAgICAgY2hpbGRDb250ZXh0VHlwZXM6ICEwLFxuICAgICAgY29udGV4dFR5cGU6ICEwLFxuICAgICAgY29udGV4dFR5cGVzOiAhMCxcbiAgICAgIGRlZmF1bHRQcm9wczogITAsXG4gICAgICBkaXNwbGF5TmFtZTogITAsXG4gICAgICBnZXREZWZhdWx0UHJvcHM6ICEwLFxuICAgICAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiAhMCxcbiAgICAgIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogITAsXG4gICAgICBtaXhpbnM6ICEwLFxuICAgICAgcHJvcFR5cGVzOiAhMCxcbiAgICAgIHR5cGU6ICEwXG4gICAgfSxcbiAgICAgICAgZCA9IHtcbiAgICAgIG5hbWU6ICEwLFxuICAgICAgbGVuZ3RoOiAhMCxcbiAgICAgIHByb3RvdHlwZTogITAsXG4gICAgICBjYWxsZXI6ICEwLFxuICAgICAgY2FsbGVlOiAhMCxcbiAgICAgIGFyZ3VtZW50czogITAsXG4gICAgICBhcml0eTogITBcbiAgICB9LFxuICAgICAgICBpID0ge1xuICAgICAgJCR0eXBlb2Y6ICEwLFxuICAgICAgY29tcGFyZTogITAsXG4gICAgICBkZWZhdWx0UHJvcHM6ICEwLFxuICAgICAgZGlzcGxheU5hbWU6ICEwLFxuICAgICAgcHJvcFR5cGVzOiAhMCxcbiAgICAgIHR5cGU6ICEwXG4gICAgfSxcbiAgICAgICAgYSA9IHt9O1xuXG4gICAgZnVuY3Rpb24gcChlKSB7XG4gICAgICByZXR1cm4gci5pc01lbW8oZSkgPyBpIDogYVtlLiQkdHlwZW9mXSB8fCBvO1xuICAgIH1cblxuICAgIGFbci5Gb3J3YXJkUmVmXSA9IHtcbiAgICAgICQkdHlwZW9mOiAhMCxcbiAgICAgIHJlbmRlcjogITAsXG4gICAgICBkZWZhdWx0UHJvcHM6ICEwLFxuICAgICAgZGlzcGxheU5hbWU6ICEwLFxuICAgICAgcHJvcFR5cGVzOiAhMFxuICAgIH0sIGFbci5NZW1vXSA9IGk7XG4gICAgdmFyIGYgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gICAgICAgIGggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgICAgICAgbSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gICAgICAgIGIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgICAgICB5ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICAgICAgICBnID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGUodCwgbiwgcikge1xuICAgICAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIG4pIHtcbiAgICAgICAgdmFyIG87XG4gICAgICAgICFnIHx8IChvID0geShuKSkgJiYgbyAhPT0gZyAmJiBlKHQsIG8sIHIpO1xuICAgICAgICB2YXIgaSA9IGgobik7XG4gICAgICAgIG0gJiYgKGkgPSBpLmNvbmNhdChtKG4pKSk7XG5cbiAgICAgICAgZm9yICh2YXIgYSA9IHAodCksIHMgPSBwKG4pLCBjID0gMDsgYyA8IGkubGVuZ3RoOyArK2MpIHtcbiAgICAgICAgICB2YXIgdSA9IGlbY107XG5cbiAgICAgICAgICBpZiAoIShkW3VdIHx8IHIgJiYgclt1XSB8fCBzICYmIHNbdV0gfHwgYSAmJiBhW3VdKSkge1xuICAgICAgICAgICAgdmFyIGwgPSBiKG4sIHUpO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBmKHQsIHUsIGwpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciByID0gL14oKGNoaWxkcmVufGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MfGtleXxyZWZ8YXV0b0ZvY3VzfGRlZmF1bHRWYWx1ZXxkZWZhdWx0Q2hlY2tlZHxpbm5lckhUTUx8c3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nfHN1cHByZXNzSHlkcmF0aW9uV2FybmluZ3x2YWx1ZUxpbmt8YWNjZXB0fGFjY2VwdENoYXJzZXR8YWNjZXNzS2V5fGFjdGlvbnxhbGxvd3xhbGxvd1VzZXJNZWRpYXxhbGxvd1BheW1lbnRSZXF1ZXN0fGFsbG93RnVsbFNjcmVlbnxhbGxvd1RyYW5zcGFyZW5jeXxhbHR8YXN5bmN8YXV0b0NvbXBsZXRlfGF1dG9QbGF5fGNhcHR1cmV8Y2VsbFBhZGRpbmd8Y2VsbFNwYWNpbmd8Y2hhbGxlbmdlfGNoYXJTZXR8Y2hlY2tlZHxjaXRlfGNsYXNzSUR8Y2xhc3NOYW1lfGNvbHN8Y29sU3Bhbnxjb250ZW50fGNvbnRlbnRFZGl0YWJsZXxjb250ZXh0TWVudXxjb250cm9sc3xjb250cm9sc0xpc3R8Y29vcmRzfGNyb3NzT3JpZ2lufGRhdGF8ZGF0ZVRpbWV8ZGVjb2Rpbmd8ZGVmYXVsdHxkZWZlcnxkaXJ8ZGlzYWJsZWR8ZGlzYWJsZVBpY3R1cmVJblBpY3R1cmV8ZG93bmxvYWR8ZHJhZ2dhYmxlfGVuY1R5cGV8Zm9ybXxmb3JtQWN0aW9ufGZvcm1FbmNUeXBlfGZvcm1NZXRob2R8Zm9ybU5vVmFsaWRhdGV8Zm9ybVRhcmdldHxmcmFtZUJvcmRlcnxoZWFkZXJzfGhlaWdodHxoaWRkZW58aGlnaHxocmVmfGhyZWZMYW5nfGh0bWxGb3J8aHR0cEVxdWl2fGlkfGlucHV0TW9kZXxpbnRlZ3JpdHl8aXN8a2V5UGFyYW1zfGtleVR5cGV8a2luZHxsYWJlbHxsYW5nfGxpc3R8bG9hZGluZ3xsb29wfGxvd3xtYXJnaW5IZWlnaHR8bWFyZ2luV2lkdGh8bWF4fG1heExlbmd0aHxtZWRpYXxtZWRpYUdyb3VwfG1ldGhvZHxtaW58bWluTGVuZ3RofG11bHRpcGxlfG11dGVkfG5hbWV8bm9uY2V8bm9WYWxpZGF0ZXxvcGVufG9wdGltdW18cGF0dGVybnxwbGFjZWhvbGRlcnxwbGF5c0lubGluZXxwb3N0ZXJ8cHJlbG9hZHxwcm9maWxlfHJhZGlvR3JvdXB8cmVhZE9ubHl8cmVmZXJyZXJQb2xpY3l8cmVsfHJlcXVpcmVkfHJldmVyc2VkfHJvbGV8cm93c3xyb3dTcGFufHNhbmRib3h8c2NvcGV8c2NvcGVkfHNjcm9sbGluZ3xzZWFtbGVzc3xzZWxlY3RlZHxzaGFwZXxzaXplfHNpemVzfHNsb3R8c3BhbnxzcGVsbENoZWNrfHNyY3xzcmNEb2N8c3JjTGFuZ3xzcmNTZXR8c3RhcnR8c3RlcHxzdHlsZXxzdW1tYXJ5fHRhYkluZGV4fHRhcmdldHx0aXRsZXx0eXBlfHVzZU1hcHx2YWx1ZXx3aWR0aHx3bW9kZXx3cmFwfGFib3V0fGRhdGF0eXBlfGlubGlzdHxwcmVmaXh8cHJvcGVydHl8cmVzb3VyY2V8dHlwZW9mfHZvY2FifGF1dG9DYXBpdGFsaXplfGF1dG9Db3JyZWN0fGF1dG9TYXZlfGNvbG9yfGluZXJ0fGl0ZW1Qcm9wfGl0ZW1TY29wZXxpdGVtVHlwZXxpdGVtSUR8aXRlbVJlZnxvbnxyZXN1bHRzfHNlY3VyaXR5fHVuc2VsZWN0YWJsZXxhY2NlbnRIZWlnaHR8YWNjdW11bGF0ZXxhZGRpdGl2ZXxhbGlnbm1lbnRCYXNlbGluZXxhbGxvd1Jlb3JkZXJ8YWxwaGFiZXRpY3xhbXBsaXR1ZGV8YXJhYmljRm9ybXxhc2NlbnR8YXR0cmlidXRlTmFtZXxhdHRyaWJ1dGVUeXBlfGF1dG9SZXZlcnNlfGF6aW11dGh8YmFzZUZyZXF1ZW5jeXxiYXNlbGluZVNoaWZ0fGJhc2VQcm9maWxlfGJib3h8YmVnaW58Ymlhc3xieXxjYWxjTW9kZXxjYXBIZWlnaHR8Y2xpcHxjbGlwUGF0aFVuaXRzfGNsaXBQYXRofGNsaXBSdWxlfGNvbG9ySW50ZXJwb2xhdGlvbnxjb2xvckludGVycG9sYXRpb25GaWx0ZXJzfGNvbG9yUHJvZmlsZXxjb2xvclJlbmRlcmluZ3xjb250ZW50U2NyaXB0VHlwZXxjb250ZW50U3R5bGVUeXBlfGN1cnNvcnxjeHxjeXxkfGRlY2VsZXJhdGV8ZGVzY2VudHxkaWZmdXNlQ29uc3RhbnR8ZGlyZWN0aW9ufGRpc3BsYXl8ZGl2aXNvcnxkb21pbmFudEJhc2VsaW5lfGR1cnxkeHxkeXxlZGdlTW9kZXxlbGV2YXRpb258ZW5hYmxlQmFja2dyb3VuZHxlbmR8ZXhwb25lbnR8ZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZHxmaWxsfGZpbGxPcGFjaXR5fGZpbGxSdWxlfGZpbHRlcnxmaWx0ZXJSZXN8ZmlsdGVyVW5pdHN8Zmxvb2RDb2xvcnxmbG9vZE9wYWNpdHl8Zm9jdXNhYmxlfGZvbnRGYW1pbHl8Zm9udFNpemV8Zm9udFNpemVBZGp1c3R8Zm9udFN0cmV0Y2h8Zm9udFN0eWxlfGZvbnRWYXJpYW50fGZvbnRXZWlnaHR8Zm9ybWF0fGZyb218ZnJ8Znh8Znl8ZzF8ZzJ8Z2x5cGhOYW1lfGdseXBoT3JpZW50YXRpb25Ib3Jpem9udGFsfGdseXBoT3JpZW50YXRpb25WZXJ0aWNhbHxnbHlwaFJlZnxncmFkaWVudFRyYW5zZm9ybXxncmFkaWVudFVuaXRzfGhhbmdpbmd8aG9yaXpBZHZYfGhvcml6T3JpZ2luWHxpZGVvZ3JhcGhpY3xpbWFnZVJlbmRlcmluZ3xpbnxpbjJ8aW50ZXJjZXB0fGt8azF8azJ8azN8azR8a2VybmVsTWF0cml4fGtlcm5lbFVuaXRMZW5ndGh8a2VybmluZ3xrZXlQb2ludHN8a2V5U3BsaW5lc3xrZXlUaW1lc3xsZW5ndGhBZGp1c3R8bGV0dGVyU3BhY2luZ3xsaWdodGluZ0NvbG9yfGxpbWl0aW5nQ29uZUFuZ2xlfGxvY2FsfG1hcmtlckVuZHxtYXJrZXJNaWR8bWFya2VyU3RhcnR8bWFya2VySGVpZ2h0fG1hcmtlclVuaXRzfG1hcmtlcldpZHRofG1hc2t8bWFza0NvbnRlbnRVbml0c3xtYXNrVW5pdHN8bWF0aGVtYXRpY2FsfG1vZGV8bnVtT2N0YXZlc3xvZmZzZXR8b3BhY2l0eXxvcGVyYXRvcnxvcmRlcnxvcmllbnR8b3JpZW50YXRpb258b3JpZ2lufG92ZXJmbG93fG92ZXJsaW5lUG9zaXRpb258b3ZlcmxpbmVUaGlja25lc3N8cGFub3NlMXxwYWludE9yZGVyfHBhdGhMZW5ndGh8cGF0dGVybkNvbnRlbnRVbml0c3xwYXR0ZXJuVHJhbnNmb3JtfHBhdHRlcm5Vbml0c3xwb2ludGVyRXZlbnRzfHBvaW50c3xwb2ludHNBdFh8cG9pbnRzQXRZfHBvaW50c0F0WnxwcmVzZXJ2ZUFscGhhfHByZXNlcnZlQXNwZWN0UmF0aW98cHJpbWl0aXZlVW5pdHN8cnxyYWRpdXN8cmVmWHxyZWZZfHJlbmRlcmluZ0ludGVudHxyZXBlYXRDb3VudHxyZXBlYXREdXJ8cmVxdWlyZWRFeHRlbnNpb25zfHJlcXVpcmVkRmVhdHVyZXN8cmVzdGFydHxyZXN1bHR8cm90YXRlfHJ4fHJ5fHNjYWxlfHNlZWR8c2hhcGVSZW5kZXJpbmd8c2xvcGV8c3BhY2luZ3xzcGVjdWxhckNvbnN0YW50fHNwZWN1bGFyRXhwb25lbnR8c3BlZWR8c3ByZWFkTWV0aG9kfHN0YXJ0T2Zmc2V0fHN0ZERldmlhdGlvbnxzdGVtaHxzdGVtdnxzdGl0Y2hUaWxlc3xzdG9wQ29sb3J8c3RvcE9wYWNpdHl8c3RyaWtldGhyb3VnaFBvc2l0aW9ufHN0cmlrZXRocm91Z2hUaGlja25lc3N8c3RyaW5nfHN0cm9rZXxzdHJva2VEYXNoYXJyYXl8c3Ryb2tlRGFzaG9mZnNldHxzdHJva2VMaW5lY2FwfHN0cm9rZUxpbmVqb2lufHN0cm9rZU1pdGVybGltaXR8c3Ryb2tlT3BhY2l0eXxzdHJva2VXaWR0aHxzdXJmYWNlU2NhbGV8c3lzdGVtTGFuZ3VhZ2V8dGFibGVWYWx1ZXN8dGFyZ2V0WHx0YXJnZXRZfHRleHRBbmNob3J8dGV4dERlY29yYXRpb258dGV4dFJlbmRlcmluZ3x0ZXh0TGVuZ3RofHRvfHRyYW5zZm9ybXx1MXx1Mnx1bmRlcmxpbmVQb3NpdGlvbnx1bmRlcmxpbmVUaGlja25lc3N8dW5pY29kZXx1bmljb2RlQmlkaXx1bmljb2RlUmFuZ2V8dW5pdHNQZXJFbXx2QWxwaGFiZXRpY3x2SGFuZ2luZ3x2SWRlb2dyYXBoaWN8dk1hdGhlbWF0aWNhbHx2YWx1ZXN8dmVjdG9yRWZmZWN0fHZlcnNpb258dmVydEFkdll8dmVydE9yaWdpblh8dmVydE9yaWdpbll8dmlld0JveHx2aWV3VGFyZ2V0fHZpc2liaWxpdHl8d2lkdGhzfHdvcmRTcGFjaW5nfHdyaXRpbmdNb2RlfHh8eEhlaWdodHx4MXx4Mnx4Q2hhbm5lbFNlbGVjdG9yfHhsaW5rQWN0dWF0ZXx4bGlua0FyY3JvbGV8eGxpbmtIcmVmfHhsaW5rUm9sZXx4bGlua1Nob3d8eGxpbmtUaXRsZXx4bGlua1R5cGV8eG1sQmFzZXx4bWxuc3x4bWxuc1hsaW5rfHhtbExhbmd8eG1sU3BhY2V8eXx5MXx5Mnx5Q2hhbm5lbFNlbGVjdG9yfHp8em9vbUFuZFBhbnxmb3J8Y2xhc3N8YXV0b2ZvY3VzKXwoKFtEZF1bQWFdW1R0XVtBYV18W0FhXVtScl1bSWldW0FhXXx4KS0uKikpJC8sXG4gICAgICAgIG8gPSBmdW5jdGlvbiAodCkge1xuICAgICAgdmFyIG4gPSB7fTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBuW2VdICYmIChuW2VdID0gdChlKSksIG5bZV07XG4gICAgICB9O1xuICAgIH0oZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiByLnRlc3QoZSkgfHwgMTExID09PSBlLmNoYXJDb2RlQXQoMCkgJiYgMTEwID09PSBlLmNoYXJDb2RlQXQoMSkgJiYgZS5jaGFyQ29kZUF0KDIpIDwgOTE7XG4gICAgfSk7XG5cbiAgICB0LmEgPSBvO1xuICB9LCBmdW5jdGlvbiAoZSwgdCkge1xuICAgIHZhciBuID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSgpO1xuXG4gICAgdHJ5IHtcbiAgICAgIG4gPSBuIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgXCJvYmplY3RcIiA9PSB0eXBlb2Ygd2luZG93ICYmIChuID0gd2luZG93KTtcbiAgICB9XG5cbiAgICBlLmV4cG9ydHMgPSBuO1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgcikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgKGZ1bmN0aW9uIChhKSB7XG4gICAgICB2YXIgZiA9IHIoMjEpLFxuICAgICAgICAgIGggPSByKDIyKSxcbiAgICAgICAgICBzID0gL15bQS1aYS16XVtBLVphLXowLTkrLS5dKjpcXC9cXC8vLFxuICAgICAgICAgIG4gPSAvXihbYS16XVthLXowLTkuKy1dKjopPyhcXC9cXC8pPyhbXFxTXFxzXSopL2ksXG4gICAgICAgICAgdCA9IG5ldyBSZWdFeHAoXCJeW1xcXFx4MDlcXFxceDBBXFxcXHgwQlxcXFx4MENcXFxceDBEXFxcXHgyMFxcXFx4QTBcXFxcdTE2ODBcXFxcdTE4MEVcXFxcdTIwMDBcXFxcdTIwMDFcXFxcdTIwMDJcXFxcdTIwMDNcXFxcdTIwMDRcXFxcdTIwMDVcXFxcdTIwMDZcXFxcdTIwMDdcXFxcdTIwMDhcXFxcdTIwMDlcXFxcdTIwMEFcXFxcdTIwMkZcXFxcdTIwNUZcXFxcdTMwMDBcXFxcdTIwMjhcXFxcdTIwMjlcXFxcdUZFRkZdK1wiKTtcblxuICAgICAgZnVuY3Rpb24gbShlKSB7XG4gICAgICAgIHJldHVybiAoZSB8fCBcIlwiKS50b1N0cmluZygpLnJlcGxhY2UodCwgXCJcIik7XG4gICAgICB9XG5cbiAgICAgIHZhciBiID0gW1tcIiNcIiwgXCJoYXNoXCJdLCBbXCI/XCIsIFwicXVlcnlcIl0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlLnJlcGxhY2UoXCJcXFxcXCIsIFwiL1wiKTtcbiAgICAgIH0sIFtcIi9cIiwgXCJwYXRobmFtZVwiXSwgW1wiQFwiLCBcImF1dGhcIiwgMV0sIFtOYU4sIFwiaG9zdFwiLCB2b2lkIDAsIDEsIDFdLCBbLzooXFxkKykkLywgXCJwb3J0XCIsIHZvaWQgMCwgMV0sIFtOYU4sIFwiaG9zdG5hbWVcIiwgdm9pZCAwLCAxLCAxXV0sXG4gICAgICAgICAgYyA9IHtcbiAgICAgICAgaGFzaDogMSxcbiAgICAgICAgcXVlcnk6IDFcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIHkoZSkge1xuICAgICAgICB2YXIgdCxcbiAgICAgICAgICAgIG4gPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiB2b2lkIDAgIT09IGEgPyBhIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiA/IHNlbGYgOiB7fSxcbiAgICAgICAgICAgIHIgPSBuLmxvY2F0aW9uIHx8IHt9LFxuICAgICAgICAgICAgbyA9IHt9LFxuICAgICAgICAgICAgaSA9IHR5cGVvZiAoZSA9IGUgfHwgcik7XG4gICAgICAgIGlmIChcImJsb2I6XCIgPT09IGUucHJvdG9jb2wpIG8gPSBuZXcgdih1bmVzY2FwZShlLnBhdGhuYW1lKSwge30pO2Vsc2UgaWYgKFwic3RyaW5nXCIgPT0gaSkgZm9yICh0IGluIG8gPSBuZXcgdihlLCB7fSksIGMpIHtcbiAgICAgICAgICBkZWxldGUgb1t0XTtcbiAgICAgICAgfSBlbHNlIGlmIChcIm9iamVjdFwiID09IGkpIHtcbiAgICAgICAgICBmb3IgKHQgaW4gZSkge1xuICAgICAgICAgICAgdCBpbiBjIHx8IChvW3RdID0gZVt0XSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdm9pZCAwID09PSBvLnNsYXNoZXMgJiYgKG8uc2xhc2hlcyA9IHMudGVzdChlLmhyZWYpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZyhlKSB7XG4gICAgICAgIGUgPSBtKGUpO1xuICAgICAgICB2YXIgdCA9IG4uZXhlYyhlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwcm90b2NvbDogdFsxXSA/IHRbMV0udG9Mb3dlckNhc2UoKSA6IFwiXCIsXG4gICAgICAgICAgc2xhc2hlczogISF0WzJdLFxuICAgICAgICAgIHJlc3Q6IHRbM11cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdihlLCB0LCBuKSB7XG4gICAgICAgIGlmIChlID0gbShlKSwgISh0aGlzIGluc3RhbmNlb2YgdikpIHJldHVybiBuZXcgdihlLCB0LCBuKTtcbiAgICAgICAgdmFyIHIsXG4gICAgICAgICAgICBvLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGEsXG4gICAgICAgICAgICBzLFxuICAgICAgICAgICAgYyxcbiAgICAgICAgICAgIHUgPSBiLnNsaWNlKCksXG4gICAgICAgICAgICBsID0gdHlwZW9mIHQsXG4gICAgICAgICAgICBkID0gdGhpcyxcbiAgICAgICAgICAgIHAgPSAwO1xuXG4gICAgICAgIGZvciAoXCJvYmplY3RcIiAhPSBsICYmIFwic3RyaW5nXCIgIT0gbCAmJiAobiA9IHQsIHQgPSBudWxsKSwgbiAmJiBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIG4gJiYgKG4gPSBoLnBhcnNlKSwgdCA9IHkodCksIHIgPSAhKG8gPSBnKGUgfHwgXCJcIikpLnByb3RvY29sICYmICFvLnNsYXNoZXMsIGQuc2xhc2hlcyA9IG8uc2xhc2hlcyB8fCByICYmIHQuc2xhc2hlcywgZC5wcm90b2NvbCA9IG8ucHJvdG9jb2wgfHwgdC5wcm90b2NvbCB8fCBcIlwiLCBlID0gby5yZXN0LCBvLnNsYXNoZXMgfHwgKHVbM10gPSBbLyguKikvLCBcInBhdGhuYW1lXCJdKTsgcCA8IHUubGVuZ3RoOyBwKyspIHtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIChhID0gdVtwXSkgPyAoaSA9IGFbMF0sIGMgPSBhWzFdLCBpICE9IGkgPyBkW2NdID0gZSA6IFwic3RyaW5nXCIgPT0gdHlwZW9mIGkgPyB+KHMgPSBlLmluZGV4T2YoaSkpICYmIChlID0gXCJudW1iZXJcIiA9PSB0eXBlb2YgYVsyXSA/IChkW2NdID0gZS5zbGljZSgwLCBzKSwgZS5zbGljZShzICsgYVsyXSkpIDogKGRbY10gPSBlLnNsaWNlKHMpLCBlLnNsaWNlKDAsIHMpKSkgOiAocyA9IGkuZXhlYyhlKSkgJiYgKGRbY10gPSBzWzFdLCBlID0gZS5zbGljZSgwLCBzLmluZGV4KSksIGRbY10gPSBkW2NdIHx8IHIgJiYgYVszXSAmJiB0W2NdIHx8IFwiXCIsIGFbNF0gJiYgKGRbY10gPSBkW2NdLnRvTG93ZXJDYXNlKCkpKSA6IGUgPSBhKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbiAmJiAoZC5xdWVyeSA9IG4oZC5xdWVyeSkpLCByICYmIHQuc2xhc2hlcyAmJiBcIi9cIiAhPT0gZC5wYXRobmFtZS5jaGFyQXQoMCkgJiYgKFwiXCIgIT09IGQucGF0aG5hbWUgfHwgXCJcIiAhPT0gdC5wYXRobmFtZSkgJiYgKGQucGF0aG5hbWUgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgICAgIGlmIChcIlwiID09PSBlKSByZXR1cm4gdDtcblxuICAgICAgICAgIGZvciAodmFyIG4gPSAodCB8fCBcIi9cIikuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKS5jb25jYXQoZS5zcGxpdChcIi9cIikpLCByID0gbi5sZW5ndGgsIG8gPSBuW3IgLSAxXSwgaSA9ICExLCBhID0gMDsgci0tOykge1xuICAgICAgICAgICAgXCIuXCIgPT09IG5bcl0gPyBuLnNwbGljZShyLCAxKSA6IFwiLi5cIiA9PT0gbltyXSA/IChuLnNwbGljZShyLCAxKSwgYSsrKSA6IGEgJiYgKDAgPT09IHIgJiYgKGkgPSAhMCksIG4uc3BsaWNlKHIsIDEpLCBhLS0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpICYmIG4udW5zaGlmdChcIlwiKSwgXCIuXCIgIT09IG8gJiYgXCIuLlwiICE9PSBvIHx8IG4ucHVzaChcIlwiKSwgbi5qb2luKFwiL1wiKTtcbiAgICAgICAgfShkLnBhdGhuYW1lLCB0LnBhdGhuYW1lKSksIGYoZC5wb3J0LCBkLnByb3RvY29sKSB8fCAoZC5ob3N0ID0gZC5ob3N0bmFtZSwgZC5wb3J0ID0gXCJcIiksIGQudXNlcm5hbWUgPSBkLnBhc3N3b3JkID0gXCJcIiwgZC5hdXRoICYmIChhID0gZC5hdXRoLnNwbGl0KFwiOlwiKSwgZC51c2VybmFtZSA9IGFbMF0gfHwgXCJcIiwgZC5wYXNzd29yZCA9IGFbMV0gfHwgXCJcIiksIGQub3JpZ2luID0gZC5wcm90b2NvbCAmJiBkLmhvc3QgJiYgXCJmaWxlOlwiICE9PSBkLnByb3RvY29sID8gZC5wcm90b2NvbCArIFwiLy9cIiArIGQuaG9zdCA6IFwibnVsbFwiLCBkLmhyZWYgPSBkLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIHYucHJvdG90eXBlID0ge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlLCB0LCBuKSB7XG4gICAgICAgICAgdmFyIHIsXG4gICAgICAgICAgICAgIG8gPSB0aGlzO1xuXG4gICAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgICBjYXNlIFwicXVlcnlcIjpcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiB0Lmxlbmd0aCAmJiAodCA9IChuIHx8IGgucGFyc2UpKHQpKSwgb1tlXSA9IHQ7XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwicG9ydFwiOlxuICAgICAgICAgICAgICBvW2VdID0gdCwgZih0LCBvLnByb3RvY29sKSA/IHQgJiYgKG8uaG9zdCA9IG8uaG9zdG5hbWUgKyBcIjpcIiArIHQpIDogKG8uaG9zdCA9IG8uaG9zdG5hbWUsIG9bZV0gPSBcIlwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJob3N0bmFtZVwiOlxuICAgICAgICAgICAgICBvW2VdID0gdCwgby5wb3J0ICYmICh0ICs9IFwiOlwiICsgby5wb3J0KSwgby5ob3N0ID0gdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJob3N0XCI6XG4gICAgICAgICAgICAgIG9bZV0gPSB0LCAvOlxcZCskLy50ZXN0KHQpID8gKHQgPSB0LnNwbGl0KFwiOlwiKSwgby5wb3J0ID0gdC5wb3AoKSwgby5ob3N0bmFtZSA9IHQuam9pbihcIjpcIikpIDogKG8uaG9zdG5hbWUgPSB0LCBvLnBvcnQgPSBcIlwiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJwcm90b2NvbFwiOlxuICAgICAgICAgICAgICBvLnByb3RvY29sID0gdC50b0xvd2VyQ2FzZSgpLCBvLnNsYXNoZXMgPSAhbjtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJwYXRobmFtZVwiOlxuICAgICAgICAgICAgY2FzZSBcImhhc2hcIjpcbiAgICAgICAgICAgICAgdCA/IChyID0gXCJwYXRobmFtZVwiID09PSBlID8gXCIvXCIgOiBcIiNcIiwgb1tlXSA9IHQuY2hhckF0KDApICE9PSByID8gciArIHQgOiB0KSA6IG9bZV0gPSB0O1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgb1tlXSA9IHQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYSA9IGJbaV07XG4gICAgICAgICAgICBhWzRdICYmIChvW2FbMV1dID0gb1thWzFdXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gby5vcmlnaW4gPSBvLnByb3RvY29sICYmIG8uaG9zdCAmJiBcImZpbGU6XCIgIT09IG8ucHJvdG9jb2wgPyBvLnByb3RvY29sICsgXCIvL1wiICsgby5ob3N0IDogXCJudWxsXCIsIG8uaHJlZiA9IG8udG9TdHJpbmcoKSwgbztcbiAgICAgICAgfSxcbiAgICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKGUpIHtcbiAgICAgICAgICBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSB8fCAoZSA9IGguc3RyaW5naWZ5KTtcbiAgICAgICAgICB2YXIgdCxcbiAgICAgICAgICAgICAgbiA9IHRoaXMsXG4gICAgICAgICAgICAgIHIgPSBuLnByb3RvY29sO1xuICAgICAgICAgIHIgJiYgXCI6XCIgIT09IHIuY2hhckF0KHIubGVuZ3RoIC0gMSkgJiYgKHIgKz0gXCI6XCIpO1xuICAgICAgICAgIHZhciBvID0gciArIChuLnNsYXNoZXMgPyBcIi8vXCIgOiBcIlwiKTtcbiAgICAgICAgICByZXR1cm4gbi51c2VybmFtZSAmJiAobyArPSBuLnVzZXJuYW1lLCBuLnBhc3N3b3JkICYmIChvICs9IFwiOlwiICsgbi5wYXNzd29yZCksIG8gKz0gXCJAXCIpLCBvICs9IG4uaG9zdCArIG4ucGF0aG5hbWUsICh0ID0gXCJvYmplY3RcIiA9PSB0eXBlb2Ygbi5xdWVyeSA/IGUobi5xdWVyeSkgOiBuLnF1ZXJ5KSAmJiAobyArPSBcIj9cIiAhPT0gdC5jaGFyQXQoMCkgPyBcIj9cIiArIHQgOiB0KSwgbi5oYXNoICYmIChvICs9IG4uaGFzaCksIG87XG4gICAgICAgIH1cbiAgICAgIH0sIHYuZXh0cmFjdFByb3RvY29sID0gZywgdi5sb2NhdGlvbiA9IHksIHYudHJpbUxlZnQgPSBtLCB2LnFzID0gaCwgZS5leHBvcnRzID0gdjtcbiAgICB9KS5jYWxsKHRoaXMsIHIoMTMpKTtcbiAgfSwgZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKiFcbiAgICAgKiBpc29iamVjdCA8aHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvaXNvYmplY3Q+XG4gICAgICpcbiAgICAgKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgSm9uIFNjaGxpbmtlcnQuXG4gICAgICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICAgICAqL1xuXG4gICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBudWxsICE9IGUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiAhMSA9PT0gQXJyYXkuaXNBcnJheShlKTtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZSwgdCkge1xuICAgIGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgZSkgcmV0dXJuICExO1xuICAgICAgdmFyIHQgPSBlLm1hdGNoKHIpO1xuICAgICAgaWYgKCF0KSByZXR1cm4gITE7XG4gICAgICB2YXIgbiA9IHRbMV07XG4gICAgICBpZiAoIW4pIHJldHVybiAhMTtcbiAgICAgIGlmIChvLnRlc3QobikgfHwgaS50ZXN0KG4pKSByZXR1cm4gITA7XG4gICAgICByZXR1cm4gITE7XG4gICAgfTtcblxuICAgIHZhciByID0gL14oPzpcXHcrOik/XFwvXFwvKFxcUyspJC8sXG4gICAgICAgIG8gPSAvXmxvY2FsaG9zdFtcXDo/XFxkXSooPzpbXlxcOj9cXGRdXFxTKik/JC8sXG4gICAgICAgIGkgPSAvXlteXFxzXFwuXStcXC5cXFN7Mix9JC87XG4gIH0sIGZ1bmN0aW9uICh0LCBuLCBlKSB7XG4gICAgdmFyIG87XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgICB2YXIgciA9IG51bGwsXG4gICAgICAgICAgZSA9IGZ1bmN0aW9uIGUoX2UpIHtcbiAgICAgICAgdmFyIHQsIG47XG4gICAgICAgIHJldHVybiBudWxsID09IF9lICYmIChfZSA9ICExKSwgbnVsbCA9PSByIHx8IF9lID8gXCJsb2FkaW5nXCIgPT09IGRvY3VtZW50LnJlYWR5U3RhdGUgPyBudWxsIDogKHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLCBuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSwgdC5zdHlsZS53aWR0aCA9IG4uc3R5bGUud2lkdGggPSB0LnN0eWxlLmhlaWdodCA9IG4uc3R5bGUuaGVpZ2h0ID0gXCIxMDBweFwiLCB0LnN0eWxlLm92ZXJmbG93ID0gXCJzY3JvbGxcIiwgbi5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCIsIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCksIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobiksIHIgPSBNYXRoLmFicyh0LnNjcm9sbEhlaWdodCAtIG4uc2Nyb2xsSGVpZ2h0KSwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KSwgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChuKSwgcikgOiByO1xuICAgICAgfTtcblxuICAgICAgdm9pZCAwID09PSAobyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9LmFwcGx5KG4sIFtdKSkgfHwgKHQuZXhwb3J0cyA9IG8pO1xuICAgIH0pLmNhbGwodGhpcyk7XG4gIH0sIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHtcbiAgICAgIGlmICh2b2lkIDAgIT09ICh1ID0gbiA/IG4uY2FsbChyLCBlLCB0KSA6IHZvaWQgMCkpIHJldHVybiAhIXU7XG4gICAgICBpZiAoZSA9PT0gdCkgcmV0dXJuICEwO1xuICAgICAgaWYgKFwib2JqZWN0XCIgIT0gdHlwZW9mIGUgfHwgIWUgfHwgXCJvYmplY3RcIiAhPSB0eXBlb2YgdCB8fCAhdCkgcmV0dXJuICExO1xuICAgICAgdmFyIG8gPSBPYmplY3Qua2V5cyhlKSxcbiAgICAgICAgICBpID0gT2JqZWN0LmtleXModCk7XG4gICAgICBpZiAoby5sZW5ndGggIT09IGkubGVuZ3RoKSByZXR1cm4gITE7XG5cbiAgICAgIGZvciAodmFyIGEgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmJpbmQodCksIHMgPSAwOyBzIDwgby5sZW5ndGg7IHMrKykge1xuICAgICAgICB2YXIgYyA9IG9bc107XG4gICAgICAgIGlmICghYShjKSkgcmV0dXJuICExO1xuICAgICAgICB2YXIgdSxcbiAgICAgICAgICAgIGwgPSBlW2NdLFxuICAgICAgICAgICAgZCA9IHRbY107XG4gICAgICAgIGlmICghMSA9PT0gKHUgPSBuID8gbi5jYWxsKHIsIGwsIGQsIGMpIDogdm9pZCAwKSB8fCB2b2lkIDAgPT09IHUgJiYgbCAhPT0gZCkgcmV0dXJuICExO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gITA7XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHQuYSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBmdW5jdGlvbiBBKGUsIHQsIG4pIHtcbiAgICAgICAgdmFyIHIgPSB0LnRyaW0oKS5zcGxpdChkKSxcbiAgICAgICAgICAgIG8gPSAodCA9IHIpLmxlbmd0aCxcbiAgICAgICAgICAgIGkgPSBlLmxlbmd0aDtcblxuICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdmFyIGEgPSAwO1xuXG4gICAgICAgICAgICBmb3IgKGUgPSAwID09PSBpID8gXCJcIiA6IGVbMF0gKyBcIiBcIjsgYSA8IG87ICsrYSkge1xuICAgICAgICAgICAgICB0W2FdID0gdShlLCB0W2FdLCBuKS50cmltKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciBzID0gYSA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodCA9IFtdOyBhIDwgbzsgKythKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgaTsgKytjKSB7XG4gICAgICAgICAgICAgICAgdFtzKytdID0gdShlW2NdICsgXCIgXCIsIHJbYV0sIG4pLnRyaW0oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdShlLCB0LCBuKSB7XG4gICAgICAgIHZhciByID0gdC5jaGFyQ29kZUF0KDApO1xuXG4gICAgICAgIHN3aXRjaCAociA8IDMzICYmIChyID0gKHQgPSB0LnRyaW0oKSkuY2hhckNvZGVBdCgwKSksIHIpIHtcbiAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgcmV0dXJuIHQucmVwbGFjZShvLCBcIiQxXCIgKyBlLnRyaW0oKSk7XG5cbiAgICAgICAgICBjYXNlIDU4OlxuICAgICAgICAgICAgcmV0dXJuIGUudHJpbSgpICsgdC5yZXBsYWNlKG8sIFwiJDFcIiArIGUudHJpbSgpKTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoMCA8ICtuICYmIDAgPCB0LmluZGV4T2YoXCJcXGZcIikpIHJldHVybiB0LnJlcGxhY2UobywgKDU4ID09PSBlLmNoYXJDb2RlQXQoMCkgPyBcIlwiIDogXCIkMVwiKSArIGUudHJpbSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlICsgdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gUChlLCB0LCBuLCByKSB7XG4gICAgICAgIHZhciBvID0gZSArIFwiO1wiLFxuICAgICAgICAgICAgaSA9IDIgKiB0ICsgMyAqIG4gKyA0ICogcjtcblxuICAgICAgICBpZiAoOTQ0ID09PSBpKSB7XG4gICAgICAgICAgZSA9IG8uaW5kZXhPZihcIjpcIiwgOSkgKyAxO1xuICAgICAgICAgIHZhciBhID0gby5zdWJzdHJpbmcoZSwgby5sZW5ndGggLSAxKS50cmltKCksXG4gICAgICAgICAgICAgIGEgPSBvLnN1YnN0cmluZygwLCBlKS50cmltKCkgKyBhICsgXCI7XCI7XG4gICAgICAgICAgcmV0dXJuIDEgPT09IHEgfHwgMiA9PT0gcSAmJiBJKGEsIDEpID8gXCItd2Via2l0LVwiICsgYSArIGEgOiBhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKDAgPT09IHEgfHwgMiA9PT0gcSAmJiAhSShvLCAxKSkgcmV0dXJuIG87XG5cbiAgICAgICAgc3dpdGNoIChpKSB7XG4gICAgICAgICAgY2FzZSAxMDE1OlxuICAgICAgICAgICAgcmV0dXJuIDk3ID09PSBvLmNoYXJDb2RlQXQoMTApID8gXCItd2Via2l0LVwiICsgbyArIG8gOiBvO1xuXG4gICAgICAgICAgY2FzZSA5NTE6XG4gICAgICAgICAgICByZXR1cm4gMTE2ID09PSBvLmNoYXJDb2RlQXQoMykgPyBcIi13ZWJraXQtXCIgKyBvICsgbyA6IG87XG5cbiAgICAgICAgICBjYXNlIDk2MzpcbiAgICAgICAgICAgIHJldHVybiAxMTAgPT09IG8uY2hhckNvZGVBdCg1KSA/IFwiLXdlYmtpdC1cIiArIG8gKyBvIDogbztcblxuICAgICAgICAgIGNhc2UgMTAwOTpcbiAgICAgICAgICAgIGlmICgxMDAgIT09IG8uY2hhckNvZGVBdCg0KSkgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDk2OTpcbiAgICAgICAgICBjYXNlIDk0MjpcbiAgICAgICAgICAgIHJldHVybiBcIi13ZWJraXQtXCIgKyBvICsgbztcblxuICAgICAgICAgIGNhc2UgOTc4OlxuICAgICAgICAgICAgcmV0dXJuIFwiLXdlYmtpdC1cIiArIG8gKyBcIi1tb3otXCIgKyBvICsgbztcblxuICAgICAgICAgIGNhc2UgMTAxOTpcbiAgICAgICAgICBjYXNlIDk4MzpcbiAgICAgICAgICAgIHJldHVybiBcIi13ZWJraXQtXCIgKyBvICsgXCItbW96LVwiICsgbyArIFwiLW1zLVwiICsgbyArIG87XG5cbiAgICAgICAgICBjYXNlIDg4MzpcbiAgICAgICAgICAgIGlmICg0NSA9PT0gby5jaGFyQ29kZUF0KDgpKSByZXR1cm4gXCItd2Via2l0LVwiICsgbyArIG87XG4gICAgICAgICAgICBpZiAoMCA8IG8uaW5kZXhPZihcImltYWdlLXNldChcIiwgMTEpKSByZXR1cm4gby5yZXBsYWNlKGIsIFwiJDEtd2Via2l0LSQyXCIpICsgbztcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSA5MzI6XG4gICAgICAgICAgICBpZiAoNDUgPT09IG8uY2hhckNvZGVBdCg0KSkgc3dpdGNoIChvLmNoYXJDb2RlQXQoNSkpIHtcbiAgICAgICAgICAgICAgY2FzZSAxMDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiLXdlYmtpdC1ib3gtXCIgKyBvLnJlcGxhY2UoXCItZ3Jvd1wiLCBcIlwiKSArIFwiLXdlYmtpdC1cIiArIG8gKyBcIi1tcy1cIiArIG8ucmVwbGFjZShcImdyb3dcIiwgXCJwb3NpdGl2ZVwiKSArIG87XG5cbiAgICAgICAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiLXdlYmtpdC1cIiArIG8gKyBcIi1tcy1cIiArIG8ucmVwbGFjZShcInNocmlua1wiLCBcIm5lZ2F0aXZlXCIpICsgbztcblxuICAgICAgICAgICAgICBjYXNlIDk4OlxuICAgICAgICAgICAgICAgIHJldHVybiBcIi13ZWJraXQtXCIgKyBvICsgXCItbXMtXCIgKyBvLnJlcGxhY2UoXCJiYXNpc1wiLCBcInByZWZlcnJlZC1zaXplXCIpICsgbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcIi13ZWJraXQtXCIgKyBvICsgXCItbXMtXCIgKyBvICsgbztcblxuICAgICAgICAgIGNhc2UgOTY0OlxuICAgICAgICAgICAgcmV0dXJuIFwiLXdlYmtpdC1cIiArIG8gKyBcIi1tcy1mbGV4LVwiICsgbyArIG87XG5cbiAgICAgICAgICBjYXNlIDEwMjM6XG4gICAgICAgICAgICBpZiAoOTkgIT09IG8uY2hhckNvZGVBdCg4KSkgYnJlYWs7XG4gICAgICAgICAgICByZXR1cm4gXCItd2Via2l0LWJveC1wYWNrXCIgKyAoYSA9IG8uc3Vic3RyaW5nKG8uaW5kZXhPZihcIjpcIiwgMTUpKS5yZXBsYWNlKFwiZmxleC1cIiwgXCJcIikucmVwbGFjZShcInNwYWNlLWJldHdlZW5cIiwgXCJqdXN0aWZ5XCIpKSArIFwiLXdlYmtpdC1cIiArIG8gKyBcIi1tcy1mbGV4LXBhY2tcIiArIGEgKyBvO1xuXG4gICAgICAgICAgY2FzZSAxMDA1OlxuICAgICAgICAgICAgcmV0dXJuIGMudGVzdChvKSA/IG8ucmVwbGFjZShzLCBcIjotd2Via2l0LVwiKSArIG8ucmVwbGFjZShzLCBcIjotbW96LVwiKSArIG8gOiBvO1xuXG4gICAgICAgICAgY2FzZSAxZTM6XG4gICAgICAgICAgICBzd2l0Y2ggKHQgPSAoYSA9IG8uc3Vic3RyaW5nKDEzKS50cmltKCkpLmluZGV4T2YoXCItXCIpICsgMSwgYS5jaGFyQ29kZUF0KDApICsgYS5jaGFyQ29kZUF0KHQpKSB7XG4gICAgICAgICAgICAgIGNhc2UgMjI2OlxuICAgICAgICAgICAgICAgIGEgPSBvLnJlcGxhY2UocCwgXCJ0YlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIzMjpcbiAgICAgICAgICAgICAgICBhID0gby5yZXBsYWNlKHAsIFwidGItcmxcIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMjA6XG4gICAgICAgICAgICAgICAgYSA9IG8ucmVwbGFjZShwLCBcImxyXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBcIi13ZWJraXQtXCIgKyBvICsgXCItbXMtXCIgKyBhICsgbztcblxuICAgICAgICAgIGNhc2UgMTAxNzpcbiAgICAgICAgICAgIGlmICgtMSA9PT0gby5pbmRleE9mKFwic3RpY2t5XCIsIDkpKSBicmVhaztcblxuICAgICAgICAgIGNhc2UgOTc1OlxuICAgICAgICAgICAgc3dpdGNoICh0ID0gKG8gPSBlKS5sZW5ndGggLSAxMCwgaSA9IChhID0gKDMzID09PSBvLmNoYXJDb2RlQXQodCkgPyBvLnN1YnN0cmluZygwLCB0KSA6IG8pLnN1YnN0cmluZyhlLmluZGV4T2YoXCI6XCIsIDcpICsgMSkudHJpbSgpKS5jaGFyQ29kZUF0KDApICsgKDAgfCBhLmNoYXJDb2RlQXQoNykpKSB7XG4gICAgICAgICAgICAgIGNhc2UgMjAzOlxuICAgICAgICAgICAgICAgIGlmIChhLmNoYXJDb2RlQXQoOCkgPCAxMTEpIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTE1OlxuICAgICAgICAgICAgICAgIG8gPSBvLnJlcGxhY2UoYSwgXCItd2Via2l0LVwiICsgYSkgKyBcIjtcIiArIG87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAyMDc6XG4gICAgICAgICAgICAgIGNhc2UgMTAyOlxuICAgICAgICAgICAgICAgIG8gPSBvLnJlcGxhY2UoYSwgXCItd2Via2l0LVwiICsgKDEwMiA8IGkgPyBcImlubGluZS1cIiA6IFwiXCIpICsgXCJib3hcIikgKyBcIjtcIiArIG8ucmVwbGFjZShhLCBcIi13ZWJraXQtXCIgKyBhKSArIFwiO1wiICsgby5yZXBsYWNlKGEsIFwiLW1zLVwiICsgYSArIFwiYm94XCIpICsgXCI7XCIgKyBvO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbyArIFwiO1wiO1xuXG4gICAgICAgICAgY2FzZSA5Mzg6XG4gICAgICAgICAgICBpZiAoNDUgPT09IG8uY2hhckNvZGVBdCg1KSkgc3dpdGNoIChvLmNoYXJDb2RlQXQoNikpIHtcbiAgICAgICAgICAgICAgY2FzZSAxMDU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGEgPSBvLnJlcGxhY2UoXCItaXRlbXNcIiwgXCJcIiksIFwiLXdlYmtpdC1cIiArIG8gKyBcIi13ZWJraXQtYm94LVwiICsgYSArIFwiLW1zLWZsZXgtXCIgKyBhICsgbztcblxuICAgICAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCItd2Via2l0LVwiICsgbyArIFwiLW1zLWZsZXgtaXRlbS1cIiArIG8ucmVwbGFjZShoLCBcIlwiKSArIG87XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCItd2Via2l0LVwiICsgbyArIFwiLW1zLWZsZXgtbGluZS1wYWNrXCIgKyBvLnJlcGxhY2UoXCJhbGlnbi1jb250ZW50XCIsIFwiXCIpLnJlcGxhY2UoaCwgXCJcIikgKyBvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDk3MzpcbiAgICAgICAgICBjYXNlIDk4OTpcbiAgICAgICAgICAgIGlmICg0NSAhPT0gby5jaGFyQ29kZUF0KDMpIHx8IDEyMiA9PT0gby5jaGFyQ29kZUF0KDQpKSBicmVhaztcblxuICAgICAgICAgIGNhc2UgOTMxOlxuICAgICAgICAgIGNhc2UgOTUzOlxuICAgICAgICAgICAgaWYgKCEwID09PSBtLnRlc3QoZSkpIHJldHVybiAxMTUgPT09IChhID0gZS5zdWJzdHJpbmcoZS5pbmRleE9mKFwiOlwiKSArIDEpKS5jaGFyQ29kZUF0KDApID8gUChlLnJlcGxhY2UoXCJzdHJldGNoXCIsIFwiZmlsbC1hdmFpbGFibGVcIiksIHQsIG4sIHIpLnJlcGxhY2UoXCI6ZmlsbC1hdmFpbGFibGVcIiwgXCI6c3RyZXRjaFwiKSA6IG8ucmVwbGFjZShhLCBcIi13ZWJraXQtXCIgKyBhKSArIG8ucmVwbGFjZShhLCBcIi1tb3otXCIgKyBhLnJlcGxhY2UoXCJmaWxsLVwiLCBcIlwiKSkgKyBvO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDk2MjpcbiAgICAgICAgICAgIGlmIChvID0gXCItd2Via2l0LVwiICsgbyArICgxMDIgPT09IG8uY2hhckNvZGVBdCg1KSA/IFwiLW1zLVwiICsgbyA6IFwiXCIpICsgbywgMjExID09PSBuICsgciAmJiAxMDUgPT09IG8uY2hhckNvZGVBdCgxMykgJiYgMCA8IG8uaW5kZXhPZihcInRyYW5zZm9ybVwiLCAxMCkpIHJldHVybiBvLnN1YnN0cmluZygwLCBvLmluZGV4T2YoXCI7XCIsIDI3KSArIDEpLnJlcGxhY2UobCwgXCIkMS13ZWJraXQtJDJcIikgKyBvO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG87XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIEkoZSwgdCkge1xuICAgICAgICB2YXIgbiA9IGUuaW5kZXhPZigxID09PSB0ID8gXCI6XCIgOiBcIntcIiksXG4gICAgICAgICAgICByID0gZS5zdWJzdHJpbmcoMCwgMyAhPT0gdCA/IG4gOiAxMCksXG4gICAgICAgICAgICBuID0gZS5zdWJzdHJpbmcobiArIDEsIGUubGVuZ3RoIC0gMSk7XG4gICAgICAgIHJldHVybiBhKDIgIT09IHQgPyByIDogci5yZXBsYWNlKGksIFwiJDFcIiksIG4sIHQpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBSKGUsIHQpIHtcbiAgICAgICAgdmFyIG4gPSBQKHQsIHQuY2hhckNvZGVBdCgwKSwgdC5jaGFyQ29kZUF0KDEpLCB0LmNoYXJDb2RlQXQoMikpO1xuICAgICAgICByZXR1cm4gbiAhPT0gdCArIFwiO1wiID8gbi5yZXBsYWNlKHIsIFwiIG9yICgkMSlcIikuc3Vic3RyaW5nKDQpIDogXCIoXCIgKyB0ICsgXCIpXCI7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIFQoZSwgdCwgbiwgciwgbywgaSwgYSwgcywgYywgdSkge1xuICAgICAgICBmb3IgKHZhciBsLCBkID0gMCwgcCA9IHQ7IGQgPCBIOyArK2QpIHtcbiAgICAgICAgICBzd2l0Y2ggKGwgPSB5W2RdLmNhbGwoZiwgZSwgcCwgbiwgciwgbywgaSwgYSwgcywgYywgdSkpIHtcbiAgICAgICAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgICAgICAgY2FzZSAhMTpcbiAgICAgICAgICAgIGNhc2UgITA6XG4gICAgICAgICAgICBjYXNlIG51bGw6XG4gICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBwID0gbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocCAhPT0gdCkgcmV0dXJuIHA7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHQoZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSAoZSA9IGUucHJlZml4KSAmJiAoYSA9IG51bGwsIGUgPyBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUgPyBxID0gMSA6IChxID0gMiwgYSA9IGUpIDogcSA9IDApLCB0O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBmKGUsIHQpIHtcbiAgICAgICAgdmFyIG4sXG4gICAgICAgICAgICByID0gZTtcbiAgICAgICAgci5jaGFyQ29kZUF0KDApIDwgMzMgJiYgKHIgPSByLnRyaW0oKSksIHIgPSBbcl0sIDAgPCBIICYmIHZvaWQgMCAhPT0gKG4gPSBUKC0xLCB0LCByLCByLCAkLCB6LCAwLCAwLCAwLCAwKSkgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiAmJiAodCA9IG4pO1xuXG4gICAgICAgIHZhciBvID0gZnVuY3Rpb24gZSh0LCBuLCByLCBvLCBpKSB7XG4gICAgICAgICAgZm9yICh2YXIgYSwgcywgYywgdSwgbCwgZCA9IDAsIHAgPSAwLCBmID0gMCwgaCA9IDAsIG0gPSAwLCBiID0gMCwgeSA9IGMgPSBhID0gMCwgZyA9IDAsIHYgPSAwLCB3ID0gMCwgTyA9IDAsIEMgPSByLmxlbmd0aCwgayA9IEMgLSAxLCBTID0gXCJcIiwgaiA9IFwiXCIsIHggPSBcIlwiLCBFID0gXCJcIjsgZyA8IEM7KSB7XG4gICAgICAgICAgICBpZiAocyA9IHIuY2hhckNvZGVBdChnKSwgZyA9PT0gayAmJiAwICE9PSBwICsgaCArIGYgKyBkICYmICgwICE9PSBwICYmIChzID0gNDcgPT09IHAgPyAxMCA6IDQ3KSwgaCA9IGYgPSBkID0gMCwgQysrLCBrKyspLCAwID09PSBwICsgaCArIGYgKyBkKSB7XG4gICAgICAgICAgICAgIGlmIChnID09PSBrICYmICgwIDwgdiAmJiAoUyA9IFMucmVwbGFjZShMLCBcIlwiKSksIDAgPCBTLnRyaW0oKS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChzKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgY2FzZSA1OTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgUyArPSByLmNoYXJBdChnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzID0gNTk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzd2l0Y2ggKHMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDEyMzpcbiAgICAgICAgICAgICAgICAgIGZvciAoYSA9IChTID0gUy50cmltKCkpLmNoYXJDb2RlQXQoMCksIGMgPSAxLCBPID0gKytnOyBnIDwgQzspIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzID0gci5jaGFyQ29kZUF0KGcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI1OlxuICAgICAgICAgICAgICAgICAgICAgICAgYy0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzID0gci5jaGFyQ29kZUF0KGcgKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeSA9IGcgKyAxOyB5IDwgazsgKyt5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoci5jaGFyQ29kZUF0KHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0MiAhPT0gcyB8fCA0MiAhPT0gci5jaGFyQ29kZUF0KHkgLSAxKSB8fCBnICsgMiA9PT0geSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0geSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICg0NyA9PT0gcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0geSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnID0geTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDkxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcysrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHMrKztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBnKysgPCBrICYmIHIuY2hhckNvZGVBdChnKSAhPT0gczspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gYykgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGcrKztcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgc3dpdGNoIChjID0gci5zdWJzdHJpbmcoTywgZyksIDAgPT09IGEgJiYgKGEgPSAoUyA9IFMucmVwbGFjZShfLCBcIlwiKS50cmltKCkpLmNoYXJDb2RlQXQoMCkpLCBhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgwIDwgdiAmJiAoUyA9IFMucmVwbGFjZShMLCBcIlwiKSksIHMgPSBTLmNoYXJDb2RlQXQoMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9IEI7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKE8gPSAoYyA9IGUobiwgdiwgYywgcywgaSArIDEpKS5sZW5ndGgsIDAgPCBIICYmIChsID0gVCgzLCBjLCB2ID0gQShCLCBTLCB3KSwgbiwgJCwgeiwgTywgcywgaSwgbyksIFMgPSB2LmpvaW4oXCJcIiksIHZvaWQgMCAhPT0gbCAmJiAwID09PSAoTyA9IChjID0gbC50cmltKCkpLmxlbmd0aCkgJiYgKHMgPSAwLCBjID0gXCJcIikpLCAwIDwgTykgc3dpdGNoIChzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUyA9IFMucmVwbGFjZShOLCBSKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGMgPSBTICsgXCJ7XCIgKyBjICsgXCJ9XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYyA9IChTID0gUy5yZXBsYWNlKEYsIFwiJDEgJDJcIikpICsgXCJ7XCIgKyBjICsgXCJ9XCIsIGMgPSAxID09PSBxIHx8IDIgPT09IHEgJiYgSShcIkBcIiArIGMsIDMpID8gXCJALXdlYmtpdC1cIiArIGMgKyBcIkBcIiArIGMgOiBcIkBcIiArIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gUyArIGMsIDExMiA9PT0gbyAmJiAoaiArPSBjLCBjID0gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGMgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgYyA9IGUobiwgQShuLCBTLCB3KSwgYywgbywgaSArIDEpO1xuICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICB4ICs9IGMsIGMgPSB3ID0gdiA9IHkgPSBhID0gMCwgUyA9IFwiXCIsIHMgPSByLmNoYXJDb2RlQXQoKytnKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAxMjU6XG4gICAgICAgICAgICAgICAgY2FzZSA1OTpcbiAgICAgICAgICAgICAgICAgIGlmICgxIDwgKE8gPSAoUyA9ICgwIDwgdiA/IFMucmVwbGFjZShMLCBcIlwiKSA6IFMpLnRyaW0oKSkubGVuZ3RoKSkgc3dpdGNoICgwID09PSB5ICYmIChhID0gUy5jaGFyQ29kZUF0KDApLCA0NSA9PT0gYSB8fCA5NiA8IGEgJiYgYSA8IDEyMykgJiYgKE8gPSAoUyA9IFMucmVwbGFjZShcIiBcIiwgXCI6XCIpKS5sZW5ndGgpLCAwIDwgSCAmJiB2b2lkIDAgIT09IChsID0gVCgxLCBTLCBuLCB0LCAkLCB6LCBqLmxlbmd0aCwgbywgaSwgbykpICYmIDAgPT09IChPID0gKFMgPSBsLnRyaW0oKSkubGVuZ3RoKSAmJiAoUyA9IFwiXFwwXFwwXCIpLCBhID0gUy5jaGFyQ29kZUF0KDApLCBzID0gUy5jaGFyQ29kZUF0KDEpLCBhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAgICAgICAgIGlmICgxMDUgPT09IHMgfHwgOTkgPT09IHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEUgKz0gUyArIHIuY2hhckF0KGcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgNTggIT09IFMuY2hhckNvZGVBdChPIC0gMSkgJiYgKGogKz0gUChTLCBhLCBzLCBTLmNoYXJDb2RlQXQoMikpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHcgPSB2ID0geSA9IGEgPSAwLCBTID0gXCJcIiwgcyA9IHIuY2hhckNvZGVBdCgrK2cpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAocykge1xuICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgIDQ3ID09PSBwID8gcCA9IDAgOiAwID09PSAxICsgYSAmJiAxMDcgIT09IG8gJiYgMCA8IFMubGVuZ3RoICYmICh2ID0gMSwgUyArPSBcIlxcMFwiKSwgMCA8IEggKiBVICYmIFQoMCwgUywgbiwgdCwgJCwgeiwgai5sZW5ndGgsIG8sIGksIG8pLCB6ID0gMSwgJCsrO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgNTk6XG4gICAgICAgICAgICAgIGNhc2UgMTI1OlxuICAgICAgICAgICAgICAgIGlmICgwID09PSBwICsgaCArIGYgKyBkKSB7XG4gICAgICAgICAgICAgICAgICB6Kys7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHorKywgdSA9IHIuY2hhckF0KGcpLCBzKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgICBpZiAoMCA9PT0gaCArIGQgKyBwKSBzd2l0Y2ggKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTg6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICAgICAgICB1ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIDMyICE9PSBzICYmICh1ID0gXCIgXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHUgPSBcIlxcXFwwXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICB1ID0gXCJcXFxcZlwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgdSA9IFwiXFxcXHZcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgICAgIDAgPT09IGggKyBwICsgZCAmJiAodiA9IHcgPSAxLCB1ID0gXCJcXGZcIiArIHUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxMDg6XG4gICAgICAgICAgICAgICAgICAgIGlmICgwID09PSBoICsgcCArIGQgKyBXICYmIDAgPCB5KSBzd2l0Y2ggKGcgLSB5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgMTEyID09PSBtICYmIDU4ID09PSByLmNoYXJDb2RlQXQoZyAtIDMpICYmIChXID0gbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICAxMTEgPT09IGIgJiYgKFcgPSBiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSA1ODpcbiAgICAgICAgICAgICAgICAgICAgMCA9PT0gaCArIHAgKyBkICYmICh5ID0gZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDQ0OlxuICAgICAgICAgICAgICAgICAgICAwID09PSBwICsgZiArIGggKyBkICYmICh2ID0gMSwgdSArPSBcIlxcclwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgICAgICAwID09PSBwICYmIChoID0gaCA9PT0gcyA/IDAgOiAwID09PSBoID8gcyA6IGgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSA5MTpcbiAgICAgICAgICAgICAgICAgICAgMCA9PT0gaCArIHAgKyBmICYmIGQrKztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgOTM6XG4gICAgICAgICAgICAgICAgICAgIDAgPT09IGggKyBwICsgZiAmJiBkLS07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgICAgICAgICAgICAwID09PSBoICsgcCArIGQgJiYgZi0tO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgPT09IGggKyBwICsgZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgwID09PSBhKSBzd2l0Y2ggKDIgKiBtICsgMyAqIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTMzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGYrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgICAgICAgICAgICAwID09PSBwICsgZiArIGggKyBkICsgeSArIGMgJiYgKGMgPSAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISgwIDwgaCArIGQgKyBmKSkgc3dpdGNoIChwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgyICogcyArIDMgKiByLmNoYXJDb2RlQXQoZyArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjM1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSA0NztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDIyMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPID0gZywgcCA9IDQyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDI6XG4gICAgICAgICAgICAgICAgICAgICAgICA0NyA9PT0gcyAmJiA0MiA9PT0gbSAmJiBPICsgMiAhPT0gZyAmJiAoMzMgPT09IHIuY2hhckNvZGVBdChPICsgMikgJiYgKGogKz0gci5zdWJzdHJpbmcoTywgZyArIDEpKSwgdSA9IFwiXCIsIHAgPSAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIDAgPT09IHAgJiYgKFMgKz0gdSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGIgPSBtLCBtID0gcywgZysrO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgwIDwgKE8gPSBqLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIGlmICh2ID0gbiwgMCA8IEggJiYgdm9pZCAwICE9PSAobCA9IFQoMiwgaiwgdiwgdCwgJCwgeiwgTywgbywgaSwgbykpICYmIDAgPT09IChqID0gbCkubGVuZ3RoKSByZXR1cm4gRSArIGogKyB4O1xuXG4gICAgICAgICAgICBpZiAoaiA9IHYuam9pbihcIixcIikgKyBcIntcIiArIGogKyBcIn1cIiwgMCAhPSBxICogVykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKDIgIT09IHEgfHwgSShqLCAyKSB8fCAoVyA9IDApLCBXKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxMTE6XG4gICAgICAgICAgICAgICAgICBqID0gai5yZXBsYWNlKE0sIFwiOi1tb3otJDFcIikgKyBqO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIDExMjpcbiAgICAgICAgICAgICAgICAgIGogPSBqLnJlcGxhY2UoRCwgXCI6Oi13ZWJraXQtaW5wdXQtJDFcIikgKyBqLnJlcGxhY2UoRCwgXCI6Oi1tb3otJDFcIikgKyBqLnJlcGxhY2UoRCwgXCI6LW1zLWlucHV0LSQxXCIpICsgajtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIFcgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBFICsgaiArIHg7XG4gICAgICAgIH0oQiwgciwgdCwgMCwgMCk7XG5cbiAgICAgICAgcmV0dXJuIDAgPCBIICYmIHZvaWQgMCAhPT0gKG4gPSBUKC0yLCBvLCByLCByLCAkLCB6LCBvLmxlbmd0aCwgMCwgMCwgMCkpICYmIChvID0gbiksIFcgPSAwLCB6ID0gJCA9IDEsIG87XG4gICAgICB9XG5cbiAgICAgIHZhciBfID0gL15cXDArL2csXG4gICAgICAgICAgTCA9IC9bXFwwXFxyXFxmXS9nLFxuICAgICAgICAgIHMgPSAvOiAqL2csXG4gICAgICAgICAgYyA9IC96b298Z3JhLyxcbiAgICAgICAgICBsID0gLyhbLDogXSkodHJhbnNmb3JtKS9nLFxuICAgICAgICAgIGQgPSAvLFxccis/L2csXG4gICAgICAgICAgbyA9IC8oW1xcdFxcclxcbiBdKSpcXGY/Ji9nLFxuICAgICAgICAgIEYgPSAvQChrXFx3KylcXHMqKFxcUyopXFxzKi8sXG4gICAgICAgICAgRCA9IC86OihwbGFjZSkvZyxcbiAgICAgICAgICBNID0gLzoocmVhZC1vbmx5KS9nLFxuICAgICAgICAgIHAgPSAvW3N2aF1cXHcrLVt0YmxyXXsyfS8sXG4gICAgICAgICAgTiA9IC9cXChcXHMqKC4qKVxccypcXCkvZyxcbiAgICAgICAgICByID0gLyhbXFxzXFxTXSo/KTsvZyxcbiAgICAgICAgICBoID0gLy1zZWxmfGZsZXgtL2csXG4gICAgICAgICAgaSA9IC9bXl0qPyg6W3JwXVtlbF1hW1xcdy1dKylbXl0qLyxcbiAgICAgICAgICBtID0gL3N0cmV0Y2h8OlxccypcXHcrXFwtKD86Y29udGV8YXZhaWwpLyxcbiAgICAgICAgICBiID0gLyhbXi1dKShpbWFnZS1zZXRcXCgpLyxcbiAgICAgICAgICB6ID0gMSxcbiAgICAgICAgICAkID0gMSxcbiAgICAgICAgICBXID0gMCxcbiAgICAgICAgICBxID0gMSxcbiAgICAgICAgICBCID0gW10sXG4gICAgICAgICAgeSA9IFtdLFxuICAgICAgICAgIEggPSAwLFxuICAgICAgICAgIGEgPSBudWxsLFxuICAgICAgICAgIFUgPSAwO1xuICAgICAgcmV0dXJuIGYudXNlID0gZnVuY3Rpb24gZSh0KSB7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgIGNhc2Ugdm9pZCAwOlxuICAgICAgICAgIGNhc2UgbnVsbDpcbiAgICAgICAgICAgIEggPSB5Lmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiB0KSB5W0grK10gPSB0O2Vsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIHQpIGZvciAodmFyIG4gPSAwLCByID0gdC5sZW5ndGg7IG4gPCByOyArK24pIHtcbiAgICAgICAgICAgICAgZSh0W25dKTtcbiAgICAgICAgICAgIH0gZWxzZSBVID0gMCB8ICEhdDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSwgZi5zZXQgPSB0LCB2b2lkIDAgIT09IGUgJiYgdChlKSwgZjtcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdC5hID0ge1xuICAgICAgYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6IDEsXG4gICAgICBib3JkZXJJbWFnZU91dHNldDogMSxcbiAgICAgIGJvcmRlckltYWdlU2xpY2U6IDEsXG4gICAgICBib3JkZXJJbWFnZVdpZHRoOiAxLFxuICAgICAgYm94RmxleDogMSxcbiAgICAgIGJveEZsZXhHcm91cDogMSxcbiAgICAgIGJveE9yZGluYWxHcm91cDogMSxcbiAgICAgIGNvbHVtbkNvdW50OiAxLFxuICAgICAgY29sdW1uczogMSxcbiAgICAgIGZsZXg6IDEsXG4gICAgICBmbGV4R3JvdzogMSxcbiAgICAgIGZsZXhQb3NpdGl2ZTogMSxcbiAgICAgIGZsZXhTaHJpbms6IDEsXG4gICAgICBmbGV4TmVnYXRpdmU6IDEsXG4gICAgICBmbGV4T3JkZXI6IDEsXG4gICAgICBncmlkUm93OiAxLFxuICAgICAgZ3JpZFJvd0VuZDogMSxcbiAgICAgIGdyaWRSb3dTcGFuOiAxLFxuICAgICAgZ3JpZFJvd1N0YXJ0OiAxLFxuICAgICAgZ3JpZENvbHVtbjogMSxcbiAgICAgIGdyaWRDb2x1bW5FbmQ6IDEsXG4gICAgICBncmlkQ29sdW1uU3BhbjogMSxcbiAgICAgIGdyaWRDb2x1bW5TdGFydDogMSxcbiAgICAgIG1zR3JpZFJvdzogMSxcbiAgICAgIG1zR3JpZFJvd1NwYW46IDEsXG4gICAgICBtc0dyaWRDb2x1bW46IDEsXG4gICAgICBtc0dyaWRDb2x1bW5TcGFuOiAxLFxuICAgICAgZm9udFdlaWdodDogMSxcbiAgICAgIGxpbmVIZWlnaHQ6IDEsXG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgb3JkZXI6IDEsXG4gICAgICBvcnBoYW5zOiAxLFxuICAgICAgdGFiU2l6ZTogMSxcbiAgICAgIHdpZG93czogMSxcbiAgICAgIHpJbmRleDogMSxcbiAgICAgIHpvb206IDEsXG4gICAgICBXZWJraXRMaW5lQ2xhbXA6IDEsXG4gICAgICBmaWxsT3BhY2l0eTogMSxcbiAgICAgIGZsb29kT3BhY2l0eTogMSxcbiAgICAgIHN0b3BPcGFjaXR5OiAxLFxuICAgICAgc3Ryb2tlRGFzaGFycmF5OiAxLFxuICAgICAgc3Ryb2tlRGFzaG9mZnNldDogMSxcbiAgICAgIHN0cm9rZU1pdGVybGltaXQ6IDEsXG4gICAgICBzdHJva2VPcGFjaXR5OiAxLFxuICAgICAgc3Ryb2tlV2lkdGg6IDFcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZS5leHBvcnRzID0gZnVuY3Rpb24gKGUsIHQpIHtcbiAgICAgIGlmICh0ID0gdC5zcGxpdChcIjpcIilbMF0sICEoZSA9ICtlKSkgcmV0dXJuICExO1xuXG4gICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcImh0dHBcIjpcbiAgICAgICAgY2FzZSBcIndzXCI6XG4gICAgICAgICAgcmV0dXJuIDgwICE9PSBlO1xuXG4gICAgICAgIGNhc2UgXCJodHRwc1wiOlxuICAgICAgICBjYXNlIFwid3NzXCI6XG4gICAgICAgICAgcmV0dXJuIDQ0MyAhPT0gZTtcblxuICAgICAgICBjYXNlIFwiZnRwXCI6XG4gICAgICAgICAgcmV0dXJuIDIxICE9PSBlO1xuXG4gICAgICAgIGNhc2UgXCJnb3BoZXJcIjpcbiAgICAgICAgICByZXR1cm4gNzAgIT09IGU7XG5cbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwICE9PSBlO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgaSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgICBmdW5jdGlvbiBhKGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdC5zdHJpbmdpZnkgPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgICAgdCA9IHQgfHwgXCJcIjtcbiAgICAgIHZhciBuLFxuICAgICAgICAgIHIsXG4gICAgICAgICAgbyA9IFtdO1xuXG4gICAgICBmb3IgKHIgaW4gXCJzdHJpbmdcIiAhPSB0eXBlb2YgdCAmJiAodCA9IFwiP1wiKSwgZSkge1xuICAgICAgICBpZiAoaS5jYWxsKGUsIHIpKSB7XG4gICAgICAgICAgaWYgKChuID0gZVtyXSkgfHwgbnVsbCAhPSBuICYmICFpc05hTihuKSB8fCAobiA9IFwiXCIpLCByID0gZW5jb2RlVVJJQ29tcG9uZW50KHIpLCBuID0gZW5jb2RlVVJJQ29tcG9uZW50KG4pLCBudWxsID09PSByIHx8IG51bGwgPT09IG4pIGNvbnRpbnVlO1xuICAgICAgICAgIG8ucHVzaChyICsgXCI9XCIgKyBuKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gby5sZW5ndGggPyB0ICsgby5qb2luKFwiJlwiKSA6IFwiXCI7XG4gICAgfSwgdC5wYXJzZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBmb3IgKHZhciB0LCBuID0gLyhbXj0/Jl0rKT0/KFteJl0qKS9nLCByID0ge307IHQgPSBuLmV4ZWMoZSk7KSB7XG4gICAgICAgIHZhciBvID0gYSh0WzFdKSxcbiAgICAgICAgICAgIGkgPSBhKHRbMl0pO1xuICAgICAgICBudWxsID09PSBvIHx8IG51bGwgPT09IGkgfHwgbyBpbiByIHx8IChyW29dID0gaSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgcyA9IG4oMjQpO1xuXG4gICAgZnVuY3Rpb24gcigpIHt9XG5cbiAgICBmdW5jdGlvbiBvKCkge31cblxuICAgIG8ucmVzZXRXYXJuaW5nQ2FjaGUgPSByLCBlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBlKGUsIHQsIG4sIHIsIG8sIGkpIHtcbiAgICAgICAgaWYgKGkgIT09IHMpIHtcbiAgICAgICAgICB2YXIgYSA9IG5ldyBFcnJvcihcIkNhbGxpbmcgUHJvcFR5cGVzIHZhbGlkYXRvcnMgZGlyZWN0bHkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UuIFVzZSBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKSB0byBjYWxsIHRoZW0uIFJlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXNcIik7XG4gICAgICAgICAgdGhyb3cgYS5uYW1lID0gXCJJbnZhcmlhbnQgVmlvbGF0aW9uXCIsIGE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gdCgpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG5cbiAgICAgIHZhciBuID0ge1xuICAgICAgICBhcnJheTogZS5pc1JlcXVpcmVkID0gZSxcbiAgICAgICAgYm9vbDogZSxcbiAgICAgICAgZnVuYzogZSxcbiAgICAgICAgbnVtYmVyOiBlLFxuICAgICAgICBvYmplY3Q6IGUsXG4gICAgICAgIHN0cmluZzogZSxcbiAgICAgICAgc3ltYm9sOiBlLFxuICAgICAgICBhbnk6IGUsXG4gICAgICAgIGFycmF5T2Y6IHQsXG4gICAgICAgIGVsZW1lbnQ6IGUsXG4gICAgICAgIGVsZW1lbnRUeXBlOiBlLFxuICAgICAgICBpbnN0YW5jZU9mOiB0LFxuICAgICAgICBub2RlOiBlLFxuICAgICAgICBvYmplY3RPZjogdCxcbiAgICAgICAgb25lT2Y6IHQsXG4gICAgICAgIG9uZU9mVHlwZTogdCxcbiAgICAgICAgc2hhcGU6IHQsXG4gICAgICAgIGV4YWN0OiB0LFxuICAgICAgICBjaGVja1Byb3BUeXBlczogbyxcbiAgICAgICAgcmVzZXRXYXJuaW5nQ2FjaGU6IHJcbiAgICAgIH07XG4gICAgICByZXR1cm4gbi5Qcm9wVHlwZXMgPSBuO1xuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlLCB0LCBuKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBlLmV4cG9ydHMgPSBcIlNFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEXCI7XG4gIH0sIGZ1bmN0aW9uIChlLCB0KSB7XG4gICAgdmFyIG4sXG4gICAgICAgIHIsXG4gICAgICAgIG8gPSBlLmV4cG9ydHMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGkoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGEoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcyh0KSB7XG4gICAgICBpZiAobiA9PT0gc2V0VGltZW91dCkgcmV0dXJuIHNldFRpbWVvdXQodCwgMCk7XG4gICAgICBpZiAoKG4gPT09IGkgfHwgIW4pICYmIHNldFRpbWVvdXQpIHJldHVybiBuID0gc2V0VGltZW91dCwgc2V0VGltZW91dCh0LCAwKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG4odCwgMCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG4uY2FsbChudWxsLCB0LCAwKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJldHVybiBuLmNhbGwodGhpcywgdCwgMCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAhZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygc2V0VGltZW91dCA/IHNldFRpbWVvdXQgOiBpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBuID0gaTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY2xlYXJUaW1lb3V0ID8gY2xlYXJUaW1lb3V0IDogYTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgciA9IGE7XG4gICAgICB9XG4gICAgfSgpO1xuICAgIHZhciBjLFxuICAgICAgICB1ID0gW10sXG4gICAgICAgIGwgPSAhMSxcbiAgICAgICAgZCA9IC0xO1xuXG4gICAgZnVuY3Rpb24gcCgpIHtcbiAgICAgIGwgJiYgYyAmJiAobCA9ICExLCBjLmxlbmd0aCA/IHUgPSBjLmNvbmNhdCh1KSA6IGQgPSAtMSwgdS5sZW5ndGggJiYgZigpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmKCkge1xuICAgICAgaWYgKCFsKSB7XG4gICAgICAgIHZhciBlID0gcyhwKTtcbiAgICAgICAgbCA9ICEwO1xuXG4gICAgICAgIGZvciAodmFyIHQgPSB1Lmxlbmd0aDsgdDspIHtcbiAgICAgICAgICBmb3IgKGMgPSB1LCB1ID0gW107ICsrZCA8IHQ7KSB7XG4gICAgICAgICAgICBjICYmIGNbZF0ucnVuKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZCA9IC0xLCB0ID0gdS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICBjID0gbnVsbCwgbCA9ICExLCBmdW5jdGlvbiAodCkge1xuICAgICAgICAgIGlmIChyID09PSBjbGVhclRpbWVvdXQpIHJldHVybiBjbGVhclRpbWVvdXQodCk7XG4gICAgICAgICAgaWYgKChyID09PSBhIHx8ICFyKSAmJiBjbGVhclRpbWVvdXQpIHJldHVybiByID0gY2xlYXJUaW1lb3V0LCBjbGVhclRpbWVvdXQodCk7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcih0KTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gci5jYWxsKG51bGwsIHQpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICByZXR1cm4gci5jYWxsKHRoaXMsIHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfShlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoKGUsIHQpIHtcbiAgICAgIHRoaXMuZnVuID0gZSwgdGhpcy5hcnJheSA9IHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbSgpIHt9XG5cbiAgICBvLm5leHRUaWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciB0ID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICAgIGlmICgxIDwgYXJndW1lbnRzLmxlbmd0aCkgZm9yICh2YXIgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgdFtuIC0gMV0gPSBhcmd1bWVudHNbbl07XG4gICAgICB9XG4gICAgICB1LnB1c2gobmV3IGgoZSwgdCkpLCAxICE9PSB1Lmxlbmd0aCB8fCBsIHx8IHMoZik7XG4gICAgfSwgaC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG4gICAgfSwgby50aXRsZSA9IFwiYnJvd3NlclwiLCBvLmJyb3dzZXIgPSAhMCwgby5lbnYgPSB7fSwgby5hcmd2ID0gW10sIG8udmVyc2lvbiA9IFwiXCIsIG8udmVyc2lvbnMgPSB7fSwgby5vbiA9IG0sIG8uYWRkTGlzdGVuZXIgPSBtLCBvLm9uY2UgPSBtLCBvLm9mZiA9IG0sIG8ucmVtb3ZlTGlzdGVuZXIgPSBtLCBvLnJlbW92ZUFsbExpc3RlbmVycyA9IG0sIG8uZW1pdCA9IG0sIG8ucHJlcGVuZExpc3RlbmVyID0gbSwgby5wcmVwZW5kT25jZUxpc3RlbmVyID0gbSwgby5saXN0ZW5lcnMgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0sIG8uYmluZGluZyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9LCBvLmN3ZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBcIi9cIjtcbiAgICB9LCBvLmNoZGlyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICB9LCBvLnVtYXNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGUsIHQsIG4pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjEzLjFcbiAgICAgKiByZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qc1xuICAgICAqXG4gICAgICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAgICAgKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gICAgICovXG5cbiAgICB2YXIgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC5mb3IsXG4gICAgICAgIG8gPSByID8gU3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIikgOiA2MDEwMyxcbiAgICAgICAgaSA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpIDogNjAxMDYsXG4gICAgICAgIGEgPSByID8gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpIDogNjAxMDcsXG4gICAgICAgIHMgPSByID8gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpIDogNjAxMDgsXG4gICAgICAgIGMgPSByID8gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpIDogNjAxMTQsXG4gICAgICAgIHUgPSByID8gU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpIDogNjAxMDksXG4gICAgICAgIGwgPSByID8gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIikgOiA2MDExMCxcbiAgICAgICAgZCA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3QuYXN5bmNfbW9kZVwiKSA6IDYwMTExLFxuICAgICAgICBwID0gciA/IFN5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIikgOiA2MDExMSxcbiAgICAgICAgZiA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIikgOiA2MDExMixcbiAgICAgICAgaCA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIikgOiA2MDExMyxcbiAgICAgICAgbSA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKSA6IDYwMTIwLFxuICAgICAgICBiID0gciA/IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpIDogNjAxMTUsXG4gICAgICAgIHkgPSByID8gU3ltYm9sLmZvcihcInJlYWN0LmxhenlcIikgOiA2MDExNixcbiAgICAgICAgZyA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIikgOiA2MDEyMSxcbiAgICAgICAgdiA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3QuZnVuZGFtZW50YWxcIikgOiA2MDExNyxcbiAgICAgICAgdyA9IHIgPyBTeW1ib2wuZm9yKFwicmVhY3QucmVzcG9uZGVyXCIpIDogNjAxMTgsXG4gICAgICAgIE8gPSByID8gU3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpIDogNjAxMTk7XG5cbiAgICBmdW5jdGlvbiBDKGUpIHtcbiAgICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT09IGUpIHtcbiAgICAgICAgdmFyIHQgPSBlLiQkdHlwZW9mO1xuXG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgIGNhc2UgbzpcbiAgICAgICAgICAgIHN3aXRjaCAoZSA9IGUudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIGQ6XG4gICAgICAgICAgICAgIGNhc2UgcDpcbiAgICAgICAgICAgICAgY2FzZSBhOlxuICAgICAgICAgICAgICBjYXNlIGM6XG4gICAgICAgICAgICAgIGNhc2UgczpcbiAgICAgICAgICAgICAgY2FzZSBoOlxuICAgICAgICAgICAgICAgIHJldHVybiBlO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlID0gZSAmJiBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIGw6XG4gICAgICAgICAgICAgICAgICBjYXNlIGY6XG4gICAgICAgICAgICAgICAgICBjYXNlIHk6XG4gICAgICAgICAgICAgICAgICBjYXNlIGI6XG4gICAgICAgICAgICAgICAgICBjYXNlIHU6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIGNhc2UgaTpcbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gayhlKSB7XG4gICAgICByZXR1cm4gQyhlKSA9PT0gcDtcbiAgICB9XG5cbiAgICB0LkFzeW5jTW9kZSA9IGQsIHQuQ29uY3VycmVudE1vZGUgPSBwLCB0LkNvbnRleHRDb25zdW1lciA9IGwsIHQuQ29udGV4dFByb3ZpZGVyID0gdSwgdC5FbGVtZW50ID0gbywgdC5Gb3J3YXJkUmVmID0gZiwgdC5GcmFnbWVudCA9IGEsIHQuTGF6eSA9IHksIHQuTWVtbyA9IGIsIHQuUG9ydGFsID0gaSwgdC5Qcm9maWxlciA9IGMsIHQuU3RyaWN0TW9kZSA9IHMsIHQuU3VzcGVuc2UgPSBoLCB0LmlzQXN5bmNNb2RlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBrKGUpIHx8IEMoZSkgPT09IGQ7XG4gICAgfSwgdC5pc0NvbmN1cnJlbnRNb2RlID0gaywgdC5pc0NvbnRleHRDb25zdW1lciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gQyhlKSA9PT0gbDtcbiAgICB9LCB0LmlzQ29udGV4dFByb3ZpZGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBDKGUpID09PSB1O1xuICAgIH0sIHQuaXNFbGVtZW50ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT09IGUgJiYgZS4kJHR5cGVvZiA9PT0gbztcbiAgICB9LCB0LmlzRm9yd2FyZFJlZiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gQyhlKSA9PT0gZjtcbiAgICB9LCB0LmlzRnJhZ21lbnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEMoZSkgPT09IGE7XG4gICAgfSwgdC5pc0xhenkgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEMoZSkgPT09IHk7XG4gICAgfSwgdC5pc01lbW8gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEMoZSkgPT09IGI7XG4gICAgfSwgdC5pc1BvcnRhbCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gQyhlKSA9PT0gaTtcbiAgICB9LCB0LmlzUHJvZmlsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEMoZSkgPT09IGM7XG4gICAgfSwgdC5pc1N0cmljdE1vZGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIEMoZSkgPT09IHM7XG4gICAgfSwgdC5pc1N1c3BlbnNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBDKGUpID09PSBoO1xuICAgIH0sIHQuaXNWYWxpZEVsZW1lbnRUeXBlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBlIHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSB8fCBlID09PSBhIHx8IGUgPT09IHAgfHwgZSA9PT0gYyB8fCBlID09PSBzIHx8IGUgPT09IGggfHwgZSA9PT0gbSB8fCBcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT09IGUgJiYgKGUuJCR0eXBlb2YgPT09IHkgfHwgZS4kJHR5cGVvZiA9PT0gYiB8fCBlLiQkdHlwZW9mID09PSB1IHx8IGUuJCR0eXBlb2YgPT09IGwgfHwgZS4kJHR5cGVvZiA9PT0gZiB8fCBlLiQkdHlwZW9mID09PSB2IHx8IGUuJCR0eXBlb2YgPT09IHcgfHwgZS4kJHR5cGVvZiA9PT0gTyB8fCBlLiQkdHlwZW9mID09PSBnKTtcbiAgICB9LCB0LnR5cGVPZiA9IEM7XG4gIH1dLCBvLmMgPSBhLCBvLmQgPSBmdW5jdGlvbiAoZSwgdCwgbikge1xuICAgIG8ubyhlLCB0KSB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwge1xuICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICBnZXQ6IG5cbiAgICB9KTtcbiAgfSwgby5yID0gZnVuY3Rpb24gKGUpIHtcbiAgICBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBTeW1ib2wudG9TdHJpbmdUYWcsIHtcbiAgICAgIHZhbHVlOiBcIk1vZHVsZVwiXG4gICAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6ICEwXG4gICAgfSk7XG4gIH0sIG8udCA9IGZ1bmN0aW9uICh0LCBlKSB7XG4gICAgaWYgKDEgJiBlICYmICh0ID0gbyh0KSksIDggJiBlKSByZXR1cm4gdDtcbiAgICBpZiAoNCAmIGUgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgdCAmJiB0ICYmIHQuX19lc01vZHVsZSkgcmV0dXJuIHQ7XG4gICAgdmFyIG4gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGlmIChvLnIobiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCBcImRlZmF1bHRcIiwge1xuICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICB2YWx1ZTogdFxuICAgIH0pLCAyICYgZSAmJiBcInN0cmluZ1wiICE9IHR5cGVvZiB0KSBmb3IgKHZhciByIGluIHQpIHtcbiAgICAgIG8uZChuLCByLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZXR1cm4gdFtlXTtcbiAgICAgIH0uYmluZChudWxsLCByKSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9LCBvLm4gPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciB0ID0gZSAmJiBlLl9fZXNNb2R1bGUgPyBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZS5kZWZhdWx0O1xuICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZTtcbiAgICB9O1xuICAgIHJldHVybiBvLmQodCwgXCJhXCIsIHQpLCB0O1xuICB9LCBvLm8gPSBmdW5jdGlvbiAoZSwgdCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgdCk7XG4gIH0sIG8ucCA9IFwiXCIsIG8oby5zID0gNyk7XG5cbiAgZnVuY3Rpb24gbyhlKSB7XG4gICAgaWYgKGFbZV0pIHJldHVybiBhW2VdLmV4cG9ydHM7XG4gICAgdmFyIHQgPSBhW2VdID0ge1xuICAgICAgaTogZSxcbiAgICAgIGw6ICExLFxuICAgICAgZXhwb3J0czoge31cbiAgICB9O1xuICAgIHJldHVybiBpW2VdLmNhbGwodC5leHBvcnRzLCB0LCB0LmV4cG9ydHMsIG8pLCB0LmwgPSAhMCwgdC5leHBvcnRzO1xuICB9XG5cbiAgdmFyIGksIGE7XG59KTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///LPf0\n')},WJkJ:function(module,exports){eval("// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvd2hpdGVzcGFjZXMuanM/NTg5OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EiLCJmaWxlIjoiV0prSi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGEgc3RyaW5nIG9mIGFsbCB2YWxpZCB1bmljb2RlIHdoaXRlc3BhY2VzXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxubW9kdWxlLmV4cG9ydHMgPSAnXFx1MDAwOVxcdTAwMEFcXHUwMDBCXFx1MDAwQ1xcdTAwMERcXHUwMDIwXFx1MDBBMFxcdTE2ODBcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwQVxcdTIwMkZcXHUyMDVGXFx1MzAwMFxcdTIwMjhcXHUyMDI5XFx1RkVGRic7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///WJkJ\n")},WKiH:function(module,exports,__webpack_require__){eval("var requireObjectCoercible = __webpack_require__(\"HYAF\");\nvar whitespaces = __webpack_require__(\"WJkJ\");\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3RyaW5nLXRyaW0uanM/NThhOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw2QkFBNkIsbUJBQU8sQ0FBQyxNQUF1QztBQUM1RSxrQkFBa0IsbUJBQU8sQ0FBQyxNQUEwQjs7QUFFcEQ7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixnREFBZ0Q7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBLHdCQUF3QixxQkFBcUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6IldLaUguanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVxdWlyZU9iamVjdENvZXJjaWJsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9yZXF1aXJlLW9iamVjdC1jb2VyY2libGUnKTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgd2hpdGVzcGFjZSA9ICdbJyArIHdoaXRlc3BhY2VzICsgJ10nO1xudmFyIGx0cmltID0gUmVnRXhwKCdeJyArIHdoaXRlc3BhY2UgKyB3aGl0ZXNwYWNlICsgJyonKTtcbnZhciBydHJpbSA9IFJlZ0V4cCh3aGl0ZXNwYWNlICsgd2hpdGVzcGFjZSArICcqJCcpO1xuXG4vLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW0sIHRyaW1TdGFydCwgdHJpbUVuZCwgdHJpbUxlZnQsIHRyaW1SaWdodCB9YCBtZXRob2RzIGltcGxlbWVudGF0aW9uXG52YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24gKFRZUEUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcykge1xuICAgIHZhciBzdHJpbmcgPSBTdHJpbmcocmVxdWlyZU9iamVjdENvZXJjaWJsZSgkdGhpcykpO1xuICAgIGlmIChUWVBFICYgMSkgc3RyaW5nID0gc3RyaW5nLnJlcGxhY2UobHRyaW0sICcnKTtcbiAgICBpZiAoVFlQRSAmIDIpIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKHJ0cmltLCAnJyk7XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1MZWZ0LCB0cmltU3RhcnQgfWAgbWV0aG9kc1xuICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnRyaW1zdGFydFxuICBzdGFydDogY3JlYXRlTWV0aG9kKDEpLFxuICAvLyBgU3RyaW5nLnByb3RvdHlwZS57IHRyaW1SaWdodCwgdHJpbUVuZCB9YCBtZXRob2RzXG4gIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbWVuZFxuICBlbmQ6IGNyZWF0ZU1ldGhvZCgyKSxcbiAgLy8gYFN0cmluZy5wcm90b3R5cGUudHJpbWAgbWV0aG9kXG4gIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXN0cmluZy5wcm90b3R5cGUudHJpbVxuICB0cmltOiBjcmVhdGVNZXRob2QoMylcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///WKiH\n")},yNLB:function(module,exports,__webpack_require__){eval('var fails = __webpack_require__("0Dky");\nvar whitespaces = __webpack_require__("WJkJ");\n\nvar non = \'\\u200B\\u0085\\u180E\';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvc3RyaW5nLXRyaW0tZm9yY2VkLmpzP2M4ZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxtQkFBTyxDQUFDLE1BQW9CO0FBQ3hDLGtCQUFrQixtQkFBTyxDQUFDLE1BQTBCOztBQUVwRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwiZmlsZSI6InlOTEIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZmFpbHMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZmFpbHMnKTtcbnZhciB3aGl0ZXNwYWNlcyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy93aGl0ZXNwYWNlcycpO1xuXG52YXIgbm9uID0gJ1xcdTIwMEJcXHUwMDg1XFx1MTgwRSc7XG5cbi8vIGNoZWNrIHRoYXQgYSBtZXRob2Qgd29ya3Mgd2l0aCB0aGUgY29ycmVjdCBsaXN0XG4vLyBvZiB3aGl0ZXNwYWNlcyBhbmQgaGFzIGEgY29ycmVjdCBuYW1lXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChNRVRIT0RfTkFNRSkge1xuICByZXR1cm4gZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAhIXdoaXRlc3BhY2VzW01FVEhPRF9OQU1FXSgpIHx8IG5vbltNRVRIT0RfTkFNRV0oKSAhPSBub24gfHwgd2hpdGVzcGFjZXNbTUVUSE9EX05BTUVdLm5hbWUgIT09IE1FVEhPRF9OQU1FO1xuICB9KTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///yNLB\n')}}]);