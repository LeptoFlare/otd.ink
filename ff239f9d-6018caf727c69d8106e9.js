(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{t6oF:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* WEBPACK VAR INJECTION */(function(global) {/* harmony import */ var _firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("zIRd");\n\n(function () {\n  /*\n  Copyright The Closure Library Authors.\n  SPDX-License-Identifier: Apache-2.0\n  */\n  var k,\n      aa = "function" == typeof Object.defineProperties ? Object.defineProperty : function (a, b, c) {\n    a != Array.prototype && a != Object.prototype && (a[b] = c.value);\n  };\n\n  function ba(a) {\n    a = ["object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global, a];\n\n    for (var b = 0; b < a.length; ++b) {\n      var c = a[b];\n      if (c && c.Math == Math) return c;\n    }\n\n    return globalThis;\n  }\n\n  var ca = ba(this);\n\n  function da(a, b) {\n    if (b) {\n      var c = ca;\n      a = a.split(".");\n\n      for (var d = 0; d < a.length - 1; d++) {\n        var e = a[d];\n        e in c || (c[e] = {});\n        c = c[e];\n      }\n\n      a = a[a.length - 1];\n      d = c[a];\n      b = b(d);\n      b != d && null != b && aa(c, a, {\n        configurable: !0,\n        writable: !0,\n        value: b\n      });\n    }\n  }\n\n  function ea(a) {\n    var b = 0;\n    return function () {\n      return b < a.length ? {\n        done: !1,\n        value: a[b++]\n      } : {\n        done: !0\n      };\n    };\n  }\n\n  function fa(a) {\n    var b = "undefined" != typeof Symbol && Symbol.iterator && a[Symbol.iterator];\n    return b ? b.call(a) : {\n      next: ea(a)\n    };\n  }\n\n  da("Promise", function (a) {\n    function b(g) {\n      this.b = 0;\n      this.c = void 0;\n      this.a = [];\n      var h = this.f();\n\n      try {\n        g(h.resolve, h.reject);\n      } catch (n) {\n        h.reject(n);\n      }\n    }\n\n    function c() {\n      this.a = null;\n    }\n\n    function d(g) {\n      return g instanceof b ? g : new b(function (h) {\n        h(g);\n      });\n    }\n\n    if (a) return a;\n\n    c.prototype.b = function (g) {\n      if (null == this.a) {\n        this.a = [];\n        var h = this;\n        this.c(function () {\n          h.g();\n        });\n      }\n\n      this.a.push(g);\n    };\n\n    var e = ca.setTimeout;\n\n    c.prototype.c = function (g) {\n      e(g, 0);\n    };\n\n    c.prototype.g = function () {\n      for (; this.a && this.a.length;) {\n        var g = this.a;\n        this.a = [];\n\n        for (var h = 0; h < g.length; ++h) {\n          var n = g[h];\n          g[h] = null;\n\n          try {\n            n();\n          } catch (p) {\n            this.f(p);\n          }\n        }\n      }\n\n      this.a = null;\n    };\n\n    c.prototype.f = function (g) {\n      this.c(function () {\n        throw g;\n      });\n    };\n\n    b.prototype.f = function () {\n      function g(p) {\n        return function (v) {\n          n || (n = !0, p.call(h, v));\n        };\n      }\n\n      var h = this,\n          n = !1;\n      return {\n        resolve: g(this.v),\n        reject: g(this.g)\n      };\n    };\n\n    b.prototype.v = function (g) {\n      if (g === this) this.g(new TypeError("A Promise cannot resolve to itself"));else if (g instanceof b) this.o(g);else {\n        a: switch (typeof g) {\n          case "object":\n            var h = null != g;\n            break a;\n\n          case "function":\n            h = !0;\n            break a;\n\n          default:\n            h = !1;\n        }\n\n        h ? this.m(g) : this.h(g);\n      }\n    };\n\n    b.prototype.m = function (g) {\n      var h = void 0;\n\n      try {\n        h = g.then;\n      } catch (n) {\n        this.g(n);\n        return;\n      }\n\n      "function" == typeof h ? this.u(h, g) : this.h(g);\n    };\n\n    b.prototype.g = function (g) {\n      this.i(2, g);\n    };\n\n    b.prototype.h = function (g) {\n      this.i(1, g);\n    };\n\n    b.prototype.i = function (g, h) {\n      if (0 != this.b) throw Error("Cannot settle(" + g + ", " + h + "): Promise already settled in state" + this.b);\n      this.b = g;\n      this.c = h;\n      this.l();\n    };\n\n    b.prototype.l = function () {\n      if (null != this.a) {\n        for (var g = 0; g < this.a.length; ++g) {\n          f.b(this.a[g]);\n        }\n\n        this.a = null;\n      }\n    };\n\n    var f = new c();\n\n    b.prototype.o = function (g) {\n      var h = this.f();\n      g.Pa(h.resolve, h.reject);\n    };\n\n    b.prototype.u = function (g, h) {\n      var n = this.f();\n\n      try {\n        g.call(h, n.resolve, n.reject);\n      } catch (p) {\n        n.reject(p);\n      }\n    };\n\n    b.prototype.then = function (g, h) {\n      function n(A, Q) {\n        return "function" == typeof A ? function (xa) {\n          try {\n            p(A(xa));\n          } catch (Ad) {\n            v(Ad);\n          }\n        } : Q;\n      }\n\n      var p,\n          v,\n          B = new b(function (A, Q) {\n        p = A;\n        v = Q;\n      });\n      this.Pa(n(g, p), n(h, v));\n      return B;\n    };\n\n    b.prototype.catch = function (g) {\n      return this.then(void 0, g);\n    };\n\n    b.prototype.Pa = function (g, h) {\n      function n() {\n        switch (p.b) {\n          case 1:\n            g(p.c);\n            break;\n\n          case 2:\n            h(p.c);\n            break;\n\n          default:\n            throw Error("Unexpected state: " + p.b);\n        }\n      }\n\n      var p = this;\n      null == this.a ? f.b(n) : this.a.push(n);\n    };\n\n    b.resolve = d;\n\n    b.reject = function (g) {\n      return new b(function (h, n) {\n        n(g);\n      });\n    };\n\n    b.race = function (g) {\n      return new b(function (h, n) {\n        for (var p = fa(g), v = p.next(); !v.done; v = p.next()) {\n          d(v.value).Pa(h, n);\n        }\n      });\n    };\n\n    b.all = function (g) {\n      var h = fa(g),\n          n = h.next();\n      return n.done ? d([]) : new b(function (p, v) {\n        function B(xa) {\n          return function (Ad) {\n            A[xa] = Ad;\n            Q--;\n            0 == Q && p(A);\n          };\n        }\n\n        var A = [],\n            Q = 0;\n\n        do {\n          A.push(void 0), Q++, d(n.value).Pa(B(A.length - 1), v), n = h.next();\n        } while (!n.done);\n      });\n    };\n\n    return b;\n  });\n  var ha = ha || {},\n      l = this || self,\n      ia = /^[\\w+/_-]+[=]{0,2}$/,\n      ja = null;\n\n  function ka(a) {\n    return (a = a.querySelector && a.querySelector("script[nonce]")) && (a = a.nonce || a.getAttribute("nonce")) && ia.test(a) ? a : "";\n  }\n\n  function la() {}\n\n  function ma(a) {\n    var b = typeof a;\n    return "object" != b ? b : a ? Array.isArray(a) ? "array" : b : "null";\n  }\n\n  function na(a) {\n    var b = ma(a);\n    return "array" == b || "object" == b && "number" == typeof a.length;\n  }\n\n  function oa(a) {\n    return "function" == ma(a);\n  }\n\n  function m(a) {\n    var b = typeof a;\n    return "object" == b && null != a || "function" == b;\n  }\n\n  function pa(a) {\n    return Object.prototype.hasOwnProperty.call(a, qa) && a[qa] || (a[qa] = ++ra);\n  }\n\n  var qa = "closure_uid_" + (1E9 * Math.random() >>> 0),\n      ra = 0;\n\n  function sa(a, b, c) {\n    return a.call.apply(a.bind, arguments);\n  }\n\n  function ta(a, b, c) {\n    if (!a) throw Error();\n\n    if (2 < arguments.length) {\n      var d = Array.prototype.slice.call(arguments, 2);\n      return function () {\n        var e = Array.prototype.slice.call(arguments);\n        Array.prototype.unshift.apply(e, d);\n        return a.apply(b, e);\n      };\n    }\n\n    return function () {\n      return a.apply(b, arguments);\n    };\n  }\n\n  function q(a, b, c) {\n    Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? q = sa : q = ta;\n    return q.apply(null, arguments);\n  }\n\n  function ua(a, b) {\n    var c = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      var d = c.slice();\n      d.push.apply(d, arguments);\n      return a.apply(this, d);\n    };\n  }\n\n  var va = Date.now;\n\n  function r(a, b) {\n    function c() {}\n\n    c.prototype = b.prototype;\n    a.$a = b.prototype;\n    a.prototype = new c();\n    a.prototype.constructor = a;\n  }\n\n  function wa(a) {\n    return a;\n  }\n\n  ;\n  /*\n  Copyright 2017 Google Inc.\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  function t(a, b, c) {\n    this.code = ya + a;\n    this.message = b || za[a] || "";\n    this.a = c || null;\n  }\n\n  r(t, Error);\n\n  t.prototype.w = function () {\n    var a = {\n      code: this.code,\n      message: this.message\n    };\n    this.a && (a.serverResponse = this.a);\n    return a;\n  };\n\n  t.prototype.toJSON = function () {\n    return this.w();\n  };\n\n  function Aa(a) {\n    var b = a && a.code;\n    return b ? new t(b.substring(ya.length), a.message, a.serverResponse) : null;\n  }\n\n  var ya = "auth/",\n      za = {\n    "admin-restricted-operation": "This operation is restricted to administrators only.",\n    "argument-error": "",\n    "app-not-authorized": "This app, identified by the domain where it\'s hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",\n    "app-not-installed": "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",\n    "captcha-check-failed": "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",\n    "code-expired": "The SMS code has expired. Please re-send the verification code to try again.",\n    "cordova-not-ready": "Cordova framework is not ready.",\n    "cors-unsupported": "This browser is not supported.",\n    "credential-already-in-use": "This credential is already associated with a different user account.",\n    "custom-token-mismatch": "The custom token corresponds to a different audience.",\n    "requires-recent-login": "This operation is sensitive and requires recent authentication. Log in again before retrying this request.",\n    "dynamic-link-not-activated": "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",\n    "email-change-needs-verification": "Multi-factor users must always have a verified email.",\n    "email-already-in-use": "The email address is already in use by another account.",\n    "expired-action-code": "The action code has expired. ",\n    "cancelled-popup-request": "This operation has been cancelled due to another conflicting popup being opened.",\n    "internal-error": "An internal error has occurred.",\n    "invalid-app-credential": "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",\n    "invalid-app-id": "The mobile app identifier is not registed for the current project.",\n    "invalid-user-token": "This user\'s credential isn\'t valid for this project. This can happen if the user\'s token has been tampered with, or if the user isn\'t for the project associated with this API key.",\n    "invalid-auth-event": "An internal error has occurred.",\n    "invalid-verification-code": "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.",\n    "invalid-continue-uri": "The continue URL provided in the request is invalid.",\n    "invalid-cordova-configuration": "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",\n    "invalid-custom-token": "The custom token format is incorrect. Please check the documentation.",\n    "invalid-dynamic-link-domain": "The provided dynamic link domain is not configured or authorized for the current project.",\n    "invalid-email": "The email address is badly formatted.",\n    "invalid-api-key": "Your API key is invalid, please check you have copied it correctly.",\n    "invalid-cert-hash": "The SHA-1 certificate hash provided is invalid.",\n    "invalid-credential": "The supplied auth credential is malformed or has expired.",\n    "invalid-message-payload": "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",\n    "invalid-multi-factor-session": "The request does not contain a valid proof of first factor successful sign-in.",\n    "invalid-oauth-provider": "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",\n    "invalid-oauth-client-id": "The OAuth client ID provided is either invalid or does not match the specified API key.",\n    "unauthorized-domain": "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",\n    "invalid-action-code": "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",\n    "wrong-password": "The password is invalid or the user does not have a password.",\n    "invalid-persistence-type": "The specified persistence type is invalid. It can only be local, session or none.",\n    "invalid-phone-number": "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",\n    "invalid-provider-id": "The specified provider ID is invalid.",\n    "invalid-recipient-email": "The email corresponding to this action failed to send as the provided recipient email address is invalid.",\n    "invalid-sender": "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",\n    "invalid-verification-id": "The verification ID used to create the phone auth credential is invalid.",\n    "invalid-tenant-id": "The Auth instance\'s tenant ID is invalid.",\n    "multi-factor-info-not-found": "The user does not have a second factor matching the identifier provided.",\n    "multi-factor-auth-required": "Proof of ownership of a second factor is required to complete sign-in.",\n    "missing-android-pkg-name": "An Android Package Name must be provided if the Android App is required to be installed.",\n    "auth-domain-config-required": "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",\n    "missing-app-credential": "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",\n    "missing-verification-code": "The phone auth credential was created with an empty SMS verification code.",\n    "missing-continue-uri": "A continue URL must be provided in the request.",\n    "missing-iframe-start": "An internal error has occurred.",\n    "missing-ios-bundle-id": "An iOS Bundle ID must be provided if an App Store ID is provided.",\n    "missing-multi-factor-info": "No second factor identifier is provided.",\n    "missing-multi-factor-session": "The request is missing proof of first factor successful sign-in.",\n    "missing-or-invalid-nonce": "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",\n    "missing-phone-number": "To send verification codes, provide a phone number for the recipient.",\n    "missing-verification-id": "The phone auth credential was created with an empty verification ID.",\n    "app-deleted": "This instance of FirebaseApp has been deleted.",\n    "account-exists-with-different-credential": "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",\n    "network-request-failed": "A network error (such as timeout, interrupted connection or unreachable host) has occurred.",\n    "no-auth-event": "An internal error has occurred.",\n    "no-such-provider": "User was not linked to an account with the given provider.",\n    "null-user": "A null user object was provided as the argument for an operation which requires a non-null user object.",\n    "operation-not-allowed": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",\n    "operation-not-supported-in-this-environment": \'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.\',\n    "popup-blocked": "Unable to establish a connection with the popup. It may have been blocked by the browser.",\n    "popup-closed-by-user": "The popup has been closed by the user before finalizing the operation.",\n    "provider-already-linked": "User can only be linked to one identity for the given provider.",\n    "quota-exceeded": "The project\'s quota for this operation has been exceeded.",\n    "redirect-cancelled-by-user": "The redirect operation has been cancelled by the user before finalizing.",\n    "redirect-operation-pending": "A redirect sign-in operation is already pending.",\n    "rejected-credential": "The request contains malformed or mismatching credentials.",\n    "second-factor-already-in-use": "The second factor is already enrolled on this account.",\n    "maximum-second-factor-count-exceeded": "The maximum allowed number of second factors on a user has been exceeded.",\n    "tenant-id-mismatch": "The provided tenant ID does not match the Auth instance\'s tenant ID",\n    timeout: "The operation has timed out.",\n    "user-token-expired": "The user\'s credential is no longer valid. The user must sign in again.",\n    "too-many-requests": "We have blocked all requests from this device due to unusual activity. Try again later.",\n    "unauthorized-continue-uri": "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",\n    "unsupported-first-factor": "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",\n    "unsupported-persistence-type": "The current environment does not support the specified persistence type.",\n    "unsupported-tenant-operation": "This operation is not supported in a multi-tenant context.",\n    "unverified-email": "The operation requires a verified email.",\n    "user-cancelled": "The user did not grant your application the permissions it requested.",\n    "user-not-found": "There is no user record corresponding to this identifier. The user may have been deleted.",\n    "user-disabled": "The user account has been disabled by an administrator.",\n    "user-mismatch": "The supplied credentials do not correspond to the previously signed in user.",\n    "user-signed-out": "",\n    "weak-password": "The password must be 6 characters long or more.",\n    "web-storage-unsupported": "This browser is not supported or 3rd party cookies and data may be disabled."\n  };\n  /*\n  Copyright 2017 Google LLC\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  var Ba = {\n    kd: {\n      Sa: "https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",\n      Ya: "https://staging-securetoken.sandbox.googleapis.com/v1/token",\n      Va: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/",\n      id: "b"\n    },\n    rd: {\n      Sa: "https://www.googleapis.com/identitytoolkit/v3/relyingparty/",\n      Ya: "https://securetoken.googleapis.com/v1/token",\n      Va: "https://identitytoolkit.googleapis.com/v2/",\n      id: "p"\n    },\n    td: {\n      Sa: "https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",\n      Ya: "https://staging-securetoken.sandbox.googleapis.com/v1/token",\n      Va: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/",\n      id: "s"\n    },\n    ud: {\n      Sa: "https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",\n      Ya: "https://test-securetoken.sandbox.googleapis.com/v1/token",\n      Va: "https://test-identitytoolkit.sandbox.googleapis.com/v2/",\n      id: "t"\n    }\n  };\n\n  function Ca(a) {\n    for (var b in Ba) {\n      if (Ba[b].id === a) return a = Ba[b], {\n        firebaseEndpoint: a.Sa,\n        secureTokenEndpoint: a.Ya,\n        identityPlatformEndpoint: a.Va\n      };\n    }\n\n    return null;\n  }\n\n  var Da;\n  Da = Ca("__EID__") ? "__EID__" : void 0;\n\n  function Ea(a) {\n    if (!a) return !1;\n\n    try {\n      return !!a.$goog_Thenable;\n    } catch (b) {\n      return !1;\n    }\n  }\n\n  ;\n\n  function u(a) {\n    if (Error.captureStackTrace) Error.captureStackTrace(this, u);else {\n      var b = Error().stack;\n      b && (this.stack = b);\n    }\n    a && (this.message = String(a));\n  }\n\n  r(u, Error);\n  u.prototype.name = "CustomError";\n\n  function Fa(a, b) {\n    a = a.split("%s");\n\n    for (var c = "", d = a.length - 1, e = 0; e < d; e++) {\n      c += a[e] + (e < b.length ? b[e] : "%s");\n    }\n\n    u.call(this, c + a[d]);\n  }\n\n  r(Fa, u);\n  Fa.prototype.name = "AssertionError";\n\n  function Ga(a, b) {\n    throw new Fa("Failure" + (a ? ": " + a : ""), Array.prototype.slice.call(arguments, 1));\n  }\n\n  ;\n\n  function Ha(a, b) {\n    this.c = a;\n    this.f = b;\n    this.b = 0;\n    this.a = null;\n  }\n\n  Ha.prototype.get = function () {\n    if (0 < this.b) {\n      this.b--;\n      var a = this.a;\n      this.a = a.next;\n      a.next = null;\n    } else a = this.c();\n\n    return a;\n  };\n\n  function Ia(a, b) {\n    a.f(b);\n    100 > a.b && (a.b++, b.next = a.a, a.a = b);\n  }\n\n  ;\n\n  function Ja() {\n    this.b = this.a = null;\n  }\n\n  var La = new Ha(function () {\n    return new Ka();\n  }, function (a) {\n    a.reset();\n  });\n\n  Ja.prototype.add = function (a, b) {\n    var c = La.get();\n    c.set(a, b);\n    this.b ? this.b.next = c : this.a = c;\n    this.b = c;\n  };\n\n  function Ma() {\n    var a = Na,\n        b = null;\n    a.a && (b = a.a, a.a = a.a.next, a.a || (a.b = null), b.next = null);\n    return b;\n  }\n\n  function Ka() {\n    this.next = this.b = this.a = null;\n  }\n\n  Ka.prototype.set = function (a, b) {\n    this.a = a;\n    this.b = b;\n    this.next = null;\n  };\n\n  Ka.prototype.reset = function () {\n    this.next = this.b = this.a = null;\n  };\n\n  var Oa = Array.prototype.indexOf ? function (a, b) {\n    return Array.prototype.indexOf.call(a, b, void 0);\n  } : function (a, b) {\n    if ("string" === typeof a) return "string" !== typeof b || 1 != b.length ? -1 : a.indexOf(b, 0);\n\n    for (var c = 0; c < a.length; c++) {\n      if (c in a && a[c] === b) return c;\n    }\n\n    return -1;\n  },\n      w = Array.prototype.forEach ? function (a, b, c) {\n    Array.prototype.forEach.call(a, b, c);\n  } : function (a, b, c) {\n    for (var d = a.length, e = "string" === typeof a ? a.split("") : a, f = 0; f < d; f++) {\n      f in e && b.call(c, e[f], f, a);\n    }\n  };\n\n  function Pa(a, b) {\n    for (var c = "string" === typeof a ? a.split("") : a, d = a.length - 1; 0 <= d; --d) {\n      d in c && b.call(void 0, c[d], d, a);\n    }\n  }\n\n  var Qa = Array.prototype.filter ? function (a, b) {\n    return Array.prototype.filter.call(a, b, void 0);\n  } : function (a, b) {\n    for (var c = a.length, d = [], e = 0, f = "string" === typeof a ? a.split("") : a, g = 0; g < c; g++) {\n      if (g in f) {\n        var h = f[g];\n        b.call(void 0, h, g, a) && (d[e++] = h);\n      }\n    }\n\n    return d;\n  },\n      Ra = Array.prototype.map ? function (a, b) {\n    return Array.prototype.map.call(a, b, void 0);\n  } : function (a, b) {\n    for (var c = a.length, d = Array(c), e = "string" === typeof a ? a.split("") : a, f = 0; f < c; f++) {\n      f in e && (d[f] = b.call(void 0, e[f], f, a));\n    }\n\n    return d;\n  },\n      Sa = Array.prototype.some ? function (a, b) {\n    return Array.prototype.some.call(a, b, void 0);\n  } : function (a, b) {\n    for (var c = a.length, d = "string" === typeof a ? a.split("") : a, e = 0; e < c; e++) {\n      if (e in d && b.call(void 0, d[e], e, a)) return !0;\n    }\n\n    return !1;\n  };\n\n  function Ta(a) {\n    a: {\n      var b = Ua;\n\n      for (var c = a.length, d = "string" === typeof a ? a.split("") : a, e = 0; e < c; e++) {\n        if (e in d && b.call(void 0, d[e], e, a)) {\n          b = e;\n          break a;\n        }\n      }\n\n      b = -1;\n    }\n\n    return 0 > b ? null : "string" === typeof a ? a.charAt(b) : a[b];\n  }\n\n  function Va(a, b) {\n    return 0 <= Oa(a, b);\n  }\n\n  function Wa(a, b) {\n    b = Oa(a, b);\n    var c;\n    (c = 0 <= b) && Array.prototype.splice.call(a, b, 1);\n    return c;\n  }\n\n  function Xa(a, b) {\n    var c = 0;\n    Pa(a, function (d, e) {\n      b.call(void 0, d, e, a) && 1 == Array.prototype.splice.call(a, e, 1).length && c++;\n    });\n  }\n\n  function Ya(a) {\n    return Array.prototype.concat.apply([], arguments);\n  }\n\n  function Za(a) {\n    var b = a.length;\n\n    if (0 < b) {\n      for (var c = Array(b), d = 0; d < b; d++) {\n        c[d] = a[d];\n      }\n\n      return c;\n    }\n\n    return [];\n  }\n\n  ;\n  var $a = String.prototype.trim ? function (a) {\n    return a.trim();\n  } : function (a) {\n    return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(a)[1];\n  },\n      ab = /&/g,\n      bb = /</g,\n      cb = />/g,\n      db = /"/g,\n      eb = /\'/g,\n      fb = /\\x00/g,\n      gb = /[\\x00&<>"\']/;\n\n  function x(a, b) {\n    return -1 != a.indexOf(b);\n  }\n\n  function hb(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n  }\n\n  ;\n  var ib;\n\n  a: {\n    var jb = l.navigator;\n\n    if (jb) {\n      var kb = jb.userAgent;\n\n      if (kb) {\n        ib = kb;\n        break a;\n      }\n    }\n\n    ib = "";\n  }\n\n  function y(a) {\n    return x(ib, a);\n  }\n\n  ;\n\n  function lb(a, b) {\n    for (var c in a) {\n      b.call(void 0, a[c], c, a);\n    }\n  }\n\n  function mb(a) {\n    for (var b in a) {\n      return !1;\n    }\n\n    return !0;\n  }\n\n  function nb(a) {\n    var b = {},\n        c;\n\n    for (c in a) {\n      b[c] = a[c];\n    }\n\n    return b;\n  }\n\n  var ob = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");\n\n  function z(a, b) {\n    for (var c, d, e = 1; e < arguments.length; e++) {\n      d = arguments[e];\n\n      for (c in d) {\n        a[c] = d[c];\n      }\n\n      for (var f = 0; f < ob.length; f++) {\n        c = ob[f], Object.prototype.hasOwnProperty.call(d, c) && (a[c] = d[c]);\n      }\n    }\n  }\n\n  ;\n\n  function pb(a, b) {\n    a: {\n      try {\n        var c = a && a.ownerDocument,\n            d = c && (c.defaultView || c.parentWindow);\n        d = d || l;\n\n        if (d.Element && d.Location) {\n          var e = d;\n          break a;\n        }\n      } catch (g) {}\n\n      e = null;\n    }\n\n    if (e && "undefined" != typeof e[b] && (!a || !(a instanceof e[b]) && (a instanceof e.Location || a instanceof e.Element))) {\n      if (m(a)) try {\n        var f = a.constructor.displayName || a.constructor.name || Object.prototype.toString.call(a);\n      } catch (g) {\n        f = "<object could not be stringified>";\n      } else f = void 0 === a ? "undefined" : null === a ? "null" : typeof a;\n      Ga("Argument is not a %s (or a non-Element, non-Location mock); got: %s", b, f);\n    }\n  }\n\n  ;\n\n  function qb(a, b) {\n    this.a = a === rb && b || "";\n    this.b = sb;\n  }\n\n  qb.prototype.sa = !0;\n\n  qb.prototype.ra = function () {\n    return this.a;\n  };\n\n  qb.prototype.toString = function () {\n    return "Const{" + this.a + "}";\n  };\n\n  function tb(a) {\n    if (a instanceof qb && a.constructor === qb && a.b === sb) return a.a;\n    Ga("expected object of type Const, got \'" + a + "\'");\n    return "type_error:Const";\n  }\n\n  var sb = {},\n      rb = {};\n  var ub;\n\n  function vb() {\n    if (void 0 === ub) {\n      var a = null,\n          b = l.trustedTypes;\n\n      if (b && b.createPolicy) {\n        try {\n          a = b.createPolicy("goog#html", {\n            createHTML: wa,\n            createScript: wa,\n            createScriptURL: wa\n          });\n        } catch (c) {\n          l.console && l.console.error(c.message);\n        }\n\n        ub = a;\n      } else ub = a;\n    }\n\n    return ub;\n  }\n\n  ;\n\n  function wb(a, b) {\n    this.a = b === xb ? a : "";\n  }\n\n  wb.prototype.sa = !0;\n\n  wb.prototype.ra = function () {\n    return this.a.toString();\n  };\n\n  wb.prototype.toString = function () {\n    return "TrustedResourceUrl{" + this.a + "}";\n  };\n\n  function yb(a) {\n    if (a instanceof wb && a.constructor === wb) return a.a;\n    Ga("expected object of type TrustedResourceUrl, got \'" + a + "\' of type " + ma(a));\n    return "type_error:TrustedResourceUrl";\n  }\n\n  function zb(a, b) {\n    var c = tb(a);\n    if (!Ab.test(c)) throw Error("Invalid TrustedResourceUrl format: " + c);\n    a = c.replace(Bb, function (d, e) {\n      if (!Object.prototype.hasOwnProperty.call(b, e)) throw Error(\'Found marker, "\' + e + \'", in format string, "\' + c + \'", but no valid label mapping found in args: \' + JSON.stringify(b));\n      d = b[e];\n      return d instanceof qb ? tb(d) : encodeURIComponent(String(d));\n    });\n    return Cb(a);\n  }\n\n  var Bb = /%{(\\w+)}/g,\n      Ab = /^((https:)?\\/\\/[0-9a-z.:[\\]-]+\\/|\\/[^/\\\\]|[^:/\\\\%]+\\/|[^:/\\\\%]*[?#]|about:blank#)/i,\n      xb = {};\n\n  function Cb(a) {\n    var b = vb();\n    a = b ? b.createScriptURL(a) : a;\n    return new wb(a, xb);\n  }\n\n  ;\n\n  function C(a, b) {\n    this.a = b === Db ? a : "";\n  }\n\n  C.prototype.sa = !0;\n\n  C.prototype.ra = function () {\n    return this.a.toString();\n  };\n\n  C.prototype.toString = function () {\n    return "SafeUrl{" + this.a + "}";\n  };\n\n  function Eb(a) {\n    if (a instanceof C && a.constructor === C) return a.a;\n    Ga("expected object of type SafeUrl, got \'" + a + "\' of type " + ma(a));\n    return "type_error:SafeUrl";\n  }\n\n  var Fb = /^(?:audio\\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\\/\\w+|image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\\/csv|video\\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|"[\\w;,= ]+"))*$/i,\n      Gb = /^data:(.*);base64,[a-z0-9+\\/]+=*$/i,\n      Hb = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;\n\n  function Ib(a) {\n    if (a instanceof C) return a;\n    a = "object" == typeof a && a.sa ? a.ra() : String(a);\n    if (Hb.test(a)) a = new C(a, Db);else {\n      a = String(a);\n      a = a.replace(/(%0A|%0D)/g, "");\n      var b = a.match(Gb);\n      a = b && Fb.test(b[1]) ? new C(a, Db) : null;\n    }\n    return a;\n  }\n\n  function Jb(a) {\n    if (a instanceof C) return a;\n    a = "object" == typeof a && a.sa ? a.ra() : String(a);\n    Hb.test(a) || (a = "about:invalid#zClosurez");\n    return new C(a, Db);\n  }\n\n  var Db = {},\n      Kb = new C("about:invalid#zClosurez", Db);\n\n  function Lb(a, b, c) {\n    this.a = c === Mb ? a : "";\n  }\n\n  Lb.prototype.sa = !0;\n\n  Lb.prototype.ra = function () {\n    return this.a.toString();\n  };\n\n  Lb.prototype.toString = function () {\n    return "SafeHtml{" + this.a + "}";\n  };\n\n  function Nb(a) {\n    if (a instanceof Lb && a.constructor === Lb) return a.a;\n    Ga("expected object of type SafeHtml, got \'" + a + "\' of type " + ma(a));\n    return "type_error:SafeHtml";\n  }\n\n  var Mb = {};\n\n  function Ob(a, b) {\n    pb(a, "HTMLScriptElement");\n    a.src = yb(b);\n    (b = a.ownerDocument && a.ownerDocument.defaultView) && b != l ? b = ka(b.document) : (null === ja && (ja = ka(l.document)), b = ja);\n    b && a.setAttribute("nonce", b);\n  }\n\n  function Pb(a, b, c, d) {\n    a = a instanceof C ? a : Jb(a);\n    b = b || l;\n    c = c instanceof qb ? tb(c) : c || "";\n    return b.open(Eb(a), c, d, void 0);\n  }\n\n  ;\n\n  function Qb(a, b) {\n    for (var c = a.split("%s"), d = "", e = Array.prototype.slice.call(arguments, 1); e.length && 1 < c.length;) {\n      d += c.shift() + e.shift();\n    }\n\n    return d + c.join("%s");\n  }\n\n  function Rb(a) {\n    gb.test(a) && (-1 != a.indexOf("&") && (a = a.replace(ab, "&amp;")), -1 != a.indexOf("<") && (a = a.replace(bb, "&lt;")), -1 != a.indexOf(">") && (a = a.replace(cb, "&gt;")), -1 != a.indexOf(\'"\') && (a = a.replace(db, "&quot;")), -1 != a.indexOf("\'") && (a = a.replace(eb, "&#39;")), -1 != a.indexOf("\\x00") && (a = a.replace(fb, "&#0;")));\n    return a;\n  }\n\n  ;\n\n  function Sb(a) {\n    Sb[" "](a);\n    return a;\n  }\n\n  Sb[" "] = la;\n\n  function Tb(a, b) {\n    var c = Ub;\n    return Object.prototype.hasOwnProperty.call(c, a) ? c[a] : c[a] = b(a);\n  }\n\n  ;\n  var Vb = y("Opera"),\n      Wb = y("Trident") || y("MSIE"),\n      Xb = y("Edge"),\n      Yb = Xb || Wb,\n      Zb = y("Gecko") && !(x(ib.toLowerCase(), "webkit") && !y("Edge")) && !(y("Trident") || y("MSIE")) && !y("Edge"),\n      $b = x(ib.toLowerCase(), "webkit") && !y("Edge");\n\n  function ac() {\n    var a = l.document;\n    return a ? a.documentMode : void 0;\n  }\n\n  var bc;\n\n  a: {\n    var cc = "",\n        dc = function () {\n      var a = ib;\n      if (Zb) return /rv:([^\\);]+)(\\)|;)/.exec(a);\n      if (Xb) return /Edge\\/([\\d\\.]+)/.exec(a);\n      if (Wb) return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);\n      if ($b) return /WebKit\\/(\\S+)/.exec(a);\n      if (Vb) return /(?:Version)[ \\/]?(\\S+)/.exec(a);\n    }();\n\n    dc && (cc = dc ? dc[1] : "");\n\n    if (Wb) {\n      var ec = ac();\n\n      if (null != ec && ec > parseFloat(cc)) {\n        bc = String(ec);\n        break a;\n      }\n    }\n\n    bc = cc;\n  }\n\n  var Ub = {};\n\n  function fc(a) {\n    return Tb(a, function () {\n      for (var b = 0, c = $a(String(bc)).split("."), d = $a(String(a)).split("."), e = Math.max(c.length, d.length), f = 0; 0 == b && f < e; f++) {\n        var g = c[f] || "",\n            h = d[f] || "";\n\n        do {\n          g = /(\\d*)(\\D*)(.*)/.exec(g) || ["", "", "", ""];\n          h = /(\\d*)(\\D*)(.*)/.exec(h) || ["", "", "", ""];\n          if (0 == g[0].length && 0 == h[0].length) break;\n          b = hb(0 == g[1].length ? 0 : parseInt(g[1], 10), 0 == h[1].length ? 0 : parseInt(h[1], 10)) || hb(0 == g[2].length, 0 == h[2].length) || hb(g[2], h[2]);\n          g = g[3];\n          h = h[3];\n        } while (0 == b);\n      }\n\n      return 0 <= b;\n    });\n  }\n\n  var gc;\n\n  if (l.document && Wb) {\n    var hc = ac();\n    gc = hc ? hc : parseInt(bc, 10) || void 0;\n  } else gc = void 0;\n\n  var ic = gc;\n\n  try {\n    new self.OffscreenCanvas(0, 0).getContext("2d");\n  } catch (a) {}\n\n  var jc = !Wb || 9 <= Number(ic);\n\n  function kc(a) {\n    var b = document;\n    return "string" === typeof a ? b.getElementById(a) : a;\n  }\n\n  function lc(a, b) {\n    lb(b, function (c, d) {\n      c && "object" == typeof c && c.sa && (c = c.ra());\n      "style" == d ? a.style.cssText = c : "class" == d ? a.className = c : "for" == d ? a.htmlFor = c : mc.hasOwnProperty(d) ? a.setAttribute(mc[d], c) : 0 == d.lastIndexOf("aria-", 0) || 0 == d.lastIndexOf("data-", 0) ? a.setAttribute(d, c) : a[d] = c;\n    });\n  }\n\n  var mc = {\n    cellpadding: "cellPadding",\n    cellspacing: "cellSpacing",\n    colspan: "colSpan",\n    frameborder: "frameBorder",\n    height: "height",\n    maxlength: "maxLength",\n    nonce: "nonce",\n    role: "role",\n    rowspan: "rowSpan",\n    type: "type",\n    usemap: "useMap",\n    valign: "vAlign",\n    width: "width"\n  };\n\n  function nc(a, b, c) {\n    var d = arguments,\n        e = document,\n        f = String(d[0]),\n        g = d[1];\n\n    if (!jc && g && (g.name || g.type)) {\n      f = ["<", f];\n      g.name && f.push(\' name="\', Rb(g.name), \'"\');\n\n      if (g.type) {\n        f.push(\' type="\', Rb(g.type), \'"\');\n        var h = {};\n        z(h, g);\n        delete h.type;\n        g = h;\n      }\n\n      f.push(">");\n      f = f.join("");\n    }\n\n    f = oc(e, f);\n    g && ("string" === typeof g ? f.className = g : Array.isArray(g) ? f.className = g.join(" ") : lc(f, g));\n    2 < d.length && pc(e, f, d);\n    return f;\n  }\n\n  function pc(a, b, c) {\n    function d(h) {\n      h && b.appendChild("string" === typeof h ? a.createTextNode(h) : h);\n    }\n\n    for (var e = 2; e < c.length; e++) {\n      var f = c[e];\n      if (!na(f) || m(f) && 0 < f.nodeType) d(f);else {\n        a: {\n          if (f && "number" == typeof f.length) {\n            if (m(f)) {\n              var g = "function" == typeof f.item || "string" == typeof f.item;\n              break a;\n            }\n\n            if (oa(f)) {\n              g = "function" == typeof f.item;\n              break a;\n            }\n          }\n\n          g = !1;\n        }\n\n        w(g ? Za(f) : f, d);\n      }\n    }\n  }\n\n  function oc(a, b) {\n    b = String(b);\n    "application/xhtml+xml" === a.contentType && (b = b.toLowerCase());\n    return a.createElement(b);\n  }\n\n  ;\n\n  function qc(a) {\n    l.setTimeout(function () {\n      throw a;\n    }, 0);\n  }\n\n  var rc;\n\n  function sc() {\n    var a = l.MessageChannel;\n    "undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && !y("Presto") && (a = function a() {\n      var e = oc(document, "IFRAME");\n      e.style.display = "none";\n      document.documentElement.appendChild(e);\n      var f = e.contentWindow;\n      e = f.document;\n      e.open();\n      e.close();\n      var g = "callImmediate" + Math.random(),\n          h = "file:" == f.location.protocol ? "*" : f.location.protocol + "//" + f.location.host;\n      e = q(function (n) {\n        if (("*" == h || n.origin == h) && n.data == g) this.port1.onmessage();\n      }, this);\n      f.addEventListener("message", e, !1);\n      this.port1 = {};\n      this.port2 = {\n        postMessage: function postMessage() {\n          f.postMessage(g, h);\n        }\n      };\n    });\n\n    if ("undefined" !== typeof a && !y("Trident") && !y("MSIE")) {\n      var b = new a(),\n          c = {},\n          d = c;\n\n      b.port1.onmessage = function () {\n        if (void 0 !== c.next) {\n          c = c.next;\n          var e = c.Fb;\n          c.Fb = null;\n          e();\n        }\n      };\n\n      return function (e) {\n        d.next = {\n          Fb: e\n        };\n        d = d.next;\n        b.port2.postMessage(0);\n      };\n    }\n\n    return function (e) {\n      l.setTimeout(e, 0);\n    };\n  }\n\n  ;\n\n  function tc(a, b) {\n    uc || vc();\n    wc || (uc(), wc = !0);\n    Na.add(a, b);\n  }\n\n  var uc;\n\n  function vc() {\n    if (l.Promise && l.Promise.resolve) {\n      var a = l.Promise.resolve(void 0);\n\n      uc = function uc() {\n        a.then(xc);\n      };\n    } else uc = function uc() {\n      var b = xc;\n      !oa(l.setImmediate) || l.Window && l.Window.prototype && !y("Edge") && l.Window.prototype.setImmediate == l.setImmediate ? (rc || (rc = sc()), rc(b)) : l.setImmediate(b);\n    };\n  }\n\n  var wc = !1,\n      Na = new Ja();\n\n  function xc() {\n    for (var a; a = Ma();) {\n      try {\n        a.a.call(a.b);\n      } catch (b) {\n        qc(b);\n      }\n\n      Ia(La, a);\n    }\n\n    wc = !1;\n  }\n\n  ;\n\n  function D(a, b) {\n    this.a = yc;\n    this.i = void 0;\n    this.f = this.b = this.c = null;\n    this.g = this.h = !1;\n    if (a != la) try {\n      var c = this;\n      a.call(b, function (d) {\n        zc(c, Ac, d);\n      }, function (d) {\n        if (!(d instanceof Bc)) try {\n          if (d instanceof Error) throw d;\n          throw Error("Promise rejected.");\n        } catch (e) {}\n        zc(c, Cc, d);\n      });\n    } catch (d) {\n      zc(this, Cc, d);\n    }\n  }\n\n  var yc = 0,\n      Ac = 2,\n      Cc = 3;\n\n  function Dc() {\n    this.next = this.f = this.b = this.g = this.a = null;\n    this.c = !1;\n  }\n\n  Dc.prototype.reset = function () {\n    this.f = this.b = this.g = this.a = null;\n    this.c = !1;\n  };\n\n  var Ec = new Ha(function () {\n    return new Dc();\n  }, function (a) {\n    a.reset();\n  });\n\n  function Fc(a, b, c) {\n    var d = Ec.get();\n    d.g = a;\n    d.b = b;\n    d.f = c;\n    return d;\n  }\n\n  function E(a) {\n    if (a instanceof D) return a;\n    var b = new D(la);\n    zc(b, Ac, a);\n    return b;\n  }\n\n  function F(a) {\n    return new D(function (b, c) {\n      c(a);\n    });\n  }\n\n  function Gc(a, b, c) {\n    Hc(a, b, c, null) || tc(ua(b, a));\n  }\n\n  function Ic(a) {\n    return new D(function (b, c) {\n      var d = a.length,\n          e = [];\n      if (d) for (var f = function f(p, v) {\n        d--;\n        e[p] = v;\n        0 == d && b(e);\n      }, g = function g(p) {\n        c(p);\n      }, h = 0, n; h < a.length; h++) {\n        n = a[h], Gc(n, ua(f, h), g);\n      } else b(e);\n    });\n  }\n\n  function Jc(a) {\n    return new D(function (b) {\n      var c = a.length,\n          d = [];\n      if (c) for (var e = function e(h, n, p) {\n        c--;\n        d[h] = n ? {\n          Ob: !0,\n          value: p\n        } : {\n          Ob: !1,\n          reason: p\n        };\n        0 == c && b(d);\n      }, f = 0, g; f < a.length; f++) {\n        g = a[f], Gc(g, ua(e, f, !0), ua(e, f, !1));\n      } else b(d);\n    });\n  }\n\n  D.prototype.then = function (a, b, c) {\n    return Kc(this, oa(a) ? a : null, oa(b) ? b : null, c);\n  };\n\n  D.prototype.$goog_Thenable = !0;\n  k = D.prototype;\n\n  k.na = function (a, b) {\n    a = Fc(a, a, b);\n    a.c = !0;\n    Lc(this, a);\n    return this;\n  };\n\n  k.s = function (a, b) {\n    return Kc(this, null, a, b);\n  };\n\n  k.cancel = function (a) {\n    if (this.a == yc) {\n      var b = new Bc(a);\n      tc(function () {\n        Mc(this, b);\n      }, this);\n    }\n  };\n\n  function Mc(a, b) {\n    if (a.a == yc) if (a.c) {\n      var c = a.c;\n\n      if (c.b) {\n        for (var d = 0, e = null, f = null, g = c.b; g && (g.c || (d++, g.a == a && (e = g), !(e && 1 < d))); g = g.next) {\n          e || (f = g);\n        }\n\n        e && (c.a == yc && 1 == d ? Mc(c, b) : (f ? (d = f, d.next == c.f && (c.f = d), d.next = d.next.next) : Nc(c), Oc(c, e, Cc, b)));\n      }\n\n      a.c = null;\n    } else zc(a, Cc, b);\n  }\n\n  function Lc(a, b) {\n    a.b || a.a != Ac && a.a != Cc || Pc(a);\n    a.f ? a.f.next = b : a.b = b;\n    a.f = b;\n  }\n\n  function Kc(a, b, c, d) {\n    var e = Fc(null, null, null);\n    e.a = new D(function (f, g) {\n      e.g = b ? function (h) {\n        try {\n          var n = b.call(d, h);\n          f(n);\n        } catch (p) {\n          g(p);\n        }\n      } : f;\n      e.b = c ? function (h) {\n        try {\n          var n = c.call(d, h);\n          void 0 === n && h instanceof Bc ? g(h) : f(n);\n        } catch (p) {\n          g(p);\n        }\n      } : g;\n    });\n    e.a.c = a;\n    Lc(a, e);\n    return e.a;\n  }\n\n  k.Zc = function (a) {\n    this.a = yc;\n    zc(this, Ac, a);\n  };\n\n  k.$c = function (a) {\n    this.a = yc;\n    zc(this, Cc, a);\n  };\n\n  function zc(a, b, c) {\n    a.a == yc && (a === c && (b = Cc, c = new TypeError("Promise cannot resolve to itself")), a.a = 1, Hc(c, a.Zc, a.$c, a) || (a.i = c, a.a = b, a.c = null, Pc(a), b != Cc || c instanceof Bc || Qc(a, c)));\n  }\n\n  function Hc(a, b, c, d) {\n    if (a instanceof D) return Lc(a, Fc(b || la, c || null, d)), !0;\n    if (Ea(a)) return a.then(b, c, d), !0;\n    if (m(a)) try {\n      var e = a.then;\n      if (oa(e)) return Rc(a, e, b, c, d), !0;\n    } catch (f) {\n      return c.call(d, f), !0;\n    }\n    return !1;\n  }\n\n  function Rc(a, b, c, d, e) {\n    function f(n) {\n      h || (h = !0, d.call(e, n));\n    }\n\n    function g(n) {\n      h || (h = !0, c.call(e, n));\n    }\n\n    var h = !1;\n\n    try {\n      b.call(a, g, f);\n    } catch (n) {\n      f(n);\n    }\n  }\n\n  function Pc(a) {\n    a.h || (a.h = !0, tc(a.fc, a));\n  }\n\n  function Nc(a) {\n    var b = null;\n    a.b && (b = a.b, a.b = b.next, b.next = null);\n    a.b || (a.f = null);\n    return b;\n  }\n\n  k.fc = function () {\n    for (var a; a = Nc(this);) {\n      Oc(this, a, this.a, this.i);\n    }\n\n    this.h = !1;\n  };\n\n  function Oc(a, b, c, d) {\n    if (c == Cc && b.b && !b.c) for (; a && a.g; a = a.c) {\n      a.g = !1;\n    }\n    if (b.a) b.a.c = null, Sc(b, c, d);else try {\n      b.c ? b.g.call(b.f) : Sc(b, c, d);\n    } catch (e) {\n      Tc.call(null, e);\n    }\n    Ia(Ec, b);\n  }\n\n  function Sc(a, b, c) {\n    b == Ac ? a.g.call(a.f, c) : a.b && a.b.call(a.f, c);\n  }\n\n  function Qc(a, b) {\n    a.g = !0;\n    tc(function () {\n      a.g && Tc.call(null, b);\n    });\n  }\n\n  var Tc = qc;\n\n  function Bc(a) {\n    u.call(this, a);\n  }\n\n  r(Bc, u);\n  Bc.prototype.name = "cancel";\n\n  function Uc() {\n    0 != Vc && (Wc[pa(this)] = this);\n    this.xa = this.xa;\n    this.oa = this.oa;\n  }\n\n  var Vc = 0,\n      Wc = {};\n  Uc.prototype.xa = !1;\n\n  function Xc(a) {\n    if (!a.xa && (a.xa = !0, a.Da(), 0 != Vc)) {\n      var b = pa(a);\n      if (0 != Vc && a.oa && 0 < a.oa.length) throw Error(a + " did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass\' method.");\n      delete Wc[b];\n    }\n  }\n\n  Uc.prototype.Da = function () {\n    if (this.oa) for (; this.oa.length;) {\n      this.oa.shift()();\n    }\n  };\n\n  var Yc = Object.freeze || function (a) {\n    return a;\n  };\n\n  var Zc = !Wb || 9 <= Number(ic),\n      $c = Wb && !fc("9"),\n      ad = function () {\n    if (!l.addEventListener || !Object.defineProperty) return !1;\n    var a = !1,\n        b = Object.defineProperty({}, "passive", {\n      get: function get() {\n        a = !0;\n      }\n    });\n\n    try {\n      l.addEventListener("test", la, b), l.removeEventListener("test", la, b);\n    } catch (c) {}\n\n    return a;\n  }();\n\n  function G(a, b) {\n    this.type = a;\n    this.b = this.target = b;\n    this.defaultPrevented = !1;\n  }\n\n  G.prototype.preventDefault = function () {\n    this.defaultPrevented = !0;\n  };\n\n  function bd(a, b) {\n    G.call(this, a ? a.type : "");\n    this.relatedTarget = this.b = this.target = null;\n    this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0;\n    this.key = "";\n    this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n    this.pointerId = 0;\n    this.pointerType = "";\n    this.a = null;\n\n    if (a) {\n      var c = this.type = a.type,\n          d = a.changedTouches && a.changedTouches.length ? a.changedTouches[0] : null;\n      this.target = a.target || a.srcElement;\n      this.b = b;\n\n      if (b = a.relatedTarget) {\n        if (Zb) {\n          a: {\n            try {\n              Sb(b.nodeName);\n              var e = !0;\n              break a;\n            } catch (f) {}\n\n            e = !1;\n          }\n\n          e || (b = null);\n        }\n      } else "mouseover" == c ? b = a.fromElement : "mouseout" == c && (b = a.toElement);\n\n      this.relatedTarget = b;\n      d ? (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY, this.screenX = d.screenX || 0, this.screenY = d.screenY || 0) : (this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY, this.screenX = a.screenX || 0, this.screenY = a.screenY || 0);\n      this.button = a.button;\n      this.key = a.key || "";\n      this.ctrlKey = a.ctrlKey;\n      this.altKey = a.altKey;\n      this.shiftKey = a.shiftKey;\n      this.metaKey = a.metaKey;\n      this.pointerId = a.pointerId || 0;\n      this.pointerType = "string" === typeof a.pointerType ? a.pointerType : cd[a.pointerType] || "";\n      this.a = a;\n      a.defaultPrevented && this.preventDefault();\n    }\n  }\n\n  r(bd, G);\n  var cd = Yc({\n    2: "touch",\n    3: "pen",\n    4: "mouse"\n  });\n\n  bd.prototype.preventDefault = function () {\n    bd.$a.preventDefault.call(this);\n    var a = this.a;\n    if (a.preventDefault) a.preventDefault();else if (a.returnValue = !1, $c) try {\n      if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) a.keyCode = -1;\n    } catch (b) {}\n  };\n\n  bd.prototype.g = function () {\n    return this.a;\n  };\n\n  var dd = "closure_listenable_" + (1E6 * Math.random() | 0),\n      ed = 0;\n\n  function fd(a, b, c, d, e) {\n    this.listener = a;\n    this.proxy = null;\n    this.src = b;\n    this.type = c;\n    this.capture = !!d;\n    this.Ua = e;\n    this.key = ++ed;\n    this.va = this.Oa = !1;\n  }\n\n  function gd(a) {\n    a.va = !0;\n    a.listener = null;\n    a.proxy = null;\n    a.src = null;\n    a.Ua = null;\n  }\n\n  ;\n\n  function hd(a) {\n    this.src = a;\n    this.a = {};\n    this.b = 0;\n  }\n\n  hd.prototype.add = function (a, b, c, d, e) {\n    var f = a.toString();\n    a = this.a[f];\n    a || (a = this.a[f] = [], this.b++);\n    var g = id(a, b, d, e);\n    -1 < g ? (b = a[g], c || (b.Oa = !1)) : (b = new fd(b, this.src, f, !!d, e), b.Oa = c, a.push(b));\n    return b;\n  };\n\n  function jd(a, b) {\n    var c = b.type;\n    c in a.a && Wa(a.a[c], b) && (gd(b), 0 == a.a[c].length && (delete a.a[c], a.b--));\n  }\n\n  function id(a, b, c, d) {\n    for (var e = 0; e < a.length; ++e) {\n      var f = a[e];\n      if (!f.va && f.listener == b && f.capture == !!c && f.Ua == d) return e;\n    }\n\n    return -1;\n  }\n\n  ;\n  var kd = "closure_lm_" + (1E6 * Math.random() | 0),\n      ld = {},\n      md = 0;\n\n  function nd(a, b, c, d, e) {\n    if (d && d.once) od(a, b, c, d, e);else if (Array.isArray(b)) for (var f = 0; f < b.length; f++) {\n      nd(a, b[f], c, d, e);\n    } else c = pd(c), a && a[dd] ? qd(a, b, c, m(d) ? !!d.capture : !!d, e) : rd(a, b, c, !1, d, e);\n  }\n\n  function rd(a, b, c, d, e, f) {\n    if (!b) throw Error("Invalid event type");\n    var g = m(e) ? !!e.capture : !!e,\n        h = sd(a);\n    h || (a[kd] = h = new hd(a));\n    c = h.add(b, c, d, g, f);\n\n    if (!c.proxy) {\n      d = td();\n      c.proxy = d;\n      d.src = a;\n      d.listener = c;\n      if (a.addEventListener) ad || (e = g), void 0 === e && (e = !1), a.addEventListener(b.toString(), d, e);else if (a.attachEvent) a.attachEvent(ud(b.toString()), d);else if (a.addListener && a.removeListener) a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");\n      md++;\n    }\n  }\n\n  function td() {\n    var a = vd,\n        b = Zc ? function (c) {\n      return a.call(b.src, b.listener, c);\n    } : function (c) {\n      c = a.call(b.src, b.listener, c);\n      if (!c) return c;\n    };\n    return b;\n  }\n\n  function od(a, b, c, d, e) {\n    if (Array.isArray(b)) for (var f = 0; f < b.length; f++) {\n      od(a, b[f], c, d, e);\n    } else c = pd(c), a && a[dd] ? wd(a, b, c, m(d) ? !!d.capture : !!d, e) : rd(a, b, c, !0, d, e);\n  }\n\n  function H(a, b, c, d, e) {\n    if (Array.isArray(b)) for (var f = 0; f < b.length; f++) {\n      H(a, b[f], c, d, e);\n    } else (d = m(d) ? !!d.capture : !!d, c = pd(c), a && a[dd]) ? (a = a.v, b = String(b).toString(), b in a.a && (f = a.a[b], c = id(f, c, d, e), -1 < c && (gd(f[c]), Array.prototype.splice.call(f, c, 1), 0 == f.length && (delete a.a[b], a.b--)))) : a && (a = sd(a)) && (b = a.a[b.toString()], a = -1, b && (a = id(b, c, d, e)), (c = -1 < a ? b[a] : null) && xd(c));\n  }\n\n  function xd(a) {\n    if ("number" !== typeof a && a && !a.va) {\n      var b = a.src;\n      if (b && b[dd]) jd(b.v, a);else {\n        var c = a.type,\n            d = a.proxy;\n        b.removeEventListener ? b.removeEventListener(c, d, a.capture) : b.detachEvent ? b.detachEvent(ud(c), d) : b.addListener && b.removeListener && b.removeListener(d);\n        md--;\n        (c = sd(b)) ? (jd(c, a), 0 == c.b && (c.src = null, b[kd] = null)) : gd(a);\n      }\n    }\n  }\n\n  function ud(a) {\n    return a in ld ? ld[a] : ld[a] = "on" + a;\n  }\n\n  function yd(a, b, c, d) {\n    var e = !0;\n    if (a = sd(a)) if (b = a.a[b.toString()]) for (b = b.concat(), a = 0; a < b.length; a++) {\n      var f = b[a];\n      f && f.capture == c && !f.va && (f = zd(f, d), e = e && !1 !== f);\n    }\n    return e;\n  }\n\n  function zd(a, b) {\n    var c = a.listener,\n        d = a.Ua || a.src;\n    a.Oa && xd(a);\n    return c.call(d, b);\n  }\n\n  function vd(a, b) {\n    if (a.va) return !0;\n\n    if (!Zc) {\n      if (!b) a: {\n        b = ["window", "event"];\n\n        for (var c = l, d = 0; d < b.length; d++) {\n          if (c = c[b[d]], null == c) {\n            b = null;\n            break a;\n          }\n        }\n\n        b = c;\n      }\n      d = b;\n      b = new bd(d, this);\n      c = !0;\n\n      if (!(0 > d.keyCode || void 0 != d.returnValue)) {\n        a: {\n          var e = !1;\n          if (0 == d.keyCode) try {\n            d.keyCode = -1;\n            break a;\n          } catch (g) {\n            e = !0;\n          }\n          if (e || void 0 == d.returnValue) d.returnValue = !0;\n        }\n\n        d = [];\n\n        for (e = b.b; e; e = e.parentNode) {\n          d.push(e);\n        }\n\n        a = a.type;\n\n        for (e = d.length - 1; 0 <= e; e--) {\n          b.b = d[e];\n          var f = yd(d[e], a, !0, b);\n          c = c && f;\n        }\n\n        for (e = 0; e < d.length; e++) {\n          b.b = d[e], f = yd(d[e], a, !1, b), c = c && f;\n        }\n      }\n\n      return c;\n    }\n\n    return zd(a, new bd(b, this));\n  }\n\n  function sd(a) {\n    a = a[kd];\n    return a instanceof hd ? a : null;\n  }\n\n  var Bd = "__closure_events_fn_" + (1E9 * Math.random() >>> 0);\n\n  function pd(a) {\n    if (oa(a)) return a;\n    a[Bd] || (a[Bd] = function (b) {\n      return a.handleEvent(b);\n    });\n    return a[Bd];\n  }\n\n  ;\n\n  function I() {\n    Uc.call(this);\n    this.v = new hd(this);\n    this.$b = this;\n    this.fb = null;\n  }\n\n  r(I, Uc);\n  I.prototype[dd] = !0;\n\n  I.prototype.addEventListener = function (a, b, c, d) {\n    nd(this, a, b, c, d);\n  };\n\n  I.prototype.removeEventListener = function (a, b, c, d) {\n    H(this, a, b, c, d);\n  };\n\n  I.prototype.dispatchEvent = function (a) {\n    var b,\n        c = this.fb;\n    if (c) for (b = []; c; c = c.fb) {\n      b.push(c);\n    }\n    c = this.$b;\n    var d = a.type || a;\n    if ("string" === typeof a) a = new G(a, c);else if (a instanceof G) a.target = a.target || c;else {\n      var e = a;\n      a = new G(d, c);\n      z(a, e);\n    }\n    e = !0;\n    if (b) for (var f = b.length - 1; 0 <= f; f--) {\n      var g = a.b = b[f];\n      e = Cd(g, d, !0, a) && e;\n    }\n    g = a.b = c;\n    e = Cd(g, d, !0, a) && e;\n    e = Cd(g, d, !1, a) && e;\n    if (b) for (f = 0; f < b.length; f++) {\n      g = a.b = b[f], e = Cd(g, d, !1, a) && e;\n    }\n    return e;\n  };\n\n  I.prototype.Da = function () {\n    I.$a.Da.call(this);\n\n    if (this.v) {\n      var a = this.v,\n          b = 0,\n          c;\n\n      for (c in a.a) {\n        for (var d = a.a[c], e = 0; e < d.length; e++) {\n          ++b, gd(d[e]);\n        }\n\n        delete a.a[c];\n        a.b--;\n      }\n    }\n\n    this.fb = null;\n  };\n\n  function qd(a, b, c, d, e) {\n    a.v.add(String(b), c, !1, d, e);\n  }\n\n  function wd(a, b, c, d, e) {\n    a.v.add(String(b), c, !0, d, e);\n  }\n\n  function Cd(a, b, c, d) {\n    b = a.v.a[String(b)];\n    if (!b) return !0;\n    b = b.concat();\n\n    for (var e = !0, f = 0; f < b.length; ++f) {\n      var g = b[f];\n\n      if (g && !g.va && g.capture == c) {\n        var h = g.listener,\n            n = g.Ua || g.src;\n        g.Oa && jd(a.v, g);\n        e = !1 !== h.call(n, d) && e;\n      }\n    }\n\n    return e && !d.defaultPrevented;\n  }\n\n  ;\n\n  function Dd(a, b, c) {\n    if (oa(a)) c && (a = q(a, c));else if (a && "function" == typeof a.handleEvent) a = q(a.handleEvent, a);else throw Error("Invalid listener argument");\n    return 2147483647 < Number(b) ? -1 : l.setTimeout(a, b || 0);\n  }\n\n  function Ed(a) {\n    var b = null;\n    return new D(function (c, d) {\n      b = Dd(function () {\n        c(void 0);\n      }, a);\n      -1 == b && d(Error("Failed to schedule timer."));\n    }).s(function (c) {\n      l.clearTimeout(b);\n      throw c;\n    });\n  }\n\n  ;\n\n  function Fd(a) {\n    if (a.V && "function" == typeof a.V) return a.V();\n    if ("string" === typeof a) return a.split("");\n\n    if (na(a)) {\n      for (var b = [], c = a.length, d = 0; d < c; d++) {\n        b.push(a[d]);\n      }\n\n      return b;\n    }\n\n    b = [];\n    c = 0;\n\n    for (d in a) {\n      b[c++] = a[d];\n    }\n\n    return b;\n  }\n\n  function Gd(a) {\n    if (a.Y && "function" == typeof a.Y) return a.Y();\n\n    if (!a.V || "function" != typeof a.V) {\n      if (na(a) || "string" === typeof a) {\n        var b = [];\n        a = a.length;\n\n        for (var c = 0; c < a; c++) {\n          b.push(c);\n        }\n\n        return b;\n      }\n\n      b = [];\n      c = 0;\n\n      for (var d in a) {\n        b[c++] = d;\n      }\n\n      return b;\n    }\n  }\n\n  function Hd(a, b) {\n    if (a.forEach && "function" == typeof a.forEach) a.forEach(b, void 0);else if (na(a) || "string" === typeof a) w(a, b, void 0);else for (var c = Gd(a), d = Fd(a), e = d.length, f = 0; f < e; f++) {\n      b.call(void 0, d[f], c && c[f], a);\n    }\n  }\n\n  ;\n\n  function Id(a, b) {\n    this.b = {};\n    this.a = [];\n    this.c = 0;\n    var c = arguments.length;\n\n    if (1 < c) {\n      if (c % 2) throw Error("Uneven number of arguments");\n\n      for (var d = 0; d < c; d += 2) {\n        this.set(arguments[d], arguments[d + 1]);\n      }\n    } else if (a) if (a instanceof Id) for (c = a.Y(), d = 0; d < c.length; d++) {\n      this.set(c[d], a.get(c[d]));\n    } else for (d in a) {\n      this.set(d, a[d]);\n    }\n  }\n\n  k = Id.prototype;\n\n  k.V = function () {\n    Jd(this);\n\n    for (var a = [], b = 0; b < this.a.length; b++) {\n      a.push(this.b[this.a[b]]);\n    }\n\n    return a;\n  };\n\n  k.Y = function () {\n    Jd(this);\n    return this.a.concat();\n  };\n\n  k.clear = function () {\n    this.b = {};\n    this.c = this.a.length = 0;\n  };\n\n  function Jd(a) {\n    if (a.c != a.a.length) {\n      for (var b = 0, c = 0; b < a.a.length;) {\n        var d = a.a[b];\n        Kd(a.b, d) && (a.a[c++] = d);\n        b++;\n      }\n\n      a.a.length = c;\n    }\n\n    if (a.c != a.a.length) {\n      var e = {};\n\n      for (c = b = 0; b < a.a.length;) {\n        d = a.a[b], Kd(e, d) || (a.a[c++] = d, e[d] = 1), b++;\n      }\n\n      a.a.length = c;\n    }\n  }\n\n  k.get = function (a, b) {\n    return Kd(this.b, a) ? this.b[a] : b;\n  };\n\n  k.set = function (a, b) {\n    Kd(this.b, a) || (this.c++, this.a.push(a));\n    this.b[a] = b;\n  };\n\n  k.forEach = function (a, b) {\n    for (var c = this.Y(), d = 0; d < c.length; d++) {\n      var e = c[d],\n          f = this.get(e);\n      a.call(b, f, e, this);\n    }\n  };\n\n  function Kd(a, b) {\n    return Object.prototype.hasOwnProperty.call(a, b);\n  }\n\n  ;\n  var Ld = /^(?:([^:/?#.]+):)?(?:\\/\\/(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$/;\n\n  function Md(a, b) {\n    if (a) {\n      a = a.split("&");\n\n      for (var c = 0; c < a.length; c++) {\n        var d = a[c].indexOf("="),\n            e = null;\n\n        if (0 <= d) {\n          var f = a[c].substring(0, d);\n          e = a[c].substring(d + 1);\n        } else f = a[c];\n\n        b(f, e ? decodeURIComponent(e.replace(/\\+/g, " ")) : "");\n      }\n    }\n  }\n\n  ;\n\n  function Nd(a, b) {\n    this.a = this.l = this.f = "";\n    this.g = null;\n    this.h = this.c = "";\n    this.i = !1;\n    var c;\n    a instanceof Nd ? (this.i = void 0 !== b ? b : a.i, Od(this, a.f), this.l = a.l, this.a = a.a, Pd(this, a.g), this.c = a.c, Qd(this, Rd(a.b)), this.h = a.h) : a && (c = String(a).match(Ld)) ? (this.i = !!b, Od(this, c[1] || "", !0), this.l = Sd(c[2] || ""), this.a = Sd(c[3] || "", !0), Pd(this, c[4]), this.c = Sd(c[5] || "", !0), Qd(this, c[6] || "", !0), this.h = Sd(c[7] || "")) : (this.i = !!b, this.b = new Td(null, this.i));\n  }\n\n  Nd.prototype.toString = function () {\n    var a = [],\n        b = this.f;\n    b && a.push(Ud(b, Vd, !0), ":");\n    var c = this.a;\n    if (c || "file" == b) a.push("//"), (b = this.l) && a.push(Ud(b, Vd, !0), "@"), a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), c = this.g, null != c && a.push(":", String(c));\n    if (c = this.c) this.a && "/" != c.charAt(0) && a.push("/"), a.push(Ud(c, "/" == c.charAt(0) ? Wd : Xd, !0));\n    (c = this.b.toString()) && a.push("?", c);\n    (c = this.h) && a.push("#", Ud(c, Yd));\n    return a.join("");\n  };\n\n  Nd.prototype.resolve = function (a) {\n    var b = new Nd(this),\n        c = !!a.f;\n    c ? Od(b, a.f) : c = !!a.l;\n    c ? b.l = a.l : c = !!a.a;\n    c ? b.a = a.a : c = null != a.g;\n    var d = a.c;\n    if (c) Pd(b, a.g);else if (c = !!a.c) {\n      if ("/" != d.charAt(0)) if (this.a && !this.c) d = "/" + d;else {\n        var e = b.c.lastIndexOf("/");\n        -1 != e && (d = b.c.substr(0, e + 1) + d);\n      }\n      e = d;\n      if (".." == e || "." == e) d = "";else if (x(e, "./") || x(e, "/.")) {\n        d = 0 == e.lastIndexOf("/", 0);\n        e = e.split("/");\n\n        for (var f = [], g = 0; g < e.length;) {\n          var h = e[g++];\n          "." == h ? d && g == e.length && f.push("") : ".." == h ? ((1 < f.length || 1 == f.length && "" != f[0]) && f.pop(), d && g == e.length && f.push("")) : (f.push(h), d = !0);\n        }\n\n        d = f.join("/");\n      } else d = e;\n    }\n    c ? b.c = d : c = "" !== a.b.toString();\n    c ? Qd(b, Rd(a.b)) : c = !!a.h;\n    c && (b.h = a.h);\n    return b;\n  };\n\n  function Od(a, b, c) {\n    a.f = c ? Sd(b, !0) : b;\n    a.f && (a.f = a.f.replace(/:$/, ""));\n  }\n\n  function Pd(a, b) {\n    if (b) {\n      b = Number(b);\n      if (isNaN(b) || 0 > b) throw Error("Bad port number " + b);\n      a.g = b;\n    } else a.g = null;\n  }\n\n  function Qd(a, b, c) {\n    b instanceof Td ? (a.b = b, Zd(a.b, a.i)) : (c || (b = Ud(b, $d)), a.b = new Td(b, a.i));\n  }\n\n  function J(a, b, c) {\n    a.b.set(b, c);\n  }\n\n  function ae(a, b) {\n    return a.b.get(b);\n  }\n\n  function be(a) {\n    return a instanceof Nd ? new Nd(a) : new Nd(a, void 0);\n  }\n\n  function ce(a, b, c, d) {\n    var e = new Nd(null, void 0);\n    a && Od(e, a);\n    b && (e.a = b);\n    c && Pd(e, c);\n    d && (e.c = d);\n    return e;\n  }\n\n  function Sd(a, b) {\n    return a ? b ? decodeURI(a.replace(/%25/g, "%2525")) : decodeURIComponent(a) : "";\n  }\n\n  function Ud(a, b, c) {\n    return "string" === typeof a ? (a = encodeURI(a).replace(b, de), c && (a = a.replace(/%25([0-9a-fA-F]{2})/g, "%$1")), a) : null;\n  }\n\n  function de(a) {\n    a = a.charCodeAt(0);\n    return "%" + (a >> 4 & 15).toString(16) + (a & 15).toString(16);\n  }\n\n  var Vd = /[#\\/\\?@]/g,\n      Xd = /[#\\?:]/g,\n      Wd = /[#\\?]/g,\n      $d = /[#\\?@]/g,\n      Yd = /#/g;\n\n  function Td(a, b) {\n    this.b = this.a = null;\n    this.c = a || null;\n    this.f = !!b;\n  }\n\n  function ee(a) {\n    a.a || (a.a = new Id(), a.b = 0, a.c && Md(a.c, function (b, c) {\n      a.add(decodeURIComponent(b.replace(/\\+/g, " ")), c);\n    }));\n  }\n\n  function fe(a) {\n    var b = Gd(a);\n    if ("undefined" == typeof b) throw Error("Keys are undefined");\n    var c = new Td(null, void 0);\n    a = Fd(a);\n\n    for (var d = 0; d < b.length; d++) {\n      var e = b[d],\n          f = a[d];\n      Array.isArray(f) ? ge(c, e, f) : c.add(e, f);\n    }\n\n    return c;\n  }\n\n  k = Td.prototype;\n\n  k.add = function (a, b) {\n    ee(this);\n    this.c = null;\n    a = he(this, a);\n    var c = this.a.get(a);\n    c || this.a.set(a, c = []);\n    c.push(b);\n    this.b += 1;\n    return this;\n  };\n\n  function ie(a, b) {\n    ee(a);\n    b = he(a, b);\n    Kd(a.a.b, b) && (a.c = null, a.b -= a.a.get(b).length, a = a.a, Kd(a.b, b) && (delete a.b[b], a.c--, a.a.length > 2 * a.c && Jd(a)));\n  }\n\n  k.clear = function () {\n    this.a = this.c = null;\n    this.b = 0;\n  };\n\n  function je(a, b) {\n    ee(a);\n    b = he(a, b);\n    return Kd(a.a.b, b);\n  }\n\n  k.forEach = function (a, b) {\n    ee(this);\n    this.a.forEach(function (c, d) {\n      w(c, function (e) {\n        a.call(b, e, d, this);\n      }, this);\n    }, this);\n  };\n\n  k.Y = function () {\n    ee(this);\n\n    for (var a = this.a.V(), b = this.a.Y(), c = [], d = 0; d < b.length; d++) {\n      for (var e = a[d], f = 0; f < e.length; f++) {\n        c.push(b[d]);\n      }\n    }\n\n    return c;\n  };\n\n  k.V = function (a) {\n    ee(this);\n    var b = [];\n    if ("string" === typeof a) je(this, a) && (b = Ya(b, this.a.get(he(this, a))));else {\n      a = this.a.V();\n\n      for (var c = 0; c < a.length; c++) {\n        b = Ya(b, a[c]);\n      }\n    }\n    return b;\n  };\n\n  k.set = function (a, b) {\n    ee(this);\n    this.c = null;\n    a = he(this, a);\n    je(this, a) && (this.b -= this.a.get(a).length);\n    this.a.set(a, [b]);\n    this.b += 1;\n    return this;\n  };\n\n  k.get = function (a, b) {\n    if (!a) return b;\n    a = this.V(a);\n    return 0 < a.length ? String(a[0]) : b;\n  };\n\n  function ge(a, b, c) {\n    ie(a, b);\n    0 < c.length && (a.c = null, a.a.set(he(a, b), Za(c)), a.b += c.length);\n  }\n\n  k.toString = function () {\n    if (this.c) return this.c;\n    if (!this.a) return "";\n\n    for (var a = [], b = this.a.Y(), c = 0; c < b.length; c++) {\n      var d = b[c],\n          e = encodeURIComponent(String(d));\n      d = this.V(d);\n\n      for (var f = 0; f < d.length; f++) {\n        var g = e;\n        "" !== d[f] && (g += "=" + encodeURIComponent(String(d[f])));\n        a.push(g);\n      }\n    }\n\n    return this.c = a.join("&");\n  };\n\n  function Rd(a) {\n    var b = new Td();\n    b.c = a.c;\n    a.a && (b.a = new Id(a.a), b.b = a.b);\n    return b;\n  }\n\n  function he(a, b) {\n    b = String(b);\n    a.f && (b = b.toLowerCase());\n    return b;\n  }\n\n  function Zd(a, b) {\n    b && !a.f && (ee(a), a.c = null, a.a.forEach(function (c, d) {\n      var e = d.toLowerCase();\n      d != e && (ie(this, d), ge(this, e, c));\n    }, a));\n    a.f = b;\n  }\n\n  ;\n\n  function ke(a) {\n    var b = [];\n    le(new me(), a, b);\n    return b.join("");\n  }\n\n  function me() {}\n\n  function le(a, b, c) {\n    if (null == b) c.push("null");else {\n      if ("object" == typeof b) {\n        if (Array.isArray(b)) {\n          var d = b;\n          b = d.length;\n          c.push("[");\n\n          for (var e = "", f = 0; f < b; f++) {\n            c.push(e), le(a, d[f], c), e = ",";\n          }\n\n          c.push("]");\n          return;\n        }\n\n        if (b instanceof String || b instanceof Number || b instanceof Boolean) b = b.valueOf();else {\n          c.push("{");\n          e = "";\n\n          for (d in b) {\n            Object.prototype.hasOwnProperty.call(b, d) && (f = b[d], "function" != typeof f && (c.push(e), ne(d, c), c.push(":"), le(a, f, c), e = ","));\n          }\n\n          c.push("}");\n          return;\n        }\n      }\n\n      switch (typeof b) {\n        case "string":\n          ne(b, c);\n          break;\n\n        case "number":\n          c.push(isFinite(b) && !isNaN(b) ? String(b) : "null");\n          break;\n\n        case "boolean":\n          c.push(String(b));\n          break;\n\n        case "function":\n          c.push("null");\n          break;\n\n        default:\n          throw Error("Unknown type: " + typeof b);\n      }\n    }\n  }\n\n  var oe = {\n    \'"\': \'\\\\"\',\n    "\\\\": "\\\\\\\\",\n    "/": "\\\\/",\n    "\\b": "\\\\b",\n    "\\f": "\\\\f",\n    "\\n": "\\\\n",\n    "\\r": "\\\\r",\n    "\\t": "\\\\t",\n    "\\x0B": "\\\\u000b"\n  },\n      pe = /\\uffff/.test("\\uFFFF") ? /[\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\n\n  function ne(a, b) {\n    b.push(\'"\', a.replace(pe, function (c) {\n      var d = oe[c];\n      d || (d = "\\\\u" + (c.charCodeAt(0) | 65536).toString(16).substr(1), oe[c] = d);\n      return d;\n    }), \'"\');\n  }\n\n  ;\n\n  function qe() {\n    var a = K();\n    return Wb && !!ic && 11 == ic || /Edge\\/\\d+/.test(a);\n  }\n\n  function re() {\n    return l.window && l.window.location.href || self && self.location && self.location.href || "";\n  }\n\n  function se(a, b) {\n    b = b || l.window;\n    var c = "about:blank";\n    a && (c = Eb(Ib(a) || Kb));\n    b.location.href = c;\n  }\n\n  function te(a, b) {\n    var c = [],\n        d;\n\n    for (d in a) {\n      d in b ? typeof a[d] != typeof b[d] ? c.push(d) : "object" == typeof a[d] && null != a[d] && null != b[d] ? 0 < te(a[d], b[d]).length && c.push(d) : a[d] !== b[d] && c.push(d) : c.push(d);\n    }\n\n    for (d in b) {\n      d in a || c.push(d);\n    }\n\n    return c;\n  }\n\n  function ue() {\n    var a = K();\n    a = ve(a) != we ? null : (a = a.match(/\\sChrome\\/(\\d+)/i)) && 2 == a.length ? parseInt(a[1], 10) : null;\n    return a && 30 > a ? !1 : !Wb || !ic || 9 < ic;\n  }\n\n  function xe(a) {\n    a = (a || K()).toLowerCase();\n    return a.match(/android/) || a.match(/webos/) || a.match(/iphone|ipad|ipod/) || a.match(/blackberry/) || a.match(/windows phone/) || a.match(/iemobile/) ? !0 : !1;\n  }\n\n  function ye(a) {\n    a = a || l.window;\n\n    try {\n      a.close();\n    } catch (b) {}\n  }\n\n  function ze(a, b, c) {\n    var d = Math.floor(1E9 * Math.random()).toString();\n    b = b || 500;\n    c = c || 600;\n    var e = (window.screen.availHeight - c) / 2,\n        f = (window.screen.availWidth - b) / 2;\n    b = {\n      width: b,\n      height: c,\n      top: 0 < e ? e : 0,\n      left: 0 < f ? f : 0,\n      location: !0,\n      resizable: !0,\n      statusbar: !0,\n      toolbar: !1\n    };\n    c = K().toLowerCase();\n    d && (b.target = d, x(c, "crios/") && (b.target = "_blank"));\n    ve(K()) == Ae && (a = a || "http://localhost", b.scrollbars = !0);\n    c = a || "";\n    (a = b) || (a = {});\n    d = window;\n    b = c instanceof C ? c : Ib("undefined" != typeof c.href ? c.href : String(c)) || Kb;\n    c = a.target || c.target;\n    e = [];\n\n    for (g in a) {\n      switch (g) {\n        case "width":\n        case "height":\n        case "top":\n        case "left":\n          e.push(g + "=" + a[g]);\n          break;\n\n        case "target":\n        case "noopener":\n        case "noreferrer":\n          break;\n\n        default:\n          e.push(g + "=" + (a[g] ? 1 : 0));\n      }\n    }\n\n    var g = e.join(",");\n    if ((y("iPhone") && !y("iPod") && !y("iPad") || y("iPad") || y("iPod")) && d.navigator && d.navigator.standalone && c && "_self" != c) g = oc(document, "A"), pb(g, "HTMLAnchorElement"), b = b instanceof C ? b : Jb(b), g.href = Eb(b), g.setAttribute("target", c), a.noreferrer && g.setAttribute("rel", "noreferrer"), a = document.createEvent("MouseEvent"), a.initMouseEvent("click", !0, !0, d, 1), g.dispatchEvent(a), g = {};else if (a.noreferrer) {\n      if (g = Pb("", d, c, g), a = Eb(b), g && (Yb && x(a, ";") && (a = "\'" + a.replace(/\'/g, "%27") + "\'"), g.opener = null, a = \'<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url=\' + Rb(a) + \'">\', a = (d = vb()) ? d.createHTML(a) : a, a = new Lb(a, null, Mb), d = g.document)) d.write(Nb(a)), d.close();\n    } else (g = Pb(b, d, c, g)) && a.noopener && (g.opener = null);\n    if (g) try {\n      g.focus();\n    } catch (h) {}\n    return g;\n  }\n\n  function Be(a) {\n    return new D(function (b) {\n      function c() {\n        Ed(2E3).then(function () {\n          if (!a || a.closed) b();else return c();\n        });\n      }\n\n      return c();\n    });\n  }\n\n  var Ce = /^\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}$/,\n      De = /^[^@]+@[^@]+$/;\n\n  function Ee() {\n    var a = null;\n    return new D(function (b) {\n      "complete" == l.document.readyState ? b() : (a = function a() {\n        b();\n      }, od(window, "load", a));\n    }).s(function (b) {\n      H(window, "load", a);\n      throw b;\n    });\n  }\n\n  function Fe() {\n    return Ge(void 0) ? Ee().then(function () {\n      return new D(function (a, b) {\n        var c = l.document,\n            d = setTimeout(function () {\n          b(Error("Cordova framework is not ready."));\n        }, 1E3);\n        c.addEventListener("deviceready", function () {\n          clearTimeout(d);\n          a();\n        }, !1);\n      });\n    }) : F(Error("Cordova must run in an Android or iOS file scheme."));\n  }\n\n  function Ge(a) {\n    a = a || K();\n    return !("file:" !== He() && "ionic:" !== He() || !a.toLowerCase().match(/iphone|ipad|ipod|android/));\n  }\n\n  function Ie() {\n    var a = l.window;\n\n    try {\n      return !(!a || a == a.top);\n    } catch (b) {\n      return !1;\n    }\n  }\n\n  function Je() {\n    return "undefined" !== typeof l.WorkerGlobalScope && "function" === typeof l.importScripts;\n  }\n\n  function Ke() {\n    return _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.hasOwnProperty("reactNative") ? "ReactNative" : _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.hasOwnProperty("node") ? "Node" : Je() ? "Worker" : "Browser";\n  }\n\n  function Le() {\n    var a = Ke();\n    return "ReactNative" === a || "Node" === a;\n  }\n\n  function Me() {\n    for (var a = 50, b = []; 0 < a;) {\n      b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), a--;\n    }\n\n    return b.join("");\n  }\n\n  var Ae = "Firefox",\n      we = "Chrome";\n\n  function ve(a) {\n    var b = a.toLowerCase();\n    if (x(b, "opera/") || x(b, "opr/") || x(b, "opios/")) return "Opera";\n    if (x(b, "iemobile")) return "IEMobile";\n    if (x(b, "msie") || x(b, "trident/")) return "IE";\n    if (x(b, "edge/")) return "Edge";\n    if (x(b, "firefox/")) return Ae;\n    if (x(b, "silk/")) return "Silk";\n    if (x(b, "blackberry")) return "Blackberry";\n    if (x(b, "webos")) return "Webos";\n    if (!x(b, "safari/") || x(b, "chrome/") || x(b, "crios/") || x(b, "android")) {\n      if (!x(b, "chrome/") && !x(b, "crios/") || x(b, "edge/")) {\n        if (x(b, "android")) return "Android";\n        if ((a = a.match(/([a-zA-Z\\d\\.]+)\\/[a-zA-Z\\d\\.]*$/)) && 2 == a.length) return a[1];\n      } else return we;\n    } else return "Safari";\n    return "Other";\n  }\n\n  var Ne = {\n    ld: "FirebaseCore-web",\n    nd: "FirebaseUI-web"\n  };\n\n  function Oe(a, b) {\n    b = b || [];\n    var c = [],\n        d = {},\n        e;\n\n    for (e in Ne) {\n      d[Ne[e]] = !0;\n    }\n\n    for (e = 0; e < b.length; e++) {\n      "undefined" !== typeof d[b[e]] && (delete d[b[e]], c.push(b[e]));\n    }\n\n    c.sort();\n    b = c;\n    b.length || (b = ["FirebaseCore-web"]);\n    c = Ke();\n    "Browser" === c ? (d = K(), c = ve(d)) : "Worker" === c && (d = K(), c = ve(d) + "-" + c);\n    return c + "/JsCore/" + a + "/" + b.join(",");\n  }\n\n  function K() {\n    return l.navigator && l.navigator.userAgent || "";\n  }\n\n  function L(a, b) {\n    a = a.split(".");\n    b = b || l;\n\n    for (var c = 0; c < a.length && "object" == typeof b && null != b; c++) {\n      b = b[a[c]];\n    }\n\n    c != a.length && (b = void 0);\n    return b;\n  }\n\n  function Pe() {\n    try {\n      var a = l.localStorage,\n          b = Qe();\n      if (a) return a.setItem(b, "1"), a.removeItem(b), qe() ? !!l.indexedDB : !0;\n    } catch (c) {\n      return Je() && !!l.indexedDB;\n    }\n\n    return !1;\n  }\n\n  function Re() {\n    return (Se() || "chrome-extension:" === He() || Ge()) && !Le() && Pe() && !Je();\n  }\n\n  function Se() {\n    return "http:" === He() || "https:" === He();\n  }\n\n  function He() {\n    return l.location && l.location.protocol || null;\n  }\n\n  function Te(a) {\n    a = a || K();\n    return xe(a) || ve(a) == Ae ? !1 : !0;\n  }\n\n  function Ue(a) {\n    return "undefined" === typeof a ? null : ke(a);\n  }\n\n  function Ve(a) {\n    var b = {},\n        c;\n\n    for (c in a) {\n      a.hasOwnProperty(c) && null !== a[c] && void 0 !== a[c] && (b[c] = a[c]);\n    }\n\n    return b;\n  }\n\n  function We(a) {\n    if (null !== a) return JSON.parse(a);\n  }\n\n  function Qe(a) {\n    return a ? a : Math.floor(1E9 * Math.random()).toString();\n  }\n\n  function Xe(a) {\n    a = a || K();\n    return "Safari" == ve(a) || a.toLowerCase().match(/iphone|ipad|ipod/) ? !1 : !0;\n  }\n\n  function Ye() {\n    var a = l.___jsl;\n    if (a && a.H) for (var b in a.H) {\n      if (a.H[b].r = a.H[b].r || [], a.H[b].L = a.H[b].L || [], a.H[b].r = a.H[b].L.concat(), a.CP) for (var c = 0; c < a.CP.length; c++) {\n        a.CP[c] = null;\n      }\n    }\n  }\n\n  function Ze(a, b) {\n    if (a > b) throw Error("Short delay should be less than long delay!");\n    this.a = a;\n    this.c = b;\n    a = K();\n    b = Ke();\n    this.b = xe(a) || "ReactNative" === b;\n  }\n\n  Ze.prototype.get = function () {\n    var a = l.navigator;\n    return (a && "boolean" === typeof a.onLine && (Se() || "chrome-extension:" === He() || "undefined" !== typeof a.connection) ? a.onLine : 1) ? this.b ? this.c : this.a : Math.min(5E3, this.a);\n  };\n\n  function $e() {\n    var a = l.document;\n    return a && "undefined" !== typeof a.visibilityState ? "visible" == a.visibilityState : !0;\n  }\n\n  function af() {\n    var a = l.document,\n        _b = null;\n    return $e() || !a ? E() : new D(function (c) {\n      _b = function b() {\n        $e() && (a.removeEventListener("visibilitychange", _b, !1), c());\n      };\n\n      a.addEventListener("visibilitychange", _b, !1);\n    }).s(function (c) {\n      a.removeEventListener("visibilitychange", _b, !1);\n      throw c;\n    });\n  }\n\n  function bf(a) {\n    "undefined" !== typeof console && "function" === typeof console.warn && console.warn(a);\n  }\n\n  function cf(a) {\n    try {\n      var b = new Date(parseInt(a, 10));\n      if (!isNaN(b.getTime()) && !/[^0-9]/.test(a)) return b.toUTCString();\n    } catch (c) {}\n\n    return null;\n  }\n\n  function df() {\n    return !(!L("fireauth.oauthhelper", l) && !L("fireauth.iframe", l));\n  }\n\n  function ef() {\n    var a = l.navigator;\n    return a && a.serviceWorker && a.serviceWorker.controller || null;\n  }\n\n  function ff() {\n    var a = l.navigator;\n    return a && a.serviceWorker ? E().then(function () {\n      return a.serviceWorker.ready;\n    }).then(function (b) {\n      return b.active || null;\n    }).s(function () {\n      return null;\n    }) : E(null);\n  }\n\n  ;\n  var gf = {};\n\n  function hf(a) {\n    gf[a] || (gf[a] = !0, bf(a));\n  }\n\n  ;\n  var jf;\n\n  try {\n    var kf = {};\n    Object.defineProperty(kf, "abcd", {\n      configurable: !0,\n      enumerable: !0,\n      value: 1\n    });\n    Object.defineProperty(kf, "abcd", {\n      configurable: !0,\n      enumerable: !0,\n      value: 2\n    });\n    jf = 2 == kf.abcd;\n  } catch (a) {\n    jf = !1;\n  }\n\n  function M(a, b, c) {\n    jf ? Object.defineProperty(a, b, {\n      configurable: !0,\n      enumerable: !0,\n      value: c\n    }) : a[b] = c;\n  }\n\n  function N(a, b) {\n    if (b) for (var c in b) {\n      b.hasOwnProperty(c) && M(a, c, b[c]);\n    }\n  }\n\n  function lf(a) {\n    var b = {};\n    N(b, a);\n    return b;\n  }\n\n  function mf(a) {\n    var b = {},\n        c;\n\n    for (c in a) {\n      a.hasOwnProperty(c) && (b[c] = a[c]);\n    }\n\n    return b;\n  }\n\n  function nf(a, b) {\n    if (!b || !b.length) return !0;\n    if (!a) return !1;\n\n    for (var c = 0; c < b.length; c++) {\n      var d = a[b[c]];\n      if (void 0 === d || null === d || "" === d) return !1;\n    }\n\n    return !0;\n  }\n\n  function of(a) {\n    var b = a;\n\n    if ("object" == typeof a && null != a) {\n      b = "length" in a ? [] : {};\n\n      for (var c in a) {\n        M(b, c, of(a[c]));\n      }\n    }\n\n    return b;\n  }\n\n  ;\n  /*\n  Copyright 2019 Google Inc.\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  function pf(a) {\n    var b = a && (a[qf] ? "phone" : null);\n\n    if (b && a && a[rf]) {\n      M(this, "uid", a[rf]);\n      M(this, "displayName", a[sf] || null);\n      var c = null;\n      a[tf] && (c = new Date(a[tf]).toUTCString());\n      M(this, "enrollmentTime", c);\n      M(this, "factorId", b);\n    } else throw new t("internal-error", "Internal assert: invalid MultiFactorInfo object");\n  }\n\n  pf.prototype.w = function () {\n    return {\n      uid: this.uid,\n      displayName: this.displayName,\n      factorId: this.factorId,\n      enrollmentTime: this.enrollmentTime\n    };\n  };\n\n  function uf(a) {\n    try {\n      var b = new vf(a);\n    } catch (c) {\n      b = null;\n    }\n\n    return b;\n  }\n\n  var sf = "displayName",\n      tf = "enrolledAt",\n      rf = "mfaEnrollmentId",\n      qf = "phoneInfo";\n\n  function vf(a) {\n    pf.call(this, a);\n    M(this, "phoneNumber", a[qf]);\n  }\n\n  r(vf, pf);\n\n  vf.prototype.w = function () {\n    var a = vf.$a.w.call(this);\n    a.phoneNumber = this.phoneNumber;\n    return a;\n  };\n\n  function wf(a) {\n    var b = {},\n        c = a[xf],\n        d = a[yf],\n        e = a[zf];\n    a = uf(a[Af]);\n    if (!e || e != Bf && e != Cf && !c || e == Cf && !d || e == Df && !a) throw Error("Invalid checkActionCode response!");\n    e == Cf ? (b[Ef] = c || null, b[Ff] = c || null, b[Gf] = d) : (b[Ef] = d || null, b[Ff] = d || null, b[Gf] = c || null);\n    b[Hf] = a || null;\n    M(this, If, e);\n    M(this, Jf, of(b));\n  }\n\n  var Df = "REVERT_SECOND_FACTOR_ADDITION",\n      Bf = "EMAIL_SIGNIN",\n      Cf = "VERIFY_AND_CHANGE_EMAIL",\n      xf = "email",\n      Af = "mfaInfo",\n      yf = "newEmail",\n      zf = "requestType",\n      Gf = "email",\n      Ef = "fromEmail",\n      Hf = "multiFactorInfo",\n      Ff = "previousEmail",\n      Jf = "data",\n      If = "operation";\n\n  function Kf(a) {\n    a = be(a);\n    var b = ae(a, Lf) || null,\n        c = ae(a, Mf) || null,\n        d = ae(a, Nf) || null;\n    d = d ? Of[d] || null : null;\n    if (!b || !c || !d) throw new t("argument-error", Lf + ", " + Mf + "and " + Nf + " are required in a valid action code URL.");\n    N(this, {\n      apiKey: b,\n      operation: d,\n      code: c,\n      continueUrl: ae(a, Pf) || null,\n      languageCode: ae(a, Qf) || null,\n      tenantId: ae(a, Rf) || null\n    });\n  }\n\n  var Lf = "apiKey",\n      Mf = "oobCode",\n      Pf = "continueUrl",\n      Qf = "languageCode",\n      Nf = "mode",\n      Rf = "tenantId",\n      Of = {\n    recoverEmail: "RECOVER_EMAIL",\n    resetPassword: "PASSWORD_RESET",\n    revertSecondFactorAddition: Df,\n    signIn: Bf,\n    verifyAndChangeEmail: Cf,\n    verifyEmail: "VERIFY_EMAIL"\n  };\n\n  function Sf(a) {\n    try {\n      return new Kf(a);\n    } catch (b) {\n      return null;\n    }\n  }\n\n  ;\n\n  function Tf(a) {\n    var b = a[Uf];\n    if ("undefined" === typeof b) throw new t("missing-continue-uri");\n    if ("string" !== typeof b || "string" === typeof b && !b.length) throw new t("invalid-continue-uri");\n    this.h = b;\n    this.b = this.a = null;\n    this.g = !1;\n    var c = a[Vf];\n\n    if (c && "object" === typeof c) {\n      b = c[Wf];\n      var d = c[Xf];\n      c = c[Yf];\n\n      if ("string" === typeof b && b.length) {\n        this.a = b;\n        if ("undefined" !== typeof d && "boolean" !== typeof d) throw new t("argument-error", Xf + " property must be a boolean when specified.");\n        this.g = !!d;\n        if ("undefined" !== typeof c && ("string" !== typeof c || "string" === typeof c && !c.length)) throw new t("argument-error", Yf + " property must be a non empty string when specified.");\n        this.b = c || null;\n      } else {\n        if ("undefined" !== typeof b) throw new t("argument-error", Wf + " property must be a non empty string when specified.");\n        if ("undefined" !== typeof d || "undefined" !== typeof c) throw new t("missing-android-pkg-name");\n      }\n    } else if ("undefined" !== typeof c) throw new t("argument-error", Vf + " property must be a non null object when specified.");\n\n    this.f = null;\n    if ((b = a[Zf]) && "object" === typeof b) {\n      if (b = b[$f], "string" === typeof b && b.length) this.f = b;else {\n        if ("undefined" !== typeof b) throw new t("argument-error", $f + " property must be a non empty string when specified.");\n      }\n    } else if ("undefined" !== typeof b) throw new t("argument-error", Zf + " property must be a non null object when specified.");\n    b = a[ag];\n    if ("undefined" !== typeof b && "boolean" !== typeof b) throw new t("argument-error", ag + " property must be a boolean when specified.");\n    this.c = !!b;\n    a = a[bg];\n    if ("undefined" !== typeof a && ("string" !== typeof a || "string" === typeof a && !a.length)) throw new t("argument-error", bg + " property must be a non empty string when specified.");\n    this.i = a || null;\n  }\n\n  var Vf = "android",\n      bg = "dynamicLinkDomain",\n      ag = "handleCodeInApp",\n      Zf = "iOS",\n      Uf = "url",\n      Xf = "installApp",\n      Yf = "minimumVersion",\n      Wf = "packageName",\n      $f = "bundleId";\n\n  function cg(a) {\n    var b = {};\n    b.continueUrl = a.h;\n    b.canHandleCodeInApp = a.c;\n    if (b.androidPackageName = a.a) b.androidMinimumVersion = a.b, b.androidInstallApp = a.g;\n    b.iOSBundleId = a.f;\n    b.dynamicLinkDomain = a.i;\n\n    for (var c in b) {\n      null === b[c] && delete b[c];\n    }\n\n    return b;\n  }\n\n  ;\n\n  function dg(a) {\n    return Ra(a, function (b) {\n      b = b.toString(16);\n      return 1 < b.length ? b : "0" + b;\n    }).join("");\n  }\n\n  ;\n  var eg = null;\n\n  function fg(a) {\n    var b = "";\n    gg(a, function (c) {\n      b += String.fromCharCode(c);\n    });\n    return b;\n  }\n\n  function gg(a, b) {\n    function c(n) {\n      for (; d < a.length;) {\n        var p = a.charAt(d++),\n            v = eg[p];\n        if (null != v) return v;\n        if (!/^[\\s\\xa0]*$/.test(p)) throw Error("Unknown base64 encoding at char: " + p);\n      }\n\n      return n;\n    }\n\n    hg();\n\n    for (var d = 0;;) {\n      var e = c(-1),\n          f = c(0),\n          g = c(64),\n          h = c(64);\n      if (64 === h && -1 === e) break;\n      b(e << 2 | f >> 4);\n      64 != g && (b(f << 4 & 240 | g >> 2), 64 != h && b(g << 6 & 192 | h));\n    }\n  }\n\n  function hg() {\n    if (!eg) {\n      eg = {};\n\n      for (var a = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), b = ["+/=", "+/", "-_=", "-_.", "-_"], c = 0; 5 > c; c++) {\n        for (var d = a.concat(b[c].split("")), e = 0; e < d.length; e++) {\n          var f = d[e];\n          void 0 === eg[f] && (eg[f] = e);\n        }\n      }\n    }\n  }\n\n  ;\n\n  function ig(a) {\n    var b = jg(a);\n    if (!(b && b.sub && b.iss && b.aud && b.exp)) throw Error("Invalid JWT");\n    this.g = a;\n    this.c = b.exp;\n    this.h = b.sub;\n    va();\n    this.a = b.provider_id || b.firebase && b.firebase.sign_in_provider || null;\n    this.f = b.firebase && b.firebase.tenant || null;\n    this.b = !!b.is_anonymous || "anonymous" == this.a;\n  }\n\n  ig.prototype.S = function () {\n    return this.f;\n  };\n\n  ig.prototype.i = function () {\n    return this.b;\n  };\n\n  ig.prototype.toString = function () {\n    return this.g;\n  };\n\n  function kg(a) {\n    try {\n      return new ig(a);\n    } catch (b) {\n      return null;\n    }\n  }\n\n  function jg(a) {\n    if (!a) return null;\n    a = a.split(".");\n    if (3 != a.length) return null;\n    a = a[1];\n\n    for (var b = (4 - a.length % 4) % 4, c = 0; c < b; c++) {\n      a += ".";\n    }\n\n    try {\n      return JSON.parse(fg(a));\n    } catch (d) {}\n\n    return null;\n  }\n\n  ;\n  var lg = "oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),\n      mg = ["client_id", "response_type", "scope", "redirect_uri", "state"],\n      ng = {\n    md: {\n      Ja: "locale",\n      ua: 700,\n      ta: 600,\n      fa: "facebook.com",\n      Wa: mg\n    },\n    od: {\n      Ja: null,\n      ua: 500,\n      ta: 750,\n      fa: "github.com",\n      Wa: mg\n    },\n    pd: {\n      Ja: "hl",\n      ua: 515,\n      ta: 680,\n      fa: "google.com",\n      Wa: mg\n    },\n    vd: {\n      Ja: "lang",\n      ua: 485,\n      ta: 705,\n      fa: "twitter.com",\n      Wa: lg\n    },\n    jd: {\n      Ja: "locale",\n      ua: 640,\n      ta: 600,\n      fa: "apple.com",\n      Wa: []\n    }\n  };\n\n  function og(a) {\n    for (var b in ng) {\n      if (ng[b].fa == a) return ng[b];\n    }\n\n    return null;\n  }\n\n  ;\n\n  function pg(a) {\n    var b = {};\n    b["facebook.com"] = qg;\n    b["google.com"] = rg;\n    b["github.com"] = sg;\n    b["twitter.com"] = tg;\n    var c = a && a[ug];\n\n    try {\n      if (c) return b[c] ? new b[c](a) : new vg(a);\n      if ("undefined" !== typeof a[wg]) return new xg(a);\n    } catch (d) {}\n\n    return null;\n  }\n\n  var wg = "idToken",\n      ug = "providerId";\n\n  function xg(a) {\n    var b = a[ug];\n\n    if (!b && a[wg]) {\n      var c = kg(a[wg]);\n      c && c.a && (b = c.a);\n    }\n\n    if (!b) throw Error("Invalid additional user info!");\n    if ("anonymous" == b || "custom" == b) b = null;\n    c = !1;\n    "undefined" !== typeof a.isNewUser ? c = !!a.isNewUser : "identitytoolkit#SignupNewUserResponse" === a.kind && (c = !0);\n    M(this, "providerId", b);\n    M(this, "isNewUser", c);\n  }\n\n  function vg(a) {\n    xg.call(this, a);\n    a = We(a.rawUserInfo || "{}");\n    M(this, "profile", of(a || {}));\n  }\n\n  r(vg, xg);\n\n  function qg(a) {\n    vg.call(this, a);\n    if ("facebook.com" != this.providerId) throw Error("Invalid provider ID!");\n  }\n\n  r(qg, vg);\n\n  function sg(a) {\n    vg.call(this, a);\n    if ("github.com" != this.providerId) throw Error("Invalid provider ID!");\n    M(this, "username", this.profile && this.profile.login || null);\n  }\n\n  r(sg, vg);\n\n  function rg(a) {\n    vg.call(this, a);\n    if ("google.com" != this.providerId) throw Error("Invalid provider ID!");\n  }\n\n  r(rg, vg);\n\n  function tg(a) {\n    vg.call(this, a);\n    if ("twitter.com" != this.providerId) throw Error("Invalid provider ID!");\n    M(this, "username", a.screenName || null);\n  }\n\n  r(tg, vg);\n\n  function yg(a) {\n    var b = be(a),\n        c = ae(b, "link"),\n        d = ae(be(c), "link");\n    b = ae(b, "deep_link_id");\n    return ae(be(b), "link") || b || d || c || a;\n  }\n\n  ;\n\n  function zg(a, b) {\n    if (!a && !b) throw new t("internal-error", "Internal assert: no raw session string available");\n    if (a && b) throw new t("internal-error", "Internal assert: unable to determine the session type");\n    this.a = a || null;\n    this.b = b || null;\n    this.type = this.a ? Ag : Bg;\n  }\n\n  var Ag = "enroll",\n      Bg = "signin";\n\n  zg.prototype.Ha = function () {\n    return this.a ? E(this.a) : E(this.b);\n  };\n\n  zg.prototype.w = function () {\n    return this.type == Ag ? {\n      multiFactorSession: {\n        idToken: this.a\n      }\n    } : {\n      multiFactorSession: {\n        pendingCredential: this.b\n      }\n    };\n  };\n\n  function Cg() {}\n\n  Cg.prototype.ja = function () {};\n\n  Cg.prototype.b = function () {};\n\n  Cg.prototype.c = function () {};\n\n  Cg.prototype.w = function () {};\n\n  function Dg(a, b) {\n    return a.then(function (c) {\n      if (c[Eg]) {\n        var d = kg(c[Eg]);\n        if (!d || b != d.h) throw new t("user-mismatch");\n        return c;\n      }\n\n      throw new t("user-mismatch");\n    }).s(function (c) {\n      throw c && c.code && c.code == ya + "user-not-found" ? new t("user-mismatch") : c;\n    });\n  }\n\n  function Fg(a, b) {\n    if (b) this.a = b;else throw new t("internal-error", "failed to construct a credential");\n    M(this, "providerId", a);\n    M(this, "signInMethod", a);\n  }\n\n  Fg.prototype.ja = function (a) {\n    return Gg(a, Hg(this));\n  };\n\n  Fg.prototype.b = function (a, b) {\n    var c = Hg(this);\n    c.idToken = b;\n    return Ig(a, c);\n  };\n\n  Fg.prototype.c = function (a, b) {\n    return Dg(Jg(a, Hg(this)), b);\n  };\n\n  function Hg(a) {\n    return {\n      pendingToken: a.a,\n      requestUri: "http://localhost"\n    };\n  }\n\n  Fg.prototype.w = function () {\n    return {\n      providerId: this.providerId,\n      signInMethod: this.signInMethod,\n      pendingToken: this.a\n    };\n  };\n\n  function Kg(a) {\n    if (a && a.providerId && a.signInMethod && 0 == a.providerId.indexOf("saml.") && a.pendingToken) try {\n      return new Fg(a.providerId, a.pendingToken);\n    } catch (b) {}\n    return null;\n  }\n\n  function Lg(a, b, c) {\n    this.a = null;\n    if (b.idToken || b.accessToken) b.idToken && M(this, "idToken", b.idToken), b.accessToken && M(this, "accessToken", b.accessToken), b.nonce && !b.pendingToken && M(this, "nonce", b.nonce), b.pendingToken && (this.a = b.pendingToken);else if (b.oauthToken && b.oauthTokenSecret) M(this, "accessToken", b.oauthToken), M(this, "secret", b.oauthTokenSecret);else throw new t("internal-error", "failed to construct a credential");\n    M(this, "providerId", a);\n    M(this, "signInMethod", c);\n  }\n\n  Lg.prototype.ja = function (a) {\n    return Gg(a, Mg(this));\n  };\n\n  Lg.prototype.b = function (a, b) {\n    var c = Mg(this);\n    c.idToken = b;\n    return Ig(a, c);\n  };\n\n  Lg.prototype.c = function (a, b) {\n    var c = Mg(this);\n    return Dg(Jg(a, c), b);\n  };\n\n  function Mg(a) {\n    var b = {};\n    a.idToken && (b.id_token = a.idToken);\n    a.accessToken && (b.access_token = a.accessToken);\n    a.secret && (b.oauth_token_secret = a.secret);\n    b.providerId = a.providerId;\n    a.nonce && !a.a && (b.nonce = a.nonce);\n    b = {\n      postBody: fe(b).toString(),\n      requestUri: "http://localhost"\n    };\n    a.a && (delete b.postBody, b.pendingToken = a.a);\n    return b;\n  }\n\n  Lg.prototype.w = function () {\n    var a = {\n      providerId: this.providerId,\n      signInMethod: this.signInMethod\n    };\n    this.idToken && (a.oauthIdToken = this.idToken);\n    this.accessToken && (a.oauthAccessToken = this.accessToken);\n    this.secret && (a.oauthTokenSecret = this.secret);\n    this.nonce && (a.nonce = this.nonce);\n    this.a && (a.pendingToken = this.a);\n    return a;\n  };\n\n  function Ng(a) {\n    if (a && a.providerId && a.signInMethod) {\n      var b = {\n        idToken: a.oauthIdToken,\n        accessToken: a.oauthTokenSecret ? null : a.oauthAccessToken,\n        oauthTokenSecret: a.oauthTokenSecret,\n        oauthToken: a.oauthTokenSecret && a.oauthAccessToken,\n        nonce: a.nonce,\n        pendingToken: a.pendingToken\n      };\n\n      try {\n        return new Lg(a.providerId, b, a.signInMethod);\n      } catch (c) {}\n    }\n\n    return null;\n  }\n\n  function Og(a, b) {\n    this.Pc = b || [];\n    N(this, {\n      providerId: a,\n      isOAuthProvider: !0\n    });\n    this.Hb = {};\n    this.ob = (og(a) || {}).Ja || null;\n    this.nb = null;\n  }\n\n  Og.prototype.Ka = function (a) {\n    this.Hb = nb(a);\n    return this;\n  };\n\n  function Pg(a) {\n    if ("string" !== typeof a || 0 != a.indexOf("saml.")) throw new t("argument-error", \'SAML provider IDs must be prefixed with "saml."\');\n    Og.call(this, a, []);\n  }\n\n  r(Pg, Og);\n\n  function Qg(a) {\n    Og.call(this, a, mg);\n    this.a = [];\n  }\n\n  r(Qg, Og);\n\n  Qg.prototype.Ca = function (a) {\n    Va(this.a, a) || this.a.push(a);\n    return this;\n  };\n\n  Qg.prototype.Pb = function () {\n    return Za(this.a);\n  };\n\n  Qg.prototype.credential = function (a, b) {\n    var c;\n    m(a) ? c = {\n      idToken: a.idToken || null,\n      accessToken: a.accessToken || null,\n      nonce: a.rawNonce || null\n    } : c = {\n      idToken: a || null,\n      accessToken: b || null\n    };\n    if (!c.idToken && !c.accessToken) throw new t("argument-error", "credential failed: must provide the ID token and/or the access token.");\n    return new Lg(this.providerId, c, this.providerId);\n  };\n\n  function Rg() {\n    Qg.call(this, "facebook.com");\n  }\n\n  r(Rg, Qg);\n  M(Rg, "PROVIDER_ID", "facebook.com");\n  M(Rg, "FACEBOOK_SIGN_IN_METHOD", "facebook.com");\n\n  function Sg(a) {\n    if (!a) throw new t("argument-error", "credential failed: expected 1 argument (the OAuth access token).");\n    var b = a;\n    m(a) && (b = a.accessToken);\n    return new Rg().credential({\n      accessToken: b\n    });\n  }\n\n  function Tg() {\n    Qg.call(this, "github.com");\n  }\n\n  r(Tg, Qg);\n  M(Tg, "PROVIDER_ID", "github.com");\n  M(Tg, "GITHUB_SIGN_IN_METHOD", "github.com");\n\n  function Ug(a) {\n    if (!a) throw new t("argument-error", "credential failed: expected 1 argument (the OAuth access token).");\n    var b = a;\n    m(a) && (b = a.accessToken);\n    return new Tg().credential({\n      accessToken: b\n    });\n  }\n\n  function Vg() {\n    Qg.call(this, "google.com");\n    this.Ca("profile");\n  }\n\n  r(Vg, Qg);\n  M(Vg, "PROVIDER_ID", "google.com");\n  M(Vg, "GOOGLE_SIGN_IN_METHOD", "google.com");\n\n  function Wg(a, b) {\n    var c = a;\n    m(a) && (c = a.idToken, b = a.accessToken);\n    return new Vg().credential({\n      idToken: c,\n      accessToken: b\n    });\n  }\n\n  function Xg() {\n    Og.call(this, "twitter.com", lg);\n  }\n\n  r(Xg, Og);\n  M(Xg, "PROVIDER_ID", "twitter.com");\n  M(Xg, "TWITTER_SIGN_IN_METHOD", "twitter.com");\n\n  function Yg(a, b) {\n    var c = a;\n    m(c) || (c = {\n      oauthToken: a,\n      oauthTokenSecret: b\n    });\n    if (!c.oauthToken || !c.oauthTokenSecret) throw new t("argument-error", "credential failed: expected 2 arguments (the OAuth access token and secret).");\n    return new Lg("twitter.com", c, "twitter.com");\n  }\n\n  function Zg(a, b, c) {\n    this.a = a;\n    this.f = b;\n    M(this, "providerId", "password");\n    M(this, "signInMethod", c === $g.EMAIL_LINK_SIGN_IN_METHOD ? $g.EMAIL_LINK_SIGN_IN_METHOD : $g.EMAIL_PASSWORD_SIGN_IN_METHOD);\n  }\n\n  Zg.prototype.ja = function (a) {\n    return this.signInMethod == $g.EMAIL_LINK_SIGN_IN_METHOD ? O(a, ah, {\n      email: this.a,\n      oobCode: this.f\n    }) : O(a, bh, {\n      email: this.a,\n      password: this.f\n    });\n  };\n\n  Zg.prototype.b = function (a, b) {\n    return this.signInMethod == $g.EMAIL_LINK_SIGN_IN_METHOD ? O(a, ch, {\n      idToken: b,\n      email: this.a,\n      oobCode: this.f\n    }) : O(a, dh, {\n      idToken: b,\n      email: this.a,\n      password: this.f\n    });\n  };\n\n  Zg.prototype.c = function (a, b) {\n    return Dg(this.ja(a), b);\n  };\n\n  Zg.prototype.w = function () {\n    return {\n      email: this.a,\n      password: this.f,\n      signInMethod: this.signInMethod\n    };\n  };\n\n  function eh(a) {\n    return a && a.email && a.password ? new Zg(a.email, a.password, a.signInMethod) : null;\n  }\n\n  function $g() {\n    N(this, {\n      providerId: "password",\n      isOAuthProvider: !1\n    });\n  }\n\n  function fh(a, b) {\n    b = gh(b);\n    if (!b) throw new t("argument-error", "Invalid email link!");\n    return new Zg(a, b.code, $g.EMAIL_LINK_SIGN_IN_METHOD);\n  }\n\n  function gh(a) {\n    a = yg(a);\n    return (a = Sf(a)) && a.operation === Bf ? a : null;\n  }\n\n  N($g, {\n    PROVIDER_ID: "password"\n  });\n  N($g, {\n    EMAIL_LINK_SIGN_IN_METHOD: "emailLink"\n  });\n  N($g, {\n    EMAIL_PASSWORD_SIGN_IN_METHOD: "password"\n  });\n\n  function hh(a) {\n    if (!(a.cb && a.bb || a.La && a.ea)) throw new t("internal-error");\n    this.a = a;\n    M(this, "providerId", "phone");\n    this.fa = "phone";\n    M(this, "signInMethod", "phone");\n  }\n\n  hh.prototype.ja = function (a) {\n    return a.eb(ih(this));\n  };\n\n  hh.prototype.b = function (a, b) {\n    var c = ih(this);\n    c.idToken = b;\n    return O(a, jh, c);\n  };\n\n  hh.prototype.c = function (a, b) {\n    var c = ih(this);\n    c.operation = "REAUTH";\n    a = O(a, kh, c);\n    return Dg(a, b);\n  };\n\n  hh.prototype.w = function () {\n    var a = {\n      providerId: "phone"\n    };\n    this.a.cb && (a.verificationId = this.a.cb);\n    this.a.bb && (a.verificationCode = this.a.bb);\n    this.a.La && (a.temporaryProof = this.a.La);\n    this.a.ea && (a.phoneNumber = this.a.ea);\n    return a;\n  };\n\n  function lh(a) {\n    if (a && "phone" === a.providerId && (a.verificationId && a.verificationCode || a.temporaryProof && a.phoneNumber)) {\n      var b = {};\n      w(["verificationId", "verificationCode", "temporaryProof", "phoneNumber"], function (c) {\n        a[c] && (b[c] = a[c]);\n      });\n      return new hh(b);\n    }\n\n    return null;\n  }\n\n  function ih(a) {\n    return a.a.La && a.a.ea ? {\n      temporaryProof: a.a.La,\n      phoneNumber: a.a.ea\n    } : {\n      sessionInfo: a.a.cb,\n      code: a.a.bb\n    };\n  }\n\n  function mh(a) {\n    try {\n      this.a = a || _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].auth();\n    } catch (b) {\n      throw new t("argument-error", "Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().");\n    }\n\n    N(this, {\n      providerId: "phone",\n      isOAuthProvider: !1\n    });\n  }\n\n  mh.prototype.eb = function (a, b) {\n    var c = this.a.a;\n    return E(b.verify()).then(function (d) {\n      if ("string" !== typeof d) throw new t("argument-error", "An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");\n\n      switch (b.type) {\n        case "recaptcha":\n          var e = m(a) ? a.session : null,\n              f = m(a) ? a.phoneNumber : a,\n              g;\n          e && e.type == Ag ? g = e.Ha().then(function (h) {\n            return nh(c, {\n              idToken: h,\n              phoneEnrollmentInfo: {\n                phoneNumber: f,\n                recaptchaToken: d\n              }\n            });\n          }) : e && e.type == Bg ? g = e.Ha().then(function (h) {\n            return oh(c, {\n              mfaPendingCredential: h,\n              mfaEnrollmentId: a.multiFactorHint && a.multiFactorHint.uid || a.multiFactorUid,\n              phoneSignInInfo: {\n                recaptchaToken: d\n              }\n            });\n          }) : g = ph(c, {\n            phoneNumber: f,\n            recaptchaToken: d\n          });\n          return g.then(function (h) {\n            "function" === typeof b.reset && b.reset();\n            return h;\n          }, function (h) {\n            "function" === typeof b.reset && b.reset();\n            throw h;\n          });\n\n        default:\n          throw new t("argument-error", \'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.\');\n      }\n    });\n  };\n\n  function qh(a, b) {\n    if (!a) throw new t("missing-verification-id");\n    if (!b) throw new t("missing-verification-code");\n    return new hh({\n      cb: a,\n      bb: b\n    });\n  }\n\n  N(mh, {\n    PROVIDER_ID: "phone"\n  });\n  N(mh, {\n    PHONE_SIGN_IN_METHOD: "phone"\n  });\n\n  function rh(a) {\n    if (a.temporaryProof && a.phoneNumber) return new hh({\n      La: a.temporaryProof,\n      ea: a.phoneNumber\n    });\n    var b = a && a.providerId;\n    if (!b || "password" === b) return null;\n    var c = a && a.oauthAccessToken,\n        d = a && a.oauthTokenSecret,\n        e = a && a.nonce,\n        f = a && a.oauthIdToken,\n        g = a && a.pendingToken;\n\n    try {\n      switch (b) {\n        case "google.com":\n          return Wg(f, c);\n\n        case "facebook.com":\n          return Sg(c);\n\n        case "github.com":\n          return Ug(c);\n\n        case "twitter.com":\n          return Yg(c, d);\n\n        default:\n          return c || d || f || g ? g ? 0 == b.indexOf("saml.") ? new Fg(b, g) : new Lg(b, {\n            pendingToken: g,\n            idToken: a.oauthIdToken,\n            accessToken: a.oauthAccessToken\n          }, b) : new Qg(b).credential({\n            idToken: f,\n            accessToken: c,\n            rawNonce: e\n          }) : null;\n      }\n    } catch (h) {\n      return null;\n    }\n  }\n\n  function sh(a) {\n    if (!a.isOAuthProvider) throw new t("invalid-oauth-provider");\n  }\n\n  ;\n\n  function th(a, b, c, d, e, f, g) {\n    this.c = a;\n    this.b = b || null;\n    this.g = c || null;\n    this.f = d || null;\n    this.i = f || null;\n    this.h = g || null;\n    this.a = e || null;\n\n    if (this.g || this.a) {\n      if (this.g && this.a) throw new t("invalid-auth-event");\n      if (this.g && !this.f) throw new t("invalid-auth-event");\n    } else throw new t("invalid-auth-event");\n  }\n\n  th.prototype.getUid = function () {\n    var a = [];\n    a.push(this.c);\n    this.b && a.push(this.b);\n    this.f && a.push(this.f);\n    this.h && a.push(this.h);\n    return a.join("-");\n  };\n\n  th.prototype.S = function () {\n    return this.h;\n  };\n\n  th.prototype.w = function () {\n    return {\n      type: this.c,\n      eventId: this.b,\n      urlResponse: this.g,\n      sessionId: this.f,\n      postBody: this.i,\n      tenantId: this.h,\n      error: this.a && this.a.w()\n    };\n  };\n\n  function uh(a) {\n    a = a || {};\n    return a.type ? new th(a.type, a.eventId, a.urlResponse, a.sessionId, a.error && Aa(a.error), a.postBody, a.tenantId) : null;\n  }\n\n  ;\n  /*\n  Copyright 2018 Google Inc.\n  Licensed under the Apache License, Version 2.0 (the "License");\n  you may not use this file except in compliance with the License.\n  You may obtain a copy of the License at\n  http://www.apache.org/licenses/LICENSE-2.0\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  */\n\n  function vh() {\n    this.b = null;\n    this.a = [];\n  }\n\n  var wh = null;\n\n  function xh(a) {\n    var b = wh;\n    b.a.push(a);\n    b.b || (b.b = function (c) {\n      for (var d = 0; d < b.a.length; d++) {\n        b.a[d](c);\n      }\n    }, a = L("universalLinks.subscribe", l), "function" === typeof a && a(null, b.b));\n  }\n\n  ;\n\n  function yh(a) {\n    var b = "unauthorized-domain",\n        c = void 0,\n        d = be(a);\n    a = d.a;\n    d = d.f;\n    "chrome-extension" == d ? c = Qb("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", a) : "http" == d || "https" == d ? c = Qb("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", a) : b = "operation-not-supported-in-this-environment";\n    t.call(this, b, c);\n  }\n\n  r(yh, t);\n\n  function zh(a, b, c) {\n    t.call(this, a, c);\n    a = b || {};\n    a.Ib && M(this, "email", a.Ib);\n    a.ea && M(this, "phoneNumber", a.ea);\n    a.credential && M(this, "credential", a.credential);\n    a.Yb && M(this, "tenantId", a.Yb);\n  }\n\n  r(zh, t);\n\n  zh.prototype.w = function () {\n    var a = {\n      code: this.code,\n      message: this.message\n    };\n    this.email && (a.email = this.email);\n    this.phoneNumber && (a.phoneNumber = this.phoneNumber);\n    this.tenantId && (a.tenantId = this.tenantId);\n    var b = this.credential && this.credential.w();\n    b && z(a, b);\n    return a;\n  };\n\n  zh.prototype.toJSON = function () {\n    return this.w();\n  };\n\n  function Ah(a) {\n    if (a.code) {\n      var b = a.code || "";\n      0 == b.indexOf(ya) && (b = b.substring(ya.length));\n      var c = {\n        credential: rh(a),\n        Yb: a.tenantId\n      };\n      if (a.email) c.Ib = a.email;else if (a.phoneNumber) c.ea = a.phoneNumber;else if (!c.credential) return new t(b, a.message || void 0);\n      return new zh(b, c, a.message);\n    }\n\n    return null;\n  }\n\n  ;\n\n  function Bh() {}\n\n  Bh.prototype.c = null;\n\n  function Ch(a) {\n    return a.c || (a.c = a.b());\n  }\n\n  ;\n  var Dh;\n\n  function Eh() {}\n\n  r(Eh, Bh);\n\n  Eh.prototype.a = function () {\n    var a = Fh(this);\n    return a ? new ActiveXObject(a) : new XMLHttpRequest();\n  };\n\n  Eh.prototype.b = function () {\n    var a = {};\n    Fh(this) && (a[0] = !0, a[1] = !0);\n    return a;\n  };\n\n  function Fh(a) {\n    if (!a.f && "undefined" == typeof XMLHttpRequest && "undefined" != typeof ActiveXObject) {\n      for (var b = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], c = 0; c < b.length; c++) {\n        var d = b[c];\n\n        try {\n          return new ActiveXObject(d), a.f = d;\n        } catch (e) {}\n      }\n\n      throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");\n    }\n\n    return a.f;\n  }\n\n  Dh = new Eh();\n\n  function Gh() {}\n\n  r(Gh, Bh);\n\n  Gh.prototype.a = function () {\n    var a = new XMLHttpRequest();\n    if ("withCredentials" in a) return a;\n    if ("undefined" != typeof XDomainRequest) return new Hh();\n    throw Error("Unsupported browser");\n  };\n\n  Gh.prototype.b = function () {\n    return {};\n  };\n\n  function Hh() {\n    this.a = new XDomainRequest();\n    this.readyState = 0;\n    this.onreadystatechange = null;\n    this.responseType = this.responseText = this.response = "";\n    this.status = -1;\n    this.statusText = "";\n    this.a.onload = q(this.pc, this);\n    this.a.onerror = q(this.Rb, this);\n    this.a.onprogress = q(this.qc, this);\n    this.a.ontimeout = q(this.uc, this);\n  }\n\n  k = Hh.prototype;\n\n  k.open = function (a, b, c) {\n    if (null != c && !c) throw Error("Only async requests are supported.");\n    this.a.open(a, b);\n  };\n\n  k.send = function (a) {\n    if (a) {\n      if ("string" == typeof a) this.a.send(a);else throw Error("Only string data is supported");\n    } else this.a.send();\n  };\n\n  k.abort = function () {\n    this.a.abort();\n  };\n\n  k.setRequestHeader = function () {};\n\n  k.getResponseHeader = function (a) {\n    return "content-type" == a.toLowerCase() ? this.a.contentType : "";\n  };\n\n  k.pc = function () {\n    this.status = 200;\n    this.response = this.responseText = this.a.responseText;\n    Ih(this, 4);\n  };\n\n  k.Rb = function () {\n    this.status = 500;\n    this.response = this.responseText = "";\n    Ih(this, 4);\n  };\n\n  k.uc = function () {\n    this.Rb();\n  };\n\n  k.qc = function () {\n    this.status = 200;\n    Ih(this, 1);\n  };\n\n  function Ih(a, b) {\n    a.readyState = b;\n    if (a.onreadystatechange) a.onreadystatechange();\n  }\n\n  k.getAllResponseHeaders = function () {\n    return "content-type: " + this.a.contentType;\n  };\n\n  function Jh(a, b, c) {\n    this.reset(a, b, c, void 0, void 0);\n  }\n\n  Jh.prototype.a = null;\n  var Kh = 0;\n\n  Jh.prototype.reset = function (a, b, c, d, e) {\n    "number" == typeof e || Kh++;\n    d || va();\n    delete this.a;\n  };\n\n  function Lh(a) {\n    this.f = a;\n    this.b = this.c = this.a = null;\n  }\n\n  function Mh(a, b) {\n    this.name = a;\n    this.value = b;\n  }\n\n  Mh.prototype.toString = function () {\n    return this.name;\n  };\n\n  var Nh = new Mh("SEVERE", 1E3),\n      Oh = new Mh("WARNING", 900),\n      Ph = new Mh("CONFIG", 700),\n      Qh = new Mh("FINE", 500);\n\n  function Rh(a) {\n    if (a.c) return a.c;\n    if (a.a) return Rh(a.a);\n    Ga("Root logger has no level set.");\n    return null;\n  }\n\n  Lh.prototype.log = function (a, b, c) {\n    if (a.value >= Rh(this).value) for (oa(b) && (b = b()), a = new Jh(a, String(b), this.f), c && (a.a = c), c = this; c;) {\n      c = c.a;\n    }\n  };\n\n  var Sh = {},\n      Th = null;\n\n  function Uh(a) {\n    Th || (Th = new Lh(""), Sh[""] = Th, Th.c = Ph);\n    var b;\n\n    if (!(b = Sh[a])) {\n      b = new Lh(a);\n      var c = a.lastIndexOf("."),\n          d = a.substr(c + 1);\n      c = Uh(a.substr(0, c));\n      c.b || (c.b = {});\n      c.b[d] = b;\n      b.a = c;\n      Sh[a] = b;\n    }\n\n    return b;\n  }\n\n  ;\n\n  function Vh(a, b) {\n    a && a.log(Qh, b, void 0);\n  }\n\n  ;\n\n  function Wh(a) {\n    this.f = a;\n  }\n\n  r(Wh, Bh);\n\n  Wh.prototype.a = function () {\n    return new Xh(this.f);\n  };\n\n  Wh.prototype.b = function (a) {\n    return function () {\n      return a;\n    };\n  }({});\n\n  function Xh(a) {\n    I.call(this);\n    this.u = a;\n    this.h = void 0;\n    this.readyState = Yh;\n    this.status = 0;\n    this.responseType = this.responseText = this.response = this.statusText = "";\n    this.onreadystatechange = null;\n    this.l = new Headers();\n    this.b = null;\n    this.o = "GET";\n    this.f = "";\n    this.a = !1;\n    this.i = Uh("goog.net.FetchXmlHttp");\n    this.m = this.c = this.g = null;\n  }\n\n  r(Xh, I);\n  var Yh = 0;\n  k = Xh.prototype;\n\n  k.open = function (a, b) {\n    if (this.readyState != Yh) throw this.abort(), Error("Error reopening a connection");\n    this.o = a;\n    this.f = b;\n    this.readyState = 1;\n    Zh(this);\n  };\n\n  k.send = function (a) {\n    if (1 != this.readyState) throw this.abort(), Error("need to call open() first. ");\n    this.a = !0;\n    var b = {\n      headers: this.l,\n      method: this.o,\n      credentials: this.h,\n      cache: void 0\n    };\n    a && (b.body = a);\n    this.u.fetch(new Request(this.f, b)).then(this.tc.bind(this), this.Ta.bind(this));\n  };\n\n  k.abort = function () {\n    this.response = this.responseText = "";\n    this.l = new Headers();\n    this.status = 0;\n    this.c && this.c.cancel("Request was aborted.");\n    1 <= this.readyState && this.a && 4 != this.readyState && (this.a = !1, $h(this));\n    this.readyState = Yh;\n  };\n\n  k.tc = function (a) {\n    this.a && (this.g = a, this.b || (this.status = this.g.status, this.statusText = this.g.statusText, this.b = a.headers, this.readyState = 2, Zh(this)), this.a && (this.readyState = 3, Zh(this), this.a && ("arraybuffer" === this.responseType ? a.arrayBuffer().then(this.rc.bind(this), this.Ta.bind(this)) : "undefined" !== typeof l.ReadableStream && "body" in a ? (this.response = this.responseText = "", this.c = a.body.getReader(), this.m = new TextDecoder(), ai(this)) : a.text().then(this.sc.bind(this), this.Ta.bind(this)))));\n  };\n\n  function ai(a) {\n    a.c.read().then(a.oc.bind(a)).catch(a.Ta.bind(a));\n  }\n\n  k.oc = function (a) {\n    if (this.a) {\n      var b = this.m.decode(a.value ? a.value : new Uint8Array(0), {\n        stream: !a.done\n      });\n      b && (this.response = this.responseText += b);\n      a.done ? $h(this) : Zh(this);\n      3 == this.readyState && ai(this);\n    }\n  };\n\n  k.sc = function (a) {\n    this.a && (this.response = this.responseText = a, $h(this));\n  };\n\n  k.rc = function (a) {\n    this.a && (this.response = a, $h(this));\n  };\n\n  k.Ta = function (a) {\n    var b = this.i;\n    b && b.log(Oh, "Failed to fetch url " + this.f, a instanceof Error ? a : Error(a));\n    this.a && $h(this);\n  };\n\n  function $h(a) {\n    a.readyState = 4;\n    a.g = null;\n    a.c = null;\n    a.m = null;\n    Zh(a);\n  }\n\n  k.setRequestHeader = function (a, b) {\n    this.l.append(a, b);\n  };\n\n  k.getResponseHeader = function (a) {\n    return this.b ? this.b.get(a.toLowerCase()) || "" : ((a = this.i) && a.log(Oh, "Attempting to get response header but no headers have been received for url: " + this.f, void 0), "");\n  };\n\n  k.getAllResponseHeaders = function () {\n    if (!this.b) {\n      var a = this.i;\n      a && a.log(Oh, "Attempting to get all response headers but no headers have been received for url: " + this.f, void 0);\n      return "";\n    }\n\n    a = [];\n\n    for (var b = this.b.entries(), c = b.next(); !c.done;) {\n      c = c.value, a.push(c[0] + ": " + c[1]), c = b.next();\n    }\n\n    return a.join("\\r\\n");\n  };\n\n  function Zh(a) {\n    a.onreadystatechange && a.onreadystatechange.call(a);\n  }\n\n  Object.defineProperty(Xh.prototype, "withCredentials", {\n    get: function get() {\n      return "include" === this.h;\n    },\n    set: function set(a) {\n      this.h = a ? "include" : "same-origin";\n    }\n  });\n\n  function bi(a) {\n    I.call(this);\n    this.headers = new Id();\n    this.O = a || null;\n    this.c = !1;\n    this.A = this.a = null;\n    this.h = this.P = this.l = "";\n    this.f = this.N = this.i = this.G = !1;\n    this.g = 0;\n    this.o = null;\n    this.m = ci;\n    this.u = this.R = !1;\n  }\n\n  r(bi, I);\n  var ci = "";\n  bi.prototype.b = Uh("goog.net.XhrIo");\n  var di = /^https?$/i,\n      ei = ["POST", "PUT"];\n\n  function fi(a, b, c, d, e) {\n    if (a.a) throw Error("[goog.net.XhrIo] Object is active with another request=" + a.l + "; newUri=" + b);\n    c = c ? c.toUpperCase() : "GET";\n    a.l = b;\n    a.h = "";\n    a.P = c;\n    a.G = !1;\n    a.c = !0;\n    a.a = a.O ? a.O.a() : Dh.a();\n    a.A = a.O ? Ch(a.O) : Ch(Dh);\n    a.a.onreadystatechange = q(a.Ub, a);\n\n    try {\n      Vh(a.b, gi(a, "Opening Xhr")), a.N = !0, a.a.open(c, String(b), !0), a.N = !1;\n    } catch (g) {\n      Vh(a.b, gi(a, "Error opening Xhr: " + g.message));\n      hi(a, g);\n      return;\n    }\n\n    b = d || "";\n    var f = new Id(a.headers);\n    e && Hd(e, function (g, h) {\n      f.set(h, g);\n    });\n    e = Ta(f.Y());\n    d = l.FormData && b instanceof l.FormData;\n    !Va(ei, c) || e || d || f.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8");\n    f.forEach(function (g, h) {\n      this.a.setRequestHeader(h, g);\n    }, a);\n    a.m && (a.a.responseType = a.m);\n    "withCredentials" in a.a && a.a.withCredentials !== a.R && (a.a.withCredentials = a.R);\n\n    try {\n      ii(a), 0 < a.g && (a.u = ji(a.a), Vh(a.b, gi(a, "Will abort after " + a.g + "ms if incomplete, xhr2 " + a.u)), a.u ? (a.a.timeout = a.g, a.a.ontimeout = q(a.Ma, a)) : a.o = Dd(a.Ma, a.g, a)), Vh(a.b, gi(a, "Sending request")), a.i = !0, a.a.send(b), a.i = !1;\n    } catch (g) {\n      Vh(a.b, gi(a, "Send error: " + g.message)), hi(a, g);\n    }\n  }\n\n  function ji(a) {\n    return Wb && fc(9) && "number" === typeof a.timeout && void 0 !== a.ontimeout;\n  }\n\n  function Ua(a) {\n    return "content-type" == a.toLowerCase();\n  }\n\n  k = bi.prototype;\n\n  k.Ma = function () {\n    "undefined" != typeof ha && this.a && (this.h = "Timed out after " + this.g + "ms, aborting", Vh(this.b, gi(this, this.h)), this.dispatchEvent("timeout"), this.abort(8));\n  };\n\n  function hi(a, b) {\n    a.c = !1;\n    a.a && (a.f = !0, a.a.abort(), a.f = !1);\n    a.h = b;\n    ki(a);\n    li(a);\n  }\n\n  function ki(a) {\n    a.G || (a.G = !0, a.dispatchEvent("complete"), a.dispatchEvent("error"));\n  }\n\n  k.abort = function () {\n    this.a && this.c && (Vh(this.b, gi(this, "Aborting")), this.c = !1, this.f = !0, this.a.abort(), this.f = !1, this.dispatchEvent("complete"), this.dispatchEvent("abort"), li(this));\n  };\n\n  k.Da = function () {\n    this.a && (this.c && (this.c = !1, this.f = !0, this.a.abort(), this.f = !1), li(this, !0));\n    bi.$a.Da.call(this);\n  };\n\n  k.Ub = function () {\n    this.xa || (this.N || this.i || this.f ? mi(this) : this.Ic());\n  };\n\n  k.Ic = function () {\n    mi(this);\n  };\n\n  function mi(a) {\n    if (a.c && "undefined" != typeof ha) if (a.A[1] && 4 == ni(a) && 2 == oi(a)) Vh(a.b, gi(a, "Local request error detected and ignored"));else if (a.i && 4 == ni(a)) Dd(a.Ub, 0, a);else if (a.dispatchEvent("readystatechange"), 4 == ni(a)) {\n      Vh(a.b, gi(a, "Request complete"));\n      a.c = !1;\n\n      try {\n        var b = oi(a);\n\n        a: switch (b) {\n          case 200:\n          case 201:\n          case 202:\n          case 204:\n          case 206:\n          case 304:\n          case 1223:\n            var c = !0;\n            break a;\n\n          default:\n            c = !1;\n        }\n\n        var d;\n\n        if (!(d = c)) {\n          var e;\n\n          if (e = 0 === b) {\n            var f = String(a.l).match(Ld)[1] || null;\n\n            if (!f && l.self && l.self.location) {\n              var g = l.self.location.protocol;\n              f = g.substr(0, g.length - 1);\n            }\n\n            e = !di.test(f ? f.toLowerCase() : "");\n          }\n\n          d = e;\n        }\n\n        if (d) a.dispatchEvent("complete"), a.dispatchEvent("success");else {\n          try {\n            var h = 2 < ni(a) ? a.a.statusText : "";\n          } catch (n) {\n            Vh(a.b, "Can not get status: " + n.message), h = "";\n          }\n\n          a.h = h + " [" + oi(a) + "]";\n          ki(a);\n        }\n      } finally {\n        li(a);\n      }\n    }\n  }\n\n  function li(a, b) {\n    if (a.a) {\n      ii(a);\n      var c = a.a,\n          d = a.A[0] ? la : null;\n      a.a = null;\n      a.A = null;\n      b || a.dispatchEvent("ready");\n\n      try {\n        c.onreadystatechange = d;\n      } catch (e) {\n        (a = a.b) && a.log(Nh, "Problem encountered resetting onreadystatechange: " + e.message, void 0);\n      }\n    }\n  }\n\n  function ii(a) {\n    a.a && a.u && (a.a.ontimeout = null);\n    a.o && (l.clearTimeout(a.o), a.o = null);\n  }\n\n  function ni(a) {\n    return a.a ? a.a.readyState : 0;\n  }\n\n  function oi(a) {\n    try {\n      return 2 < ni(a) ? a.a.status : -1;\n    } catch (b) {\n      return -1;\n    }\n  }\n\n  function pi(a) {\n    try {\n      return a.a ? a.a.responseText : "";\n    } catch (b) {\n      return Vh(a.b, "Can not get responseText: " + b.message), "";\n    }\n  }\n\n  k.getResponse = function () {\n    try {\n      if (!this.a) return null;\n      if ("response" in this.a) return this.a.response;\n\n      switch (this.m) {\n        case ci:\n        case "text":\n          return this.a.responseText;\n\n        case "arraybuffer":\n          if ("mozResponseArrayBuffer" in this.a) return this.a.mozResponseArrayBuffer;\n      }\n\n      var a = this.b;\n      a && a.log(Nh, "Response type " + this.m + " is not supported on this browser", void 0);\n      return null;\n    } catch (b) {\n      return Vh(this.b, "Can not get response: " + b.message), null;\n    }\n  };\n\n  function gi(a, b) {\n    return b + " [" + a.P + " " + a.l + " " + oi(a) + "]";\n  }\n\n  ;\n  /*\n  Portions of this code are from MochiKit, received by\n  The Closure Authors under the MIT license. All other code is Copyright\n  2005-2009 The Closure Authors. All Rights Reserved.\n  */\n\n  function qi(a) {\n    var b = ri;\n    this.g = [];\n    this.u = b;\n    this.o = a || null;\n    this.f = this.a = !1;\n    this.c = void 0;\n    this.m = this.A = this.i = !1;\n    this.h = 0;\n    this.b = null;\n    this.l = 0;\n  }\n\n  qi.prototype.cancel = function (a) {\n    if (this.a) this.c instanceof qi && this.c.cancel();else {\n      if (this.b) {\n        var b = this.b;\n        delete this.b;\n        a ? b.cancel(a) : (b.l--, 0 >= b.l && b.cancel());\n      }\n\n      this.u ? this.u.call(this.o, this) : this.m = !0;\n      this.a || (a = new si(this), ti(this), ui(this, !1, a));\n    }\n  };\n\n  qi.prototype.v = function (a, b) {\n    this.i = !1;\n    ui(this, a, b);\n  };\n\n  function ui(a, b, c) {\n    a.a = !0;\n    a.c = c;\n    a.f = !b;\n    vi(a);\n  }\n\n  function ti(a) {\n    if (a.a) {\n      if (!a.m) throw new wi(a);\n      a.m = !1;\n    }\n  }\n\n  function xi(a, b) {\n    yi(a, null, b, void 0);\n  }\n\n  function yi(a, b, c, d) {\n    a.g.push([b, c, d]);\n    a.a && vi(a);\n  }\n\n  qi.prototype.then = function (a, b, c) {\n    var d,\n        e,\n        f = new D(function (g, h) {\n      d = g;\n      e = h;\n    });\n    yi(this, d, function (g) {\n      g instanceof si ? f.cancel() : e(g);\n    });\n    return f.then(a, b, c);\n  };\n\n  qi.prototype.$goog_Thenable = !0;\n\n  function zi(a) {\n    return Sa(a.g, function (b) {\n      return oa(b[1]);\n    });\n  }\n\n  function vi(a) {\n    if (a.h && a.a && zi(a)) {\n      var b = a.h,\n          c = Ai[b];\n      c && (l.clearTimeout(c.a), delete Ai[b]);\n      a.h = 0;\n    }\n\n    a.b && (a.b.l--, delete a.b);\n    b = a.c;\n\n    for (var d = c = !1; a.g.length && !a.i;) {\n      var e = a.g.shift(),\n          f = e[0],\n          g = e[1];\n      e = e[2];\n      if (f = a.f ? g : f) try {\n        var h = f.call(e || a.o, b);\n        void 0 !== h && (a.f = a.f && (h == b || h instanceof Error), a.c = b = h);\n        if (Ea(b) || "function" === typeof l.Promise && b instanceof l.Promise) d = !0, a.i = !0;\n      } catch (n) {\n        b = n, a.f = !0, zi(a) || (c = !0);\n      }\n    }\n\n    a.c = b;\n    d && (h = q(a.v, a, !0), d = q(a.v, a, !1), b instanceof qi ? (yi(b, h, d), b.A = !0) : b.then(h, d));\n    c && (b = new Bi(b), Ai[b.a] = b, a.h = b.a);\n  }\n\n  function wi() {\n    u.call(this);\n  }\n\n  r(wi, u);\n  wi.prototype.message = "Deferred has already fired";\n  wi.prototype.name = "AlreadyCalledError";\n\n  function si() {\n    u.call(this);\n  }\n\n  r(si, u);\n  si.prototype.message = "Deferred was canceled";\n  si.prototype.name = "CanceledError";\n\n  function Bi(a) {\n    this.a = l.setTimeout(q(this.c, this), 0);\n    this.b = a;\n  }\n\n  Bi.prototype.c = function () {\n    delete Ai[this.a];\n    throw this.b;\n  };\n\n  var Ai = {};\n\n  function Ci(a) {\n    var b = {},\n        c = b.document || document,\n        d = yb(a).toString(),\n        e = oc(document, "SCRIPT"),\n        f = {\n      Vb: e,\n      Ma: void 0\n    },\n        g = new qi(f),\n        h = null,\n        n = null != b.timeout ? b.timeout : 5E3;\n    0 < n && (h = window.setTimeout(function () {\n      Di(e, !0);\n      var p = new Ei(Fi, "Timeout reached for loading script " + d);\n      ti(g);\n      ui(g, !1, p);\n    }, n), f.Ma = h);\n\n    e.onload = e.onreadystatechange = function () {\n      e.readyState && "loaded" != e.readyState && "complete" != e.readyState || (Di(e, b.wd || !1, h), ti(g), ui(g, !0, null));\n    };\n\n    e.onerror = function () {\n      Di(e, !0, h);\n      var p = new Ei(Gi, "Error while loading script " + d);\n      ti(g);\n      ui(g, !1, p);\n    };\n\n    f = b.attributes || {};\n    z(f, {\n      type: "text/javascript",\n      charset: "UTF-8"\n    });\n    lc(e, f);\n    Ob(e, a);\n    Hi(c).appendChild(e);\n    return g;\n  }\n\n  function Hi(a) {\n    var b;\n    return (b = (a || document).getElementsByTagName("HEAD")) && 0 != b.length ? b[0] : a.documentElement;\n  }\n\n  function ri() {\n    if (this && this.Vb) {\n      var a = this.Vb;\n      a && "SCRIPT" == a.tagName && Di(a, !0, this.Ma);\n    }\n  }\n\n  function Di(a, b, c) {\n    null != c && l.clearTimeout(c);\n    a.onload = la;\n    a.onerror = la;\n    a.onreadystatechange = la;\n    b && window.setTimeout(function () {\n      a && a.parentNode && a.parentNode.removeChild(a);\n    }, 0);\n  }\n\n  var Gi = 0,\n      Fi = 1;\n\n  function Ei(a, b) {\n    var c = "Jsloader error (code #" + a + ")";\n    b && (c += ": " + b);\n    u.call(this, c);\n    this.code = a;\n  }\n\n  r(Ei, u);\n\n  function Ii(a) {\n    this.f = a;\n  }\n\n  r(Ii, Bh);\n\n  Ii.prototype.a = function () {\n    return new this.f();\n  };\n\n  Ii.prototype.b = function () {\n    return {};\n  };\n\n  function Ji(a, b, c) {\n    this.c = a;\n    a = b || {};\n    this.l = a.secureTokenEndpoint || "https://securetoken.googleapis.com/v1/token";\n    this.v = a.secureTokenTimeout || Ki;\n    this.g = nb(a.secureTokenHeaders || Li);\n    this.h = a.firebaseEndpoint || "https://www.googleapis.com/identitytoolkit/v3/relyingparty/";\n    this.i = a.identityPlatformEndpoint || "https://identitytoolkit.googleapis.com/v2/";\n    this.m = a.firebaseTimeout || Mi;\n    this.a = nb(a.firebaseHeaders || Ni);\n    c && (this.a["X-Client-Version"] = c, this.g["X-Client-Version"] = c);\n    c = "Node" == Ke();\n    c = l.XMLHttpRequest || c && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node.XMLHttpRequest;\n    if (!c && !Je()) throw new t("internal-error", "The XMLHttpRequest compatibility library was not found.");\n    this.f = void 0;\n    Je() ? this.f = new Wh(self) : Le() ? this.f = new Ii(c) : this.f = new Gh();\n    this.b = null;\n  }\n\n  var Oi,\n      Eg = "idToken",\n      Ki = new Ze(3E4, 6E4),\n      Li = {\n    "Content-Type": "application/x-www-form-urlencoded"\n  },\n      Mi = new Ze(3E4, 6E4),\n      Ni = {\n    "Content-Type": "application/json"\n  };\n\n  function Pi(a, b) {\n    b ? a.a["X-Firebase-Locale"] = b : delete a.a["X-Firebase-Locale"];\n  }\n\n  function Qi(a, b) {\n    b && (a.l = Ri("https://securetoken.googleapis.com/v1/token", b), a.h = Ri("https://www.googleapis.com/identitytoolkit/v3/relyingparty/", b), a.i = Ri("https://identitytoolkit.googleapis.com/v2/", b));\n  }\n\n  function Ri(a, b) {\n    a = be(a);\n    b = be(b.url);\n    a.c = a.a + a.c;\n    Od(a, b.f);\n    a.a = b.a;\n    Pd(a, b.g);\n    return a.toString();\n  }\n\n  function Si(a, b) {\n    b ? (a.a["X-Client-Version"] = b, a.g["X-Client-Version"] = b) : (delete a.a["X-Client-Version"], delete a.g["X-Client-Version"]);\n  }\n\n  Ji.prototype.S = function () {\n    return this.b;\n  };\n\n  function Ti(a, b, c, d, e, f, g) {\n    ue() || Je() ? a = q(a.u, a) : (Oi || (Oi = new D(function (h, n) {\n      Ui(h, n);\n    })), a = q(a.o, a));\n    a(b, c, d, e, f, g);\n  }\n\n  Ji.prototype.u = function (a, b, c, d, e, f) {\n    if (Je() && ("undefined" === typeof l.fetch || "undefined" === typeof l.Headers || "undefined" === typeof l.Request)) throw new t("operation-not-supported-in-this-environment", "fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");\n    var g = new bi(this.f);\n\n    if (f) {\n      g.g = Math.max(0, f);\n      var h = setTimeout(function () {\n        g.dispatchEvent("timeout");\n      }, f);\n    }\n\n    qd(g, "complete", function () {\n      h && clearTimeout(h);\n      var n = null;\n\n      try {\n        n = JSON.parse(pi(this)) || null;\n      } catch (p) {\n        n = null;\n      }\n\n      b && b(n);\n    });\n    wd(g, "ready", function () {\n      h && clearTimeout(h);\n      Xc(this);\n    });\n    wd(g, "timeout", function () {\n      h && clearTimeout(h);\n      Xc(this);\n      b && b(null);\n    });\n    fi(g, a, c, d, e);\n  };\n\n  var Vi = new qb(rb, "https://apis.google.com/js/client.js?onload=%{onload}"),\n      Wi = "__fcb" + Math.floor(1E6 * Math.random()).toString();\n\n  function Ui(a, b) {\n    if (((window.gapi || {}).client || {}).request) a();else {\n      l[Wi] = function () {\n        ((window.gapi || {}).client || {}).request ? a() : b(Error("CORS_UNSUPPORTED"));\n      };\n\n      var c = zb(Vi, {\n        onload: Wi\n      });\n      xi(Ci(c), function () {\n        b(Error("CORS_UNSUPPORTED"));\n      });\n    }\n  }\n\n  Ji.prototype.o = function (a, b, c, d, e) {\n    var f = this;\n    Oi.then(function () {\n      window.gapi.client.setApiKey(f.c);\n      var g = window.gapi.auth.getToken();\n      window.gapi.auth.setToken(null);\n      window.gapi.client.request({\n        path: a,\n        method: c,\n        body: d,\n        headers: e,\n        authType: "none",\n        callback: function callback(h) {\n          window.gapi.auth.setToken(g);\n          b && b(h);\n        }\n      });\n    }).s(function (g) {\n      b && b({\n        error: {\n          message: g && g.message || "CORS_UNSUPPORTED"\n        }\n      });\n    });\n  };\n\n  function Xi(a, b) {\n    return new D(function (c, d) {\n      "refresh_token" == b.grant_type && b.refresh_token || "authorization_code" == b.grant_type && b.code ? Ti(a, a.l + "?key=" + encodeURIComponent(a.c), function (e) {\n        e ? e.error ? d(Yi(e)) : e.access_token && e.refresh_token ? c(e) : d(new t("internal-error")) : d(new t("network-request-failed"));\n      }, "POST", fe(b).toString(), a.g, a.v.get()) : d(new t("internal-error"));\n    });\n  }\n\n  function Zi(a, b, c, d, e, f, g) {\n    var h = be(b + c);\n    J(h, "key", a.c);\n    g && J(h, "cb", va().toString());\n    var n = "GET" == d;\n    if (n) for (var p in e) {\n      e.hasOwnProperty(p) && J(h, p, e[p]);\n    }\n    return new D(function (v, B) {\n      Ti(a, h.toString(), function (A) {\n        A ? A.error ? B(Yi(A, f || {})) : v(A) : B(new t("network-request-failed"));\n      }, d, n ? void 0 : ke(Ve(e)), a.a, a.m.get());\n    });\n  }\n\n  function $i(a) {\n    a = a.email;\n    if ("string" !== typeof a || !De.test(a)) throw new t("invalid-email");\n  }\n\n  function aj(a) {\n    "email" in a && $i(a);\n  }\n\n  function bj(a, b) {\n    return O(a, cj, {\n      identifier: b,\n      continueUri: Se() ? re() : "http://localhost"\n    }).then(function (c) {\n      return c.signinMethods || [];\n    });\n  }\n\n  function dj(a) {\n    return O(a, ej, {}).then(function (b) {\n      return b.authorizedDomains || [];\n    });\n  }\n\n  function P(a) {\n    if (!a[Eg]) {\n      if (a.mfaPendingCredential) throw new t("multi-factor-auth-required", null, nb(a));\n      throw new t("internal-error");\n    }\n  }\n\n  function fj(a) {\n    if (a.phoneNumber || a.temporaryProof) {\n      if (!a.phoneNumber || !a.temporaryProof) throw new t("internal-error");\n    } else {\n      if (!a.sessionInfo) throw new t("missing-verification-id");\n      if (!a.code) throw new t("missing-verification-code");\n    }\n  }\n\n  Ji.prototype.yb = function () {\n    return O(this, gj, {});\n  };\n\n  Ji.prototype.Ab = function (a, b) {\n    return O(this, hj, {\n      idToken: a,\n      email: b\n    });\n  };\n\n  Ji.prototype.Bb = function (a, b) {\n    return O(this, dh, {\n      idToken: a,\n      password: b\n    });\n  };\n\n  var ij = {\n    displayName: "DISPLAY_NAME",\n    photoUrl: "PHOTO_URL"\n  };\n  k = Ji.prototype;\n\n  k.Cb = function (a, b) {\n    var c = {\n      idToken: a\n    },\n        d = [];\n    lb(ij, function (e, f) {\n      var g = b[f];\n      null === g ? d.push(e) : f in b && (c[f] = g);\n    });\n    d.length && (c.deleteAttribute = d);\n    return O(this, hj, c);\n  };\n\n  k.ub = function (a, b) {\n    a = {\n      requestType: "PASSWORD_RESET",\n      email: a\n    };\n    z(a, b);\n    return O(this, jj, a);\n  };\n\n  k.vb = function (a, b) {\n    a = {\n      requestType: "EMAIL_SIGNIN",\n      email: a\n    };\n    z(a, b);\n    return O(this, kj, a);\n  };\n\n  k.tb = function (a, b) {\n    a = {\n      requestType: "VERIFY_EMAIL",\n      idToken: a\n    };\n    z(a, b);\n    return O(this, lj, a);\n  };\n\n  k.Db = function (a, b, c) {\n    a = {\n      requestType: "VERIFY_AND_CHANGE_EMAIL",\n      idToken: a,\n      newEmail: b\n    };\n    z(a, c);\n    return O(this, mj, a);\n  };\n\n  function ph(a, b) {\n    return O(a, nj, b);\n  }\n\n  k.eb = function (a) {\n    return O(this, oj, a);\n  };\n\n  function nh(a, b) {\n    return O(a, pj, b).then(function (c) {\n      return c.phoneSessionInfo.sessionInfo;\n    });\n  }\n\n  function qj(a) {\n    if (!a.phoneVerificationInfo) throw new t("internal-error");\n    if (!a.phoneVerificationInfo.sessionInfo) throw new t("missing-verification-id");\n    if (!a.phoneVerificationInfo.code) throw new t("missing-verification-code");\n  }\n\n  function oh(a, b) {\n    return O(a, rj, b).then(function (c) {\n      return c.phoneResponseInfo.sessionInfo;\n    });\n  }\n\n  function sj(a, b, c) {\n    return O(a, tj, {\n      idToken: b,\n      deleteProvider: c\n    });\n  }\n\n  function uj(a) {\n    if (!a.requestUri || !a.sessionId && !a.postBody && !a.pendingToken) throw new t("internal-error");\n  }\n\n  function vj(a, b) {\n    b.oauthIdToken && b.providerId && 0 == b.providerId.indexOf("oidc.") && !b.pendingToken && (a.sessionId ? b.nonce = a.sessionId : a.postBody && (a = new Td(a.postBody), je(a, "nonce") && (b.nonce = a.get("nonce"))));\n    return b;\n  }\n\n  function wj(a) {\n    var b = null;\n    a.needConfirmation ? (a.code = "account-exists-with-different-credential", b = Ah(a)) : "FEDERATED_USER_ID_ALREADY_LINKED" == a.errorMessage ? (a.code = "credential-already-in-use", b = Ah(a)) : "EMAIL_EXISTS" == a.errorMessage ? (a.code = "email-already-in-use", b = Ah(a)) : a.errorMessage && (b = xj(a.errorMessage));\n    if (b) throw b;\n    P(a);\n  }\n\n  function Gg(a, b) {\n    b.returnIdpCredential = !0;\n    return O(a, yj, b);\n  }\n\n  function Ig(a, b) {\n    b.returnIdpCredential = !0;\n    return O(a, zj, b);\n  }\n\n  function Jg(a, b) {\n    b.returnIdpCredential = !0;\n    b.autoCreate = !1;\n    return O(a, Aj, b);\n  }\n\n  function Bj(a) {\n    if (!a.oobCode) throw new t("invalid-action-code");\n  }\n\n  k.mb = function (a, b) {\n    return O(this, Cj, {\n      oobCode: a,\n      newPassword: b\n    });\n  };\n\n  k.Qa = function (a) {\n    return O(this, Dj, {\n      oobCode: a\n    });\n  };\n\n  k.ib = function (a) {\n    return O(this, Ej, {\n      oobCode: a\n    });\n  };\n\n  var Ej = {\n    endpoint: "setAccountInfo",\n    B: Bj,\n    Z: "email",\n    C: !0\n  },\n      Dj = {\n    endpoint: "resetPassword",\n    B: Bj,\n    F: function F(a) {\n      var b = a.requestType;\n      if (!b || !a.email && "EMAIL_SIGNIN" != b && "VERIFY_AND_CHANGE_EMAIL" != b) throw new t("internal-error");\n    },\n    C: !0\n  },\n      Fj = {\n    endpoint: "signupNewUser",\n    B: function B(a) {\n      $i(a);\n      if (!a.password) throw new t("weak-password");\n    },\n    F: P,\n    U: !0,\n    C: !0\n  },\n      cj = {\n    endpoint: "createAuthUri",\n    C: !0\n  },\n      Gj = {\n    endpoint: "deleteAccount",\n    M: ["idToken"]\n  },\n      tj = {\n    endpoint: "setAccountInfo",\n    M: ["idToken", "deleteProvider"],\n    B: function B(a) {\n      if (!Array.isArray(a.deleteProvider)) throw new t("internal-error");\n    }\n  },\n      ah = {\n    endpoint: "emailLinkSignin",\n    M: ["email", "oobCode"],\n    B: $i,\n    F: P,\n    U: !0,\n    C: !0\n  },\n      ch = {\n    endpoint: "emailLinkSignin",\n    M: ["idToken", "email", "oobCode"],\n    B: $i,\n    F: P,\n    U: !0\n  },\n      Hj = {\n    endpoint: "accounts/mfaEnrollment:finalize",\n    M: ["idToken", "phoneVerificationInfo"],\n    B: qj,\n    F: P,\n    C: !0,\n    Na: !0\n  },\n      Ij = {\n    endpoint: "accounts/mfaSignIn:finalize",\n    M: ["mfaPendingCredential", "phoneVerificationInfo"],\n    B: qj,\n    F: P,\n    C: !0,\n    Na: !0\n  },\n      Jj = {\n    endpoint: "getAccountInfo"\n  },\n      kj = {\n    endpoint: "getOobConfirmationCode",\n    M: ["requestType"],\n    B: function B(a) {\n      if ("EMAIL_SIGNIN" != a.requestType) throw new t("internal-error");\n      $i(a);\n    },\n    Z: "email",\n    C: !0\n  },\n      lj = {\n    endpoint: "getOobConfirmationCode",\n    M: ["idToken", "requestType"],\n    B: function B(a) {\n      if ("VERIFY_EMAIL" != a.requestType) throw new t("internal-error");\n    },\n    Z: "email",\n    C: !0\n  },\n      mj = {\n    endpoint: "getOobConfirmationCode",\n    M: ["idToken", "newEmail", "requestType"],\n    B: function B(a) {\n      if ("VERIFY_AND_CHANGE_EMAIL" != a.requestType) throw new t("internal-error");\n    },\n    Z: "email",\n    C: !0\n  },\n      jj = {\n    endpoint: "getOobConfirmationCode",\n    M: ["requestType"],\n    B: function B(a) {\n      if ("PASSWORD_RESET" != a.requestType) throw new t("internal-error");\n      $i(a);\n    },\n    Z: "email",\n    C: !0\n  },\n      ej = {\n    kb: !0,\n    endpoint: "getProjectConfig",\n    Tb: "GET"\n  },\n      Kj = {\n    kb: !0,\n    endpoint: "getRecaptchaParam",\n    Tb: "GET",\n    F: function F(a) {\n      if (!a.recaptchaSiteKey) throw new t("internal-error");\n    }\n  },\n      Cj = {\n    endpoint: "resetPassword",\n    B: Bj,\n    Z: "email",\n    C: !0\n  },\n      nj = {\n    endpoint: "sendVerificationCode",\n    M: ["phoneNumber", "recaptchaToken"],\n    Z: "sessionInfo",\n    C: !0\n  },\n      hj = {\n    endpoint: "setAccountInfo",\n    M: ["idToken"],\n    B: aj,\n    U: !0\n  },\n      dh = {\n    endpoint: "setAccountInfo",\n    M: ["idToken"],\n    B: function B(a) {\n      aj(a);\n      if (!a.password) throw new t("weak-password");\n    },\n    F: P,\n    U: !0\n  },\n      gj = {\n    endpoint: "signupNewUser",\n    F: P,\n    U: !0,\n    C: !0\n  },\n      pj = {\n    endpoint: "accounts/mfaEnrollment:start",\n    M: ["idToken", "phoneEnrollmentInfo"],\n    B: function B(a) {\n      if (!a.phoneEnrollmentInfo) throw new t("internal-error");\n      if (!a.phoneEnrollmentInfo.phoneNumber) throw new t("missing-phone-number");\n      if (!a.phoneEnrollmentInfo.recaptchaToken) throw new t("missing-app-credential");\n    },\n    F: function F(a) {\n      if (!a.phoneSessionInfo || !a.phoneSessionInfo.sessionInfo) throw new t("internal-error");\n    },\n    C: !0,\n    Na: !0\n  },\n      rj = {\n    endpoint: "accounts/mfaSignIn:start",\n    M: ["mfaPendingCredential", "mfaEnrollmentId", "phoneSignInInfo"],\n    B: function B(a) {\n      if (!a.phoneSignInInfo || !a.phoneSignInInfo.recaptchaToken) throw new t("missing-app-credential");\n    },\n    F: function F(a) {\n      if (!a.phoneResponseInfo || !a.phoneResponseInfo.sessionInfo) throw new t("internal-error");\n    },\n    C: !0,\n    Na: !0\n  },\n      yj = {\n    endpoint: "verifyAssertion",\n    B: uj,\n    Xa: vj,\n    F: wj,\n    U: !0,\n    C: !0\n  },\n      Aj = {\n    endpoint: "verifyAssertion",\n    B: uj,\n    Xa: vj,\n    F: function F(a) {\n      if (a.errorMessage && "USER_NOT_FOUND" == a.errorMessage) throw new t("user-not-found");\n      if (a.errorMessage) throw xj(a.errorMessage);\n      P(a);\n    },\n    U: !0,\n    C: !0\n  },\n      zj = {\n    endpoint: "verifyAssertion",\n    B: function B(a) {\n      uj(a);\n      if (!a.idToken) throw new t("internal-error");\n    },\n    Xa: vj,\n    F: wj,\n    U: !0\n  },\n      Lj = {\n    endpoint: "verifyCustomToken",\n    B: function B(a) {\n      if (!a.token) throw new t("invalid-custom-token");\n    },\n    F: P,\n    U: !0,\n    C: !0\n  },\n      bh = {\n    endpoint: "verifyPassword",\n    B: function B(a) {\n      $i(a);\n      if (!a.password) throw new t("wrong-password");\n    },\n    F: P,\n    U: !0,\n    C: !0\n  },\n      oj = {\n    endpoint: "verifyPhoneNumber",\n    B: fj,\n    F: P,\n    C: !0\n  },\n      jh = {\n    endpoint: "verifyPhoneNumber",\n    B: function B(a) {\n      if (!a.idToken) throw new t("internal-error");\n      fj(a);\n    },\n    F: function F(a) {\n      if (a.temporaryProof) throw a.code = "credential-already-in-use", Ah(a);\n      P(a);\n    }\n  },\n      kh = {\n    Gb: {\n      USER_NOT_FOUND: "user-not-found"\n    },\n    endpoint: "verifyPhoneNumber",\n    B: fj,\n    F: P,\n    C: !0\n  },\n      Mj = {\n    endpoint: "accounts/mfaEnrollment:withdraw",\n    M: ["idToken", "mfaEnrollmentId"],\n    F: function F(a) {\n      if (!!a[Eg] ^ !!a.refreshToken) throw new t("internal-error");\n    },\n    C: !0,\n    Na: !0\n  };\n\n  function O(a, b, c) {\n    if (!nf(c, b.M)) return F(new t("internal-error"));\n    var d = !!b.Na,\n        e = b.Tb || "POST",\n        f;\n    return E(c).then(b.B).then(function () {\n      b.U && (c.returnSecureToken = !0);\n      b.C && a.b && "undefined" === typeof c.tenantId && (c.tenantId = a.b);\n      return d ? Zi(a, a.i, b.endpoint, e, c, b.Gb, b.kb || !1) : Zi(a, a.h, b.endpoint, e, c, b.Gb, b.kb || !1);\n    }).then(function (g) {\n      f = g;\n      return b.Xa ? b.Xa(c, f) : f;\n    }).then(b.F).then(function () {\n      if (!b.Z) return f;\n      if (!(b.Z in f)) throw new t("internal-error");\n      return f[b.Z];\n    });\n  }\n\n  function xj(a) {\n    return Yi({\n      error: {\n        errors: [{\n          message: a\n        }],\n        code: 400,\n        message: a\n      }\n    });\n  }\n\n  function Yi(a, b) {\n    var c = (a.error && a.error.errors && a.error.errors[0] || {}).reason || "";\n    var d = {\n      keyInvalid: "invalid-api-key",\n      ipRefererBlocked: "app-not-authorized"\n    };\n    if (c = d[c] ? new t(d[c]) : null) return c;\n    c = a.error && a.error.message || "";\n    d = {\n      INVALID_CUSTOM_TOKEN: "invalid-custom-token",\n      CREDENTIAL_MISMATCH: "custom-token-mismatch",\n      MISSING_CUSTOM_TOKEN: "internal-error",\n      INVALID_IDENTIFIER: "invalid-email",\n      MISSING_CONTINUE_URI: "internal-error",\n      INVALID_EMAIL: "invalid-email",\n      INVALID_PASSWORD: "wrong-password",\n      USER_DISABLED: "user-disabled",\n      MISSING_PASSWORD: "internal-error",\n      EMAIL_EXISTS: "email-already-in-use",\n      PASSWORD_LOGIN_DISABLED: "operation-not-allowed",\n      INVALID_IDP_RESPONSE: "invalid-credential",\n      INVALID_PENDING_TOKEN: "invalid-credential",\n      FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use",\n      MISSING_OR_INVALID_NONCE: "missing-or-invalid-nonce",\n      INVALID_MESSAGE_PAYLOAD: "invalid-message-payload",\n      INVALID_RECIPIENT_EMAIL: "invalid-recipient-email",\n      INVALID_SENDER: "invalid-sender",\n      EMAIL_NOT_FOUND: "user-not-found",\n      RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests",\n      EXPIRED_OOB_CODE: "expired-action-code",\n      INVALID_OOB_CODE: "invalid-action-code",\n      MISSING_OOB_CODE: "internal-error",\n      INVALID_PROVIDER_ID: "invalid-provider-id",\n      CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login",\n      INVALID_ID_TOKEN: "invalid-user-token",\n      TOKEN_EXPIRED: "user-token-expired",\n      USER_NOT_FOUND: "user-token-expired",\n      CORS_UNSUPPORTED: "cors-unsupported",\n      DYNAMIC_LINK_NOT_ACTIVATED: "dynamic-link-not-activated",\n      INVALID_APP_ID: "invalid-app-id",\n      TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests",\n      WEAK_PASSWORD: "weak-password",\n      OPERATION_NOT_ALLOWED: "operation-not-allowed",\n      USER_CANCELLED: "user-cancelled",\n      CAPTCHA_CHECK_FAILED: "captcha-check-failed",\n      INVALID_APP_CREDENTIAL: "invalid-app-credential",\n      INVALID_CODE: "invalid-verification-code",\n      INVALID_PHONE_NUMBER: "invalid-phone-number",\n      INVALID_SESSION_INFO: "invalid-verification-id",\n      INVALID_TEMPORARY_PROOF: "invalid-credential",\n      MISSING_APP_CREDENTIAL: "missing-app-credential",\n      MISSING_CODE: "missing-verification-code",\n      MISSING_PHONE_NUMBER: "missing-phone-number",\n      MISSING_SESSION_INFO: "missing-verification-id",\n      QUOTA_EXCEEDED: "quota-exceeded",\n      SESSION_EXPIRED: "code-expired",\n      REJECTED_CREDENTIAL: "rejected-credential",\n      INVALID_CONTINUE_URI: "invalid-continue-uri",\n      MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name",\n      MISSING_IOS_BUNDLE_ID: "missing-ios-bundle-id",\n      UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri",\n      INVALID_DYNAMIC_LINK_DOMAIN: "invalid-dynamic-link-domain",\n      INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id",\n      INVALID_CERT_HASH: "invalid-cert-hash",\n      UNSUPPORTED_TENANT_OPERATION: "unsupported-tenant-operation",\n      INVALID_TENANT_ID: "invalid-tenant-id",\n      TENANT_ID_MISMATCH: "tenant-id-mismatch",\n      ADMIN_ONLY_OPERATION: "admin-restricted-operation",\n      INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session",\n      MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found",\n      MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session",\n      MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info",\n      EMAIL_CHANGE_NEEDS_VERIFICATION: "email-change-needs-verification",\n      SECOND_FACTOR_EXISTS: "second-factor-already-in-use",\n      SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded",\n      UNSUPPORTED_FIRST_FACTOR: "unsupported-first-factor",\n      UNVERIFIED_EMAIL: "unverified-email"\n    };\n    z(d, b || {});\n    b = (b = c.match(/^[^\\s]+\\s*:\\s*([\\s\\S]*)$/)) && 1 < b.length ? b[1] : void 0;\n\n    for (var e in d) {\n      if (0 === c.indexOf(e)) return new t(d[e], b);\n    }\n\n    !b && a && (b = Ue(a));\n    return new t("internal-error", b);\n  }\n\n  ;\n\n  function Nj(a) {\n    this.b = a;\n    this.a = null;\n    this.qb = Oj(this);\n  }\n\n  function Oj(a) {\n    return Pj().then(function () {\n      return new D(function (b, c) {\n        L("gapi.iframes.getContext")().open({\n          where: document.body,\n          url: a.b,\n          messageHandlersFilter: L("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),\n          attributes: {\n            style: {\n              position: "absolute",\n              top: "-100px",\n              width: "1px",\n              height: "1px"\n            }\n          },\n          dontclear: !0\n        }, function (d) {\n          function e() {\n            clearTimeout(f);\n            b();\n          }\n\n          a.a = d;\n          a.a.restyle({\n            setHideOnLeave: !1\n          });\n          var f = setTimeout(function () {\n            c(Error("Network Error"));\n          }, Qj.get());\n          d.ping(e).then(e, function () {\n            c(Error("Network Error"));\n          });\n        });\n      });\n    });\n  }\n\n  function Rj(a, b) {\n    return a.qb.then(function () {\n      return new D(function (c) {\n        a.a.send(b.type, b, c, L("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"));\n      });\n    });\n  }\n\n  function Sj(a, b) {\n    a.qb.then(function () {\n      a.a.register("authEvent", b, L("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"));\n    });\n  }\n\n  var Tj = new qb(rb, "https://apis.google.com/js/api.js?onload=%{onload}"),\n      Uj = new Ze(3E4, 6E4),\n      Qj = new Ze(5E3, 15E3),\n      Vj = null;\n\n  function Pj() {\n    return Vj ? Vj : Vj = new D(function (a, b) {\n      function c() {\n        Ye();\n        L("gapi.load")("gapi.iframes", {\n          callback: a,\n          ontimeout: function ontimeout() {\n            Ye();\n            b(Error("Network Error"));\n          },\n          timeout: Uj.get()\n        });\n      }\n\n      if (L("gapi.iframes.Iframe")) a();else if (L("gapi.load")) c();else {\n        var d = "__iframefcb" + Math.floor(1E6 * Math.random()).toString();\n\n        l[d] = function () {\n          L("gapi.load") ? c() : b(Error("Network Error"));\n        };\n\n        d = zb(Tj, {\n          onload: d\n        });\n        E(Ci(d)).s(function () {\n          b(Error("Network Error"));\n        });\n      }\n    }).s(function (a) {\n      Vj = null;\n      throw a;\n    });\n  }\n\n  ;\n\n  function Wj(a, b, c, d) {\n    this.l = a;\n    this.h = b;\n    this.i = c;\n    this.g = d;\n    this.f = null;\n    this.g ? (a = be(this.g.url), a = ce(a.f, a.a, a.g, "/emulator/auth/iframe")) : a = ce("https", this.l, null, "/__/auth/iframe");\n    this.a = a;\n    J(this.a, "apiKey", this.h);\n    J(this.a, "appName", this.i);\n    this.b = null;\n    this.c = [];\n  }\n\n  Wj.prototype.toString = function () {\n    this.f ? J(this.a, "v", this.f) : ie(this.a.b, "v");\n    this.b ? J(this.a, "eid", this.b) : ie(this.a.b, "eid");\n    this.c.length ? J(this.a, "fw", this.c.join(",")) : ie(this.a.b, "fw");\n    return this.a.toString();\n  };\n\n  function Xj(a, b, c, d, e, f) {\n    this.u = a;\n    this.o = b;\n    this.c = c;\n    this.v = d;\n    this.m = f;\n    this.i = this.g = this.l = null;\n    this.a = e;\n    this.h = this.f = null;\n  }\n\n  Xj.prototype.xb = function (a) {\n    this.h = a;\n    return this;\n  };\n\n  Xj.prototype.toString = function () {\n    if (this.m) {\n      var a = be(this.m.url);\n      a = ce(a.f, a.a, a.g, "/emulator/auth/handler");\n    } else a = ce("https", this.u, null, "/__/auth/handler");\n\n    J(a, "apiKey", this.o);\n    J(a, "appName", this.c);\n    J(a, "authType", this.v);\n\n    if (this.a.isOAuthProvider) {\n      var b = this.a;\n\n      try {\n        var c = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].app(this.c).auth().ka();\n      } catch (h) {\n        c = null;\n      }\n\n      b.nb = c;\n      J(a, "providerId", this.a.providerId);\n      c = this.a;\n      b = Ve(c.Hb);\n\n      for (var d in b) {\n        b[d] = b[d].toString();\n      }\n\n      d = c.Pc;\n      b = nb(b);\n\n      for (var e = 0; e < d.length; e++) {\n        var f = d[e];\n        f in b && delete b[f];\n      }\n\n      c.ob && c.nb && !b[c.ob] && (b[c.ob] = c.nb);\n      mb(b) || J(a, "customParameters", Ue(b));\n    }\n\n    "function" === typeof this.a.Pb && (c = this.a.Pb(), c.length && J(a, "scopes", c.join(",")));\n    this.l ? J(a, "redirectUrl", this.l) : ie(a.b, "redirectUrl");\n    this.g ? J(a, "eventId", this.g) : ie(a.b, "eventId");\n    this.i ? J(a, "v", this.i) : ie(a.b, "v");\n    if (this.b) for (var g in this.b) {\n      this.b.hasOwnProperty(g) && !ae(a, g) && J(a, g, this.b[g]);\n    }\n    this.h ? J(a, "tid", this.h) : ie(a.b, "tid");\n    this.f ? J(a, "eid", this.f) : ie(a.b, "eid");\n    g = Yj(this.c);\n    g.length && J(a, "fw", g.join(","));\n    return a.toString();\n  };\n\n  function Yj(a) {\n    try {\n      return _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].app(a).auth().Ga();\n    } catch (b) {\n      return [];\n    }\n  }\n\n  function Zj(a, b, c, d, e, f) {\n    this.o = a;\n    this.g = b;\n    this.b = c;\n    this.f = f;\n    this.c = d || null;\n    this.i = e || null;\n    this.l = this.u = this.A = null;\n    this.h = [];\n    this.v = this.a = null;\n  }\n\n  function ak(a) {\n    var b = re();\n    return dj(a).then(function (c) {\n      a: {\n        var d = be(b),\n            e = d.f;\n        d = d.a;\n\n        for (var f = 0; f < c.length; f++) {\n          var g = c[f];\n          var h = d;\n          var n = e;\n          0 == g.indexOf("chrome-extension://") ? h = be(g).a == h && "chrome-extension" == n : "http" != n && "https" != n ? h = !1 : Ce.test(g) ? h = h == g : (g = g.split(".").join("\\\\."), h = new RegExp("^(.+\\\\." + g + "|" + g + ")$", "i").test(h));\n\n          if (h) {\n            c = !0;\n            break a;\n          }\n        }\n\n        c = !1;\n      }\n\n      if (!c) throw new yh(re());\n    });\n  }\n\n  function bk(a) {\n    if (a.v) return a.v;\n    a.v = Ee().then(function () {\n      if (!a.u) {\n        var b = a.c,\n            c = a.i,\n            d = Yj(a.b),\n            e = new Wj(a.o, a.g, a.b, a.f);\n        e.f = b;\n        e.b = c;\n        e.c = Za(d || []);\n        a.u = e.toString();\n      }\n\n      a.m = new Nj(a.u);\n      ck(a);\n    });\n    return a.v;\n  }\n\n  k = Zj.prototype;\n\n  k.Nb = function (a, b, c) {\n    var d = new t("popup-closed-by-user"),\n        e = new t("web-storage-unsupported"),\n        f = this,\n        g = !1;\n    return this.la().then(function () {\n      dk(f).then(function (h) {\n        h || (a && ye(a), b(e), g = !0);\n      });\n    }).s(function () {}).then(function () {\n      if (!g) return Be(a);\n    }).then(function () {\n      if (!g) return Ed(c).then(function () {\n        b(d);\n      });\n    });\n  };\n\n  k.Wb = function () {\n    var a = K();\n    return !Te(a) && !Xe(a);\n  };\n\n  k.Sb = function () {\n    return !1;\n  };\n\n  k.Lb = function (a, b, c, d, e, f, g, h) {\n    if (!a) return F(new t("popup-blocked"));\n    if (g && !Te()) return this.la().s(function (p) {\n      ye(a);\n      e(p);\n    }), d(), E();\n    this.a || (this.a = ak(ek(this)));\n    var n = this;\n    return this.a.then(function () {\n      var p = n.la().s(function (v) {\n        ye(a);\n        e(v);\n        throw v;\n      });\n      d();\n      return p;\n    }).then(function () {\n      sh(c);\n\n      if (!g) {\n        var p = fk(n.o, n.g, n.b, b, c, null, f, n.c, void 0, n.i, h, n.f);\n        se(p, a);\n      }\n    }).s(function (p) {\n      "auth/network-request-failed" == p.code && (n.a = null);\n      throw p;\n    });\n  };\n\n  function ek(a) {\n    a.l || (a.A = a.c ? Oe(a.c, Yj(a.b)) : null, a.l = new Ji(a.g, Ca(a.i), a.A), a.f && Qi(a.l, a.f));\n    return a.l;\n  }\n\n  k.Mb = function (a, b, c, d) {\n    this.a || (this.a = ak(ek(this)));\n    var e = this;\n    return this.a.then(function () {\n      sh(b);\n      var f = fk(e.o, e.g, e.b, a, b, re(), c, e.c, void 0, e.i, d, e.f);\n      se(f);\n    }).s(function (f) {\n      "auth/network-request-failed" == f.code && (e.a = null);\n      throw f;\n    });\n  };\n\n  k.la = function () {\n    var a = this;\n    return bk(this).then(function () {\n      return a.m.qb;\n    }).s(function () {\n      a.a = null;\n      throw new t("network-request-failed");\n    });\n  };\n\n  k.Zb = function () {\n    return !0;\n  };\n\n  function fk(a, b, c, d, e, f, g, h, n, p, v, B) {\n    a = new Xj(a, b, c, d, e, B);\n    a.l = f;\n    a.g = g;\n    a.i = h;\n    a.b = nb(n || null);\n    a.f = p;\n    return a.xb(v).toString();\n  }\n\n  function ck(a) {\n    if (!a.m) throw Error("IfcHandler must be initialized!");\n    Sj(a.m, function (b) {\n      var c = {};\n\n      if (b && b.authEvent) {\n        var d = !1;\n        b = uh(b.authEvent);\n\n        for (c = 0; c < a.h.length; c++) {\n          d = a.h[c](b) || d;\n        }\n\n        c = {};\n        c.status = d ? "ACK" : "ERROR";\n        return E(c);\n      }\n\n      c.status = "ERROR";\n      return E(c);\n    });\n  }\n\n  function dk(a) {\n    var b = {\n      type: "webStorageSupport"\n    };\n    return bk(a).then(function () {\n      return Rj(a.m, b);\n    }).then(function (c) {\n      if (c && c.length && "undefined" !== typeof c[0].webStorageSupport) return c[0].webStorageSupport;\n      throw Error();\n    });\n  }\n\n  k.Ea = function (a) {\n    this.h.push(a);\n  };\n\n  k.Ra = function (a) {\n    Xa(this.h, function (b) {\n      return b == a;\n    });\n  };\n\n  function gk(a) {\n    this.a = a || _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.reactNative && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.reactNative.AsyncStorage;\n    if (!this.a) throw new t("internal-error", "The React Native compatibility library was not found.");\n    this.type = "asyncStorage";\n  }\n\n  k = gk.prototype;\n\n  k.get = function (a) {\n    return E(this.a.getItem(a)).then(function (b) {\n      return b && We(b);\n    });\n  };\n\n  k.set = function (a, b) {\n    return E(this.a.setItem(a, Ue(b)));\n  };\n\n  k.T = function (a) {\n    return E(this.a.removeItem(a));\n  };\n\n  k.ca = function () {};\n\n  k.ia = function () {};\n\n  function hk(a) {\n    this.b = a;\n    this.a = {};\n    this.f = q(this.c, this);\n  }\n\n  var ik = [];\n\n  function jk() {\n    var a = Je() ? self : null;\n    w(ik, function (c) {\n      c.b == a && (b = c);\n    });\n\n    if (!b) {\n      var b = new hk(a);\n      ik.push(b);\n    }\n\n    return b;\n  }\n\n  hk.prototype.c = function (a) {\n    var b = a.data.eventType,\n        c = a.data.eventId,\n        d = this.a[b];\n\n    if (d && 0 < d.length) {\n      a.ports[0].postMessage({\n        status: "ack",\n        eventId: c,\n        eventType: b,\n        response: null\n      });\n      var e = [];\n      w(d, function (f) {\n        e.push(E().then(function () {\n          return f(a.origin, a.data.data);\n        }));\n      });\n      Jc(e).then(function (f) {\n        var g = [];\n        w(f, function (h) {\n          g.push({\n            fulfilled: h.Ob,\n            value: h.value,\n            reason: h.reason ? h.reason.message : void 0\n          });\n        });\n        w(g, function (h) {\n          for (var n in h) {\n            "undefined" === typeof h[n] && delete h[n];\n          }\n        });\n        a.ports[0].postMessage({\n          status: "done",\n          eventId: c,\n          eventType: b,\n          response: g\n        });\n      });\n    }\n  };\n\n  function kk(a, b, c) {\n    mb(a.a) && a.b.addEventListener("message", a.f);\n    "undefined" === typeof a.a[b] && (a.a[b] = []);\n    a.a[b].push(c);\n  }\n\n  ;\n\n  function lk(a) {\n    this.a = a;\n  }\n\n  lk.prototype.postMessage = function (a, b) {\n    this.a.postMessage(a, b);\n  };\n\n  function mk(a) {\n    this.c = a;\n    this.b = !1;\n    this.a = [];\n  }\n\n  function nk(a, b, c, d) {\n    var e,\n        f = c || {},\n        g,\n        h,\n        n,\n        p = null;\n    if (a.b) return F(Error("connection_unavailable"));\n    var v = d ? 800 : 50,\n        B = "undefined" !== typeof MessageChannel ? new MessageChannel() : null;\n    return new D(function (A, Q) {\n      B ? (e = Math.floor(Math.random() * Math.pow(10, 20)).toString(), B.port1.start(), h = setTimeout(function () {\n        Q(Error("unsupported_event"));\n      }, v), g = function g(xa) {\n        xa.data.eventId === e && ("ack" === xa.data.status ? (clearTimeout(h), n = setTimeout(function () {\n          Q(Error("timeout"));\n        }, 3E3)) : "done" === xa.data.status ? (clearTimeout(n), "undefined" !== typeof xa.data.response ? A(xa.data.response) : Q(Error("unknown_error"))) : (clearTimeout(h), clearTimeout(n), Q(Error("invalid_response"))));\n      }, p = {\n        messageChannel: B,\n        onMessage: g\n      }, a.a.push(p), B.port1.addEventListener("message", g), a.c.postMessage({\n        eventType: b,\n        eventId: e,\n        data: f\n      }, [B.port2])) : Q(Error("connection_unavailable"));\n    }).then(function (A) {\n      ok(a, p);\n      return A;\n    }).s(function (A) {\n      ok(a, p);\n      throw A;\n    });\n  }\n\n  function ok(a, b) {\n    if (b) {\n      var c = b.messageChannel,\n          d = b.onMessage;\n      c && (c.port1.removeEventListener("message", d), c.port1.close());\n      Xa(a.a, function (e) {\n        return e == b;\n      });\n    }\n  }\n\n  mk.prototype.close = function () {\n    for (; 0 < this.a.length;) {\n      ok(this, this.a[0]);\n    }\n\n    this.b = !0;\n  };\n\n  function pk() {\n    if (!qk()) throw new t("web-storage-unsupported");\n    this.c = {};\n    this.a = [];\n    this.b = 0;\n    this.v = l.indexedDB;\n    this.type = "indexedDB";\n    this.g = this.m = this.f = this.l = null;\n    this.o = !1;\n    this.h = null;\n    var a = this;\n    Je() && self ? (this.m = jk(), kk(this.m, "keyChanged", function (b, c) {\n      return rk(a).then(function (d) {\n        0 < d.length && w(a.a, function (e) {\n          e(d);\n        });\n        return {\n          keyProcessed: Va(d, c.key)\n        };\n      });\n    }), kk(this.m, "ping", function () {\n      return E(["keyChanged"]);\n    })) : ff().then(function (b) {\n      if (a.h = b) a.g = new mk(new lk(b)), nk(a.g, "ping", null, !0).then(function (c) {\n        c[0].fulfilled && Va(c[0].value, "keyChanged") && (a.o = !0);\n      }).s(function () {});\n    });\n  }\n\n  var sk;\n\n  function tk(a) {\n    return new D(function (b, c) {\n      var d = a.v.deleteDatabase("firebaseLocalStorageDb");\n\n      d.onsuccess = function () {\n        b();\n      };\n\n      d.onerror = function (e) {\n        c(Error(e.target.error));\n      };\n    });\n  }\n\n  function uk(a) {\n    return new D(function (b, c) {\n      var d = a.v.open("firebaseLocalStorageDb", 1);\n\n      d.onerror = function (e) {\n        try {\n          e.preventDefault();\n        } catch (f) {}\n\n        c(Error(e.target.error));\n      };\n\n      d.onupgradeneeded = function (e) {\n        e = e.target.result;\n\n        try {\n          e.createObjectStore("firebaseLocalStorage", {\n            keyPath: "fbase_key"\n          });\n        } catch (f) {\n          c(f);\n        }\n      };\n\n      d.onsuccess = function (e) {\n        e = e.target.result;\n        e.objectStoreNames.contains("firebaseLocalStorage") ? b(e) : tk(a).then(function () {\n          return uk(a);\n        }).then(function (f) {\n          b(f);\n        }).s(function (f) {\n          c(f);\n        });\n      };\n    });\n  }\n\n  function vk(a) {\n    a.i || (a.i = uk(a));\n    return a.i;\n  }\n\n  function wk(a, b) {\n    function c(e, f) {\n      vk(a).then(b).then(e).s(function (g) {\n        if (3 < ++d) f(g);else return vk(a).then(function (h) {\n          h.close();\n          a.i = void 0;\n          return c(e, f);\n        });\n      });\n    }\n\n    var d = 0;\n    return new D(c);\n  }\n\n  function qk() {\n    try {\n      return !!l.indexedDB;\n    } catch (a) {\n      return !1;\n    }\n  }\n\n  function xk(a) {\n    return a.objectStore("firebaseLocalStorage");\n  }\n\n  function yk(a, b) {\n    return a.transaction(["firebaseLocalStorage"], b ? "readwrite" : "readonly");\n  }\n\n  function zk(a) {\n    return new D(function (b, c) {\n      a.onsuccess = function (d) {\n        d && d.target ? b(d.target.result) : b();\n      };\n\n      a.onerror = function (d) {\n        c(d.target.error);\n      };\n    });\n  }\n\n  k = pk.prototype;\n\n  k.set = function (a, b) {\n    var c = this,\n        d = !1;\n    return wk(this, function (e) {\n      e = xk(yk(e, !0));\n      return zk(e.get(a));\n    }).then(function (e) {\n      return wk(c, function (f) {\n        f = xk(yk(f, !0));\n        if (e) return e.value = b, zk(f.put(e));\n        c.b++;\n        d = !0;\n        var g = {};\n        g.fbase_key = a;\n        g.value = b;\n        return zk(f.add(g));\n      });\n    }).then(function () {\n      c.c[a] = b;\n      return Ak(c, a);\n    }).na(function () {\n      d && c.b--;\n    });\n  };\n\n  function Ak(a, b) {\n    return a.g && a.h && ef() === a.h ? nk(a.g, "keyChanged", {\n      key: b\n    }, a.o).then(function () {}).s(function () {}) : E();\n  }\n\n  k.get = function (a) {\n    return wk(this, function (b) {\n      return zk(xk(yk(b, !1)).get(a));\n    }).then(function (b) {\n      return b && b.value;\n    });\n  };\n\n  k.T = function (a) {\n    var b = this,\n        c = !1;\n    return wk(this, function (d) {\n      c = !0;\n      b.b++;\n      return zk(xk(yk(d, !0))["delete"](a));\n    }).then(function () {\n      delete b.c[a];\n      return Ak(b, a);\n    }).na(function () {\n      c && b.b--;\n    });\n  };\n\n  function rk(a) {\n    return vk(a).then(function (b) {\n      var c = xk(yk(b, !1));\n      return c.getAll ? zk(c.getAll()) : new D(function (d, e) {\n        var f = [],\n            g = c.openCursor();\n\n        g.onsuccess = function (h) {\n          (h = h.target.result) ? (f.push(h.value), h["continue"]()) : d(f);\n        };\n\n        g.onerror = function (h) {\n          e(h.target.error);\n        };\n      });\n    }).then(function (b) {\n      var c = {},\n          d = [];\n\n      if (0 == a.b) {\n        for (d = 0; d < b.length; d++) {\n          c[b[d].fbase_key] = b[d].value;\n        }\n\n        d = te(a.c, c);\n        a.c = c;\n      }\n\n      return d;\n    });\n  }\n\n  k.ca = function (a) {\n    0 == this.a.length && Bk(this);\n    this.a.push(a);\n  };\n\n  k.ia = function (a) {\n    Xa(this.a, function (b) {\n      return b == a;\n    });\n    0 == this.a.length && Ck(this);\n  };\n\n  function Bk(a) {\n    function b() {\n      a.f = setTimeout(function () {\n        a.l = rk(a).then(function (c) {\n          0 < c.length && w(a.a, function (d) {\n            d(c);\n          });\n        }).then(function () {\n          b();\n        }).s(function (c) {\n          "STOP_EVENT" != c.message && b();\n        });\n      }, 800);\n    }\n\n    Ck(a);\n    b();\n  }\n\n  function Ck(a) {\n    a.l && a.l.cancel("STOP_EVENT");\n    a.f && (clearTimeout(a.f), a.f = null);\n  }\n\n  ;\n\n  function Dk(a) {\n    var b = this,\n        c = null;\n    this.a = [];\n    this.type = "indexedDB";\n    this.c = a;\n    this.b = E().then(function () {\n      if (qk()) {\n        var d = Qe(),\n            e = "__sak" + d;\n        sk || (sk = new pk());\n        c = sk;\n        return c.set(e, d).then(function () {\n          return c.get(e);\n        }).then(function (f) {\n          if (f !== d) throw Error("indexedDB not supported!");\n          return c.T(e);\n        }).then(function () {\n          return c;\n        }).s(function () {\n          return b.c;\n        });\n      }\n\n      return b.c;\n    }).then(function (d) {\n      b.type = d.type;\n      d.ca(function (e) {\n        w(b.a, function (f) {\n          f(e);\n        });\n      });\n      return d;\n    });\n  }\n\n  k = Dk.prototype;\n\n  k.get = function (a) {\n    return this.b.then(function (b) {\n      return b.get(a);\n    });\n  };\n\n  k.set = function (a, b) {\n    return this.b.then(function (c) {\n      return c.set(a, b);\n    });\n  };\n\n  k.T = function (a) {\n    return this.b.then(function (b) {\n      return b.T(a);\n    });\n  };\n\n  k.ca = function (a) {\n    this.a.push(a);\n  };\n\n  k.ia = function (a) {\n    Xa(this.a, function (b) {\n      return b == a;\n    });\n  };\n\n  function Ek() {\n    this.a = {};\n    this.type = "inMemory";\n  }\n\n  k = Ek.prototype;\n\n  k.get = function (a) {\n    return E(this.a[a]);\n  };\n\n  k.set = function (a, b) {\n    this.a[a] = b;\n    return E();\n  };\n\n  k.T = function (a) {\n    delete this.a[a];\n    return E();\n  };\n\n  k.ca = function () {};\n\n  k.ia = function () {};\n\n  function Fk() {\n    if (!Gk()) {\n      if ("Node" == Ke()) throw new t("internal-error", "The LocalStorage compatibility library was not found.");\n      throw new t("web-storage-unsupported");\n    }\n\n    this.a = Hk() || _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node.localStorage;\n    this.type = "localStorage";\n  }\n\n  function Hk() {\n    try {\n      var a = l.localStorage,\n          b = Qe();\n      a && (a.setItem(b, "1"), a.removeItem(b));\n      return a;\n    } catch (c) {\n      return null;\n    }\n  }\n\n  function Gk() {\n    var a = "Node" == Ke();\n    a = Hk() || a && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node.localStorage;\n    if (!a) return !1;\n\n    try {\n      return a.setItem("__sak", "1"), a.removeItem("__sak"), !0;\n    } catch (b) {\n      return !1;\n    }\n  }\n\n  k = Fk.prototype;\n\n  k.get = function (a) {\n    var b = this;\n    return E().then(function () {\n      var c = b.a.getItem(a);\n      return We(c);\n    });\n  };\n\n  k.set = function (a, b) {\n    var c = this;\n    return E().then(function () {\n      var d = Ue(b);\n      null === d ? c.T(a) : c.a.setItem(a, d);\n    });\n  };\n\n  k.T = function (a) {\n    var b = this;\n    return E().then(function () {\n      b.a.removeItem(a);\n    });\n  };\n\n  k.ca = function (a) {\n    l.window && nd(l.window, "storage", a);\n  };\n\n  k.ia = function (a) {\n    l.window && H(l.window, "storage", a);\n  };\n\n  function Ik() {\n    this.type = "nullStorage";\n  }\n\n  k = Ik.prototype;\n\n  k.get = function () {\n    return E(null);\n  };\n\n  k.set = function () {\n    return E();\n  };\n\n  k.T = function () {\n    return E();\n  };\n\n  k.ca = function () {};\n\n  k.ia = function () {};\n\n  function Jk() {\n    if (!Kk()) {\n      if ("Node" == Ke()) throw new t("internal-error", "The SessionStorage compatibility library was not found.");\n      throw new t("web-storage-unsupported");\n    }\n\n    this.a = Lk() || _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node.sessionStorage;\n    this.type = "sessionStorage";\n  }\n\n  function Lk() {\n    try {\n      var a = l.sessionStorage,\n          b = Qe();\n      a && (a.setItem(b, "1"), a.removeItem(b));\n      return a;\n    } catch (c) {\n      return null;\n    }\n  }\n\n  function Kk() {\n    var a = "Node" == Ke();\n    a = Lk() || a && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.node.sessionStorage;\n    if (!a) return !1;\n\n    try {\n      return a.setItem("__sak", "1"), a.removeItem("__sak"), !0;\n    } catch (b) {\n      return !1;\n    }\n  }\n\n  k = Jk.prototype;\n\n  k.get = function (a) {\n    var b = this;\n    return E().then(function () {\n      var c = b.a.getItem(a);\n      return We(c);\n    });\n  };\n\n  k.set = function (a, b) {\n    var c = this;\n    return E().then(function () {\n      var d = Ue(b);\n      null === d ? c.T(a) : c.a.setItem(a, d);\n    });\n  };\n\n  k.T = function (a) {\n    var b = this;\n    return E().then(function () {\n      b.a.removeItem(a);\n    });\n  };\n\n  k.ca = function () {};\n\n  k.ia = function () {};\n\n  function Mk() {\n    var a = {};\n    a.Browser = Nk;\n    a.Node = Ok;\n    a.ReactNative = Pk;\n    a.Worker = Qk;\n    this.a = a[Ke()];\n  }\n\n  var Rk,\n      Nk = {\n    D: Fk,\n    ab: Jk\n  },\n      Ok = {\n    D: Fk,\n    ab: Jk\n  },\n      Pk = {\n    D: gk,\n    ab: Ik\n  },\n      Qk = {\n    D: Fk,\n    ab: Ik\n  };\n  var Sk = {\n    qd: "local",\n    NONE: "none",\n    sd: "session"\n  };\n\n  function Tk(a) {\n    var b = new t("invalid-persistence-type"),\n        c = new t("unsupported-persistence-type");\n\n    a: {\n      for (d in Sk) {\n        if (Sk[d] == a) {\n          var d = !0;\n          break a;\n        }\n      }\n\n      d = !1;\n    }\n\n    if (!d || "string" !== typeof a) throw b;\n\n    switch (Ke()) {\n      case "ReactNative":\n        if ("session" === a) throw c;\n        break;\n\n      case "Node":\n        if ("none" !== a) throw c;\n        break;\n\n      case "Worker":\n        if ("session" === a || !qk() && "none" !== a) throw c;\n        break;\n\n      default:\n        if (!Pe() && "none" !== a) throw c;\n    }\n  }\n\n  function Uk() {\n    var a = !Xe(K()) && Ie() ? !0 : !1,\n        b = Te(),\n        c = Pe();\n    this.v = a;\n    this.h = b;\n    this.l = c;\n    this.a = {};\n    Rk || (Rk = new Mk());\n    a = Rk;\n\n    try {\n      this.g = !qe() && df() || !l.indexedDB ? new a.a.D() : new Dk(Je() ? new Ek() : new a.a.D());\n    } catch (d) {\n      this.g = new Ek(), this.h = !0;\n    }\n\n    try {\n      this.i = new a.a.ab();\n    } catch (d) {\n      this.i = new Ek();\n    }\n\n    this.m = new Ek();\n    this.f = q(this.Xb, this);\n    this.b = {};\n  }\n\n  var Vk;\n\n  function Wk() {\n    Vk || (Vk = new Uk());\n    return Vk;\n  }\n\n  function Xk(a, b) {\n    switch (b) {\n      case "session":\n        return a.i;\n\n      case "none":\n        return a.m;\n\n      default:\n        return a.g;\n    }\n  }\n\n  function Yk(a, b) {\n    return "firebase:" + a.name + (b ? ":" + b : "");\n  }\n\n  function Zk(a, b, c) {\n    var d = Yk(b, c),\n        e = Xk(a, b.D);\n    return a.get(b, c).then(function (f) {\n      var g = null;\n\n      try {\n        g = We(l.localStorage.getItem(d));\n      } catch (h) {}\n\n      if (g && !f) return l.localStorage.removeItem(d), a.set(b, g, c);\n      g && f && "localStorage" != e.type && l.localStorage.removeItem(d);\n    });\n  }\n\n  k = Uk.prototype;\n\n  k.get = function (a, b) {\n    return Xk(this, a.D).get(Yk(a, b));\n  };\n\n  function $k(a, b, c) {\n    c = Yk(b, c);\n    "local" == b.D && (a.b[c] = null);\n    return Xk(a, b.D).T(c);\n  }\n\n  k.set = function (a, b, c) {\n    var d = Yk(a, c),\n        e = this,\n        f = Xk(this, a.D);\n    return f.set(d, b).then(function () {\n      return f.get(d);\n    }).then(function (g) {\n      "local" == a.D && (e.b[d] = g);\n    });\n  };\n\n  k.addListener = function (a, b, c) {\n    a = Yk(a, b);\n    this.l && (this.b[a] = l.localStorage.getItem(a));\n    mb(this.a) && (Xk(this, "local").ca(this.f), this.h || (qe() || !df()) && l.indexedDB || !this.l || al(this));\n    this.a[a] || (this.a[a] = []);\n    this.a[a].push(c);\n  };\n\n  k.removeListener = function (a, b, c) {\n    a = Yk(a, b);\n    this.a[a] && (Xa(this.a[a], function (d) {\n      return d == c;\n    }), 0 == this.a[a].length && delete this.a[a]);\n    mb(this.a) && (Xk(this, "local").ia(this.f), bl(this));\n  };\n\n  function al(a) {\n    bl(a);\n    a.c = setInterval(function () {\n      for (var b in a.a) {\n        var c = l.localStorage.getItem(b),\n            d = a.b[b];\n        c != d && (a.b[b] = c, c = new bd({\n          type: "storage",\n          key: b,\n          target: window,\n          oldValue: d,\n          newValue: c,\n          a: !0\n        }), a.Xb(c));\n      }\n    }, 1E3);\n  }\n\n  function bl(a) {\n    a.c && (clearInterval(a.c), a.c = null);\n  }\n\n  k.Xb = function (a) {\n    if (a && a.g) {\n      var b = a.a.key;\n      if (null == b) for (var c in this.a) {\n        var d = this.b[c];\n        "undefined" === typeof d && (d = null);\n        var e = l.localStorage.getItem(c);\n        e !== d && (this.b[c] = e, this.lb(c));\n      } else if (0 == b.indexOf("firebase:") && this.a[b]) {\n        "undefined" !== typeof a.a.a ? Xk(this, "local").ia(this.f) : bl(this);\n        if (this.v) if (c = l.localStorage.getItem(b), d = a.a.newValue, d !== c) null !== d ? l.localStorage.setItem(b, d) : l.localStorage.removeItem(b);else if (this.b[b] === d && "undefined" === typeof a.a.a) return;\n        var f = this;\n\n        c = function c() {\n          if ("undefined" !== typeof a.a.a || f.b[b] !== l.localStorage.getItem(b)) f.b[b] = l.localStorage.getItem(b), f.lb(b);\n        };\n\n        Wb && ic && 10 == ic && l.localStorage.getItem(b) !== a.a.newValue && a.a.newValue !== a.a.oldValue ? setTimeout(c, 10) : c();\n      }\n    } else w(a, q(this.lb, this));\n  };\n\n  k.lb = function (a) {\n    this.a[a] && w(this.a[a], function (b) {\n      b();\n    });\n  };\n\n  function cl(a) {\n    this.a = a;\n    this.b = Wk();\n  }\n\n  var dl = {\n    name: "authEvent",\n    D: "local"\n  };\n\n  function el(a) {\n    return a.b.get(dl, a.a).then(function (b) {\n      return uh(b);\n    });\n  }\n\n  ;\n\n  function fl() {\n    this.a = Wk();\n  }\n\n  ;\n\n  function gl() {\n    this.b = -1;\n  }\n\n  ;\n\n  function hl(a, b) {\n    this.b = il;\n    this.f = l.Uint8Array ? new Uint8Array(this.b) : Array(this.b);\n    this.g = this.c = 0;\n    this.a = [];\n    this.i = a;\n    this.h = b;\n    this.l = l.Int32Array ? new Int32Array(64) : Array(64);\n    void 0 === jl && (l.Int32Array ? jl = new Int32Array(kl) : jl = kl);\n    this.reset();\n  }\n\n  var jl;\n  r(hl, gl);\n\n  for (var il = 64, ll = il - 1, ml = [], nl = 0; nl < ll; nl++) {\n    ml[nl] = 0;\n  }\n\n  var ol = Ya(128, ml);\n\n  hl.prototype.reset = function () {\n    this.g = this.c = 0;\n    this.a = l.Int32Array ? new Int32Array(this.h) : Za(this.h);\n  };\n\n  function pl(a) {\n    for (var b = a.f, c = a.l, d = 0, e = 0; e < b.length;) {\n      c[d++] = b[e] << 24 | b[e + 1] << 16 | b[e + 2] << 8 | b[e + 3], e = 4 * d;\n    }\n\n    for (b = 16; 64 > b; b++) {\n      e = c[b - 15] | 0;\n      d = c[b - 2] | 0;\n      var f = (c[b - 16] | 0) + ((e >>> 7 | e << 25) ^ (e >>> 18 | e << 14) ^ e >>> 3) | 0,\n          g = (c[b - 7] | 0) + ((d >>> 17 | d << 15) ^ (d >>> 19 | d << 13) ^ d >>> 10) | 0;\n      c[b] = f + g | 0;\n    }\n\n    d = a.a[0] | 0;\n    e = a.a[1] | 0;\n    var h = a.a[2] | 0,\n        n = a.a[3] | 0,\n        p = a.a[4] | 0,\n        v = a.a[5] | 0,\n        B = a.a[6] | 0;\n    f = a.a[7] | 0;\n\n    for (b = 0; 64 > b; b++) {\n      var A = ((d >>> 2 | d << 30) ^ (d >>> 13 | d << 19) ^ (d >>> 22 | d << 10)) + (d & e ^ d & h ^ e & h) | 0;\n      g = p & v ^ ~p & B;\n      f = f + ((p >>> 6 | p << 26) ^ (p >>> 11 | p << 21) ^ (p >>> 25 | p << 7)) | 0;\n      g = g + (jl[b] | 0) | 0;\n      g = f + (g + (c[b] | 0) | 0) | 0;\n      f = B;\n      B = v;\n      v = p;\n      p = n + g | 0;\n      n = h;\n      h = e;\n      e = d;\n      d = g + A | 0;\n    }\n\n    a.a[0] = a.a[0] + d | 0;\n    a.a[1] = a.a[1] + e | 0;\n    a.a[2] = a.a[2] + h | 0;\n    a.a[3] = a.a[3] + n | 0;\n    a.a[4] = a.a[4] + p | 0;\n    a.a[5] = a.a[5] + v | 0;\n    a.a[6] = a.a[6] + B | 0;\n    a.a[7] = a.a[7] + f | 0;\n  }\n\n  function ql(a, b, c) {\n    void 0 === c && (c = b.length);\n    var d = 0,\n        e = a.c;\n    if ("string" === typeof b) for (; d < c;) {\n      a.f[e++] = b.charCodeAt(d++), e == a.b && (pl(a), e = 0);\n    } else if (na(b)) for (; d < c;) {\n      var f = b[d++];\n      if (!("number" == typeof f && 0 <= f && 255 >= f && f == (f | 0))) throw Error("message must be a byte array");\n      a.f[e++] = f;\n      e == a.b && (pl(a), e = 0);\n    } else throw Error("message must be string or array");\n    a.c = e;\n    a.g += c;\n  }\n\n  var kl = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];\n\n  function rl() {\n    hl.call(this, 8, sl);\n  }\n\n  r(rl, hl);\n  var sl = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];\n\n  function tl(a, b, c, d, e, f) {\n    this.m = a;\n    this.i = b;\n    this.l = c;\n    this.v = d || null;\n    this.u = e || null;\n    this.o = f;\n    this.h = b + ":" + c;\n    this.A = new fl();\n    this.g = new cl(this.h);\n    this.f = null;\n    this.b = [];\n    this.a = this.c = null;\n  }\n\n  function ul(a) {\n    return new t("invalid-cordova-configuration", a);\n  }\n\n  k = tl.prototype;\n\n  k.la = function () {\n    return this.Ia ? this.Ia : this.Ia = Fe().then(function () {\n      if ("function" !== typeof L("universalLinks.subscribe", l)) throw ul("cordova-universal-links-plugin-fix is not installed");\n      if ("undefined" === typeof L("BuildInfo.packageName", l)) throw ul("cordova-plugin-buildinfo is not installed");\n      if ("function" !== typeof L("cordova.plugins.browsertab.openUrl", l)) throw ul("cordova-plugin-browsertab is not installed");\n      if ("function" !== typeof L("cordova.InAppBrowser.open", l)) throw ul("cordova-plugin-inappbrowser is not installed");\n    }, function () {\n      throw new t("cordova-not-ready");\n    });\n  };\n\n  function vl() {\n    for (var a = 20, b = []; 0 < a;) {\n      b.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), a--;\n    }\n\n    return b.join("");\n  }\n\n  function wl(a) {\n    var b = new rl();\n    ql(b, a);\n    a = [];\n    var c = 8 * b.g;\n    56 > b.c ? ql(b, ol, 56 - b.c) : ql(b, ol, b.b - (b.c - 56));\n\n    for (var d = 63; 56 <= d; d--) {\n      b.f[d] = c & 255, c /= 256;\n    }\n\n    pl(b);\n\n    for (d = c = 0; d < b.i; d++) {\n      for (var e = 24; 0 <= e; e -= 8) {\n        a[c++] = b.a[d] >> e & 255;\n      }\n    }\n\n    return dg(a);\n  }\n\n  k.Nb = function (a, b) {\n    b(new t("operation-not-supported-in-this-environment"));\n    return E();\n  };\n\n  k.Lb = function () {\n    return F(new t("operation-not-supported-in-this-environment"));\n  };\n\n  k.Zb = function () {\n    return !1;\n  };\n\n  k.Wb = function () {\n    return !0;\n  };\n\n  k.Sb = function () {\n    return !0;\n  };\n\n  k.Mb = function (a, b, c, d) {\n    if (this.c) return F(new t("redirect-operation-pending"));\n    var e = this,\n        f = l.document,\n        g = null,\n        h = null,\n        n = null,\n        p = null;\n    return this.c = E().then(function () {\n      sh(b);\n      return xl(e);\n    }).then(function () {\n      return yl(e, a, b, c, d);\n    }).then(function () {\n      return new D(function (v, B) {\n        h = function h() {\n          var A = L("cordova.plugins.browsertab.close", l);\n          v();\n          "function" === typeof A && A();\n          e.a && "function" === typeof e.a.close && (e.a.close(), e.a = null);\n          return !1;\n        };\n\n        e.Ea(h);\n\n        n = function n() {\n          g || (g = Ed(2E3).then(function () {\n            B(new t("redirect-cancelled-by-user"));\n          }));\n        };\n\n        p = function p() {\n          $e() && n();\n        };\n\n        f.addEventListener("resume", n, !1);\n        K().toLowerCase().match(/android/) || f.addEventListener("visibilitychange", p, !1);\n      }).s(function (v) {\n        return zl(e).then(function () {\n          throw v;\n        });\n      });\n    }).na(function () {\n      n && f.removeEventListener("resume", n, !1);\n      p && f.removeEventListener("visibilitychange", p, !1);\n      g && g.cancel();\n      h && e.Ra(h);\n      e.c = null;\n    });\n  };\n\n  function yl(a, b, c, d, e) {\n    var f = vl(),\n        g = new th(b, d, null, f, new t("no-auth-event"), null, e),\n        h = L("BuildInfo.packageName", l);\n    if ("string" !== typeof h) throw new t("invalid-cordova-configuration");\n    var n = L("BuildInfo.displayName", l),\n        p = {};\n    if (K().toLowerCase().match(/iphone|ipad|ipod/)) p.ibi = h;else if (K().toLowerCase().match(/android/)) p.apn = h;else return F(new t("operation-not-supported-in-this-environment"));\n    n && (p.appDisplayName = n);\n    f = wl(f);\n    p.sessionId = f;\n    var v = fk(a.m, a.i, a.l, b, c, null, d, a.v, p, a.u, e, a.o);\n    return a.la().then(function () {\n      var B = a.h;\n      return a.A.a.set(dl, g.w(), B);\n    }).then(function () {\n      var B = L("cordova.plugins.browsertab.isAvailable", l);\n      if ("function" !== typeof B) throw new t("invalid-cordova-configuration");\n      var A = null;\n      B(function (Q) {\n        if (Q) {\n          A = L("cordova.plugins.browsertab.openUrl", l);\n          if ("function" !== typeof A) throw new t("invalid-cordova-configuration");\n          A(v);\n        } else {\n          A = L("cordova.InAppBrowser.open", l);\n          if ("function" !== typeof A) throw new t("invalid-cordova-configuration");\n          Q = K();\n          a.a = A(v, Q.match(/(iPad|iPhone|iPod).*OS 7_\\d/i) || Q.match(/(iPad|iPhone|iPod).*OS 8_\\d/i) ? "_blank" : "_system", "location=yes");\n        }\n      });\n    });\n  }\n\n  function Al(a, b) {\n    for (var c = 0; c < a.b.length; c++) {\n      try {\n        a.b[c](b);\n      } catch (d) {}\n    }\n  }\n\n  function xl(a) {\n    a.f || (a.f = a.la().then(function () {\n      return new D(function (b) {\n        function c(d) {\n          b(d);\n          a.Ra(c);\n          return !1;\n        }\n\n        a.Ea(c);\n        Bl(a);\n      });\n    }));\n    return a.f;\n  }\n\n  function zl(a) {\n    var b = null;\n    return el(a.g).then(function (c) {\n      b = c;\n      c = a.g;\n      return $k(c.b, dl, c.a);\n    }).then(function () {\n      return b;\n    });\n  }\n\n  function Bl(a) {\n    function b(g) {\n      d = !0;\n      e && e.cancel();\n      zl(a).then(function (h) {\n        var n = c;\n\n        if (h && g && g.url) {\n          var p = null;\n          n = yg(g.url);\n          -1 != n.indexOf("/__/auth/callback") && (p = be(n), p = We(ae(p, "firebaseError") || null), p = (p = "object" === typeof p ? Aa(p) : null) ? new th(h.c, h.b, null, null, p, null, h.S()) : new th(h.c, h.b, n, h.f, null, null, h.S()));\n          n = p || c;\n        }\n\n        Al(a, n);\n      });\n    }\n\n    var c = new th("unknown", null, null, null, new t("no-auth-event")),\n        d = !1,\n        e = Ed(500).then(function () {\n      return zl(a).then(function () {\n        d || Al(a, c);\n      });\n    }),\n        f = l.handleOpenURL;\n\n    l.handleOpenURL = function (g) {\n      0 == g.toLowerCase().indexOf(L("BuildInfo.packageName", l).toLowerCase() + "://") && b({\n        url: g\n      });\n      if ("function" === typeof f) try {\n        f(g);\n      } catch (h) {\n        console.error(h);\n      }\n    };\n\n    wh || (wh = new vh());\n    xh(b);\n  }\n\n  k.Ea = function (a) {\n    this.b.push(a);\n    xl(this).s(function (b) {\n      "auth/invalid-cordova-configuration" === b.code && (b = new th("unknown", null, null, null, new t("no-auth-event")), a(b));\n    });\n  };\n\n  k.Ra = function (a) {\n    Xa(this.b, function (b) {\n      return b == a;\n    });\n  };\n\n  function Cl(a) {\n    this.a = a;\n    this.b = Wk();\n  }\n\n  var Dl = {\n    name: "pendingRedirect",\n    D: "session"\n  };\n\n  function El(a) {\n    return a.b.set(Dl, "pending", a.a);\n  }\n\n  function Fl(a) {\n    return $k(a.b, Dl, a.a);\n  }\n\n  function Gl(a) {\n    return a.b.get(Dl, a.a).then(function (b) {\n      return "pending" == b;\n    });\n  }\n\n  ;\n\n  function Hl(a, b, c, d) {\n    this.i = {};\n    this.u = 0;\n    this.O = a;\n    this.m = b;\n    this.v = c;\n    this.G = d;\n    this.h = [];\n    this.f = !1;\n    this.l = q(this.o, this);\n    this.b = new Il();\n    this.A = new Jl();\n    this.g = new Cl(Kl(this.m, this.v));\n    this.c = {};\n    this.c.unknown = this.b;\n    this.c.signInViaRedirect = this.b;\n    this.c.linkViaRedirect = this.b;\n    this.c.reauthViaRedirect = this.b;\n    this.c.signInViaPopup = this.A;\n    this.c.linkViaPopup = this.A;\n    this.c.reauthViaPopup = this.A;\n    this.a = Ll(this.O, this.m, this.v, Da, this.G);\n  }\n\n  function Ll(a, b, c, d, e) {\n    var f = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION || null;\n    return Ge() ? new tl(a, b, c, f, d, e) : new Zj(a, b, c, f, d, e);\n  }\n\n  Hl.prototype.reset = function () {\n    this.f = !1;\n    this.a.Ra(this.l);\n    this.a = Ll(this.O, this.m, this.v, null, this.G);\n    this.i = {};\n  };\n\n  function Ml(a) {\n    a.f || (a.f = !0, a.a.Ea(a.l));\n    var b = a.a;\n    return a.a.la().s(function (c) {\n      a.a == b && a.reset();\n      throw c;\n    });\n  }\n\n  function Nl(a) {\n    a.a.Wb() && Ml(a).s(function (b) {\n      var c = new th("unknown", null, null, null, new t("operation-not-supported-in-this-environment"));\n      Ol(b) && a.o(c);\n    });\n    a.a.Sb() || Pl(a.b);\n  }\n\n  function Ql(a, b) {\n    Va(a.h, b) || a.h.push(b);\n    a.f || Gl(a.g).then(function (c) {\n      c ? Fl(a.g).then(function () {\n        Ml(a).s(function (d) {\n          var e = new th("unknown", null, null, null, new t("operation-not-supported-in-this-environment"));\n          Ol(d) && a.o(e);\n        });\n      }) : Nl(a);\n    }).s(function () {\n      Nl(a);\n    });\n  }\n\n  function Rl(a, b) {\n    Xa(a.h, function (c) {\n      return c == b;\n    });\n  }\n\n  Hl.prototype.o = function (a) {\n    if (!a) throw new t("invalid-auth-event");\n    6E5 <= va() - this.u && (this.i = {}, this.u = 0);\n    if (a && a.getUid() && this.i.hasOwnProperty(a.getUid())) return !1;\n\n    for (var b = !1, c = 0; c < this.h.length; c++) {\n      var d = this.h[c];\n\n      if (d.Eb(a.c, a.b)) {\n        if (b = this.c[a.c]) b.h(a, d), a && (a.f || a.b) && (this.i[a.getUid()] = !0, this.u = va());\n        b = !0;\n        break;\n      }\n    }\n\n    Pl(this.b);\n    return b;\n  };\n\n  var Sl = new Ze(2E3, 1E4),\n      Tl = new Ze(3E4, 6E4);\n\n  Hl.prototype.qa = function () {\n    return this.b.qa();\n  };\n\n  function Ul(a, b, c, d, e, f, g) {\n    return a.a.Lb(b, c, d, function () {\n      a.f || (a.f = !0, a.a.Ea(a.l));\n    }, function () {\n      a.reset();\n    }, e, f, g);\n  }\n\n  function Ol(a) {\n    return a && "auth/cordova-not-ready" == a.code ? !0 : !1;\n  }\n\n  function Vl(a, b, c, d, e) {\n    var f;\n    return El(a.g).then(function () {\n      return a.a.Mb(b, c, d, e).s(function (g) {\n        if (Ol(g)) throw new t("operation-not-supported-in-this-environment");\n        f = g;\n        return Fl(a.g).then(function () {\n          throw f;\n        });\n      }).then(function () {\n        return a.a.Zb() ? new D(function () {}) : Fl(a.g).then(function () {\n          return a.qa();\n        }).then(function () {}).s(function () {});\n      });\n    });\n  }\n\n  function Wl(a, b, c, d, e) {\n    return a.a.Nb(d, function (f) {\n      b.ma(c, null, f, e);\n    }, Sl.get());\n  }\n\n  var Xl = {};\n\n  function Kl(a, b, c) {\n    a = a + ":" + b;\n    c && (a = a + ":" + c.url);\n    return a;\n  }\n\n  function Yl(a, b, c, d) {\n    var e = Kl(b, c, d);\n    Xl[e] || (Xl[e] = new Hl(a, b, c, d));\n    return Xl[e];\n  }\n\n  function Il() {\n    this.b = null;\n    this.f = [];\n    this.c = [];\n    this.a = null;\n    this.i = this.g = !1;\n  }\n\n  Il.prototype.reset = function () {\n    this.b = null;\n    this.a && (this.a.cancel(), this.a = null);\n  };\n\n  Il.prototype.h = function (a, b) {\n    if (a) {\n      this.reset();\n      this.g = !0;\n      var c = a.c,\n          d = a.b,\n          e = a.a && "auth/web-storage-unsupported" == a.a.code,\n          f = a.a && "auth/operation-not-supported-in-this-environment" == a.a.code;\n      this.i = !(!e && !f);\n      "unknown" != c || e || f ? a.a ? (Zl(this, !0, null, a.a), E()) : b.Fa(c, d) ? $l(this, a, b) : F(new t("invalid-auth-event")) : (Zl(this, !1, null, null), E());\n    } else F(new t("invalid-auth-event"));\n  };\n\n  function Pl(a) {\n    a.g || (a.g = !0, Zl(a, !1, null, null));\n  }\n\n  function am(a) {\n    a.g && !a.i && Zl(a, !1, null, null);\n  }\n\n  function $l(a, b, c) {\n    c = c.Fa(b.c, b.b);\n    var d = b.g,\n        e = b.f,\n        f = b.i,\n        g = b.S(),\n        h = !!b.c.match(/Redirect$/);\n    c(d, e, g, f).then(function (n) {\n      Zl(a, h, n, null);\n    }).s(function (n) {\n      Zl(a, h, null, n);\n    });\n  }\n\n  function bm(a, b) {\n    a.b = function () {\n      return F(b);\n    };\n\n    if (a.c.length) for (var c = 0; c < a.c.length; c++) {\n      a.c[c](b);\n    }\n  }\n\n  function cm(a, b) {\n    a.b = function () {\n      return E(b);\n    };\n\n    if (a.f.length) for (var c = 0; c < a.f.length; c++) {\n      a.f[c](b);\n    }\n  }\n\n  function Zl(a, b, c, d) {\n    b ? d ? bm(a, d) : cm(a, c) : cm(a, {\n      user: null\n    });\n    a.f = [];\n    a.c = [];\n  }\n\n  Il.prototype.qa = function () {\n    var a = this;\n    return new D(function (b, c) {\n      a.b ? a.b().then(b, c) : (a.f.push(b), a.c.push(c), dm(a));\n    });\n  };\n\n  function dm(a) {\n    var b = new t("timeout");\n    a.a && a.a.cancel();\n    a.a = Ed(Tl.get()).then(function () {\n      a.b || (a.g = !0, Zl(a, !0, null, b));\n    });\n  }\n\n  function Jl() {}\n\n  Jl.prototype.h = function (a, b) {\n    if (a) {\n      var c = a.c,\n          d = a.b;\n      a.a ? (b.ma(a.c, null, a.a, a.b), E()) : b.Fa(c, d) ? em(a, b) : F(new t("invalid-auth-event"));\n    } else F(new t("invalid-auth-event"));\n  };\n\n  function em(a, b) {\n    var c = a.b,\n        d = a.c;\n    b.Fa(d, c)(a.g, a.f, a.S(), a.i).then(function (e) {\n      b.ma(d, e, null, c);\n    }).s(function (e) {\n      b.ma(d, null, e, c);\n    });\n  }\n\n  ;\n\n  function fm() {\n    this.hb = !1;\n    Object.defineProperty(this, "appVerificationDisabled", {\n      get: function get() {\n        return this.hb;\n      },\n      set: function set(a) {\n        this.hb = a;\n      },\n      enumerable: !1\n    });\n  }\n\n  ;\n\n  function gm(a, b) {\n    this.a = b;\n    M(this, "verificationId", a);\n  }\n\n  gm.prototype.confirm = function (a) {\n    a = qh(this.verificationId, a);\n    return this.a(a);\n  };\n\n  function hm(a, b, c, d) {\n    return new mh(a).eb(b, c).then(function (e) {\n      return new gm(e, d);\n    });\n  }\n\n  ;\n\n  function im(a) {\n    var b = jg(a);\n    if (!(b && b.exp && b.auth_time && b.iat)) throw new t("internal-error", "An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");\n    N(this, {\n      token: a,\n      expirationTime: cf(1E3 * b.exp),\n      authTime: cf(1E3 * b.auth_time),\n      issuedAtTime: cf(1E3 * b.iat),\n      signInProvider: b.firebase && b.firebase.sign_in_provider ? b.firebase.sign_in_provider : null,\n      signInSecondFactor: b.firebase && b.firebase.sign_in_second_factor ? b.firebase.sign_in_second_factor : null,\n      claims: b\n    });\n  }\n\n  ;\n\n  function jm(a, b, c) {\n    var d = b && b[km];\n    if (!d) throw new t("argument-error", "Internal assert: Invalid MultiFactorResolver");\n    this.a = a;\n    this.f = nb(b);\n    this.g = c;\n    this.c = new zg(null, d);\n    this.b = [];\n    var e = this;\n    w(b[lm] || [], function (f) {\n      (f = uf(f)) && e.b.push(f);\n    });\n    M(this, "auth", this.a);\n    M(this, "session", this.c);\n    M(this, "hints", this.b);\n  }\n\n  var lm = "mfaInfo",\n      km = "mfaPendingCredential";\n\n  jm.prototype.Qc = function (a) {\n    var b = this;\n    return a.rb(this.a.a, this.c).then(function (c) {\n      var d = nb(b.f);\n      delete d[lm];\n      delete d[km];\n      z(d, c);\n      return b.g(d);\n    });\n  };\n\n  function mm(a, b, c, d) {\n    t.call(this, "multi-factor-auth-required", d, b);\n    this.b = new jm(a, b, c);\n    M(this, "resolver", this.b);\n  }\n\n  r(mm, t);\n\n  function nm(a, b, c) {\n    if (a && m(a.serverResponse) && "auth/multi-factor-auth-required" === a.code) try {\n      return new mm(b, a.serverResponse, c, a.message);\n    } catch (d) {}\n    return null;\n  }\n\n  ;\n\n  function om() {}\n\n  om.prototype.rb = function (a, b, c) {\n    return b.type == Ag ? pm(this, a, b, c) : qm(this, a, b);\n  };\n\n  function pm(a, b, c, d) {\n    return c.Ha().then(function (e) {\n      e = {\n        idToken: e\n      };\n      "undefined" !== typeof d && (e.displayName = d);\n      z(e, {\n        phoneVerificationInfo: ih(a.a)\n      });\n      return O(b, Hj, e);\n    });\n  }\n\n  function qm(a, b, c) {\n    return c.Ha().then(function (d) {\n      d = {\n        mfaPendingCredential: d\n      };\n      z(d, {\n        phoneVerificationInfo: ih(a.a)\n      });\n      return O(b, Ij, d);\n    });\n  }\n\n  function rm(a) {\n    M(this, "factorId", a.fa);\n    this.a = a;\n  }\n\n  r(rm, om);\n\n  function sm(a) {\n    rm.call(this, a);\n    if (this.a.fa != mh.PROVIDER_ID) throw new t("argument-error", "firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential");\n  }\n\n  r(sm, rm);\n\n  function tm(a, b) {\n    G.call(this, a);\n\n    for (var c in b) {\n      this[c] = b[c];\n    }\n  }\n\n  r(tm, G);\n\n  function um(a, b) {\n    this.a = a;\n    this.b = [];\n    this.c = q(this.xc, this);\n    nd(this.a, "userReloaded", this.c);\n    var c = [];\n    b && b.multiFactor && b.multiFactor.enrolledFactors && w(b.multiFactor.enrolledFactors, function (d) {\n      var e = null,\n          f = {};\n\n      if (d) {\n        d.uid && (f[rf] = d.uid);\n        d.displayName && (f[sf] = d.displayName);\n        d.enrollmentTime && (f[tf] = new Date(d.enrollmentTime).toISOString());\n        d.phoneNumber && (f[qf] = d.phoneNumber);\n\n        try {\n          e = new vf(f);\n        } catch (g) {}\n\n        d = e;\n      } else d = null;\n\n      d && c.push(d);\n    });\n    vm(this, c);\n  }\n\n  function wm(a) {\n    var b = [];\n    w(a.mfaInfo || [], function (c) {\n      (c = uf(c)) && b.push(c);\n    });\n    return b;\n  }\n\n  k = um.prototype;\n\n  k.xc = function (a) {\n    vm(this, wm(a.gd));\n  };\n\n  function vm(a, b) {\n    a.b = b;\n    M(a, "enrolledFactors", b);\n  }\n\n  k.Qb = function () {\n    return this.a.I().then(function (a) {\n      return new zg(a, null);\n    });\n  };\n\n  k.ec = function (a, b) {\n    var c = this,\n        d = this.a.a;\n    return this.Qb().then(function (e) {\n      return a.rb(d, e, b);\n    }).then(function (e) {\n      xm(c.a, e);\n      return c.a.reload();\n    });\n  };\n\n  k.ad = function (a) {\n    var b = this,\n        c = "string" === typeof a ? a : a.uid,\n        d = this.a.a;\n    return this.a.I().then(function (e) {\n      return O(d, Mj, {\n        idToken: e,\n        mfaEnrollmentId: c\n      });\n    }).then(function (e) {\n      var f = Qa(b.b, function (g) {\n        return g.uid != c;\n      });\n      vm(b, f);\n      xm(b.a, e);\n      return b.a.reload().s(function (g) {\n        if ("auth/user-token-expired" != g.code) throw g;\n      });\n    });\n  };\n\n  k.w = function () {\n    return {\n      multiFactor: {\n        enrolledFactors: Ra(this.b, function (a) {\n          return a.w();\n        })\n      }\n    };\n  };\n\n  function ym(a, b, c) {\n    this.h = a;\n    this.i = b;\n    this.g = c;\n    this.c = 3E4;\n    this.f = 96E4;\n    this.b = null;\n    this.a = this.c;\n    if (this.f < this.c) throw Error("Proactive refresh lower bound greater than upper bound!");\n  }\n\n  ym.prototype.start = function () {\n    this.a = this.c;\n    zm(this, !0);\n  };\n\n  function Am(a, b) {\n    if (b) return a.a = a.c, a.g();\n    b = a.a;\n    a.a *= 2;\n    a.a > a.f && (a.a = a.f);\n    return b;\n  }\n\n  function zm(a, b) {\n    a.stop();\n    a.b = Ed(Am(a, b)).then(function () {\n      return af();\n    }).then(function () {\n      return a.h();\n    }).then(function () {\n      zm(a, !0);\n    }).s(function (c) {\n      a.i(c) && zm(a, !1);\n    });\n  }\n\n  ym.prototype.stop = function () {\n    this.b && (this.b.cancel(), this.b = null);\n  };\n\n  function Bm(a) {\n    this.c = a;\n    this.b = this.a = null;\n  }\n\n  Bm.prototype.w = function () {\n    return {\n      apiKey: this.c.c,\n      refreshToken: this.a,\n      accessToken: this.b && this.b.toString(),\n      expirationTime: Cm(this)\n    };\n  };\n\n  function Cm(a) {\n    return a.b && 1E3 * a.b.c || 0;\n  }\n\n  function Dm(a, b) {\n    var c = b.refreshToken;\n    a.b = kg(b[Eg] || "");\n    a.a = c;\n  }\n\n  function Em(a, b) {\n    a.b = b.b;\n    a.a = b.a;\n  }\n\n  function Fm(a, b) {\n    return Xi(a.c, b).then(function (c) {\n      a.b = kg(c.access_token);\n      a.a = c.refresh_token;\n      return {\n        accessToken: a.b.toString(),\n        refreshToken: a.a\n      };\n    }).s(function (c) {\n      "auth/user-token-expired" == c.code && (a.a = null);\n      throw c;\n    });\n  }\n\n  Bm.prototype.getToken = function (a) {\n    a = !!a;\n    return this.b && !this.a ? F(new t("user-token-expired")) : a || !this.b || va() > Cm(this) - 3E4 ? this.a ? Fm(this, {\n      grant_type: "refresh_token",\n      refresh_token: this.a\n    }) : E(null) : E({\n      accessToken: this.b.toString(),\n      refreshToken: this.a\n    });\n  };\n\n  function Gm(a, b) {\n    this.a = a || null;\n    this.b = b || null;\n    N(this, {\n      lastSignInTime: cf(b || null),\n      creationTime: cf(a || null)\n    });\n  }\n\n  function Hm(a) {\n    return new Gm(a.a, a.b);\n  }\n\n  Gm.prototype.w = function () {\n    return {\n      lastLoginAt: this.b,\n      createdAt: this.a\n    };\n  };\n\n  function Im(a, b, c, d, e, f) {\n    N(this, {\n      uid: a,\n      displayName: d || null,\n      photoURL: e || null,\n      email: c || null,\n      phoneNumber: f || null,\n      providerId: b\n    });\n  }\n\n  function Jm(a, b, c) {\n    this.G = [];\n    this.l = a.apiKey;\n    this.m = a.appName;\n    this.o = a.authDomain || null;\n    var d = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION ? Oe(_firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION) : null;\n    this.a = new Ji(this.l, Ca(Da), d);\n    a.emulatorConfig && Qi(this.a, a.emulatorConfig);\n    this.b = new Bm(this.a);\n    Km(this, b[Eg]);\n    Dm(this.b, b);\n    M(this, "refreshToken", this.b.a);\n    Lm(this, c || {});\n    I.call(this);\n    this.P = !1;\n    this.o && Re() && (this.i = Yl(this.o, this.l, this.m));\n    this.R = [];\n    this.f = null;\n    this.u = Mm(this);\n    this.$ = q(this.gb, this);\n    var e = this;\n    this.pa = null;\n\n    this.Ba = function (f) {\n      e.wa(f.h);\n    };\n\n    this.ba = null;\n\n    this.za = function (f) {\n      Qi(e.a, f.c);\n    };\n\n    this.W = null;\n    this.X = [];\n\n    this.Aa = function (f) {\n      Nm(e, f.f);\n    };\n\n    this.aa = null;\n    this.N = new um(this, c);\n    M(this, "multiFactor", this.N);\n  }\n\n  r(Jm, I);\n\n  Jm.prototype.wa = function (a) {\n    this.pa = a;\n    Pi(this.a, a);\n  };\n\n  Jm.prototype.ka = function () {\n    return this.pa;\n  };\n\n  function Om(a, b) {\n    a.ba && H(a.ba, "languageCodeChanged", a.Ba);\n    (a.ba = b) && nd(b, "languageCodeChanged", a.Ba);\n  }\n\n  function Pm(a, b) {\n    a.W && H(a.W, "emulatorConfigChanged", a.za);\n    (a.W = b) && nd(b, "emulatorConfigChanged", a.za);\n  }\n\n  function Nm(a, b) {\n    a.X = b;\n    Si(a.a, _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION ? Oe(_firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION, a.X) : null);\n  }\n\n  Jm.prototype.Ga = function () {\n    return Za(this.X);\n  };\n\n  function Qm(a, b) {\n    a.aa && H(a.aa, "frameworkChanged", a.Aa);\n    (a.aa = b) && nd(b, "frameworkChanged", a.Aa);\n  }\n\n  Jm.prototype.gb = function () {\n    this.u.b && (this.u.stop(), this.u.start());\n  };\n\n  function Rm(a) {\n    try {\n      return _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].app(a.m).auth();\n    } catch (b) {\n      throw new t("internal-error", "No firebase.auth.Auth instance is available for the Firebase App \'" + a.m + "\'!");\n    }\n  }\n\n  function Mm(a) {\n    return new ym(function () {\n      return a.I(!0);\n    }, function (b) {\n      return b && "auth/network-request-failed" == b.code ? !0 : !1;\n    }, function () {\n      var b = Cm(a.b) - va() - 3E5;\n      return 0 < b ? b : 0;\n    });\n  }\n\n  function Sm(a) {\n    a.A || a.u.b || (a.u.start(), H(a, "tokenChanged", a.$), nd(a, "tokenChanged", a.$));\n  }\n\n  function Tm(a) {\n    H(a, "tokenChanged", a.$);\n    a.u.stop();\n  }\n\n  function Km(a, b) {\n    a.ya = b;\n    M(a, "_lat", b);\n  }\n\n  function Um(a, b) {\n    Xa(a.R, function (c) {\n      return c == b;\n    });\n  }\n\n  function Vm(a) {\n    for (var b = [], c = 0; c < a.R.length; c++) {\n      b.push(a.R[c](a));\n    }\n\n    return Jc(b).then(function () {\n      return a;\n    });\n  }\n\n  function Wm(a) {\n    a.i && !a.P && (a.P = !0, Ql(a.i, a));\n  }\n\n  function Lm(a, b) {\n    N(a, {\n      uid: b.uid,\n      displayName: b.displayName || null,\n      photoURL: b.photoURL || null,\n      email: b.email || null,\n      emailVerified: b.emailVerified || !1,\n      phoneNumber: b.phoneNumber || null,\n      isAnonymous: b.isAnonymous || !1,\n      tenantId: b.tenantId || null,\n      metadata: new Gm(b.createdAt, b.lastLoginAt),\n      providerData: []\n    });\n    a.a.b = a.tenantId;\n  }\n\n  M(Jm.prototype, "providerId", "firebase");\n\n  function Xm() {}\n\n  function Ym(a) {\n    return E().then(function () {\n      if (a.A) throw new t("app-deleted");\n    });\n  }\n\n  function Zm(a) {\n    return Ra(a.providerData, function (b) {\n      return b.providerId;\n    });\n  }\n\n  function $m(a, b) {\n    b && (an(a, b.providerId), a.providerData.push(b));\n  }\n\n  function an(a, b) {\n    Xa(a.providerData, function (c) {\n      return c.providerId == b;\n    });\n  }\n\n  function bn(a, b, c) {\n    ("uid" != b || c) && a.hasOwnProperty(b) && M(a, b, c);\n  }\n\n  function cn(a, b) {\n    a != b && (N(a, {\n      uid: b.uid,\n      displayName: b.displayName,\n      photoURL: b.photoURL,\n      email: b.email,\n      emailVerified: b.emailVerified,\n      phoneNumber: b.phoneNumber,\n      isAnonymous: b.isAnonymous,\n      tenantId: b.tenantId,\n      providerData: []\n    }), b.metadata ? M(a, "metadata", Hm(b.metadata)) : M(a, "metadata", new Gm()), w(b.providerData, function (c) {\n      $m(a, c);\n    }), Em(a.b, b.b), M(a, "refreshToken", a.b.a), vm(a.N, b.N.b));\n  }\n\n  k = Jm.prototype;\n\n  k.reload = function () {\n    var a = this;\n    return R(this, Ym(this).then(function () {\n      return dn(a).then(function () {\n        return Vm(a);\n      }).then(Xm);\n    }));\n  };\n\n  function dn(a) {\n    return a.I().then(function (b) {\n      var c = a.isAnonymous;\n      return en(a, b).then(function () {\n        c || bn(a, "isAnonymous", !1);\n        return b;\n      });\n    });\n  }\n\n  k.nc = function (a) {\n    return this.I(a).then(function (b) {\n      return new im(b);\n    });\n  };\n\n  k.I = function (a) {\n    var b = this;\n    return R(this, Ym(this).then(function () {\n      return b.b.getToken(a);\n    }).then(function (c) {\n      if (!c) throw new t("internal-error");\n      c.accessToken != b.ya && (Km(b, c.accessToken), b.dispatchEvent(new tm("tokenChanged")));\n      bn(b, "refreshToken", c.refreshToken);\n      return c.accessToken;\n    }));\n  };\n\n  function xm(a, b) {\n    b[Eg] && a.ya != b[Eg] && (Dm(a.b, b), a.dispatchEvent(new tm("tokenChanged")), Km(a, b[Eg]), bn(a, "refreshToken", a.b.a));\n  }\n\n  function en(a, b) {\n    return O(a.a, Jj, {\n      idToken: b\n    }).then(q(a.Jc, a));\n  }\n\n  k.Jc = function (a) {\n    a = a.users;\n    if (!a || !a.length) throw new t("internal-error");\n    a = a[0];\n    Lm(this, {\n      uid: a.localId,\n      displayName: a.displayName,\n      photoURL: a.photoUrl,\n      email: a.email,\n      emailVerified: !!a.emailVerified,\n      phoneNumber: a.phoneNumber,\n      lastLoginAt: a.lastLoginAt,\n      createdAt: a.createdAt,\n      tenantId: a.tenantId\n    });\n\n    for (var b = fn(a), c = 0; c < b.length; c++) {\n      $m(this, b[c]);\n    }\n\n    bn(this, "isAnonymous", !(this.email && a.passwordHash) && !(this.providerData && this.providerData.length));\n    this.dispatchEvent(new tm("userReloaded", {\n      gd: a\n    }));\n  };\n\n  function fn(a) {\n    return (a = a.providerUserInfo) && a.length ? Ra(a, function (b) {\n      return new Im(b.rawId, b.providerId, b.email, b.displayName, b.photoUrl, b.phoneNumber);\n    }) : [];\n  }\n\n  k.Kc = function (a) {\n    hf("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead.");\n    return this.sb(a);\n  };\n\n  k.sb = function (a) {\n    var b = this,\n        c = null;\n    return R(this, a.c(this.a, this.uid).then(function (d) {\n      xm(b, d);\n      c = gn(b, d, "reauthenticate");\n      b.f = null;\n      return b.reload();\n    }).then(function () {\n      return c;\n    }), !0);\n  };\n\n  function hn(a, b) {\n    return dn(a).then(function () {\n      if (Va(Zm(a), b)) return Vm(a).then(function () {\n        throw new t("provider-already-linked");\n      });\n    });\n  }\n\n  k.Bc = function (a) {\n    hf("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead.");\n    return this.pb(a);\n  };\n\n  k.pb = function (a) {\n    var b = this,\n        c = null;\n    return R(this, hn(this, a.providerId).then(function () {\n      return b.I();\n    }).then(function (d) {\n      return a.b(b.a, d);\n    }).then(function (d) {\n      c = gn(b, d, "link");\n      return jn(b, d);\n    }).then(function () {\n      return c;\n    }));\n  };\n\n  k.Cc = function (a, b) {\n    var c = this;\n    return R(this, hn(this, "phone").then(function () {\n      return hm(Rm(c), a, b, q(c.pb, c));\n    }));\n  };\n\n  k.Lc = function (a, b) {\n    var c = this;\n    return R(this, E().then(function () {\n      return hm(Rm(c), a, b, q(c.sb, c));\n    }), !0);\n  };\n\n  function gn(a, b, c) {\n    var d = rh(b);\n    b = pg(b);\n    return lf({\n      user: a,\n      credential: d,\n      additionalUserInfo: b,\n      operationType: c\n    });\n  }\n\n  function jn(a, b) {\n    xm(a, b);\n    return a.reload().then(function () {\n      return a;\n    });\n  }\n\n  k.Ab = function (a) {\n    var b = this;\n    return R(this, this.I().then(function (c) {\n      return b.a.Ab(c, a);\n    }).then(function (c) {\n      xm(b, c);\n      return b.reload();\n    }));\n  };\n\n  k.dd = function (a) {\n    var b = this;\n    return R(this, this.I().then(function (c) {\n      return a.b(b.a, c);\n    }).then(function (c) {\n      xm(b, c);\n      return b.reload();\n    }));\n  };\n\n  k.Bb = function (a) {\n    var b = this;\n    return R(this, this.I().then(function (c) {\n      return b.a.Bb(c, a);\n    }).then(function (c) {\n      xm(b, c);\n      return b.reload();\n    }));\n  };\n\n  k.Cb = function (a) {\n    if (void 0 === a.displayName && void 0 === a.photoURL) return Ym(this);\n    var b = this;\n    return R(this, this.I().then(function (c) {\n      return b.a.Cb(c, {\n        displayName: a.displayName,\n        photoUrl: a.photoURL\n      });\n    }).then(function (c) {\n      xm(b, c);\n      bn(b, "displayName", c.displayName || null);\n      bn(b, "photoURL", c.photoUrl || null);\n      w(b.providerData, function (d) {\n        "password" === d.providerId && (M(d, "displayName", b.displayName), M(d, "photoURL", b.photoURL));\n      });\n      return Vm(b);\n    }).then(Xm));\n  };\n\n  k.bd = function (a) {\n    var b = this;\n    return R(this, dn(this).then(function (c) {\n      return Va(Zm(b), a) ? sj(b.a, c, [a]).then(function (d) {\n        var e = {};\n        w(d.providerUserInfo || [], function (f) {\n          e[f.providerId] = !0;\n        });\n        w(Zm(b), function (f) {\n          e[f] || an(b, f);\n        });\n        e[mh.PROVIDER_ID] || M(b, "phoneNumber", null);\n        return Vm(b);\n      }) : Vm(b).then(function () {\n        throw new t("no-such-provider");\n      });\n    }));\n  };\n\n  k.delete = function () {\n    var a = this;\n    return R(this, this.I().then(function (b) {\n      return O(a.a, Gj, {\n        idToken: b\n      });\n    }).then(function () {\n      a.dispatchEvent(new tm("userDeleted"));\n    })).then(function () {\n      for (var b = 0; b < a.G.length; b++) {\n        a.G[b].cancel("app-deleted");\n      }\n\n      Om(a, null);\n      Pm(a, null);\n      Qm(a, null);\n      a.G = [];\n      a.A = !0;\n      Tm(a);\n      M(a, "refreshToken", null);\n      a.i && Rl(a.i, a);\n    });\n  };\n\n  k.Eb = function (a, b) {\n    return "linkViaPopup" == a && (this.h || null) == b && this.g || "reauthViaPopup" == a && (this.h || null) == b && this.g || "linkViaRedirect" == a && (this.ga || null) == b || "reauthViaRedirect" == a && (this.ga || null) == b ? !0 : !1;\n  };\n\n  k.ma = function (a, b, c, d) {\n    "linkViaPopup" != a && "reauthViaPopup" != a || d != (this.h || null) || (c && this.O ? this.O(c) : b && !c && this.g && this.g(b), this.c && (this.c.cancel(), this.c = null), delete this.g, delete this.O);\n  };\n\n  k.Fa = function (a, b) {\n    return "linkViaPopup" == a && b == (this.h || null) ? q(this.Jb, this) : "reauthViaPopup" == a && b == (this.h || null) ? q(this.Kb, this) : "linkViaRedirect" == a && (this.ga || null) == b ? q(this.Jb, this) : "reauthViaRedirect" == a && (this.ga || null) == b ? q(this.Kb, this) : null;\n  };\n\n  k.Dc = function (a) {\n    var b = this;\n    return kn(this, "linkViaPopup", a, function () {\n      return hn(b, a.providerId).then(function () {\n        return Vm(b);\n      });\n    }, !1);\n  };\n\n  k.Mc = function (a) {\n    return kn(this, "reauthViaPopup", a, function () {\n      return E();\n    }, !0);\n  };\n\n  function kn(a, b, c, d, e) {\n    if (!Re()) return F(new t("operation-not-supported-in-this-environment"));\n    if (a.f && !e) return F(a.f);\n    var f = og(c.providerId),\n        g = Qe(a.uid + ":::"),\n        h = null;\n    (!Te() || Ie()) && a.o && c.isOAuthProvider && (h = fk(a.o, a.l, a.m, b, c, null, g, _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION || null, null, null, a.tenantId));\n    var n = ze(h, f && f.ua, f && f.ta);\n    d = d().then(function () {\n      ln(a);\n      if (!e) return a.I().then(function () {});\n    }).then(function () {\n      return Ul(a.i, n, b, c, g, !!h, a.tenantId);\n    }).then(function () {\n      return new D(function (p, v) {\n        a.ma(b, null, new t("cancelled-popup-request"), a.h || null);\n        a.g = p;\n        a.O = v;\n        a.h = g;\n        a.c = Wl(a.i, a, b, n, g);\n      });\n    }).then(function (p) {\n      n && ye(n);\n      return p ? lf(p) : null;\n    }).s(function (p) {\n      n && ye(n);\n      throw p;\n    });\n    return R(a, d, e);\n  }\n\n  k.Ec = function (a) {\n    var b = this;\n    return mn(this, "linkViaRedirect", a, function () {\n      return hn(b, a.providerId);\n    }, !1);\n  };\n\n  k.Nc = function (a) {\n    return mn(this, "reauthViaRedirect", a, function () {\n      return E();\n    }, !0);\n  };\n\n  function mn(a, b, c, d, e) {\n    if (!Re()) return F(new t("operation-not-supported-in-this-environment"));\n    if (a.f && !e) return F(a.f);\n    var f = null,\n        g = Qe(a.uid + ":::");\n    d = d().then(function () {\n      ln(a);\n      if (!e) return a.I().then(function () {});\n    }).then(function () {\n      a.ga = g;\n      return Vm(a);\n    }).then(function (h) {\n      a.ha && (h = a.ha, h = h.b.set(nn, a.w(), h.a));\n      return h;\n    }).then(function () {\n      return Vl(a.i, b, c, g, a.tenantId);\n    }).s(function (h) {\n      f = h;\n      if (a.ha) return on(a.ha);\n      throw f;\n    }).then(function () {\n      if (f) throw f;\n    });\n    return R(a, d, e);\n  }\n\n  function ln(a) {\n    if (!a.i || !a.P) {\n      if (a.i && !a.P) throw new t("internal-error");\n      throw new t("auth-domain-config-required");\n    }\n  }\n\n  k.Jb = function (a, b, c, d) {\n    var e = this;\n    this.c && (this.c.cancel(), this.c = null);\n    var f = null;\n    c = this.I().then(function (g) {\n      return Ig(e.a, {\n        requestUri: a,\n        postBody: d,\n        sessionId: b,\n        idToken: g\n      });\n    }).then(function (g) {\n      f = gn(e, g, "link");\n      return jn(e, g);\n    }).then(function () {\n      return f;\n    });\n    return R(this, c);\n  };\n\n  k.Kb = function (a, b, c, d) {\n    var e = this;\n    this.c && (this.c.cancel(), this.c = null);\n    var f = null,\n        g = E().then(function () {\n      return Dg(Jg(e.a, {\n        requestUri: a,\n        sessionId: b,\n        postBody: d,\n        tenantId: c\n      }), e.uid);\n    }).then(function (h) {\n      f = gn(e, h, "reauthenticate");\n      xm(e, h);\n      e.f = null;\n      return e.reload();\n    }).then(function () {\n      return f;\n    });\n    return R(this, g, !0);\n  };\n\n  k.tb = function (a) {\n    var b = this,\n        c = null;\n    return R(this, this.I().then(function (d) {\n      c = d;\n      return "undefined" === typeof a || mb(a) ? {} : cg(new Tf(a));\n    }).then(function (d) {\n      return b.a.tb(c, d);\n    }).then(function (d) {\n      if (b.email != d) return b.reload();\n    }).then(function () {}));\n  };\n\n  k.Db = function (a, b) {\n    var c = this,\n        d = null;\n    return R(this, this.I().then(function (e) {\n      d = e;\n      return "undefined" === typeof b || mb(b) ? {} : cg(new Tf(b));\n    }).then(function (e) {\n      return c.a.Db(d, a, e);\n    }).then(function (e) {\n      if (c.email != e) return c.reload();\n    }).then(function () {}));\n  };\n\n  function R(a, b, c) {\n    var d = pn(a, b, c);\n    a.G.push(d);\n    d.na(function () {\n      Wa(a.G, d);\n    });\n    return d.s(function (e) {\n      var f = null;\n      e && "auth/multi-factor-auth-required" === e.code && (f = nm(e.w(), Rm(a), q(a.ic, a)));\n      throw f || e;\n    });\n  }\n\n  k.ic = function (a) {\n    var b = null,\n        c = this;\n    a = Dg(E(a), c.uid).then(function (d) {\n      b = gn(c, d, "reauthenticate");\n      xm(c, d);\n      c.f = null;\n      return c.reload();\n    }).then(function () {\n      return b;\n    });\n    return R(this, a, !0);\n  };\n\n  function pn(a, b, c) {\n    return a.f && !c ? (b.cancel(), F(a.f)) : b.s(function (d) {\n      !d || "auth/user-disabled" != d.code && "auth/user-token-expired" != d.code || (a.f || a.dispatchEvent(new tm("userInvalidated")), a.f = d);\n      throw d;\n    });\n  }\n\n  k.toJSON = function () {\n    return this.w();\n  };\n\n  k.w = function () {\n    var a = {\n      uid: this.uid,\n      displayName: this.displayName,\n      photoURL: this.photoURL,\n      email: this.email,\n      emailVerified: this.emailVerified,\n      phoneNumber: this.phoneNumber,\n      isAnonymous: this.isAnonymous,\n      tenantId: this.tenantId,\n      providerData: [],\n      apiKey: this.l,\n      appName: this.m,\n      authDomain: this.o,\n      stsTokenManager: this.b.w(),\n      redirectEventId: this.ga || null\n    };\n    this.metadata && z(a, this.metadata.w());\n    w(this.providerData, function (b) {\n      a.providerData.push(mf(b));\n    });\n    z(a, this.N.w());\n    return a;\n  };\n\n  function qn(a) {\n    if (!a.apiKey) return null;\n    var b = {\n      apiKey: a.apiKey,\n      authDomain: a.authDomain,\n      appName: a.appName,\n      emulatorConfig: a.emulatorConfig\n    },\n        c = {};\n    if (a.stsTokenManager && a.stsTokenManager.accessToken) c[Eg] = a.stsTokenManager.accessToken, c.refreshToken = a.stsTokenManager.refreshToken || null;else return null;\n    var d = new Jm(b, c, a);\n    a.providerData && w(a.providerData, function (e) {\n      e && $m(d, lf(e));\n    });\n    a.redirectEventId && (d.ga = a.redirectEventId);\n    return d;\n  }\n\n  function rn(a, b, c, d) {\n    var e = new Jm(a, b);\n    c && (e.ha = c);\n    d && Nm(e, d);\n    return e.reload().then(function () {\n      return e;\n    });\n  }\n\n  function sn(a, b, c, d) {\n    var e = a.b,\n        f = {};\n    f[Eg] = e.b && e.b.toString();\n    f.refreshToken = e.a;\n    b = new Jm(b || {\n      apiKey: a.l,\n      authDomain: a.o,\n      appName: a.m\n    }, f);\n    c && (b.ha = c);\n    d && Nm(b, d);\n    cn(b, a);\n    return b;\n  }\n\n  ;\n\n  function tn(a) {\n    this.a = a;\n    this.b = Wk();\n  }\n\n  var nn = {\n    name: "redirectUser",\n    D: "session"\n  };\n\n  function on(a) {\n    return $k(a.b, nn, a.a);\n  }\n\n  function un(a, b) {\n    return a.b.get(nn, a.a).then(function (c) {\n      c && b && (c.authDomain = b);\n      return qn(c || {});\n    });\n  }\n\n  ;\n\n  function vn(a) {\n    this.a = a;\n    this.b = Wk();\n    this.c = null;\n    this.f = wn(this);\n    this.b.addListener(xn("local"), this.a, q(this.g, this));\n  }\n\n  vn.prototype.g = function () {\n    var a = this,\n        b = xn("local");\n    yn(this, function () {\n      return E().then(function () {\n        return a.c && "local" != a.c.D ? a.b.get(b, a.a) : null;\n      }).then(function (c) {\n        if (c) return zn(a, "local").then(function () {\n          a.c = b;\n        });\n      });\n    });\n  };\n\n  function zn(a, b) {\n    var c = [],\n        d;\n\n    for (d in Sk) {\n      Sk[d] !== b && c.push($k(a.b, xn(Sk[d]), a.a));\n    }\n\n    c.push($k(a.b, An, a.a));\n    return Ic(c);\n  }\n\n  function wn(a) {\n    var b = xn("local"),\n        c = xn("session"),\n        d = xn("none");\n    return Zk(a.b, b, a.a).then(function () {\n      return a.b.get(c, a.a);\n    }).then(function (e) {\n      return e ? c : a.b.get(d, a.a).then(function (f) {\n        return f ? d : a.b.get(b, a.a).then(function (g) {\n          return g ? b : a.b.get(An, a.a).then(function (h) {\n            return h ? xn(h) : b;\n          });\n        });\n      });\n    }).then(function (e) {\n      a.c = e;\n      return zn(a, e.D);\n    }).s(function () {\n      a.c || (a.c = b);\n    });\n  }\n\n  var An = {\n    name: "persistence",\n    D: "session"\n  };\n\n  function xn(a) {\n    return {\n      name: "authUser",\n      D: a\n    };\n  }\n\n  vn.prototype.wb = function (a) {\n    var b = null,\n        c = this;\n    Tk(a);\n    return yn(this, function () {\n      return a != c.c.D ? c.b.get(c.c, c.a).then(function (d) {\n        b = d;\n        return zn(c, a);\n      }).then(function () {\n        c.c = xn(a);\n        if (b) return c.b.set(c.c, b, c.a);\n      }) : E();\n    });\n  };\n\n  function Bn(a) {\n    return yn(a, function () {\n      return a.b.set(An, a.c.D, a.a);\n    });\n  }\n\n  function Cn(a, b) {\n    return yn(a, function () {\n      return a.b.set(a.c, b.w(), a.a);\n    });\n  }\n\n  function Dn(a) {\n    return yn(a, function () {\n      return $k(a.b, a.c, a.a);\n    });\n  }\n\n  function En(a, b, c) {\n    return yn(a, function () {\n      return a.b.get(a.c, a.a).then(function (d) {\n        d && b && (d.authDomain = b);\n        d && c && (d.emulatorConfig = c);\n        return qn(d || {});\n      });\n    });\n  }\n\n  function yn(a, b) {\n    a.f = a.f.then(b, b);\n    return a.f;\n  }\n\n  ;\n\n  function Fn(a) {\n    this.m = !1;\n    M(this, "settings", new fm());\n    M(this, "app", a);\n    if (S(this).options && S(this).options.apiKey) a = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION ? Oe(_firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION) : null, this.a = new Ji(S(this).options && S(this).options.apiKey, Ca(Da), a);else throw new t("invalid-api-key");\n    this.R = [];\n    this.u = [];\n    this.P = [];\n    this.ac = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.createSubscribe(q(this.yc, this));\n    this.X = void 0;\n    this.bc = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.createSubscribe(q(this.zc, this));\n    Gn(this, null);\n    this.l = new vn(S(this).options.apiKey + ":" + S(this).name);\n    this.G = new tn(S(this).options.apiKey + ":" + S(this).name);\n    this.$ = T(this, Hn(this));\n    this.i = T(this, In(this));\n    this.ba = !1;\n    this.pa = q(this.Yc, this);\n    this.Ba = q(this.da, this);\n    this.ya = q(this.kc, this);\n    this.za = q(this.vc, this);\n    this.Aa = q(this.wc, this);\n    this.b = null;\n    Jn(this);\n    this.INTERNAL = {};\n    this.INTERNAL["delete"] = q(this.delete, this);\n    this.INTERNAL.logFramework = q(this.Fc, this);\n    this.A = 0;\n    I.call(this);\n    Kn(this);\n    this.N = [];\n    this.f = null;\n  }\n\n  r(Fn, I);\n\n  function Ln(a) {\n    G.call(this, "languageCodeChanged");\n    this.h = a;\n  }\n\n  r(Ln, G);\n\n  function Mn(a) {\n    G.call(this, "emulatorConfigChanged");\n    this.c = a;\n  }\n\n  r(Mn, G);\n\n  function Nn(a) {\n    G.call(this, "frameworkChanged");\n    this.f = a;\n  }\n\n  r(Nn, G);\n  k = Fn.prototype;\n\n  k.wb = function (a) {\n    a = this.l.wb(a);\n    return T(this, a);\n  };\n\n  k.wa = function (a) {\n    this.aa === a || this.m || (this.aa = a, Pi(this.a, this.aa), this.dispatchEvent(new Ln(this.ka())));\n  };\n\n  k.ka = function () {\n    return this.aa;\n  };\n\n  k.ed = function () {\n    var a = l.navigator;\n    this.wa(a ? a.languages && a.languages[0] || a.language || a.userLanguage || null : null);\n  };\n\n  k.fd = function (a) {\n    if (!this.f) {\n      if (!/^https?:\\/\\//.test(a)) throw new t("argument-error", "Emulator URL must start with a valid scheme (http:// or https://).");\n      On();\n      this.f = {\n        url: a\n      };\n      this.settings.hb = !0;\n      Qi(this.a, this.f);\n      this.dispatchEvent(new Mn(this.f));\n    }\n  };\n\n  function On() {\n    bf("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");\n    l.document && Ee().then(function () {\n      var a = l.document.createElement("div");\n      a.innerText = "Running in emulator mode. Do not use with production credentials.";\n      a.style.position = "fixed";\n      a.style.width = "100%";\n      a.style.backgroundColor = "#ffffff";\n      a.style.border = ".1em solid #000000";\n      a.style.color = "#ff0000";\n      a.style.bottom = "0px";\n      a.style.left = "0px";\n      a.style.margin = "0px";\n      a.style.zIndex = 1E4;\n      a.style.textAlign = "center";\n      a.classList.add("firebase-emulator-warning");\n      l.document.body.appendChild(a);\n    });\n  }\n\n  k.Fc = function (a) {\n    this.N.push(a);\n    Si(this.a, _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION ? Oe(_firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION, this.N) : null);\n    this.dispatchEvent(new Nn(this.N));\n  };\n\n  k.Ga = function () {\n    return Za(this.N);\n  };\n\n  k.xb = function (a) {\n    this.W === a || this.m || (this.W = a, this.a.b = this.W);\n  };\n\n  k.S = function () {\n    return this.W;\n  };\n\n  function Kn(a) {\n    Object.defineProperty(a, "lc", {\n      get: function get() {\n        return this.ka();\n      },\n      set: function set(b) {\n        this.wa(b);\n      },\n      enumerable: !1\n    });\n    a.aa = null;\n    Object.defineProperty(a, "ti", {\n      get: function get() {\n        return this.S();\n      },\n      set: function set(b) {\n        this.xb(b);\n      },\n      enumerable: !1\n    });\n    a.W = null;\n  }\n\n  k.toJSON = function () {\n    return {\n      apiKey: S(this).options.apiKey,\n      authDomain: S(this).options.authDomain,\n      appName: S(this).name,\n      currentUser: U(this) && U(this).w()\n    };\n  };\n\n  function Pn(a) {\n    return a.gb || F(new t("auth-domain-config-required"));\n  }\n\n  function Jn(a) {\n    var b = S(a).options.authDomain,\n        c = S(a).options.apiKey;\n    b && Re() && (a.gb = a.$.then(function () {\n      if (!a.m) {\n        a.b = Yl(b, c, S(a).name, a.f);\n        Ql(a.b, a);\n        U(a) && Wm(U(a));\n\n        if (a.o) {\n          Wm(a.o);\n          var d = a.o;\n          d.wa(a.ka());\n          Om(d, a);\n          d = a.o;\n          Nm(d, a.N);\n          Qm(d, a);\n          d = a.o;\n          Qi(d.a, a.f);\n          Pm(d, a);\n          a.o = null;\n        }\n\n        return a.b;\n      }\n    }));\n  }\n\n  k.Eb = function (a, b) {\n    switch (a) {\n      case "unknown":\n      case "signInViaRedirect":\n        return !0;\n\n      case "signInViaPopup":\n        return this.h == b && !!this.g;\n\n      default:\n        return !1;\n    }\n  };\n\n  k.ma = function (a, b, c, d) {\n    "signInViaPopup" == a && this.h == d && (c && this.O ? this.O(c) : b && !c && this.g && this.g(b), this.c && (this.c.cancel(), this.c = null), delete this.g, delete this.O);\n  };\n\n  k.Fa = function (a, b) {\n    return "signInViaRedirect" == a || "signInViaPopup" == a && this.h == b && this.g ? q(this.hc, this) : null;\n  };\n\n  k.hc = function (a, b, c, d) {\n    var e = this,\n        f = {\n      requestUri: a,\n      postBody: d,\n      sessionId: b,\n      tenantId: c\n    };\n    this.c && (this.c.cancel(), this.c = null);\n    return e.$.then(function () {\n      return Qn(e, Gg(e.a, f));\n    });\n  };\n\n  k.Wc = function (a) {\n    if (!Re()) return F(new t("operation-not-supported-in-this-environment"));\n    var b = this,\n        c = og(a.providerId),\n        d = Qe(),\n        e = null;\n    (!Te() || Ie()) && S(this).options.authDomain && a.isOAuthProvider && (e = fk(S(this).options.authDomain, S(this).options.apiKey, S(this).name, "signInViaPopup", a, null, d, _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION || null, null, null, this.S(), this.f));\n    var f = ze(e, c && c.ua, c && c.ta);\n    c = Pn(this).then(function (g) {\n      return Ul(g, f, "signInViaPopup", a, d, !!e, b.S());\n    }).then(function () {\n      return new D(function (g, h) {\n        b.ma("signInViaPopup", null, new t("cancelled-popup-request"), b.h);\n        b.g = g;\n        b.O = h;\n        b.h = d;\n        b.c = Wl(b.b, b, "signInViaPopup", f, d);\n      });\n    }).then(function (g) {\n      f && ye(f);\n      return g ? lf(g) : null;\n    }).s(function (g) {\n      f && ye(f);\n      throw g;\n    });\n    return T(this, c);\n  };\n\n  k.Xc = function (a) {\n    if (!Re()) return F(new t("operation-not-supported-in-this-environment"));\n    var b = this,\n        c = Pn(this).then(function () {\n      return Bn(b.l);\n    }).then(function () {\n      return Vl(b.b, "signInViaRedirect", a, void 0, b.S());\n    });\n    return T(this, c);\n  };\n\n  function Rn(a) {\n    if (!Re()) return F(new t("operation-not-supported-in-this-environment"));\n    var b = Pn(a).then(function () {\n      return a.b.qa();\n    }).then(function (c) {\n      return c ? lf(c) : null;\n    });\n    return T(a, b);\n  }\n\n  k.qa = function () {\n    var a = this;\n    return Rn(this).then(function (b) {\n      a.b && am(a.b.b);\n      return b;\n    }).s(function (b) {\n      a.b && am(a.b.b);\n      throw b;\n    });\n  };\n\n  k.cd = function (a) {\n    if (!a) return F(new t("null-user"));\n    if (this.W != a.tenantId) return F(new t("tenant-id-mismatch"));\n    var b = this,\n        c = {};\n    c.apiKey = S(this).options.apiKey;\n    c.authDomain = S(this).options.authDomain;\n    c.appName = S(this).name;\n    var d = sn(a, c, b.G, b.Ga());\n    return T(this, this.i.then(function () {\n      if (S(b).options.apiKey != a.l) return d.reload();\n    }).then(function () {\n      if (U(b) && a.uid == U(b).uid) return cn(U(b), a), b.da(a);\n      Gn(b, d);\n      Wm(d);\n      return b.da(d);\n    }).then(function () {\n      Sn(b);\n    }));\n  };\n\n  function Tn(a, b) {\n    var c = {};\n    c.apiKey = S(a).options.apiKey;\n    c.authDomain = S(a).options.authDomain;\n    c.appName = S(a).name;\n    a.f && (c.emulatorConfig = a.f);\n    return a.$.then(function () {\n      return rn(c, b, a.G, a.Ga());\n    }).then(function (d) {\n      if (U(a) && d.uid == U(a).uid) return cn(U(a), d), a.da(d);\n      Gn(a, d);\n      Wm(d);\n      return a.da(d);\n    }).then(function () {\n      Sn(a);\n    });\n  }\n\n  function Gn(a, b) {\n    U(a) && (Um(U(a), a.Ba), H(U(a), "tokenChanged", a.ya), H(U(a), "userDeleted", a.za), H(U(a), "userInvalidated", a.Aa), Tm(U(a)));\n    b && (b.R.push(a.Ba), nd(b, "tokenChanged", a.ya), nd(b, "userDeleted", a.za), nd(b, "userInvalidated", a.Aa), 0 < a.A && Sm(b));\n    M(a, "currentUser", b);\n    b && (b.wa(a.ka()), Om(b, a), Nm(b, a.N), Qm(b, a), Qi(b.a, a.f), Pm(b, a));\n  }\n\n  k.zb = function () {\n    var a = this,\n        b = this.i.then(function () {\n      a.b && am(a.b.b);\n      if (!U(a)) return E();\n      Gn(a, null);\n      return Dn(a.l).then(function () {\n        Sn(a);\n      });\n    });\n    return T(this, b);\n  };\n\n  function Un(a) {\n    var b = un(a.G, S(a).options.authDomain).then(function (c) {\n      if (a.o = c) c.ha = a.G;\n      return on(a.G);\n    });\n    return T(a, b);\n  }\n\n  function Hn(a) {\n    var b = S(a).options.authDomain,\n        c = Un(a).then(function () {\n      return En(a.l, b, a.f);\n    }).then(function (d) {\n      return d ? (d.ha = a.G, a.o && (a.o.ga || null) == (d.ga || null) ? d : d.reload().then(function () {\n        return Cn(a.l, d).then(function () {\n          return d;\n        });\n      }).s(function (e) {\n        return "auth/network-request-failed" == e.code ? d : Dn(a.l);\n      })) : null;\n    }).then(function (d) {\n      Gn(a, d || null);\n    });\n    return T(a, c);\n  }\n\n  function In(a) {\n    return a.$.then(function () {\n      return Rn(a);\n    }).s(function () {}).then(function () {\n      if (!a.m) return a.pa();\n    }).s(function () {}).then(function () {\n      if (!a.m) {\n        a.ba = !0;\n        var b = a.l;\n        b.b.addListener(xn("local"), b.a, a.pa);\n      }\n    });\n  }\n\n  k.Yc = function () {\n    var a = this;\n    return En(this.l, S(this).options.authDomain).then(function (b) {\n      if (!a.m) {\n        var c;\n\n        if (c = U(a) && b) {\n          c = U(a).uid;\n          var d = b.uid;\n          c = void 0 === c || null === c || "" === c || void 0 === d || null === d || "" === d ? !1 : c == d;\n        }\n\n        if (c) return cn(U(a), b), U(a).I();\n        if (U(a) || b) Gn(a, b), b && (Wm(b), b.ha = a.G), a.b && Ql(a.b, a), Sn(a);\n      }\n    });\n  };\n\n  k.da = function (a) {\n    return Cn(this.l, a);\n  };\n\n  k.kc = function () {\n    Sn(this);\n    this.da(U(this));\n  };\n\n  k.vc = function () {\n    this.zb();\n  };\n\n  k.wc = function () {\n    this.zb();\n  };\n\n  function Qn(a, b) {\n    var c = null,\n        d = null;\n    return T(a, b.then(function (e) {\n      c = rh(e);\n      d = pg(e);\n      return Tn(a, e);\n    }, function (e) {\n      var f = null;\n      e && "auth/multi-factor-auth-required" === e.code && (f = nm(e.w(), a, q(a.jc, a)));\n      throw f || e;\n    }).then(function () {\n      return lf({\n        user: U(a),\n        credential: c,\n        additionalUserInfo: d,\n        operationType: "signIn"\n      });\n    }));\n  }\n\n  k.jc = function (a) {\n    var b = this;\n    return this.i.then(function () {\n      return Qn(b, E(a));\n    });\n  };\n\n  k.yc = function (a) {\n    var b = this;\n    this.addAuthTokenListener(function () {\n      a.next(U(b));\n    });\n  };\n\n  k.zc = function (a) {\n    var b = this;\n    Vn(this, function () {\n      a.next(U(b));\n    });\n  };\n\n  k.Hc = function (a, b, c) {\n    var d = this;\n    this.ba && Promise.resolve().then(function () {\n      "function" === typeof a ? a(U(d)) : "function" === typeof a.next && a.next(U(d));\n    });\n    return this.ac(a, b, c);\n  };\n\n  k.Gc = function (a, b, c) {\n    var d = this;\n    this.ba && Promise.resolve().then(function () {\n      d.X = d.getUid();\n      "function" === typeof a ? a(U(d)) : "function" === typeof a.next && a.next(U(d));\n    });\n    return this.bc(a, b, c);\n  };\n\n  k.mc = function (a) {\n    var b = this,\n        c = this.i.then(function () {\n      return U(b) ? U(b).I(a).then(function (d) {\n        return {\n          accessToken: d\n        };\n      }) : null;\n    });\n    return T(this, c);\n  };\n\n  k.Sc = function (a) {\n    var b = this;\n    return this.i.then(function () {\n      return Qn(b, O(b.a, Lj, {\n        token: a\n      }));\n    }).then(function (c) {\n      var d = c.user;\n      bn(d, "isAnonymous", !1);\n      b.da(d);\n      return c;\n    });\n  };\n\n  k.Tc = function (a, b) {\n    var c = this;\n    return this.i.then(function () {\n      return Qn(c, O(c.a, bh, {\n        email: a,\n        password: b\n      }));\n    });\n  };\n\n  k.dc = function (a, b) {\n    var c = this;\n    return this.i.then(function () {\n      return Qn(c, O(c.a, Fj, {\n        email: a,\n        password: b\n      }));\n    });\n  };\n\n  k.Za = function (a) {\n    var b = this;\n    return this.i.then(function () {\n      return Qn(b, a.ja(b.a));\n    });\n  };\n\n  k.Rc = function (a) {\n    hf("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead.");\n    return this.Za(a);\n  };\n\n  k.yb = function () {\n    var a = this;\n    return this.i.then(function () {\n      var b = U(a);\n\n      if (b && b.isAnonymous) {\n        var c = lf({\n          providerId: null,\n          isNewUser: !1\n        });\n        return lf({\n          user: b,\n          credential: null,\n          additionalUserInfo: c,\n          operationType: "signIn"\n        });\n      }\n\n      return Qn(a, a.a.yb()).then(function (d) {\n        var e = d.user;\n        bn(e, "isAnonymous", !0);\n        a.da(e);\n        return d;\n      });\n    });\n  };\n\n  function S(a) {\n    return a.app;\n  }\n\n  function U(a) {\n    return a.currentUser;\n  }\n\n  k.getUid = function () {\n    return U(this) && U(this).uid || null;\n  };\n\n  function Wn(a) {\n    return U(a) && U(a)._lat || null;\n  }\n\n  function Sn(a) {\n    if (a.ba) {\n      for (var b = 0; b < a.u.length; b++) {\n        if (a.u[b]) a.u[b](Wn(a));\n      }\n\n      if (a.X !== a.getUid() && a.P.length) for (a.X = a.getUid(), b = 0; b < a.P.length; b++) {\n        if (a.P[b]) a.P[b](Wn(a));\n      }\n    }\n  }\n\n  k.cc = function (a) {\n    this.addAuthTokenListener(a);\n    this.A++;\n    0 < this.A && U(this) && Sm(U(this));\n  };\n\n  k.Oc = function (a) {\n    var b = this;\n    w(this.u, function (c) {\n      c == a && b.A--;\n    });\n    0 > this.A && (this.A = 0);\n    0 == this.A && U(this) && Tm(U(this));\n    this.removeAuthTokenListener(a);\n  };\n\n  k.addAuthTokenListener = function (a) {\n    var b = this;\n    this.u.push(a);\n    T(this, this.i.then(function () {\n      b.m || Va(b.u, a) && a(Wn(b));\n    }));\n  };\n\n  k.removeAuthTokenListener = function (a) {\n    Xa(this.u, function (b) {\n      return b == a;\n    });\n  };\n\n  function Vn(a, b) {\n    a.P.push(b);\n    T(a, a.i.then(function () {\n      !a.m && Va(a.P, b) && a.X !== a.getUid() && (a.X = a.getUid(), b(Wn(a)));\n    }));\n  }\n\n  k.delete = function () {\n    this.m = !0;\n\n    for (var a = 0; a < this.R.length; a++) {\n      this.R[a].cancel("app-deleted");\n    }\n\n    this.R = [];\n    this.l && (a = this.l, a.b.removeListener(xn("local"), a.a, this.pa));\n    this.b && (Rl(this.b, this), am(this.b.b));\n    return Promise.resolve();\n  };\n\n  function T(a, b) {\n    a.R.push(b);\n    b.na(function () {\n      Wa(a.R, b);\n    });\n    return b;\n  }\n\n  k.gc = function (a) {\n    return T(this, bj(this.a, a));\n  };\n\n  k.Ac = function (a) {\n    return !!gh(a);\n  };\n\n  k.vb = function (a, b) {\n    var c = this;\n    return T(this, E().then(function () {\n      var d = new Tf(b);\n      if (!d.c) throw new t("argument-error", ag + " must be true when sending sign in link to email");\n      return cg(d);\n    }).then(function (d) {\n      return c.a.vb(a, d);\n    }).then(function () {}));\n  };\n\n  k.hd = function (a) {\n    return this.Qa(a).then(function (b) {\n      return b.data.email;\n    });\n  };\n\n  k.mb = function (a, b) {\n    return T(this, this.a.mb(a, b).then(function () {}));\n  };\n\n  k.Qa = function (a) {\n    return T(this, this.a.Qa(a).then(function (b) {\n      return new wf(b);\n    }));\n  };\n\n  k.ib = function (a) {\n    return T(this, this.a.ib(a).then(function () {}));\n  };\n\n  k.ub = function (a, b) {\n    var c = this;\n    return T(this, E().then(function () {\n      return "undefined" === typeof b || mb(b) ? {} : cg(new Tf(b));\n    }).then(function (d) {\n      return c.a.ub(a, d);\n    }).then(function () {}));\n  };\n\n  k.Vc = function (a, b) {\n    return T(this, hm(this, a, b, q(this.Za, this)));\n  };\n\n  k.Uc = function (a, b) {\n    var c = this;\n    return T(this, E().then(function () {\n      var d = b || re(),\n          e = fh(a, d);\n      d = gh(d);\n      if (!d) throw new t("argument-error", "Invalid email link!");\n      if (d.tenantId !== c.S()) throw new t("tenant-id-mismatch");\n      return c.Za(e);\n    }));\n  };\n\n  function Xn() {}\n\n  Xn.prototype.render = function () {};\n\n  Xn.prototype.reset = function () {};\n\n  Xn.prototype.getResponse = function () {};\n\n  Xn.prototype.execute = function () {};\n\n  function Yn() {\n    this.a = {};\n    this.b = 1E12;\n  }\n\n  var Zn = null;\n\n  Yn.prototype.render = function (a, b) {\n    this.a[this.b.toString()] = new $n(a, b);\n    return this.b++;\n  };\n\n  Yn.prototype.reset = function (a) {\n    var b = ao(this, a);\n    a = bo(a);\n    b && a && (b.delete(), delete this.a[a]);\n  };\n\n  Yn.prototype.getResponse = function (a) {\n    return (a = ao(this, a)) ? a.getResponse() : null;\n  };\n\n  Yn.prototype.execute = function (a) {\n    (a = ao(this, a)) && a.execute();\n  };\n\n  function ao(a, b) {\n    return (b = bo(b)) ? a.a[b] || null : null;\n  }\n\n  function bo(a) {\n    return (a = "undefined" === typeof a ? 1E12 : a) ? a.toString() : null;\n  }\n\n  function $n(a, b) {\n    this.g = !1;\n    this.c = b;\n    this.a = this.b = null;\n    this.h = "invisible" !== this.c.size;\n    this.f = kc(a);\n    var c = this;\n\n    this.i = function () {\n      c.execute();\n    };\n\n    this.h ? this.execute() : nd(this.f, "click", this.i);\n  }\n\n  $n.prototype.getResponse = function () {\n    co(this);\n    return this.b;\n  };\n\n  $n.prototype.execute = function () {\n    co(this);\n    var a = this;\n    this.a || (this.a = setTimeout(function () {\n      a.b = Me();\n      var b = a.c.callback,\n          c = a.c["expired-callback"];\n      if (b) try {\n        b(a.b);\n      } catch (d) {}\n      a.a = setTimeout(function () {\n        a.a = null;\n        a.b = null;\n        if (c) try {\n          c();\n        } catch (d) {}\n        a.h && a.execute();\n      }, 6E4);\n    }, 500));\n  };\n\n  $n.prototype.delete = function () {\n    co(this);\n    this.g = !0;\n    clearTimeout(this.a);\n    this.a = null;\n    H(this.f, "click", this.i);\n  };\n\n  function co(a) {\n    if (a.g) throw Error("reCAPTCHA mock was already deleted!");\n  }\n\n  ;\n\n  function eo() {}\n\n  M(eo, "FACTOR_ID", "phone");\n\n  function fo() {}\n\n  fo.prototype.g = function () {\n    Zn || (Zn = new Yn());\n    return E(Zn);\n  };\n\n  fo.prototype.c = function () {};\n\n  var go = null;\n\n  function ho() {\n    this.b = l.grecaptcha ? Infinity : 0;\n    this.f = null;\n    this.a = "__rcb" + Math.floor(1E6 * Math.random()).toString();\n  }\n\n  var io = new qb(rb, "https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),\n      jo = new Ze(3E4, 6E4);\n\n  ho.prototype.g = function (a) {\n    var b = this;\n    return new D(function (c, d) {\n      var e = setTimeout(function () {\n        d(new t("network-request-failed"));\n      }, jo.get());\n\n      if (!l.grecaptcha || a !== b.f && !b.b) {\n        l[b.a] = function () {\n          if (l.grecaptcha) {\n            b.f = a;\n            var g = l.grecaptcha.render;\n\n            l.grecaptcha.render = function (h, n) {\n              h = g(h, n);\n              b.b++;\n              return h;\n            };\n\n            clearTimeout(e);\n            c(l.grecaptcha);\n          } else clearTimeout(e), d(new t("internal-error"));\n\n          delete l[b.a];\n        };\n\n        var f = zb(io, {\n          onload: b.a,\n          hl: a || ""\n        });\n        E(Ci(f)).s(function () {\n          clearTimeout(e);\n          d(new t("internal-error", "Unable to load external reCAPTCHA dependencies!"));\n        });\n      } else clearTimeout(e), c(l.grecaptcha);\n    });\n  };\n\n  ho.prototype.c = function () {\n    this.b--;\n  };\n\n  var ko = null;\n\n  function lo(a, b, c, d, e, f, g) {\n    M(this, "type", "recaptcha");\n    this.c = this.f = null;\n    this.A = !1;\n    this.m = b;\n    this.g = null;\n    g ? (go || (go = new fo()), g = go) : (ko || (ko = new ho()), g = ko);\n    this.v = g;\n    this.a = c || {\n      theme: "light",\n      type: "image"\n    };\n    this.h = [];\n    if (this.a[mo]) throw new t("argument-error", "sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");\n    this.i = "invisible" === this.a[no];\n    if (!l.document) throw new t("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");\n    if (!kc(b) || !this.i && kc(b).hasChildNodes()) throw new t("argument-error", "reCAPTCHA container is either not found or already contains inner elements!");\n    this.o = new Ji(a, f || null, e || null);\n\n    this.u = d || function () {\n      return null;\n    };\n\n    var h = this;\n    this.l = [];\n    var n = this.a[oo];\n\n    this.a[oo] = function (v) {\n      po(h, v);\n      if ("function" === typeof n) n(v);else if ("string" === typeof n) {\n        var B = L(n, l);\n        "function" === typeof B && B(v);\n      }\n    };\n\n    var p = this.a[qo];\n\n    this.a[qo] = function () {\n      po(h, null);\n      if ("function" === typeof p) p();else if ("string" === typeof p) {\n        var v = L(p, l);\n        "function" === typeof v && v();\n      }\n    };\n  }\n\n  var oo = "callback",\n      qo = "expired-callback",\n      mo = "sitekey",\n      no = "size";\n\n  function po(a, b) {\n    for (var c = 0; c < a.l.length; c++) {\n      try {\n        a.l[c](b);\n      } catch (d) {}\n    }\n  }\n\n  function ro(a, b) {\n    Xa(a.l, function (c) {\n      return c == b;\n    });\n  }\n\n  function so(a, b) {\n    a.h.push(b);\n    b.na(function () {\n      Wa(a.h, b);\n    });\n    return b;\n  }\n\n  k = lo.prototype;\n\n  k.Ia = function () {\n    var a = this;\n    return this.f ? this.f : this.f = so(this, E().then(function () {\n      if (Se() && !Je()) return Ee();\n      throw new t("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.");\n    }).then(function () {\n      return a.v.g(a.u());\n    }).then(function (b) {\n      a.g = b;\n      return O(a.o, Kj, {});\n    }).then(function (b) {\n      a.a[mo] = b.recaptchaSiteKey;\n    }).s(function (b) {\n      a.f = null;\n      throw b;\n    }));\n  };\n\n  k.render = function () {\n    to(this);\n    var a = this;\n    return so(this, this.Ia().then(function () {\n      if (null === a.c) {\n        var b = a.m;\n\n        if (!a.i) {\n          var c = kc(b);\n          b = nc("DIV");\n          c.appendChild(b);\n        }\n\n        a.c = a.g.render(b, a.a);\n      }\n\n      return a.c;\n    }));\n  };\n\n  k.verify = function () {\n    to(this);\n    var a = this;\n    return so(this, this.render().then(function (b) {\n      return new D(function (c) {\n        var d = a.g.getResponse(b);\n        if (d) c(d);else {\n          var e = function e(f) {\n            f && (ro(a, e), c(f));\n          };\n\n          a.l.push(e);\n          a.i && a.g.execute(a.c);\n        }\n      });\n    }));\n  };\n\n  k.reset = function () {\n    to(this);\n    null !== this.c && this.g.reset(this.c);\n  };\n\n  function to(a) {\n    if (a.A) throw new t("internal-error", "RecaptchaVerifier instance has been destroyed.");\n  }\n\n  k.clear = function () {\n    to(this);\n    this.A = !0;\n    this.v.c();\n\n    for (var a = 0; a < this.h.length; a++) {\n      this.h[a].cancel("RecaptchaVerifier instance has been destroyed.");\n    }\n\n    if (!this.i) {\n      a = kc(this.m);\n\n      for (var b; b = a.firstChild;) {\n        a.removeChild(b);\n      }\n    }\n  };\n\n  function uo(a, b, c) {\n    var d = !1;\n\n    try {\n      this.b = c || _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].app();\n    } catch (g) {\n      throw new t("argument-error", "No firebase.app.App instance is currently initialized.");\n    }\n\n    if (this.b.options && this.b.options.apiKey) c = this.b.options.apiKey;else throw new t("invalid-api-key");\n    var e = this,\n        f = null;\n\n    try {\n      f = this.b.auth().Ga();\n    } catch (g) {}\n\n    try {\n      d = this.b.auth().settings.appVerificationDisabledForTesting;\n    } catch (g) {}\n\n    f = _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION ? Oe(_firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].SDK_VERSION, f) : null;\n    lo.call(this, c, a, b, function () {\n      try {\n        var g = e.b.auth().ka();\n      } catch (h) {\n        g = null;\n      }\n\n      return g;\n    }, f, Ca(Da), d);\n  }\n\n  r(uo, lo);\n\n  function vo(a, b, c, d) {\n    a: {\n      c = Array.prototype.slice.call(c);\n      var e = 0;\n\n      for (var f = !1, g = 0; g < b.length; g++) {\n        if (b[g].optional) f = !0;else {\n          if (f) throw new t("internal-error", "Argument validator encountered a required argument after an optional argument.");\n          e++;\n        }\n      }\n\n      f = b.length;\n      if (c.length < e || f < c.length) d = "Expected " + (e == f ? 1 == e ? "1 argument" : e + " arguments" : e + "-" + f + " arguments") + " but got " + c.length + ".";else {\n        for (e = 0; e < c.length; e++) {\n          if (f = b[e].optional && void 0 === c[e], !b[e].K(c[e]) && !f) {\n            b = b[e];\n            if (0 > e || e >= wo.length) throw new t("internal-error", "Argument validator received an unsupported number of arguments.");\n            c = wo[e];\n            d = (d ? "" : c + " argument ") + (b.name ? \'"\' + b.name + \'" \' : "") + "must be " + b.J + ".";\n            break a;\n          }\n        }\n\n        d = null;\n      }\n    }\n\n    if (d) throw new t("argument-error", a + " failed: " + d);\n  }\n\n  var wo = "First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");\n\n  function V(a, b) {\n    return {\n      name: a || "",\n      J: "a valid string",\n      optional: !!b,\n      K: function K(c) {\n        return "string" === typeof c;\n      }\n    };\n  }\n\n  function xo(a, b) {\n    return {\n      name: a || "",\n      J: "a boolean",\n      optional: !!b,\n      K: function K(c) {\n        return "boolean" === typeof c;\n      }\n    };\n  }\n\n  function W(a, b) {\n    return {\n      name: a || "",\n      J: "a valid object",\n      optional: !!b,\n      K: m\n    };\n  }\n\n  function yo(a, b) {\n    return {\n      name: a || "",\n      J: "a function",\n      optional: !!b,\n      K: function K(c) {\n        return "function" === typeof c;\n      }\n    };\n  }\n\n  function zo(a, b) {\n    return {\n      name: a || "",\n      J: "null",\n      optional: !!b,\n      K: function K(c) {\n        return null === c;\n      }\n    };\n  }\n\n  function Ao() {\n    return {\n      name: "",\n      J: "an HTML element",\n      optional: !1,\n      K: function K(a) {\n        return !!(a && a instanceof Element);\n      }\n    };\n  }\n\n  function Bo() {\n    return {\n      name: "auth",\n      J: "an instance of Firebase Auth",\n      optional: !0,\n      K: function K(a) {\n        return !!(a && a instanceof Fn);\n      }\n    };\n  }\n\n  function Co() {\n    return {\n      name: "app",\n      J: "an instance of Firebase App",\n      optional: !0,\n      K: function K(a) {\n        return !!(a && a instanceof _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].app.App);\n      }\n    };\n  }\n\n  function Do(a) {\n    return {\n      name: a ? a + "Credential" : "credential",\n      J: a ? "a valid " + a + " credential" : "a valid credential",\n      optional: !1,\n      K: function K(b) {\n        if (!b) return !1;\n        var c = !a || b.providerId === a;\n        return !(!b.ja || !c);\n      }\n    };\n  }\n\n  function Eo() {\n    return {\n      name: "multiFactorAssertion",\n      J: "a valid multiFactorAssertion",\n      optional: !1,\n      K: function K(a) {\n        return a ? !!a.rb : !1;\n      }\n    };\n  }\n\n  function Fo() {\n    return {\n      name: "authProvider",\n      J: "a valid Auth provider",\n      optional: !1,\n      K: function K(a) {\n        return !!(a && a.providerId && a.hasOwnProperty && a.hasOwnProperty("isOAuthProvider"));\n      }\n    };\n  }\n\n  function Go(a, b) {\n    return m(a) && "string" === typeof a.type && a.type === b && "function" === typeof a.Ha;\n  }\n\n  function Ho(a) {\n    return m(a) && "string" === typeof a.uid;\n  }\n\n  function Io() {\n    return {\n      name: "applicationVerifier",\n      J: "an implementation of firebase.auth.ApplicationVerifier",\n      optional: !1,\n      K: function K(a) {\n        return !(!a || "string" !== typeof a.type || "function" !== typeof a.verify);\n      }\n    };\n  }\n\n  function X(a, b, c, d) {\n    return {\n      name: c || "",\n      J: a.J + " or " + b.J,\n      optional: !!d,\n      K: function K(e) {\n        return a.K(e) || b.K(e);\n      }\n    };\n  }\n\n  ;\n\n  function Y(a, b) {\n    for (var c in b) {\n      var d = b[c].name;\n      a[d] = Jo(d, a[c], b[c].j);\n    }\n  }\n\n  function Ko(a, b) {\n    for (var c in b) {\n      var d = b[c].name;\n      d !== c && Object.defineProperty(a, d, {\n        get: ua(function (e) {\n          return this[e];\n        }, c),\n        set: ua(function (e, f, g, h) {\n          vo(e, [g], [h], !0);\n          this[f] = h;\n        }, d, c, b[c].jb),\n        enumerable: !0\n      });\n    }\n  }\n\n  function Z(a, b, c, d) {\n    a[b] = Jo(b, c, d);\n  }\n\n  function Jo(a, b, c) {\n    function d() {\n      var g = Array.prototype.slice.call(arguments);\n      vo(e, c, g);\n      return b.apply(this, g);\n    }\n\n    if (!c) return b;\n    var e = Lo(a),\n        f;\n\n    for (f in b) {\n      d[f] = b[f];\n    }\n\n    for (f in b.prototype) {\n      d.prototype[f] = b.prototype[f];\n    }\n\n    return d;\n  }\n\n  function Lo(a) {\n    a = a.split(".");\n    return a[a.length - 1];\n  }\n\n  ;\n  Y(Fn.prototype, {\n    ib: {\n      name: "applyActionCode",\n      j: [V("code")]\n    },\n    Qa: {\n      name: "checkActionCode",\n      j: [V("code")]\n    },\n    mb: {\n      name: "confirmPasswordReset",\n      j: [V("code"), V("newPassword")]\n    },\n    dc: {\n      name: "createUserWithEmailAndPassword",\n      j: [V("email"), V("password")]\n    },\n    gc: {\n      name: "fetchSignInMethodsForEmail",\n      j: [V("email")]\n    },\n    qa: {\n      name: "getRedirectResult",\n      j: []\n    },\n    Ac: {\n      name: "isSignInWithEmailLink",\n      j: [V("emailLink")]\n    },\n    Gc: {\n      name: "onAuthStateChanged",\n      j: [X(W(), yo(), "nextOrObserver"), yo("opt_error", !0), yo("opt_completed", !0)]\n    },\n    Hc: {\n      name: "onIdTokenChanged",\n      j: [X(W(), yo(), "nextOrObserver"), yo("opt_error", !0), yo("opt_completed", !0)]\n    },\n    ub: {\n      name: "sendPasswordResetEmail",\n      j: [V("email"), X(W("opt_actionCodeSettings", !0), zo(null, !0), "opt_actionCodeSettings", !0)]\n    },\n    vb: {\n      name: "sendSignInLinkToEmail",\n      j: [V("email"), W("actionCodeSettings")]\n    },\n    wb: {\n      name: "setPersistence",\n      j: [V("persistence")]\n    },\n    Rc: {\n      name: "signInAndRetrieveDataWithCredential",\n      j: [Do()]\n    },\n    yb: {\n      name: "signInAnonymously",\n      j: []\n    },\n    Za: {\n      name: "signInWithCredential",\n      j: [Do()]\n    },\n    Sc: {\n      name: "signInWithCustomToken",\n      j: [V("token")]\n    },\n    Tc: {\n      name: "signInWithEmailAndPassword",\n      j: [V("email"), V("password")]\n    },\n    Uc: {\n      name: "signInWithEmailLink",\n      j: [V("email"), V("emailLink", !0)]\n    },\n    Vc: {\n      name: "signInWithPhoneNumber",\n      j: [V("phoneNumber"), Io()]\n    },\n    Wc: {\n      name: "signInWithPopup",\n      j: [Fo()]\n    },\n    Xc: {\n      name: "signInWithRedirect",\n      j: [Fo()]\n    },\n    cd: {\n      name: "updateCurrentUser",\n      j: [X(function (a) {\n        return {\n          name: "user",\n          J: "an instance of Firebase User",\n          optional: !!a,\n          K: function K(b) {\n            return !!(b && b instanceof Jm);\n          }\n        };\n      }(), zo(), "user")]\n    },\n    zb: {\n      name: "signOut",\n      j: []\n    },\n    toJSON: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    },\n    ed: {\n      name: "useDeviceLanguage",\n      j: []\n    },\n    fd: {\n      name: "useEmulator",\n      j: [V("url")]\n    },\n    hd: {\n      name: "verifyPasswordResetCode",\n      j: [V("code")]\n    }\n  });\n  Ko(Fn.prototype, {\n    lc: {\n      name: "languageCode",\n      jb: X(V(), zo(), "languageCode")\n    },\n    ti: {\n      name: "tenantId",\n      jb: X(V(), zo(), "tenantId")\n    }\n  });\n  Fn.Persistence = Sk;\n  Fn.Persistence.LOCAL = "local";\n  Fn.Persistence.SESSION = "session";\n  Fn.Persistence.NONE = "none";\n  Y(Jm.prototype, {\n    "delete": {\n      name: "delete",\n      j: []\n    },\n    nc: {\n      name: "getIdTokenResult",\n      j: [xo("opt_forceRefresh", !0)]\n    },\n    I: {\n      name: "getIdToken",\n      j: [xo("opt_forceRefresh", !0)]\n    },\n    Bc: {\n      name: "linkAndRetrieveDataWithCredential",\n      j: [Do()]\n    },\n    pb: {\n      name: "linkWithCredential",\n      j: [Do()]\n    },\n    Cc: {\n      name: "linkWithPhoneNumber",\n      j: [V("phoneNumber"), Io()]\n    },\n    Dc: {\n      name: "linkWithPopup",\n      j: [Fo()]\n    },\n    Ec: {\n      name: "linkWithRedirect",\n      j: [Fo()]\n    },\n    Kc: {\n      name: "reauthenticateAndRetrieveDataWithCredential",\n      j: [Do()]\n    },\n    sb: {\n      name: "reauthenticateWithCredential",\n      j: [Do()]\n    },\n    Lc: {\n      name: "reauthenticateWithPhoneNumber",\n      j: [V("phoneNumber"), Io()]\n    },\n    Mc: {\n      name: "reauthenticateWithPopup",\n      j: [Fo()]\n    },\n    Nc: {\n      name: "reauthenticateWithRedirect",\n      j: [Fo()]\n    },\n    reload: {\n      name: "reload",\n      j: []\n    },\n    tb: {\n      name: "sendEmailVerification",\n      j: [X(W("opt_actionCodeSettings", !0), zo(null, !0), "opt_actionCodeSettings", !0)]\n    },\n    toJSON: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    },\n    bd: {\n      name: "unlink",\n      j: [V("provider")]\n    },\n    Ab: {\n      name: "updateEmail",\n      j: [V("email")]\n    },\n    Bb: {\n      name: "updatePassword",\n      j: [V("password")]\n    },\n    dd: {\n      name: "updatePhoneNumber",\n      j: [Do("phone")]\n    },\n    Cb: {\n      name: "updateProfile",\n      j: [W("profile")]\n    },\n    Db: {\n      name: "verifyBeforeUpdateEmail",\n      j: [V("email"), X(W("opt_actionCodeSettings", !0), zo(null, !0), "opt_actionCodeSettings", !0)]\n    }\n  });\n  Y(Yn.prototype, {\n    execute: {\n      name: "execute"\n    },\n    render: {\n      name: "render"\n    },\n    reset: {\n      name: "reset"\n    },\n    getResponse: {\n      name: "getResponse"\n    }\n  });\n  Y(Xn.prototype, {\n    execute: {\n      name: "execute"\n    },\n    render: {\n      name: "render"\n    },\n    reset: {\n      name: "reset"\n    },\n    getResponse: {\n      name: "getResponse"\n    }\n  });\n  Y(D.prototype, {\n    na: {\n      name: "finally"\n    },\n    s: {\n      name: "catch"\n    },\n    then: {\n      name: "then"\n    }\n  });\n  Ko(fm.prototype, {\n    appVerificationDisabled: {\n      name: "appVerificationDisabledForTesting",\n      jb: xo("appVerificationDisabledForTesting")\n    }\n  });\n  Y(gm.prototype, {\n    confirm: {\n      name: "confirm",\n      j: [V("verificationCode")]\n    }\n  });\n  Z(Cg, "fromJSON", function (a) {\n    a = "string" === typeof a ? JSON.parse(a) : a;\n\n    for (var b, c = [Ng, eh, lh, Kg], d = 0; d < c.length; d++) {\n      if (b = c[d](a)) return b;\n    }\n\n    return null;\n  }, [X(V(), W(), "json")]);\n  Z($g, "credential", function (a, b) {\n    return new Zg(a, b);\n  }, [V("email"), V("password")]);\n  Y(Zg.prototype, {\n    w: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(Rg.prototype, {\n    Ca: {\n      name: "addScope",\n      j: [V("scope")]\n    },\n    Ka: {\n      name: "setCustomParameters",\n      j: [W("customOAuthParameters")]\n    }\n  });\n  Z(Rg, "credential", Sg, [X(V(), W(), "token")]);\n  Z($g, "credentialWithLink", fh, [V("email"), V("emailLink")]);\n  Y(Tg.prototype, {\n    Ca: {\n      name: "addScope",\n      j: [V("scope")]\n    },\n    Ka: {\n      name: "setCustomParameters",\n      j: [W("customOAuthParameters")]\n    }\n  });\n  Z(Tg, "credential", Ug, [X(V(), W(), "token")]);\n  Y(Vg.prototype, {\n    Ca: {\n      name: "addScope",\n      j: [V("scope")]\n    },\n    Ka: {\n      name: "setCustomParameters",\n      j: [W("customOAuthParameters")]\n    }\n  });\n  Z(Vg, "credential", Wg, [X(V(), X(W(), zo()), "idToken"), X(V(), zo(), "accessToken", !0)]);\n  Y(Xg.prototype, {\n    Ka: {\n      name: "setCustomParameters",\n      j: [W("customOAuthParameters")]\n    }\n  });\n  Z(Xg, "credential", Yg, [X(V(), W(), "token"), V("secret", !0)]);\n  Y(Qg.prototype, {\n    Ca: {\n      name: "addScope",\n      j: [V("scope")]\n    },\n    credential: {\n      name: "credential",\n      j: [X(V(), X(W(), zo()), "optionsOrIdToken"), X(V(), zo(), "accessToken", !0)]\n    },\n    Ka: {\n      name: "setCustomParameters",\n      j: [W("customOAuthParameters")]\n    }\n  });\n  Y(Lg.prototype, {\n    w: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(Fg.prototype, {\n    w: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Z(mh, "credential", qh, [V("verificationId"), V("verificationCode")]);\n  Y(mh.prototype, {\n    eb: {\n      name: "verifyPhoneNumber",\n      j: [X(V(), function (a, b) {\n        return {\n          name: a || "phoneInfoOptions",\n          J: "valid phone info options",\n          optional: !!b,\n          K: function K(c) {\n            return c ? c.session && c.phoneNumber ? Go(c.session, Ag) && "string" === typeof c.phoneNumber : c.session && c.multiFactorHint ? Go(c.session, Bg) && Ho(c.multiFactorHint) : c.session && c.multiFactorUid ? Go(c.session, Bg) && "string" === typeof c.multiFactorUid : c.phoneNumber ? "string" === typeof c.phoneNumber : !1 : !1;\n          }\n        };\n      }(), "phoneInfoOptions"), Io()]\n    }\n  });\n  Y(hh.prototype, {\n    w: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(t.prototype, {\n    toJSON: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(zh.prototype, {\n    toJSON: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(yh.prototype, {\n    toJSON: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(mm.prototype, {\n    toJSON: {\n      name: "toJSON",\n      j: [V(null, !0)]\n    }\n  });\n  Y(jm.prototype, {\n    Qc: {\n      name: "resolveSignIn",\n      j: [Eo()]\n    }\n  });\n  Y(um.prototype, {\n    Qb: {\n      name: "getSession",\n      j: []\n    },\n    ec: {\n      name: "enroll",\n      j: [Eo(), V("displayName", !0)]\n    },\n    ad: {\n      name: "unenroll",\n      j: [X({\n        name: "multiFactorInfo",\n        J: "a valid multiFactorInfo",\n        optional: !1,\n        K: Ho\n      }, V(), "multiFactorInfoIdentifier")]\n    }\n  });\n  Y(uo.prototype, {\n    clear: {\n      name: "clear",\n      j: []\n    },\n    render: {\n      name: "render",\n      j: []\n    },\n    verify: {\n      name: "verify",\n      j: []\n    }\n  });\n  Z(Kf, "parseLink", Sf, [V("link")]);\n  Z(eo, "assertion", function (a) {\n    return new sm(a);\n  }, [Do("phone")]);\n\n  (function () {\n    if ("undefined" !== typeof _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL && _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.registerComponent) {\n      var a = {\n        ActionCodeInfo: {\n          Operation: {\n            EMAIL_SIGNIN: Bf,\n            PASSWORD_RESET: "PASSWORD_RESET",\n            RECOVER_EMAIL: "RECOVER_EMAIL",\n            REVERT_SECOND_FACTOR_ADDITION: Df,\n            VERIFY_AND_CHANGE_EMAIL: Cf,\n            VERIFY_EMAIL: "VERIFY_EMAIL"\n          }\n        },\n        Auth: Fn,\n        AuthCredential: Cg,\n        Error: t\n      };\n      Z(a, "EmailAuthProvider", $g, []);\n      Z(a, "FacebookAuthProvider", Rg, []);\n      Z(a, "GithubAuthProvider", Tg, []);\n      Z(a, "GoogleAuthProvider", Vg, []);\n      Z(a, "TwitterAuthProvider", Xg, []);\n      Z(a, "OAuthProvider", Qg, [V("providerId")]);\n      Z(a, "SAMLAuthProvider", Pg, [V("providerId")]);\n      Z(a, "PhoneAuthProvider", mh, [Bo()]);\n      Z(a, "RecaptchaVerifier", uo, [X(V(), Ao(), "recaptchaContainer"), W("recaptchaParameters", !0), Co()]);\n      Z(a, "ActionCodeURL", Kf, []);\n      Z(a, "PhoneMultiFactorGenerator", eo, []);\n      _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.registerComponent({\n        name: "auth",\n        instanceFactory: function instanceFactory(b) {\n          b = b.getProvider("app").getImmediate();\n          return new Fn(b);\n        },\n        multipleInstances: !1,\n        serviceProps: a,\n        instantiationMode: "LAZY",\n        type: "PUBLIC"\n      });\n      _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.registerComponent({\n        name: "auth-internal",\n        instanceFactory: function instanceFactory(b) {\n          b = b.getProvider("auth").getImmediate();\n          return {\n            getUid: q(b.getUid, b),\n            getToken: q(b.mc, b),\n            addAuthTokenListener: q(b.cc, b),\n            removeAuthTokenListener: q(b.Oc, b)\n          };\n        },\n        multipleInstances: !1,\n        instantiationMode: "LAZY",\n        type: "PRIVATE"\n      });\n      _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].registerVersion("@firebase/auth", "0.15.2");\n      _firebase_app__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].INTERNAL.extendNamespace({\n        User: Jm\n      });\n    } else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");\n  })();\n}).apply(typeof global !== \'undefined\' ? global : typeof self !== \'undefined\' ? self : typeof window !== \'undefined\' ? window : {});\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("yLpj")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2F1dGgvZGlzdC9hdXRoLmVzbS5qcz84OTJmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixrQkFBa0I7QUFDdkM7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSx5QkFBeUI7QUFDckM7QUFDQTs7QUFFQSx1QkFBdUIsY0FBYztBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0ZBQWtGLG1DQUFtQztBQUNySDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0EseUNBQXlDLFNBQVM7QUFDbEQ7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQSxHQUFHO0FBQ0gsbUJBQW1CO0FBQ25CO0FBQ0EsMEJBQTBCLElBQUk7QUFDOUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtFQUFrRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsOEVBQThFLE9BQU87QUFDckY7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkVBQTJFLFFBQVE7QUFDbkY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsNkZBQTZGLE9BQU87QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNILDRGQUE0RixPQUFPO0FBQ25HO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSCw4RUFBOEUsT0FBTztBQUNyRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdGQUFnRixPQUFPO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtQ0FBbUMsT0FBTztBQUMxQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHlCQUF5QixzQkFBc0I7QUFDL0M7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixlQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1AscUVBQXFFO0FBQ3JFO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0JBQWtCLGVBQWU7QUFDakM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0JBQStCLGVBQWU7QUFDOUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBLGNBQWMsTUFBTTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQixlQUFlO0FBQ25DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd09BQXdPLGdCQUFnQjtBQUN4UCx1QkFBdUI7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHFCQUFxQixlQUFlO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFGQUFxRiwwQkFBMEI7QUFDL0c7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0VBQW9FLHFEQUFxRCxxREFBcUQsdURBQXVELHNEQUFzRCx3REFBd0Q7QUFDblY7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixRQUFRO0FBQ3ZDO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDJIQUEySCxpQkFBaUI7QUFDNUk7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsZUFBZSxVQUFVO0FBQ3pCO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTyxXQUFXLGNBQWM7QUFDaEM7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sV0FBVyxjQUFjO0FBQ2hDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvREFBb0QseURBQXlEO0FBQzdHO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsY0FBYztBQUM3QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxzQ0FBc0MsVUFBVTtBQUNoRDtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVCQUF1QixnQkFBZ0I7QUFDdkM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQSx1Q0FBdUMsMENBQTBDLGNBQWM7QUFDL0Y7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4R0FBOEcsMkRBQTJELDZEQUE2RDtBQUN0TztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlDQUF5QyxjQUFjO0FBQ3ZEO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0EseUNBQXlDLGNBQWM7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5RUFBeUUsY0FBYztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBOEIsY0FBYztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHFCQUFxQixHQUFHO0FBQ3hCO0FBQ0E7O0FBRUE7O0FBRUEsOEJBQThCLFFBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLEdBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msa0RBQWtEO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsUUFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUNBQW1DLGNBQWM7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCLGNBQWM7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGtDQUFrQywwRUFBMEU7QUFDNUc7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsT0FBTztBQUM5QjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEVBQTBFLHlEQUF5RCx3REFBd0QsT0FBTztBQUNsTTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHFCQUFxQixPQUFPO0FBQzVCO0FBQ0E7QUFDQSxLQUFLLHdEQUF3RCxjQUFjO0FBQzNFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLDJCQUEyQixtQkFBbUI7QUFDOUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQyxjQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSkFBa0osRUFBRTtBQUNwSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBOztBQUVBLCtCQUErQixjQUFjO0FBQzdDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwR0FBMEcsRUFBRTtBQUM1Rzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQSwyREFBMkQsY0FBYztBQUN6RSwrQkFBK0IsY0FBYztBQUM3QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtRkFBbUY7QUFDbkY7O0FBRUEscUJBQXFCLGNBQWM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQTtBQUNBOztBQUVBLHFCQUFxQixjQUFjO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUMsT0FBTztBQUN4QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxnR0FBZ0c7QUFDaEcsbUJBQW1CO0FBQ25COztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNGFBQTRhO0FBQzVhLDZEQUE2RCx3SkFBd0o7QUFDck4sS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQyxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsZ0JBQWdCLElBQUksS0FBSyxJQUFJLEtBQUssSUFBSSxLQUFLLElBQUk7QUFDL0M7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLDZEQUFRLDBEQUEwRCw2REFBUTtBQUNyRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixtREFBbUQ7QUFDdEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUhBQW1ILGlCQUFpQjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsY0FBYztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNElBQTRJLE9BQU87QUFDbkoscURBQXFELGNBQWM7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSw2T0FBNk8seUhBQXlIO0FBQ3RXO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLDZEQUFRO0FBQzVCLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnQkFBZ0I7QUFDckM7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNkNBQTZDO0FBQy9FO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4R0FBOEcsY0FBYztBQUM1SDs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHVIQUF1SCxHQUFHO0FBQzFIO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsR0FBRzs7QUFFTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxnREFBZ0QsU0FBUztBQUN6RDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2RkFBNkY7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHFGQUFxRjtBQUNyRjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNElBQTRJLDJDQUEyQztBQUN2TDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2REFBUSxrQkFBa0IsNkRBQVE7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUEscUVBQXFFLE9BQU87QUFDNUU7O0FBRUE7QUFDQSwyQkFBMkIsY0FBYyxlQUFlO0FBQ3hEO0FBQ0EsMkJBQTJCLGNBQWM7QUFDekM7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckMsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlCQUF5QjtBQUN6Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxpRUFBaUU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBLGtFQUFrRSxPQUFPO0FBQ3pFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7O0FBRUEsd0NBQXdDLDZCQUE2QjtBQUNyRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGdCQUFnQiw2REFBUTtBQUN4QixPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQkFBcUIsY0FBYztBQUNuQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDZEQUFRO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx1QkFBdUIsY0FBYztBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSyxrQkFBa0I7QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0Esa0JBQWtCLDZEQUFRLHlCQUF5Qiw2REFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0I7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxPQUFPLGtCQUFrQjtBQUN6QixLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBCQUEwQixrQkFBa0I7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLDZEQUFRO0FBQzdCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLDZEQUFRLGtCQUFrQiw2REFBUTtBQUN2RDs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsNkRBQVE7QUFDN0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVEsa0JBQWtCLDZEQUFRO0FBQ3ZEOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSwySkFBMko7QUFDM0o7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpREFBaUQsU0FBUztBQUMxRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLGNBQWM7QUFDMUQ7QUFDQTs7QUFFQSxnQkFBZ0IsUUFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsT0FBTztBQUM1QztBQUNBLEtBQUssdUJBQXVCLE9BQU87QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTs7QUFFQTs7QUFFQSxtQkFBbUIsU0FBUztBQUM1QixzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCx1REFBdUQ7QUFDdEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWSw2REFBUTtBQUNwQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDOztBQUVBLDJCQUEyQixtQkFBbUI7QUFDOUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLDhDQUE4QztBQUM5QztBQUNBLFNBQVMscUJBQXFCLGtCQUFrQjtBQUNoRCxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLGdCQUFnQjtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUNBQW1DLGdCQUFnQjtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsT0FBTzs7QUFFUDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZEQUFRLGtCQUFrQiw2REFBUTtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZLDZEQUFRLGtCQUFrQiw2REFBUTtBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLDZEQUFRO0FBQ3JCLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLDJCQUEyQixnQkFBZ0I7QUFDM0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTCw4QkFBOEIsY0FBYztBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTCxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLDZEQUFRO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QyxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUsscUJBQXFCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSyxxQkFBcUI7QUFDMUI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkpBQTJKO0FBQzNKO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVCxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELDZEQUFRLGtCQUFrQiw2REFBUSw0RkFBNEY7QUFDckw7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2REFBUTtBQUN0QjtBQUNBLGNBQWMsNkRBQVE7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQSxlQUFlLDZEQUFRLGtCQUFrQiw2REFBUTtBQUNqRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtMQUFrTCw2REFBUTtBQUMxTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtCQUFrQjtBQUN2QjtBQUNBLEtBQUssa0JBQWtCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsZ0JBQWdCO0FBQ3JDO0FBQ0E7O0FBRUEseUVBQXlFLGdCQUFnQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUEsbUJBQW1CLG1CQUFtQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUsscUJBQXFCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLHNEQUFzRDtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxtREFBbUQ7QUFDbkQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25ELEtBQUs7QUFDTDtBQUNBLEtBQUsscUJBQXFCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdFQUF3RSxPQUFPLHNCQUFzQixHQUFHO0FBQ3hHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdDQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMEJBQTBCO0FBQzFCLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsa0JBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0IsNkRBQVE7QUFDNUIsS0FBSztBQUNMO0FBQ0E7O0FBRUEsMkVBQTJFO0FBQzNFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUwsUUFBUSw2REFBUSxrQkFBa0IsNkRBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLGNBQWM7QUFDM0Msa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMEtBQTBLO0FBQzFLLG1CQUFtQixjQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkRBQVE7QUFDNUM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSw0Q0FBNEMsY0FBYztBQUMxRDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLCtCQUErQiw2REFBUSxJQUFJLDZEQUFRLGFBQWEsNkRBQVE7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSw2REFBUTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU0sNkRBQVE7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU0sNkRBQVE7QUFDZCxNQUFNLDZEQUFRO0FBQ2Q7QUFDQSxPQUFPO0FBQ1AsS0FBSyxzREFBc0Q7QUFDM0QsR0FBRztBQUNILENBQUMsaUlBQWlJLEUiLCJmaWxlIjoidDZvRi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmaXJlYmFzZSBmcm9tICdAZmlyZWJhc2UvYXBwJztcbihmdW5jdGlvbiAoKSB7XG4gIC8qXG4gIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG4gIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gICovXG4gIHZhciBrLFxuICAgICAgYWEgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICBhICE9IEFycmF5LnByb3RvdHlwZSAmJiBhICE9IE9iamVjdC5wcm90b3R5cGUgJiYgKGFbYl0gPSBjLnZhbHVlKTtcbiAgfTtcblxuICBmdW5jdGlvbiBiYShhKSB7XG4gICAgYSA9IFtcIm9iamVjdFwiID09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93LCBcIm9iamVjdFwiID09IHR5cGVvZiBzZWxmICYmIHNlbGYsIFwib2JqZWN0XCIgPT0gdHlwZW9mIGdsb2JhbCAmJiBnbG9iYWwsIGFdO1xuXG4gICAgZm9yICh2YXIgYiA9IDA7IGIgPCBhLmxlbmd0aDsgKytiKSB7XG4gICAgICB2YXIgYyA9IGFbYl07XG4gICAgICBpZiAoYyAmJiBjLk1hdGggPT0gTWF0aCkgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIH1cblxuICB2YXIgY2EgPSBiYSh0aGlzKTtcblxuICBmdW5jdGlvbiBkYShhLCBiKSB7XG4gICAgaWYgKGIpIHtcbiAgICAgIHZhciBjID0gY2E7XG4gICAgICBhID0gYS5zcGxpdChcIi5cIik7XG5cbiAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgYS5sZW5ndGggLSAxOyBkKyspIHtcbiAgICAgICAgdmFyIGUgPSBhW2RdO1xuICAgICAgICBlIGluIGMgfHwgKGNbZV0gPSB7fSk7XG4gICAgICAgIGMgPSBjW2VdO1xuICAgICAgfVxuXG4gICAgICBhID0gYVthLmxlbmd0aCAtIDFdO1xuICAgICAgZCA9IGNbYV07XG4gICAgICBiID0gYihkKTtcbiAgICAgIGIgIT0gZCAmJiBudWxsICE9IGIgJiYgYWEoYywgYSwge1xuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiBiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlYShhKSB7XG4gICAgdmFyIGIgPSAwO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYiA8IGEubGVuZ3RoID8ge1xuICAgICAgICBkb25lOiAhMSxcbiAgICAgICAgdmFsdWU6IGFbYisrXVxuICAgICAgfSA6IHtcbiAgICAgICAgZG9uZTogITBcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZhKGEpIHtcbiAgICB2YXIgYiA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3IgJiYgYVtTeW1ib2wuaXRlcmF0b3JdO1xuICAgIHJldHVybiBiID8gYi5jYWxsKGEpIDoge1xuICAgICAgbmV4dDogZWEoYSlcbiAgICB9O1xuICB9XG5cbiAgZGEoXCJQcm9taXNlXCIsIGZ1bmN0aW9uIChhKSB7XG4gICAgZnVuY3Rpb24gYihnKSB7XG4gICAgICB0aGlzLmIgPSAwO1xuICAgICAgdGhpcy5jID0gdm9pZCAwO1xuICAgICAgdGhpcy5hID0gW107XG4gICAgICB2YXIgaCA9IHRoaXMuZigpO1xuXG4gICAgICB0cnkge1xuICAgICAgICBnKGgucmVzb2x2ZSwgaC5yZWplY3QpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICBoLnJlamVjdChuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjKCkge1xuICAgICAgdGhpcy5hID0gbnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkKGcpIHtcbiAgICAgIHJldHVybiBnIGluc3RhbmNlb2YgYiA/IGcgOiBuZXcgYihmdW5jdGlvbiAoaCkge1xuICAgICAgICBoKGcpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGEpIHJldHVybiBhO1xuXG4gICAgYy5wcm90b3R5cGUuYiA9IGZ1bmN0aW9uIChnKSB7XG4gICAgICBpZiAobnVsbCA9PSB0aGlzLmEpIHtcbiAgICAgICAgdGhpcy5hID0gW107XG4gICAgICAgIHZhciBoID0gdGhpcztcbiAgICAgICAgdGhpcy5jKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBoLmcoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYS5wdXNoKGcpO1xuICAgIH07XG5cbiAgICB2YXIgZSA9IGNhLnNldFRpbWVvdXQ7XG5cbiAgICBjLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGcpIHtcbiAgICAgIGUoZywgMCk7XG4gICAgfTtcblxuICAgIGMucHJvdG90eXBlLmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKDsgdGhpcy5hICYmIHRoaXMuYS5sZW5ndGg7KSB7XG4gICAgICAgIHZhciBnID0gdGhpcy5hO1xuICAgICAgICB0aGlzLmEgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8IGcubGVuZ3RoOyArK2gpIHtcbiAgICAgICAgICB2YXIgbiA9IGdbaF07XG4gICAgICAgICAgZ1toXSA9IG51bGw7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbigpO1xuICAgICAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgICAgIHRoaXMuZihwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5hID0gbnVsbDtcbiAgICB9O1xuXG4gICAgYy5wcm90b3R5cGUuZiA9IGZ1bmN0aW9uIChnKSB7XG4gICAgICB0aGlzLmMoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBnO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGIucHJvdG90eXBlLmYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnKHApIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgbiB8fCAobiA9ICEwLCBwLmNhbGwoaCwgdikpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICB2YXIgaCA9IHRoaXMsXG4gICAgICAgICAgbiA9ICExO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzb2x2ZTogZyh0aGlzLnYpLFxuICAgICAgICByZWplY3Q6IGcodGhpcy5nKVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgYi5wcm90b3R5cGUudiA9IGZ1bmN0aW9uIChnKSB7XG4gICAgICBpZiAoZyA9PT0gdGhpcykgdGhpcy5nKG5ldyBUeXBlRXJyb3IoXCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKTtlbHNlIGlmIChnIGluc3RhbmNlb2YgYikgdGhpcy5vKGcpO2Vsc2Uge1xuICAgICAgICBhOiBzd2l0Y2ggKHR5cGVvZiBnKSB7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgdmFyIGggPSBudWxsICE9IGc7XG4gICAgICAgICAgICBicmVhayBhO1xuXG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICBoID0gITA7XG4gICAgICAgICAgICBicmVhayBhO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGggPSAhMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGggPyB0aGlzLm0oZykgOiB0aGlzLmgoZyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGIucHJvdG90eXBlLm0gPSBmdW5jdGlvbiAoZykge1xuICAgICAgdmFyIGggPSB2b2lkIDA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGggPSBnLnRoZW47XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRoaXMuZyhuKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGggPyB0aGlzLnUoaCwgZykgOiB0aGlzLmgoZyk7XG4gICAgfTtcblxuICAgIGIucHJvdG90eXBlLmcgPSBmdW5jdGlvbiAoZykge1xuICAgICAgdGhpcy5pKDIsIGcpO1xuICAgIH07XG5cbiAgICBiLnByb3RvdHlwZS5oID0gZnVuY3Rpb24gKGcpIHtcbiAgICAgIHRoaXMuaSgxLCBnKTtcbiAgICB9O1xuXG4gICAgYi5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uIChnLCBoKSB7XG4gICAgICBpZiAoMCAhPSB0aGlzLmIpIHRocm93IEVycm9yKFwiQ2Fubm90IHNldHRsZShcIiArIGcgKyBcIiwgXCIgKyBoICsgXCIpOiBQcm9taXNlIGFscmVhZHkgc2V0dGxlZCBpbiBzdGF0ZVwiICsgdGhpcy5iKTtcbiAgICAgIHRoaXMuYiA9IGc7XG4gICAgICB0aGlzLmMgPSBoO1xuICAgICAgdGhpcy5sKCk7XG4gICAgfTtcblxuICAgIGIucHJvdG90eXBlLmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAobnVsbCAhPSB0aGlzLmEpIHtcbiAgICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCB0aGlzLmEubGVuZ3RoOyArK2cpIHtcbiAgICAgICAgICBmLmIodGhpcy5hW2ddKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYSA9IG51bGw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBmID0gbmV3IGMoKTtcblxuICAgIGIucHJvdG90eXBlLm8gPSBmdW5jdGlvbiAoZykge1xuICAgICAgdmFyIGggPSB0aGlzLmYoKTtcbiAgICAgIGcuUGEoaC5yZXNvbHZlLCBoLnJlamVjdCk7XG4gICAgfTtcblxuICAgIGIucHJvdG90eXBlLnUgPSBmdW5jdGlvbiAoZywgaCkge1xuICAgICAgdmFyIG4gPSB0aGlzLmYoKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgZy5jYWxsKGgsIG4ucmVzb2x2ZSwgbi5yZWplY3QpO1xuICAgICAgfSBjYXRjaCAocCkge1xuICAgICAgICBuLnJlamVjdChwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgYi5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChnLCBoKSB7XG4gICAgICBmdW5jdGlvbiBuKEEsIFEpIHtcbiAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgQSA/IGZ1bmN0aW9uICh4YSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwKEEoeGEpKTtcbiAgICAgICAgICB9IGNhdGNoIChBZCkge1xuICAgICAgICAgICAgdihBZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IDogUTtcbiAgICAgIH1cblxuICAgICAgdmFyIHAsXG4gICAgICAgICAgdixcbiAgICAgICAgICBCID0gbmV3IGIoZnVuY3Rpb24gKEEsIFEpIHtcbiAgICAgICAgcCA9IEE7XG4gICAgICAgIHYgPSBRO1xuICAgICAgfSk7XG4gICAgICB0aGlzLlBhKG4oZywgcCksIG4oaCwgdikpO1xuICAgICAgcmV0dXJuIEI7XG4gICAgfTtcblxuICAgIGIucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKGcpIHtcbiAgICAgIHJldHVybiB0aGlzLnRoZW4odm9pZCAwLCBnKTtcbiAgICB9O1xuXG4gICAgYi5wcm90b3R5cGUuUGEgPSBmdW5jdGlvbiAoZywgaCkge1xuICAgICAgZnVuY3Rpb24gbigpIHtcbiAgICAgICAgc3dpdGNoIChwLmIpIHtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBnKHAuYyk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIGgocC5jKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZTogXCIgKyBwLmIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBwID0gdGhpcztcbiAgICAgIG51bGwgPT0gdGhpcy5hID8gZi5iKG4pIDogdGhpcy5hLnB1c2gobik7XG4gICAgfTtcblxuICAgIGIucmVzb2x2ZSA9IGQ7XG5cbiAgICBiLnJlamVjdCA9IGZ1bmN0aW9uIChnKSB7XG4gICAgICByZXR1cm4gbmV3IGIoZnVuY3Rpb24gKGgsIG4pIHtcbiAgICAgICAgbihnKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBiLnJhY2UgPSBmdW5jdGlvbiAoZykge1xuICAgICAgcmV0dXJuIG5ldyBiKGZ1bmN0aW9uIChoLCBuKSB7XG4gICAgICAgIGZvciAodmFyIHAgPSBmYShnKSwgdiA9IHAubmV4dCgpOyAhdi5kb25lOyB2ID0gcC5uZXh0KCkpIHtcbiAgICAgICAgICBkKHYudmFsdWUpLlBhKGgsIG4pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgYi5hbGwgPSBmdW5jdGlvbiAoZykge1xuICAgICAgdmFyIGggPSBmYShnKSxcbiAgICAgICAgICBuID0gaC5uZXh0KCk7XG4gICAgICByZXR1cm4gbi5kb25lID8gZChbXSkgOiBuZXcgYihmdW5jdGlvbiAocCwgdikge1xuICAgICAgICBmdW5jdGlvbiBCKHhhKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChBZCkge1xuICAgICAgICAgICAgQVt4YV0gPSBBZDtcbiAgICAgICAgICAgIFEtLTtcbiAgICAgICAgICAgIDAgPT0gUSAmJiBwKEEpO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgQSA9IFtdLFxuICAgICAgICAgICAgUSA9IDA7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIEEucHVzaCh2b2lkIDApLCBRKyssIGQobi52YWx1ZSkuUGEoQihBLmxlbmd0aCAtIDEpLCB2KSwgbiA9IGgubmV4dCgpO1xuICAgICAgICB9IHdoaWxlICghbi5kb25lKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gYjtcbiAgfSk7XG4gIHZhciBoYSA9IGhhIHx8IHt9LFxuICAgICAgbCA9IHRoaXMgfHwgc2VsZixcbiAgICAgIGlhID0gL15bXFx3Ky9fLV0rWz1dezAsMn0kLyxcbiAgICAgIGphID0gbnVsbDtcblxuICBmdW5jdGlvbiBrYShhKSB7XG4gICAgcmV0dXJuIChhID0gYS5xdWVyeVNlbGVjdG9yICYmIGEucXVlcnlTZWxlY3RvcihcInNjcmlwdFtub25jZV1cIikpICYmIChhID0gYS5ub25jZSB8fCBhLmdldEF0dHJpYnV0ZShcIm5vbmNlXCIpKSAmJiBpYS50ZXN0KGEpID8gYSA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBsYSgpIHt9XG5cbiAgZnVuY3Rpb24gbWEoYSkge1xuICAgIHZhciBiID0gdHlwZW9mIGE7XG4gICAgcmV0dXJuIFwib2JqZWN0XCIgIT0gYiA/IGIgOiBhID8gQXJyYXkuaXNBcnJheShhKSA/IFwiYXJyYXlcIiA6IGIgOiBcIm51bGxcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5hKGEpIHtcbiAgICB2YXIgYiA9IG1hKGEpO1xuICAgIHJldHVybiBcImFycmF5XCIgPT0gYiB8fCBcIm9iamVjdFwiID09IGIgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2YgYS5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBvYShhKSB7XG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSBtYShhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG0oYSkge1xuICAgIHZhciBiID0gdHlwZW9mIGE7XG4gICAgcmV0dXJuIFwib2JqZWN0XCIgPT0gYiAmJiBudWxsICE9IGEgfHwgXCJmdW5jdGlvblwiID09IGI7XG4gIH1cblxuICBmdW5jdGlvbiBwYShhKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBxYSkgJiYgYVtxYV0gfHwgKGFbcWFdID0gKytyYSk7XG4gIH1cblxuICB2YXIgcWEgPSBcImNsb3N1cmVfdWlkX1wiICsgKDFFOSAqIE1hdGgucmFuZG9tKCkgPj4+IDApLFxuICAgICAgcmEgPSAwO1xuXG4gIGZ1bmN0aW9uIHNhKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRhKGEsIGIsIGMpIHtcbiAgICBpZiAoIWEpIHRocm93IEVycm9yKCk7XG5cbiAgICBpZiAoMiA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHZhciBkID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgQXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoZSwgZCk7XG4gICAgICAgIHJldHVybiBhLmFwcGx5KGIsIGUpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuYXBwbHkoYiwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gcShhLCBiLCBjKSB7XG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQgJiYgLTEgIT0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQudG9TdHJpbmcoKS5pbmRleE9mKFwibmF0aXZlIGNvZGVcIikgPyBxID0gc2EgOiBxID0gdGE7XG4gICAgcmV0dXJuIHEuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVhKGEsIGIpIHtcbiAgICB2YXIgYyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBkID0gYy5zbGljZSgpO1xuICAgICAgZC5wdXNoLmFwcGx5KGQsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gYS5hcHBseSh0aGlzLCBkKTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIHZhID0gRGF0ZS5ub3c7XG5cbiAgZnVuY3Rpb24gcihhLCBiKSB7XG4gICAgZnVuY3Rpb24gYygpIHt9XG5cbiAgICBjLnByb3RvdHlwZSA9IGIucHJvdG90eXBlO1xuICAgIGEuJGEgPSBiLnByb3RvdHlwZTtcbiAgICBhLnByb3RvdHlwZSA9IG5ldyBjKCk7XG4gICAgYS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBhO1xuICB9XG5cbiAgZnVuY3Rpb24gd2EoYSkge1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgO1xuICAvKlxuICBDb3B5cmlnaHQgMjAxNyBHb29nbGUgSW5jLlxuICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICAqL1xuXG4gIGZ1bmN0aW9uIHQoYSwgYiwgYykge1xuICAgIHRoaXMuY29kZSA9IHlhICsgYTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBiIHx8IHphW2FdIHx8IFwiXCI7XG4gICAgdGhpcy5hID0gYyB8fCBudWxsO1xuICB9XG5cbiAgcih0LCBFcnJvcik7XG5cbiAgdC5wcm90b3R5cGUudyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHtcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZVxuICAgIH07XG4gICAgdGhpcy5hICYmIChhLnNlcnZlclJlc3BvbnNlID0gdGhpcy5hKTtcbiAgICByZXR1cm4gYTtcbiAgfTtcblxuICB0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudygpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFhKGEpIHtcbiAgICB2YXIgYiA9IGEgJiYgYS5jb2RlO1xuICAgIHJldHVybiBiID8gbmV3IHQoYi5zdWJzdHJpbmcoeWEubGVuZ3RoKSwgYS5tZXNzYWdlLCBhLnNlcnZlclJlc3BvbnNlKSA6IG51bGw7XG4gIH1cblxuICB2YXIgeWEgPSBcImF1dGgvXCIsXG4gICAgICB6YSA9IHtcbiAgICBcImFkbWluLXJlc3RyaWN0ZWQtb3BlcmF0aW9uXCI6IFwiVGhpcyBvcGVyYXRpb24gaXMgcmVzdHJpY3RlZCB0byBhZG1pbmlzdHJhdG9ycyBvbmx5LlwiLFxuICAgIFwiYXJndW1lbnQtZXJyb3JcIjogXCJcIixcbiAgICBcImFwcC1ub3QtYXV0aG9yaXplZFwiOiBcIlRoaXMgYXBwLCBpZGVudGlmaWVkIGJ5IHRoZSBkb21haW4gd2hlcmUgaXQncyBob3N0ZWQsIGlzIG5vdCBhdXRob3JpemVkIHRvIHVzZSBGaXJlYmFzZSBBdXRoZW50aWNhdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBBUEkga2V5LiBSZXZpZXcgeW91ciBrZXkgY29uZmlndXJhdGlvbiBpbiB0aGUgR29vZ2xlIEFQSSBjb25zb2xlLlwiLFxuICAgIFwiYXBwLW5vdC1pbnN0YWxsZWRcIjogXCJUaGUgcmVxdWVzdGVkIG1vYmlsZSBhcHBsaWNhdGlvbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBpZGVudGlmaWVyIChBbmRyb2lkIHBhY2thZ2UgbmFtZSBvciBpT1MgYnVuZGxlIElEKSBwcm92aWRlZCBpcyBub3QgaW5zdGFsbGVkIG9uIHRoaXMgZGV2aWNlLlwiLFxuICAgIFwiY2FwdGNoYS1jaGVjay1mYWlsZWRcIjogXCJUaGUgcmVDQVBUQ0hBIHJlc3BvbnNlIHRva2VuIHByb3ZpZGVkIGlzIGVpdGhlciBpbnZhbGlkLCBleHBpcmVkLCBhbHJlYWR5IHVzZWQgb3IgdGhlIGRvbWFpbiBhc3NvY2lhdGVkIHdpdGggaXQgZG9lcyBub3QgbWF0Y2ggdGhlIGxpc3Qgb2Ygd2hpdGVsaXN0ZWQgZG9tYWlucy5cIixcbiAgICBcImNvZGUtZXhwaXJlZFwiOiBcIlRoZSBTTVMgY29kZSBoYXMgZXhwaXJlZC4gUGxlYXNlIHJlLXNlbmQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHRvIHRyeSBhZ2Fpbi5cIixcbiAgICBcImNvcmRvdmEtbm90LXJlYWR5XCI6IFwiQ29yZG92YSBmcmFtZXdvcmsgaXMgbm90IHJlYWR5LlwiLFxuICAgIFwiY29ycy11bnN1cHBvcnRlZFwiOiBcIlRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkLlwiLFxuICAgIFwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiOiBcIlRoaXMgY3JlZGVudGlhbCBpcyBhbHJlYWR5IGFzc29jaWF0ZWQgd2l0aCBhIGRpZmZlcmVudCB1c2VyIGFjY291bnQuXCIsXG4gICAgXCJjdXN0b20tdG9rZW4tbWlzbWF0Y2hcIjogXCJUaGUgY3VzdG9tIHRva2VuIGNvcnJlc3BvbmRzIHRvIGEgZGlmZmVyZW50IGF1ZGllbmNlLlwiLFxuICAgIFwicmVxdWlyZXMtcmVjZW50LWxvZ2luXCI6IFwiVGhpcyBvcGVyYXRpb24gaXMgc2Vuc2l0aXZlIGFuZCByZXF1aXJlcyByZWNlbnQgYXV0aGVudGljYXRpb24uIExvZyBpbiBhZ2FpbiBiZWZvcmUgcmV0cnlpbmcgdGhpcyByZXF1ZXN0LlwiLFxuICAgIFwiZHluYW1pYy1saW5rLW5vdC1hY3RpdmF0ZWRcIjogXCJQbGVhc2UgYWN0aXZhdGUgRHluYW1pYyBMaW5rcyBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZSBhbmQgYWdyZWUgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zLlwiLFxuICAgIFwiZW1haWwtY2hhbmdlLW5lZWRzLXZlcmlmaWNhdGlvblwiOiBcIk11bHRpLWZhY3RvciB1c2VycyBtdXN0IGFsd2F5cyBoYXZlIGEgdmVyaWZpZWQgZW1haWwuXCIsXG4gICAgXCJlbWFpbC1hbHJlYWR5LWluLXVzZVwiOiBcIlRoZSBlbWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgaW4gdXNlIGJ5IGFub3RoZXIgYWNjb3VudC5cIixcbiAgICBcImV4cGlyZWQtYWN0aW9uLWNvZGVcIjogXCJUaGUgYWN0aW9uIGNvZGUgaGFzIGV4cGlyZWQuIFwiLFxuICAgIFwiY2FuY2VsbGVkLXBvcHVwLXJlcXVlc3RcIjogXCJUaGlzIG9wZXJhdGlvbiBoYXMgYmVlbiBjYW5jZWxsZWQgZHVlIHRvIGFub3RoZXIgY29uZmxpY3RpbmcgcG9wdXAgYmVpbmcgb3BlbmVkLlwiLFxuICAgIFwiaW50ZXJuYWwtZXJyb3JcIjogXCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXG4gICAgXCJpbnZhbGlkLWFwcC1jcmVkZW50aWFsXCI6IFwiVGhlIHBob25lIHZlcmlmaWNhdGlvbiByZXF1ZXN0IGNvbnRhaW5zIGFuIGludmFsaWQgYXBwbGljYXRpb24gdmVyaWZpZXIuIFRoZSByZUNBUFRDSEEgdG9rZW4gcmVzcG9uc2UgaXMgZWl0aGVyIGludmFsaWQgb3IgZXhwaXJlZC5cIixcbiAgICBcImludmFsaWQtYXBwLWlkXCI6IFwiVGhlIG1vYmlsZSBhcHAgaWRlbnRpZmllciBpcyBub3QgcmVnaXN0ZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuXCIsXG4gICAgXCJpbnZhbGlkLXVzZXItdG9rZW5cIjogXCJUaGlzIHVzZXIncyBjcmVkZW50aWFsIGlzbid0IHZhbGlkIGZvciB0aGlzIHByb2plY3QuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgdXNlcidzIHRva2VuIGhhcyBiZWVuIHRhbXBlcmVkIHdpdGgsIG9yIGlmIHRoZSB1c2VyIGlzbid0IGZvciB0aGUgcHJvamVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBBUEkga2V5LlwiLFxuICAgIFwiaW52YWxpZC1hdXRoLWV2ZW50XCI6IFwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFxuICAgIFwiaW52YWxpZC12ZXJpZmljYXRpb24tY29kZVwiOiBcIlRoZSBTTVMgdmVyaWZpY2F0aW9uIGNvZGUgdXNlZCB0byBjcmVhdGUgdGhlIHBob25lIGF1dGggY3JlZGVudGlhbCBpcyBpbnZhbGlkLiBQbGVhc2UgcmVzZW5kIHRoZSB2ZXJpZmljYXRpb24gY29kZSBzbXMgYW5kIGJlIHN1cmUgdXNlIHRoZSB2ZXJpZmljYXRpb24gY29kZSBwcm92aWRlZCBieSB0aGUgdXNlci5cIixcbiAgICBcImludmFsaWQtY29udGludWUtdXJpXCI6IFwiVGhlIGNvbnRpbnVlIFVSTCBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdCBpcyBpbnZhbGlkLlwiLFxuICAgIFwiaW52YWxpZC1jb3Jkb3ZhLWNvbmZpZ3VyYXRpb25cIjogXCJUaGUgZm9sbG93aW5nIENvcmRvdmEgcGx1Z2lucyBtdXN0IGJlIGluc3RhbGxlZCB0byBlbmFibGUgT0F1dGggc2lnbi1pbjogY29yZG92YS1wbHVnaW4tYnVpbGRpbmZvLCBjb3Jkb3ZhLXVuaXZlcnNhbC1saW5rcy1wbHVnaW4sIGNvcmRvdmEtcGx1Z2luLWJyb3dzZXJ0YWIsIGNvcmRvdmEtcGx1Z2luLWluYXBwYnJvd3NlciBhbmQgY29yZG92YS1wbHVnaW4tY3VzdG9tdXJsc2NoZW1lLlwiLFxuICAgIFwiaW52YWxpZC1jdXN0b20tdG9rZW5cIjogXCJUaGUgY3VzdG9tIHRva2VuIGZvcm1hdCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBjaGVjayB0aGUgZG9jdW1lbnRhdGlvbi5cIixcbiAgICBcImludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpblwiOiBcIlRoZSBwcm92aWRlZCBkeW5hbWljIGxpbmsgZG9tYWluIGlzIG5vdCBjb25maWd1cmVkIG9yIGF1dGhvcml6ZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuXCIsXG4gICAgXCJpbnZhbGlkLWVtYWlsXCI6IFwiVGhlIGVtYWlsIGFkZHJlc3MgaXMgYmFkbHkgZm9ybWF0dGVkLlwiLFxuICAgIFwiaW52YWxpZC1hcGkta2V5XCI6IFwiWW91ciBBUEkga2V5IGlzIGludmFsaWQsIHBsZWFzZSBjaGVjayB5b3UgaGF2ZSBjb3BpZWQgaXQgY29ycmVjdGx5LlwiLFxuICAgIFwiaW52YWxpZC1jZXJ0LWhhc2hcIjogXCJUaGUgU0hBLTEgY2VydGlmaWNhdGUgaGFzaCBwcm92aWRlZCBpcyBpbnZhbGlkLlwiLFxuICAgIFwiaW52YWxpZC1jcmVkZW50aWFsXCI6IFwiVGhlIHN1cHBsaWVkIGF1dGggY3JlZGVudGlhbCBpcyBtYWxmb3JtZWQgb3IgaGFzIGV4cGlyZWQuXCIsXG4gICAgXCJpbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZFwiOiBcIlRoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyBpbiBpdHMgbWVzc2FnZS4gUGxlYXNlIGZpeCBieSBnb2luZyB0byB0aGUgQXV0aCBlbWFpbCB0ZW1wbGF0ZXMgc2VjdGlvbiBpbiB0aGUgRmlyZWJhc2UgQ29uc29sZS5cIixcbiAgICBcImludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb25cIjogXCJUaGUgcmVxdWVzdCBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgcHJvb2Ygb2YgZmlyc3QgZmFjdG9yIHN1Y2Nlc3NmdWwgc2lnbi1pbi5cIixcbiAgICBcImludmFsaWQtb2F1dGgtcHJvdmlkZXJcIjogXCJFbWFpbEF1dGhQcm92aWRlciBpcyBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIG9wZXJhdGlvbi4gVGhpcyBvcGVyYXRpb24gb25seSBzdXBwb3J0cyBPQXV0aCBwcm92aWRlcnMuXCIsXG4gICAgXCJpbnZhbGlkLW9hdXRoLWNsaWVudC1pZFwiOiBcIlRoZSBPQXV0aCBjbGllbnQgSUQgcHJvdmlkZWQgaXMgZWl0aGVyIGludmFsaWQgb3IgZG9lcyBub3QgbWF0Y2ggdGhlIHNwZWNpZmllZCBBUEkga2V5LlwiLFxuICAgIFwidW5hdXRob3JpemVkLWRvbWFpblwiOiBcIlRoaXMgZG9tYWluIGlzIG5vdCBhdXRob3JpemVkIGZvciBPQXV0aCBvcGVyYXRpb25zIGZvciB5b3VyIEZpcmViYXNlIHByb2plY3QuIEVkaXQgdGhlIGxpc3Qgb2YgYXV0aG9yaXplZCBkb21haW5zIGZyb20gdGhlIEZpcmViYXNlIGNvbnNvbGUuXCIsXG4gICAgXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCI6IFwiVGhlIGFjdGlvbiBjb2RlIGlzIGludmFsaWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29kZSBpcyBtYWxmb3JtZWQsIGV4cGlyZWQsIG9yIGhhcyBhbHJlYWR5IGJlZW4gdXNlZC5cIixcbiAgICBcIndyb25nLXBhc3N3b3JkXCI6IFwiVGhlIHBhc3N3b3JkIGlzIGludmFsaWQgb3IgdGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHBhc3N3b3JkLlwiLFxuICAgIFwiaW52YWxpZC1wZXJzaXN0ZW5jZS10eXBlXCI6IFwiVGhlIHNwZWNpZmllZCBwZXJzaXN0ZW5jZSB0eXBlIGlzIGludmFsaWQuIEl0IGNhbiBvbmx5IGJlIGxvY2FsLCBzZXNzaW9uIG9yIG5vbmUuXCIsXG4gICAgXCJpbnZhbGlkLXBob25lLW51bWJlclwiOiBcIlRoZSBmb3JtYXQgb2YgdGhlIHBob25lIG51bWJlciBwcm92aWRlZCBpcyBpbmNvcnJlY3QuIFBsZWFzZSBlbnRlciB0aGUgcGhvbmUgbnVtYmVyIGluIGEgZm9ybWF0IHRoYXQgY2FuIGJlIHBhcnNlZCBpbnRvIEUuMTY0IGZvcm1hdC4gRS4xNjQgcGhvbmUgbnVtYmVycyBhcmUgd3JpdHRlbiBpbiB0aGUgZm9ybWF0IFsrXVtjb3VudHJ5IGNvZGVdW3N1YnNjcmliZXIgbnVtYmVyIGluY2x1ZGluZyBhcmVhIGNvZGVdLlwiLFxuICAgIFwiaW52YWxpZC1wcm92aWRlci1pZFwiOiBcIlRoZSBzcGVjaWZpZWQgcHJvdmlkZXIgSUQgaXMgaW52YWxpZC5cIixcbiAgICBcImludmFsaWQtcmVjaXBpZW50LWVtYWlsXCI6IFwiVGhlIGVtYWlsIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBhY3Rpb24gZmFpbGVkIHRvIHNlbmQgYXMgdGhlIHByb3ZpZGVkIHJlY2lwaWVudCBlbWFpbCBhZGRyZXNzIGlzIGludmFsaWQuXCIsXG4gICAgXCJpbnZhbGlkLXNlbmRlclwiOiBcIlRoZSBlbWFpbCB0ZW1wbGF0ZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgYWN0aW9uIGNvbnRhaW5zIGFuIGludmFsaWQgc2VuZGVyIGVtYWlsIG9yIG5hbWUuIFBsZWFzZSBmaXggYnkgZ29pbmcgdG8gdGhlIEF1dGggZW1haWwgdGVtcGxhdGVzIHNlY3Rpb24gaW4gdGhlIEZpcmViYXNlIENvbnNvbGUuXCIsXG4gICAgXCJpbnZhbGlkLXZlcmlmaWNhdGlvbi1pZFwiOiBcIlRoZSB2ZXJpZmljYXRpb24gSUQgdXNlZCB0byBjcmVhdGUgdGhlIHBob25lIGF1dGggY3JlZGVudGlhbCBpcyBpbnZhbGlkLlwiLFxuICAgIFwiaW52YWxpZC10ZW5hbnQtaWRcIjogXCJUaGUgQXV0aCBpbnN0YW5jZSdzIHRlbmFudCBJRCBpcyBpbnZhbGlkLlwiLFxuICAgIFwibXVsdGktZmFjdG9yLWluZm8tbm90LWZvdW5kXCI6IFwiVGhlIHVzZXIgZG9lcyBub3QgaGF2ZSBhIHNlY29uZCBmYWN0b3IgbWF0Y2hpbmcgdGhlIGlkZW50aWZpZXIgcHJvdmlkZWQuXCIsXG4gICAgXCJtdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZFwiOiBcIlByb29mIG9mIG93bmVyc2hpcCBvZiBhIHNlY29uZCBmYWN0b3IgaXMgcmVxdWlyZWQgdG8gY29tcGxldGUgc2lnbi1pbi5cIixcbiAgICBcIm1pc3NpbmctYW5kcm9pZC1wa2ctbmFtZVwiOiBcIkFuIEFuZHJvaWQgUGFja2FnZSBOYW1lIG11c3QgYmUgcHJvdmlkZWQgaWYgdGhlIEFuZHJvaWQgQXBwIGlzIHJlcXVpcmVkIHRvIGJlIGluc3RhbGxlZC5cIixcbiAgICBcImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZFwiOiBcIkJlIHN1cmUgdG8gaW5jbHVkZSBhdXRoRG9tYWluIHdoZW4gY2FsbGluZyBmaXJlYmFzZS5pbml0aWFsaXplQXBwKCksIGJ5IGZvbGxvd2luZyB0aGUgaW5zdHJ1Y3Rpb25zIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFxuICAgIFwibWlzc2luZy1hcHAtY3JlZGVudGlhbFwiOiBcIlRoZSBwaG9uZSB2ZXJpZmljYXRpb24gcmVxdWVzdCBpcyBtaXNzaW5nIGFuIGFwcGxpY2F0aW9uIHZlcmlmaWVyIGFzc2VydGlvbi4gQSByZUNBUFRDSEEgcmVzcG9uc2UgdG9rZW4gbmVlZHMgdG8gYmUgcHJvdmlkZWQuXCIsXG4gICAgXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCI6IFwiVGhlIHBob25lIGF1dGggY3JlZGVudGlhbCB3YXMgY3JlYXRlZCB3aXRoIGFuIGVtcHR5IFNNUyB2ZXJpZmljYXRpb24gY29kZS5cIixcbiAgICBcIm1pc3NpbmctY29udGludWUtdXJpXCI6IFwiQSBjb250aW51ZSBVUkwgbXVzdCBiZSBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdC5cIixcbiAgICBcIm1pc3NpbmctaWZyYW1lLXN0YXJ0XCI6IFwiQW4gaW50ZXJuYWwgZXJyb3IgaGFzIG9jY3VycmVkLlwiLFxuICAgIFwibWlzc2luZy1pb3MtYnVuZGxlLWlkXCI6IFwiQW4gaU9TIEJ1bmRsZSBJRCBtdXN0IGJlIHByb3ZpZGVkIGlmIGFuIEFwcCBTdG9yZSBJRCBpcyBwcm92aWRlZC5cIixcbiAgICBcIm1pc3NpbmctbXVsdGktZmFjdG9yLWluZm9cIjogXCJObyBzZWNvbmQgZmFjdG9yIGlkZW50aWZpZXIgaXMgcHJvdmlkZWQuXCIsXG4gICAgXCJtaXNzaW5nLW11bHRpLWZhY3Rvci1zZXNzaW9uXCI6IFwiVGhlIHJlcXVlc3QgaXMgbWlzc2luZyBwcm9vZiBvZiBmaXJzdCBmYWN0b3Igc3VjY2Vzc2Z1bCBzaWduLWluLlwiLFxuICAgIFwibWlzc2luZy1vci1pbnZhbGlkLW5vbmNlXCI6IFwiVGhlIHJlcXVlc3QgZG9lcyBub3QgY29udGFpbiBhIHZhbGlkIG5vbmNlLiBUaGlzIGNhbiBvY2N1ciBpZiB0aGUgU0hBLTI1NiBoYXNoIG9mIHRoZSBwcm92aWRlZCByYXcgbm9uY2UgZG9lcyBub3QgbWF0Y2ggdGhlIGhhc2hlZCBub25jZSBpbiB0aGUgSUQgdG9rZW4gcGF5bG9hZC5cIixcbiAgICBcIm1pc3NpbmctcGhvbmUtbnVtYmVyXCI6IFwiVG8gc2VuZCB2ZXJpZmljYXRpb24gY29kZXMsIHByb3ZpZGUgYSBwaG9uZSBudW1iZXIgZm9yIHRoZSByZWNpcGllbnQuXCIsXG4gICAgXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1pZFwiOiBcIlRoZSBwaG9uZSBhdXRoIGNyZWRlbnRpYWwgd2FzIGNyZWF0ZWQgd2l0aCBhbiBlbXB0eSB2ZXJpZmljYXRpb24gSUQuXCIsXG4gICAgXCJhcHAtZGVsZXRlZFwiOiBcIlRoaXMgaW5zdGFuY2Ugb2YgRmlyZWJhc2VBcHAgaGFzIGJlZW4gZGVsZXRlZC5cIixcbiAgICBcImFjY291bnQtZXhpc3RzLXdpdGgtZGlmZmVyZW50LWNyZWRlbnRpYWxcIjogXCJBbiBhY2NvdW50IGFscmVhZHkgZXhpc3RzIHdpdGggdGhlIHNhbWUgZW1haWwgYWRkcmVzcyBidXQgZGlmZmVyZW50IHNpZ24taW4gY3JlZGVudGlhbHMuIFNpZ24gaW4gdXNpbmcgYSBwcm92aWRlciBhc3NvY2lhdGVkIHdpdGggdGhpcyBlbWFpbCBhZGRyZXNzLlwiLFxuICAgIFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiOiBcIkEgbmV0d29yayBlcnJvciAoc3VjaCBhcyB0aW1lb3V0LCBpbnRlcnJ1cHRlZCBjb25uZWN0aW9uIG9yIHVucmVhY2hhYmxlIGhvc3QpIGhhcyBvY2N1cnJlZC5cIixcbiAgICBcIm5vLWF1dGgtZXZlbnRcIjogXCJBbiBpbnRlcm5hbCBlcnJvciBoYXMgb2NjdXJyZWQuXCIsXG4gICAgXCJuby1zdWNoLXByb3ZpZGVyXCI6IFwiVXNlciB3YXMgbm90IGxpbmtlZCB0byBhbiBhY2NvdW50IHdpdGggdGhlIGdpdmVuIHByb3ZpZGVyLlwiLFxuICAgIFwibnVsbC11c2VyXCI6IFwiQSBudWxsIHVzZXIgb2JqZWN0IHdhcyBwcm92aWRlZCBhcyB0aGUgYXJndW1lbnQgZm9yIGFuIG9wZXJhdGlvbiB3aGljaCByZXF1aXJlcyBhIG5vbi1udWxsIHVzZXIgb2JqZWN0LlwiLFxuICAgIFwib3BlcmF0aW9uLW5vdC1hbGxvd2VkXCI6IFwiVGhlIGdpdmVuIHNpZ24taW4gcHJvdmlkZXIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgRmlyZWJhc2UgcHJvamVjdC4gRW5hYmxlIGl0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLCB1bmRlciB0aGUgc2lnbi1pbiBtZXRob2QgdGFiIG9mIHRoZSBBdXRoIHNlY3Rpb24uXCIsXG4gICAgXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCI6ICdUaGlzIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIHRoZSBlbnZpcm9ubWVudCB0aGlzIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgb24uIFwibG9jYXRpb24ucHJvdG9jb2xcIiBtdXN0IGJlIGh0dHAsIGh0dHBzIG9yIGNocm9tZS1leHRlbnNpb24gYW5kIHdlYiBzdG9yYWdlIG11c3QgYmUgZW5hYmxlZC4nLFxuICAgIFwicG9wdXAtYmxvY2tlZFwiOiBcIlVuYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIHdpdGggdGhlIHBvcHVwLiBJdCBtYXkgaGF2ZSBiZWVuIGJsb2NrZWQgYnkgdGhlIGJyb3dzZXIuXCIsXG4gICAgXCJwb3B1cC1jbG9zZWQtYnktdXNlclwiOiBcIlRoZSBwb3B1cCBoYXMgYmVlbiBjbG9zZWQgYnkgdGhlIHVzZXIgYmVmb3JlIGZpbmFsaXppbmcgdGhlIG9wZXJhdGlvbi5cIixcbiAgICBcInByb3ZpZGVyLWFscmVhZHktbGlua2VkXCI6IFwiVXNlciBjYW4gb25seSBiZSBsaW5rZWQgdG8gb25lIGlkZW50aXR5IGZvciB0aGUgZ2l2ZW4gcHJvdmlkZXIuXCIsXG4gICAgXCJxdW90YS1leGNlZWRlZFwiOiBcIlRoZSBwcm9qZWN0J3MgcXVvdGEgZm9yIHRoaXMgb3BlcmF0aW9uIGhhcyBiZWVuIGV4Y2VlZGVkLlwiLFxuICAgIFwicmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXJcIjogXCJUaGUgcmVkaXJlY3Qgb3BlcmF0aW9uIGhhcyBiZWVuIGNhbmNlbGxlZCBieSB0aGUgdXNlciBiZWZvcmUgZmluYWxpemluZy5cIixcbiAgICBcInJlZGlyZWN0LW9wZXJhdGlvbi1wZW5kaW5nXCI6IFwiQSByZWRpcmVjdCBzaWduLWluIG9wZXJhdGlvbiBpcyBhbHJlYWR5IHBlbmRpbmcuXCIsXG4gICAgXCJyZWplY3RlZC1jcmVkZW50aWFsXCI6IFwiVGhlIHJlcXVlc3QgY29udGFpbnMgbWFsZm9ybWVkIG9yIG1pc21hdGNoaW5nIGNyZWRlbnRpYWxzLlwiLFxuICAgIFwic2Vjb25kLWZhY3Rvci1hbHJlYWR5LWluLXVzZVwiOiBcIlRoZSBzZWNvbmQgZmFjdG9yIGlzIGFscmVhZHkgZW5yb2xsZWQgb24gdGhpcyBhY2NvdW50LlwiLFxuICAgIFwibWF4aW11bS1zZWNvbmQtZmFjdG9yLWNvdW50LWV4Y2VlZGVkXCI6IFwiVGhlIG1heGltdW0gYWxsb3dlZCBudW1iZXIgb2Ygc2Vjb25kIGZhY3RvcnMgb24gYSB1c2VyIGhhcyBiZWVuIGV4Y2VlZGVkLlwiLFxuICAgIFwidGVuYW50LWlkLW1pc21hdGNoXCI6IFwiVGhlIHByb3ZpZGVkIHRlbmFudCBJRCBkb2VzIG5vdCBtYXRjaCB0aGUgQXV0aCBpbnN0YW5jZSdzIHRlbmFudCBJRFwiLFxuICAgIHRpbWVvdXQ6IFwiVGhlIG9wZXJhdGlvbiBoYXMgdGltZWQgb3V0LlwiLFxuICAgIFwidXNlci10b2tlbi1leHBpcmVkXCI6IFwiVGhlIHVzZXIncyBjcmVkZW50aWFsIGlzIG5vIGxvbmdlciB2YWxpZC4gVGhlIHVzZXIgbXVzdCBzaWduIGluIGFnYWluLlwiLFxuICAgIFwidG9vLW1hbnktcmVxdWVzdHNcIjogXCJXZSBoYXZlIGJsb2NrZWQgYWxsIHJlcXVlc3RzIGZyb20gdGhpcyBkZXZpY2UgZHVlIHRvIHVudXN1YWwgYWN0aXZpdHkuIFRyeSBhZ2FpbiBsYXRlci5cIixcbiAgICBcInVuYXV0aG9yaXplZC1jb250aW51ZS11cmlcIjogXCJUaGUgZG9tYWluIG9mIHRoZSBjb250aW51ZSBVUkwgaXMgbm90IHdoaXRlbGlzdGVkLiAgUGxlYXNlIHdoaXRlbGlzdCB0aGUgZG9tYWluIGluIHRoZSBGaXJlYmFzZSBjb25zb2xlLlwiLFxuICAgIFwidW5zdXBwb3J0ZWQtZmlyc3QtZmFjdG9yXCI6IFwiRW5yb2xsaW5nIGEgc2Vjb25kIGZhY3RvciBvciBzaWduaW5nIGluIHdpdGggYSBtdWx0aS1mYWN0b3IgYWNjb3VudCByZXF1aXJlcyBzaWduLWluIHdpdGggYSBzdXBwb3J0ZWQgZmlyc3QgZmFjdG9yLlwiLFxuICAgIFwidW5zdXBwb3J0ZWQtcGVyc2lzdGVuY2UtdHlwZVwiOiBcIlRoZSBjdXJyZW50IGVudmlyb25tZW50IGRvZXMgbm90IHN1cHBvcnQgdGhlIHNwZWNpZmllZCBwZXJzaXN0ZW5jZSB0eXBlLlwiLFxuICAgIFwidW5zdXBwb3J0ZWQtdGVuYW50LW9wZXJhdGlvblwiOiBcIlRoaXMgb3BlcmF0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gYSBtdWx0aS10ZW5hbnQgY29udGV4dC5cIixcbiAgICBcInVudmVyaWZpZWQtZW1haWxcIjogXCJUaGUgb3BlcmF0aW9uIHJlcXVpcmVzIGEgdmVyaWZpZWQgZW1haWwuXCIsXG4gICAgXCJ1c2VyLWNhbmNlbGxlZFwiOiBcIlRoZSB1c2VyIGRpZCBub3QgZ3JhbnQgeW91ciBhcHBsaWNhdGlvbiB0aGUgcGVybWlzc2lvbnMgaXQgcmVxdWVzdGVkLlwiLFxuICAgIFwidXNlci1ub3QtZm91bmRcIjogXCJUaGVyZSBpcyBubyB1c2VyIHJlY29yZCBjb3JyZXNwb25kaW5nIHRvIHRoaXMgaWRlbnRpZmllci4gVGhlIHVzZXIgbWF5IGhhdmUgYmVlbiBkZWxldGVkLlwiLFxuICAgIFwidXNlci1kaXNhYmxlZFwiOiBcIlRoZSB1c2VyIGFjY291bnQgaGFzIGJlZW4gZGlzYWJsZWQgYnkgYW4gYWRtaW5pc3RyYXRvci5cIixcbiAgICBcInVzZXItbWlzbWF0Y2hcIjogXCJUaGUgc3VwcGxpZWQgY3JlZGVudGlhbHMgZG8gbm90IGNvcnJlc3BvbmQgdG8gdGhlIHByZXZpb3VzbHkgc2lnbmVkIGluIHVzZXIuXCIsXG4gICAgXCJ1c2VyLXNpZ25lZC1vdXRcIjogXCJcIixcbiAgICBcIndlYWstcGFzc3dvcmRcIjogXCJUaGUgcGFzc3dvcmQgbXVzdCBiZSA2IGNoYXJhY3RlcnMgbG9uZyBvciBtb3JlLlwiLFxuICAgIFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIjogXCJUaGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZCBvciAzcmQgcGFydHkgY29va2llcyBhbmQgZGF0YSBtYXkgYmUgZGlzYWJsZWQuXCJcbiAgfTtcbiAgLypcbiAgQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICAqL1xuXG4gIHZhciBCYSA9IHtcbiAgICBrZDoge1xuICAgICAgU2E6IFwiaHR0cHM6Ly9zdGFnaW5nLWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCIsXG4gICAgICBZYTogXCJodHRwczovL3N0YWdpbmctc2VjdXJldG9rZW4uc2FuZGJveC5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiLFxuICAgICAgVmE6IFwiaHR0cHM6Ly9zdGFnaW5nLWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YyL1wiLFxuICAgICAgaWQ6IFwiYlwiXG4gICAgfSxcbiAgICByZDoge1xuICAgICAgU2E6IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIixcbiAgICAgIFlhOiBcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixcbiAgICAgIFZhOiBcImh0dHBzOi8vaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tL3YyL1wiLFxuICAgICAgaWQ6IFwicFwiXG4gICAgfSxcbiAgICB0ZDoge1xuICAgICAgU2E6IFwiaHR0cHM6Ly9zdGFnaW5nLXd3dy5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCIsXG4gICAgICBZYTogXCJodHRwczovL3N0YWdpbmctc2VjdXJldG9rZW4uc2FuZGJveC5nb29nbGVhcGlzLmNvbS92MS90b2tlblwiLFxuICAgICAgVmE6IFwiaHR0cHM6Ly9zdGFnaW5nLWlkZW50aXR5dG9vbGtpdC5zYW5kYm94Lmdvb2dsZWFwaXMuY29tL3YyL1wiLFxuICAgICAgaWQ6IFwic1wiXG4gICAgfSxcbiAgICB1ZDoge1xuICAgICAgU2E6IFwiaHR0cHM6Ly93d3ctZ29vZ2xlYXBpcy10ZXN0LnNhbmRib3guZ29vZ2xlLmNvbS9pZGVudGl0eXRvb2xraXQvdjMvcmVseWluZ3BhcnR5L1wiLFxuICAgICAgWWE6IFwiaHR0cHM6Ly90ZXN0LXNlY3VyZXRva2VuLnNhbmRib3guZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIixcbiAgICAgIFZhOiBcImh0dHBzOi8vdGVzdC1pZGVudGl0eXRvb2xraXQuc2FuZGJveC5nb29nbGVhcGlzLmNvbS92Mi9cIixcbiAgICAgIGlkOiBcInRcIlxuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBDYShhKSB7XG4gICAgZm9yICh2YXIgYiBpbiBCYSkge1xuICAgICAgaWYgKEJhW2JdLmlkID09PSBhKSByZXR1cm4gYSA9IEJhW2JdLCB7XG4gICAgICAgIGZpcmViYXNlRW5kcG9pbnQ6IGEuU2EsXG4gICAgICAgIHNlY3VyZVRva2VuRW5kcG9pbnQ6IGEuWWEsXG4gICAgICAgIGlkZW50aXR5UGxhdGZvcm1FbmRwb2ludDogYS5WYVxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBEYTtcbiAgRGEgPSBDYShcIl9fRUlEX19cIikgPyBcIl9fRUlEX19cIiA6IHZvaWQgMDtcblxuICBmdW5jdGlvbiBFYShhKSB7XG4gICAgaWYgKCFhKSByZXR1cm4gITE7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhYS4kZ29vZ19UaGVuYWJsZTtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHUoYSkge1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdSk7ZWxzZSB7XG4gICAgICB2YXIgYiA9IEVycm9yKCkuc3RhY2s7XG4gICAgICBiICYmICh0aGlzLnN0YWNrID0gYik7XG4gICAgfVxuICAgIGEgJiYgKHRoaXMubWVzc2FnZSA9IFN0cmluZyhhKSk7XG4gIH1cblxuICByKHUsIEVycm9yKTtcbiAgdS5wcm90b3R5cGUubmFtZSA9IFwiQ3VzdG9tRXJyb3JcIjtcblxuICBmdW5jdGlvbiBGYShhLCBiKSB7XG4gICAgYSA9IGEuc3BsaXQoXCIlc1wiKTtcblxuICAgIGZvciAodmFyIGMgPSBcIlwiLCBkID0gYS5sZW5ndGggLSAxLCBlID0gMDsgZSA8IGQ7IGUrKykge1xuICAgICAgYyArPSBhW2VdICsgKGUgPCBiLmxlbmd0aCA/IGJbZV0gOiBcIiVzXCIpO1xuICAgIH1cblxuICAgIHUuY2FsbCh0aGlzLCBjICsgYVtkXSk7XG4gIH1cblxuICByKEZhLCB1KTtcbiAgRmEucHJvdG90eXBlLm5hbWUgPSBcIkFzc2VydGlvbkVycm9yXCI7XG5cbiAgZnVuY3Rpb24gR2EoYSwgYikge1xuICAgIHRocm93IG5ldyBGYShcIkZhaWx1cmVcIiArIChhID8gXCI6IFwiICsgYSA6IFwiXCIpLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBIYShhLCBiKSB7XG4gICAgdGhpcy5jID0gYTtcbiAgICB0aGlzLmYgPSBiO1xuICAgIHRoaXMuYiA9IDA7XG4gICAgdGhpcy5hID0gbnVsbDtcbiAgfVxuXG4gIEhhLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKDAgPCB0aGlzLmIpIHtcbiAgICAgIHRoaXMuYi0tO1xuICAgICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgICB0aGlzLmEgPSBhLm5leHQ7XG4gICAgICBhLm5leHQgPSBudWxsO1xuICAgIH0gZWxzZSBhID0gdGhpcy5jKCk7XG5cbiAgICByZXR1cm4gYTtcbiAgfTtcblxuICBmdW5jdGlvbiBJYShhLCBiKSB7XG4gICAgYS5mKGIpO1xuICAgIDEwMCA+IGEuYiAmJiAoYS5iKyssIGIubmV4dCA9IGEuYSwgYS5hID0gYik7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gSmEoKSB7XG4gICAgdGhpcy5iID0gdGhpcy5hID0gbnVsbDtcbiAgfVxuXG4gIHZhciBMYSA9IG5ldyBIYShmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIG5ldyBLYSgpO1xuICB9LCBmdW5jdGlvbiAoYSkge1xuICAgIGEucmVzZXQoKTtcbiAgfSk7XG5cbiAgSmEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGMgPSBMYS5nZXQoKTtcbiAgICBjLnNldChhLCBiKTtcbiAgICB0aGlzLmIgPyB0aGlzLmIubmV4dCA9IGMgOiB0aGlzLmEgPSBjO1xuICAgIHRoaXMuYiA9IGM7XG4gIH07XG5cbiAgZnVuY3Rpb24gTWEoKSB7XG4gICAgdmFyIGEgPSBOYSxcbiAgICAgICAgYiA9IG51bGw7XG4gICAgYS5hICYmIChiID0gYS5hLCBhLmEgPSBhLmEubmV4dCwgYS5hIHx8IChhLmIgPSBudWxsKSwgYi5uZXh0ID0gbnVsbCk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBLYSgpIHtcbiAgICB0aGlzLm5leHQgPSB0aGlzLmIgPSB0aGlzLmEgPSBudWxsO1xuICB9XG5cbiAgS2EucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmIgPSBiO1xuICAgIHRoaXMubmV4dCA9IG51bGw7XG4gIH07XG5cbiAgS2EucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubmV4dCA9IHRoaXMuYiA9IHRoaXMuYSA9IG51bGw7XG4gIH07XG5cbiAgdmFyIE9hID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPyBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGEsIGIsIHZvaWQgMCk7XG4gIH0gOiBmdW5jdGlvbiAoYSwgYikge1xuICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYSkgcmV0dXJuIFwic3RyaW5nXCIgIT09IHR5cGVvZiBiIHx8IDEgIT0gYi5sZW5ndGggPyAtMSA6IGEuaW5kZXhPZihiLCAwKTtcblxuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgYS5sZW5ndGg7IGMrKykge1xuICAgICAgaWYgKGMgaW4gYSAmJiBhW2NdID09PSBiKSByZXR1cm4gYztcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH0sXG4gICAgICB3ID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2ggPyBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSwgYiwgYyk7XG4gIH0gOiBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIGZvciAodmFyIGQgPSBhLmxlbmd0aCwgZSA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gYS5zcGxpdChcIlwiKSA6IGEsIGYgPSAwOyBmIDwgZDsgZisrKSB7XG4gICAgICBmIGluIGUgJiYgYi5jYWxsKGMsIGVbZl0sIGYsIGEpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBQYShhLCBiKSB7XG4gICAgZm9yICh2YXIgYyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gYS5zcGxpdChcIlwiKSA6IGEsIGQgPSBhLmxlbmd0aCAtIDE7IDAgPD0gZDsgLS1kKSB7XG4gICAgICBkIGluIGMgJiYgYi5jYWxsKHZvaWQgMCwgY1tkXSwgZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIFFhID0gQXJyYXkucHJvdG90eXBlLmZpbHRlciA/IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhLCBiLCB2b2lkIDApO1xuICB9IDogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBmb3IgKHZhciBjID0gYS5sZW5ndGgsIGQgPSBbXSwgZSA9IDAsIGYgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYSA/IGEuc3BsaXQoXCJcIikgOiBhLCBnID0gMDsgZyA8IGM7IGcrKykge1xuICAgICAgaWYgKGcgaW4gZikge1xuICAgICAgICB2YXIgaCA9IGZbZ107XG4gICAgICAgIGIuY2FsbCh2b2lkIDAsIGgsIGcsIGEpICYmIChkW2UrK10gPSBoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZDtcbiAgfSxcbiAgICAgIFJhID0gQXJyYXkucHJvdG90eXBlLm1hcCA/IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhLCBiLCB2b2lkIDApO1xuICB9IDogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBmb3IgKHZhciBjID0gYS5sZW5ndGgsIGQgPSBBcnJheShjKSwgZSA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gYS5zcGxpdChcIlwiKSA6IGEsIGYgPSAwOyBmIDwgYzsgZisrKSB7XG4gICAgICBmIGluIGUgJiYgKGRbZl0gPSBiLmNhbGwodm9pZCAwLCBlW2ZdLCBmLCBhKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGQ7XG4gIH0sXG4gICAgICBTYSA9IEFycmF5LnByb3RvdHlwZS5zb21lID8gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLCBiLCB2b2lkIDApO1xuICB9IDogZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBmb3IgKHZhciBjID0gYS5sZW5ndGgsIGQgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYSA/IGEuc3BsaXQoXCJcIikgOiBhLCBlID0gMDsgZSA8IGM7IGUrKykge1xuICAgICAgaWYgKGUgaW4gZCAmJiBiLmNhbGwodm9pZCAwLCBkW2VdLCBlLCBhKSkgcmV0dXJuICEwO1xuICAgIH1cblxuICAgIHJldHVybiAhMTtcbiAgfTtcblxuICBmdW5jdGlvbiBUYShhKSB7XG4gICAgYToge1xuICAgICAgdmFyIGIgPSBVYTtcblxuICAgICAgZm9yICh2YXIgYyA9IGEubGVuZ3RoLCBkID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEgPyBhLnNwbGl0KFwiXCIpIDogYSwgZSA9IDA7IGUgPCBjOyBlKyspIHtcbiAgICAgICAgaWYgKGUgaW4gZCAmJiBiLmNhbGwodm9pZCAwLCBkW2VdLCBlLCBhKSkge1xuICAgICAgICAgIGIgPSBlO1xuICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYiA9IC0xO1xuICAgIH1cblxuICAgIHJldHVybiAwID4gYiA/IG51bGwgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgYSA/IGEuY2hhckF0KGIpIDogYVtiXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZhKGEsIGIpIHtcbiAgICByZXR1cm4gMCA8PSBPYShhLCBiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFdhKGEsIGIpIHtcbiAgICBiID0gT2EoYSwgYik7XG4gICAgdmFyIGM7XG4gICAgKGMgPSAwIDw9IGIpICYmIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhLCBiLCAxKTtcbiAgICByZXR1cm4gYztcbiAgfVxuXG4gIGZ1bmN0aW9uIFhhKGEsIGIpIHtcbiAgICB2YXIgYyA9IDA7XG4gICAgUGEoYSwgZnVuY3Rpb24gKGQsIGUpIHtcbiAgICAgIGIuY2FsbCh2b2lkIDAsIGQsIGUsIGEpICYmIDEgPT0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGEsIGUsIDEpLmxlbmd0aCAmJiBjKys7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBZYShhKSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBaYShhKSB7XG4gICAgdmFyIGIgPSBhLmxlbmd0aDtcblxuICAgIGlmICgwIDwgYikge1xuICAgICAgZm9yICh2YXIgYyA9IEFycmF5KGIpLCBkID0gMDsgZCA8IGI7IGQrKykge1xuICAgICAgICBjW2RdID0gYVtkXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgO1xuICB2YXIgJGEgPSBTdHJpbmcucHJvdG90eXBlLnRyaW0gPyBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBhLnRyaW0oKTtcbiAgfSA6IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIC9eW1xcc1xceGEwXSooW1xcc1xcU10qPylbXFxzXFx4YTBdKiQvLmV4ZWMoYSlbMV07XG4gIH0sXG4gICAgICBhYiA9IC8mL2csXG4gICAgICBiYiA9IC88L2csXG4gICAgICBjYiA9IC8+L2csXG4gICAgICBkYiA9IC9cIi9nLFxuICAgICAgZWIgPSAvJy9nLFxuICAgICAgZmIgPSAvXFx4MDAvZyxcbiAgICAgIGdiID0gL1tcXHgwMCY8PlwiJ10vO1xuXG4gIGZ1bmN0aW9uIHgoYSwgYikge1xuICAgIHJldHVybiAtMSAhPSBhLmluZGV4T2YoYik7XG4gIH1cblxuICBmdW5jdGlvbiBoYihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPCBiID8gLTEgOiBhID4gYiA/IDEgOiAwO1xuICB9XG5cbiAgO1xuICB2YXIgaWI7XG5cbiAgYToge1xuICAgIHZhciBqYiA9IGwubmF2aWdhdG9yO1xuXG4gICAgaWYgKGpiKSB7XG4gICAgICB2YXIga2IgPSBqYi51c2VyQWdlbnQ7XG5cbiAgICAgIGlmIChrYikge1xuICAgICAgICBpYiA9IGtiO1xuICAgICAgICBicmVhayBhO1xuICAgICAgfVxuICAgIH1cblxuICAgIGliID0gXCJcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHkoYSkge1xuICAgIHJldHVybiB4KGliLCBhKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBsYihhLCBiKSB7XG4gICAgZm9yICh2YXIgYyBpbiBhKSB7XG4gICAgICBiLmNhbGwodm9pZCAwLCBhW2NdLCBjLCBhKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtYihhKSB7XG4gICAgZm9yICh2YXIgYiBpbiBhKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuXG4gICAgcmV0dXJuICEwO1xuICB9XG5cbiAgZnVuY3Rpb24gbmIoYSkge1xuICAgIHZhciBiID0ge30sXG4gICAgICAgIGM7XG5cbiAgICBmb3IgKGMgaW4gYSkge1xuICAgICAgYltjXSA9IGFbY107XG4gICAgfVxuXG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICB2YXIgb2IgPSBcImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcblxuICBmdW5jdGlvbiB6KGEsIGIpIHtcbiAgICBmb3IgKHZhciBjLCBkLCBlID0gMTsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykge1xuICAgICAgZCA9IGFyZ3VtZW50c1tlXTtcblxuICAgICAgZm9yIChjIGluIGQpIHtcbiAgICAgICAgYVtjXSA9IGRbY107XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgb2IubGVuZ3RoOyBmKyspIHtcbiAgICAgICAgYyA9IG9iW2ZdLCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCwgYykgJiYgKGFbY10gPSBkW2NdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gcGIoYSwgYikge1xuICAgIGE6IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBjID0gYSAmJiBhLm93bmVyRG9jdW1lbnQsXG4gICAgICAgICAgICBkID0gYyAmJiAoYy5kZWZhdWx0VmlldyB8fCBjLnBhcmVudFdpbmRvdyk7XG4gICAgICAgIGQgPSBkIHx8IGw7XG5cbiAgICAgICAgaWYgKGQuRWxlbWVudCAmJiBkLkxvY2F0aW9uKSB7XG4gICAgICAgICAgdmFyIGUgPSBkO1xuICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGcpIHt9XG5cbiAgICAgIGUgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChlICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGVbYl0gJiYgKCFhIHx8ICEoYSBpbnN0YW5jZW9mIGVbYl0pICYmIChhIGluc3RhbmNlb2YgZS5Mb2NhdGlvbiB8fCBhIGluc3RhbmNlb2YgZS5FbGVtZW50KSkpIHtcbiAgICAgIGlmIChtKGEpKSB0cnkge1xuICAgICAgICB2YXIgZiA9IGEuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgYS5jb25zdHJ1Y3Rvci5uYW1lIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtcbiAgICAgIH0gY2F0Y2ggKGcpIHtcbiAgICAgICAgZiA9IFwiPG9iamVjdCBjb3VsZCBub3QgYmUgc3RyaW5naWZpZWQ+XCI7XG4gICAgICB9IGVsc2UgZiA9IHZvaWQgMCA9PT0gYSA/IFwidW5kZWZpbmVkXCIgOiBudWxsID09PSBhID8gXCJudWxsXCIgOiB0eXBlb2YgYTtcbiAgICAgIEdhKFwiQXJndW1lbnQgaXMgbm90IGEgJXMgKG9yIGEgbm9uLUVsZW1lbnQsIG5vbi1Mb2NhdGlvbiBtb2NrKTsgZ290OiAlc1wiLCBiLCBmKTtcbiAgICB9XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gcWIoYSwgYikge1xuICAgIHRoaXMuYSA9IGEgPT09IHJiICYmIGIgfHwgXCJcIjtcbiAgICB0aGlzLmIgPSBzYjtcbiAgfVxuXG4gIHFiLnByb3RvdHlwZS5zYSA9ICEwO1xuXG4gIHFiLnByb3RvdHlwZS5yYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hO1xuICB9O1xuXG4gIHFiLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJDb25zdHtcIiArIHRoaXMuYSArIFwifVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHRiKGEpIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIHFiICYmIGEuY29uc3RydWN0b3IgPT09IHFiICYmIGEuYiA9PT0gc2IpIHJldHVybiBhLmE7XG4gICAgR2EoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBDb25zdCwgZ290ICdcIiArIGEgKyBcIidcIik7XG4gICAgcmV0dXJuIFwidHlwZV9lcnJvcjpDb25zdFwiO1xuICB9XG5cbiAgdmFyIHNiID0ge30sXG4gICAgICByYiA9IHt9O1xuICB2YXIgdWI7XG5cbiAgZnVuY3Rpb24gdmIoKSB7XG4gICAgaWYgKHZvaWQgMCA9PT0gdWIpIHtcbiAgICAgIHZhciBhID0gbnVsbCxcbiAgICAgICAgICBiID0gbC50cnVzdGVkVHlwZXM7XG5cbiAgICAgIGlmIChiICYmIGIuY3JlYXRlUG9saWN5KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYSA9IGIuY3JlYXRlUG9saWN5KFwiZ29vZyNodG1sXCIsIHtcbiAgICAgICAgICAgIGNyZWF0ZUhUTUw6IHdhLFxuICAgICAgICAgICAgY3JlYXRlU2NyaXB0OiB3YSxcbiAgICAgICAgICAgIGNyZWF0ZVNjcmlwdFVSTDogd2FcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoYykge1xuICAgICAgICAgIGwuY29uc29sZSAmJiBsLmNvbnNvbGUuZXJyb3IoYy5tZXNzYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHViID0gYTtcbiAgICAgIH0gZWxzZSB1YiA9IGE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHViO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHdiKGEsIGIpIHtcbiAgICB0aGlzLmEgPSBiID09PSB4YiA/IGEgOiBcIlwiO1xuICB9XG5cbiAgd2IucHJvdG90eXBlLnNhID0gITA7XG5cbiAgd2IucHJvdG90eXBlLnJhID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmEudG9TdHJpbmcoKTtcbiAgfTtcblxuICB3Yi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiVHJ1c3RlZFJlc291cmNlVXJse1wiICsgdGhpcy5hICsgXCJ9XCI7XG4gIH07XG5cbiAgZnVuY3Rpb24geWIoYSkge1xuICAgIGlmIChhIGluc3RhbmNlb2Ygd2IgJiYgYS5jb25zdHJ1Y3RvciA9PT0gd2IpIHJldHVybiBhLmE7XG4gICAgR2EoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBUcnVzdGVkUmVzb3VyY2VVcmwsIGdvdCAnXCIgKyBhICsgXCInIG9mIHR5cGUgXCIgKyBtYShhKSk7XG4gICAgcmV0dXJuIFwidHlwZV9lcnJvcjpUcnVzdGVkUmVzb3VyY2VVcmxcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHpiKGEsIGIpIHtcbiAgICB2YXIgYyA9IHRiKGEpO1xuICAgIGlmICghQWIudGVzdChjKSkgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFRydXN0ZWRSZXNvdXJjZVVybCBmb3JtYXQ6IFwiICsgYyk7XG4gICAgYSA9IGMucmVwbGFjZShCYiwgZnVuY3Rpb24gKGQsIGUpIHtcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIGUpKSB0aHJvdyBFcnJvcignRm91bmQgbWFya2VyLCBcIicgKyBlICsgJ1wiLCBpbiBmb3JtYXQgc3RyaW5nLCBcIicgKyBjICsgJ1wiLCBidXQgbm8gdmFsaWQgbGFiZWwgbWFwcGluZyBmb3VuZCBpbiBhcmdzOiAnICsgSlNPTi5zdHJpbmdpZnkoYikpO1xuICAgICAgZCA9IGJbZV07XG4gICAgICByZXR1cm4gZCBpbnN0YW5jZW9mIHFiID8gdGIoZCkgOiBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGQpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gQ2IoYSk7XG4gIH1cblxuICB2YXIgQmIgPSAvJXsoXFx3Kyl9L2csXG4gICAgICBBYiA9IC9eKChodHRwczopP1xcL1xcL1swLTlhLXouOltcXF0tXStcXC98XFwvW14vXFxcXF18W146L1xcXFwlXStcXC98W146L1xcXFwlXSpbPyNdfGFib3V0OmJsYW5rIykvaSxcbiAgICAgIHhiID0ge307XG5cbiAgZnVuY3Rpb24gQ2IoYSkge1xuICAgIHZhciBiID0gdmIoKTtcbiAgICBhID0gYiA/IGIuY3JlYXRlU2NyaXB0VVJMKGEpIDogYTtcbiAgICByZXR1cm4gbmV3IHdiKGEsIHhiKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBDKGEsIGIpIHtcbiAgICB0aGlzLmEgPSBiID09PSBEYiA/IGEgOiBcIlwiO1xuICB9XG5cbiAgQy5wcm90b3R5cGUuc2EgPSAhMDtcblxuICBDLnByb3RvdHlwZS5yYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hLnRvU3RyaW5nKCk7XG4gIH07XG5cbiAgQy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiU2FmZVVybHtcIiArIHRoaXMuYSArIFwifVwiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEViKGEpIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIEMgJiYgYS5jb25zdHJ1Y3RvciA9PT0gQykgcmV0dXJuIGEuYTtcbiAgICBHYShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVVcmwsIGdvdCAnXCIgKyBhICsgXCInIG9mIHR5cGUgXCIgKyBtYShhKSk7XG4gICAgcmV0dXJuIFwidHlwZV9lcnJvcjpTYWZlVXJsXCI7XG4gIH1cblxuICB2YXIgRmIgPSAvXig/OmF1ZGlvXFwvKD86M2dwcDJ8M2dwcHxhYWN8TDE2fG1pZGl8bXAzfG1wNHxtcGVnfG9nYXxvZ2d8b3B1c3x4LW00YXx4LW1hdHJvc2thfHgtd2F2fHdhdnx3ZWJtKXxmb250XFwvXFx3K3xpbWFnZVxcLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicHx4LWljb24pfHRleHRcXC9jc3Z8dmlkZW9cXC8oPzptcGVnfG1wNHxvZ2d8d2VibXxxdWlja3RpbWV8eC1tYXRyb3NrYSkpKD86O1xcdys9KD86XFx3K3xcIltcXHc7LD0gXStcIikpKiQvaSxcbiAgICAgIEdiID0gL15kYXRhOiguKik7YmFzZTY0LFthLXowLTkrXFwvXSs9KiQvaSxcbiAgICAgIEhiID0gL14oPzooPzpodHRwcz98bWFpbHRvfGZ0cCk6fFteOi8/I10qKD86Wy8/I118JCkpL2k7XG5cbiAgZnVuY3Rpb24gSWIoYSkge1xuICAgIGlmIChhIGluc3RhbmNlb2YgQykgcmV0dXJuIGE7XG4gICAgYSA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIGEgJiYgYS5zYSA/IGEucmEoKSA6IFN0cmluZyhhKTtcbiAgICBpZiAoSGIudGVzdChhKSkgYSA9IG5ldyBDKGEsIERiKTtlbHNlIHtcbiAgICAgIGEgPSBTdHJpbmcoYSk7XG4gICAgICBhID0gYS5yZXBsYWNlKC8oJTBBfCUwRCkvZywgXCJcIik7XG4gICAgICB2YXIgYiA9IGEubWF0Y2goR2IpO1xuICAgICAgYSA9IGIgJiYgRmIudGVzdChiWzFdKSA/IG5ldyBDKGEsIERiKSA6IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBhO1xuICB9XG5cbiAgZnVuY3Rpb24gSmIoYSkge1xuICAgIGlmIChhIGluc3RhbmNlb2YgQykgcmV0dXJuIGE7XG4gICAgYSA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIGEgJiYgYS5zYSA/IGEucmEoKSA6IFN0cmluZyhhKTtcbiAgICBIYi50ZXN0KGEpIHx8IChhID0gXCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiKTtcbiAgICByZXR1cm4gbmV3IEMoYSwgRGIpO1xuICB9XG5cbiAgdmFyIERiID0ge30sXG4gICAgICBLYiA9IG5ldyBDKFwiYWJvdXQ6aW52YWxpZCN6Q2xvc3VyZXpcIiwgRGIpO1xuXG4gIGZ1bmN0aW9uIExiKGEsIGIsIGMpIHtcbiAgICB0aGlzLmEgPSBjID09PSBNYiA/IGEgOiBcIlwiO1xuICB9XG5cbiAgTGIucHJvdG90eXBlLnNhID0gITA7XG5cbiAgTGIucHJvdG90eXBlLnJhID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmEudG9TdHJpbmcoKTtcbiAgfTtcblxuICBMYi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiU2FmZUh0bWx7XCIgKyB0aGlzLmEgKyBcIn1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBOYihhKSB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBMYiAmJiBhLmNvbnN0cnVjdG9yID09PSBMYikgcmV0dXJuIGEuYTtcbiAgICBHYShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVIdG1sLCBnb3QgJ1wiICsgYSArIFwiJyBvZiB0eXBlIFwiICsgbWEoYSkpO1xuICAgIHJldHVybiBcInR5cGVfZXJyb3I6U2FmZUh0bWxcIjtcbiAgfVxuXG4gIHZhciBNYiA9IHt9O1xuXG4gIGZ1bmN0aW9uIE9iKGEsIGIpIHtcbiAgICBwYihhLCBcIkhUTUxTY3JpcHRFbGVtZW50XCIpO1xuICAgIGEuc3JjID0geWIoYik7XG4gICAgKGIgPSBhLm93bmVyRG9jdW1lbnQgJiYgYS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiBiICE9IGwgPyBiID0ga2EoYi5kb2N1bWVudCkgOiAobnVsbCA9PT0gamEgJiYgKGphID0ga2EobC5kb2N1bWVudCkpLCBiID0gamEpO1xuICAgIGIgJiYgYS5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFBiKGEsIGIsIGMsIGQpIHtcbiAgICBhID0gYSBpbnN0YW5jZW9mIEMgPyBhIDogSmIoYSk7XG4gICAgYiA9IGIgfHwgbDtcbiAgICBjID0gYyBpbnN0YW5jZW9mIHFiID8gdGIoYykgOiBjIHx8IFwiXCI7XG4gICAgcmV0dXJuIGIub3BlbihFYihhKSwgYywgZCwgdm9pZCAwKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBRYihhLCBiKSB7XG4gICAgZm9yICh2YXIgYyA9IGEuc3BsaXQoXCIlc1wiKSwgZCA9IFwiXCIsIGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOyBlLmxlbmd0aCAmJiAxIDwgYy5sZW5ndGg7KSB7XG4gICAgICBkICs9IGMuc2hpZnQoKSArIGUuc2hpZnQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZCArIGMuam9pbihcIiVzXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gUmIoYSkge1xuICAgIGdiLnRlc3QoYSkgJiYgKC0xICE9IGEuaW5kZXhPZihcIiZcIikgJiYgKGEgPSBhLnJlcGxhY2UoYWIsIFwiJmFtcDtcIikpLCAtMSAhPSBhLmluZGV4T2YoXCI8XCIpICYmIChhID0gYS5yZXBsYWNlKGJiLCBcIiZsdDtcIikpLCAtMSAhPSBhLmluZGV4T2YoXCI+XCIpICYmIChhID0gYS5yZXBsYWNlKGNiLCBcIiZndDtcIikpLCAtMSAhPSBhLmluZGV4T2YoJ1wiJykgJiYgKGEgPSBhLnJlcGxhY2UoZGIsIFwiJnF1b3Q7XCIpKSwgLTEgIT0gYS5pbmRleE9mKFwiJ1wiKSAmJiAoYSA9IGEucmVwbGFjZShlYiwgXCImIzM5O1wiKSksIC0xICE9IGEuaW5kZXhPZihcIlxceDAwXCIpICYmIChhID0gYS5yZXBsYWNlKGZiLCBcIiYjMDtcIikpKTtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBTYihhKSB7XG4gICAgU2JbXCIgXCJdKGEpO1xuICAgIHJldHVybiBhO1xuICB9XG5cbiAgU2JbXCIgXCJdID0gbGE7XG5cbiAgZnVuY3Rpb24gVGIoYSwgYikge1xuICAgIHZhciBjID0gVWI7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLCBhKSA/IGNbYV0gOiBjW2FdID0gYihhKTtcbiAgfVxuXG4gIDtcbiAgdmFyIFZiID0geShcIk9wZXJhXCIpLFxuICAgICAgV2IgPSB5KFwiVHJpZGVudFwiKSB8fCB5KFwiTVNJRVwiKSxcbiAgICAgIFhiID0geShcIkVkZ2VcIiksXG4gICAgICBZYiA9IFhiIHx8IFdiLFxuICAgICAgWmIgPSB5KFwiR2Vja29cIikgJiYgISh4KGliLnRvTG93ZXJDYXNlKCksIFwid2Via2l0XCIpICYmICF5KFwiRWRnZVwiKSkgJiYgISh5KFwiVHJpZGVudFwiKSB8fCB5KFwiTVNJRVwiKSkgJiYgIXkoXCJFZGdlXCIpLFxuICAgICAgJGIgPSB4KGliLnRvTG93ZXJDYXNlKCksIFwid2Via2l0XCIpICYmICF5KFwiRWRnZVwiKTtcblxuICBmdW5jdGlvbiBhYygpIHtcbiAgICB2YXIgYSA9IGwuZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGEgPyBhLmRvY3VtZW50TW9kZSA6IHZvaWQgMDtcbiAgfVxuXG4gIHZhciBiYztcblxuICBhOiB7XG4gICAgdmFyIGNjID0gXCJcIixcbiAgICAgICAgZGMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYSA9IGliO1xuICAgICAgaWYgKFpiKSByZXR1cm4gL3J2OihbXlxcKTtdKykoXFwpfDspLy5leGVjKGEpO1xuICAgICAgaWYgKFhiKSByZXR1cm4gL0VkZ2VcXC8oW1xcZFxcLl0rKS8uZXhlYyhhKTtcbiAgICAgIGlmIChXYikgcmV0dXJuIC9cXGIoPzpNU0lFfHJ2KVs6IF0oW15cXCk7XSspKFxcKXw7KS8uZXhlYyhhKTtcbiAgICAgIGlmICgkYikgcmV0dXJuIC9XZWJLaXRcXC8oXFxTKykvLmV4ZWMoYSk7XG4gICAgICBpZiAoVmIpIHJldHVybiAvKD86VmVyc2lvbilbIFxcL10/KFxcUyspLy5leGVjKGEpO1xuICAgIH0oKTtcblxuICAgIGRjICYmIChjYyA9IGRjID8gZGNbMV0gOiBcIlwiKTtcblxuICAgIGlmIChXYikge1xuICAgICAgdmFyIGVjID0gYWMoKTtcblxuICAgICAgaWYgKG51bGwgIT0gZWMgJiYgZWMgPiBwYXJzZUZsb2F0KGNjKSkge1xuICAgICAgICBiYyA9IFN0cmluZyhlYyk7XG4gICAgICAgIGJyZWFrIGE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYmMgPSBjYztcbiAgfVxuXG4gIHZhciBVYiA9IHt9O1xuXG4gIGZ1bmN0aW9uIGZjKGEpIHtcbiAgICByZXR1cm4gVGIoYSwgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgYiA9IDAsIGMgPSAkYShTdHJpbmcoYmMpKS5zcGxpdChcIi5cIiksIGQgPSAkYShTdHJpbmcoYSkpLnNwbGl0KFwiLlwiKSwgZSA9IE1hdGgubWF4KGMubGVuZ3RoLCBkLmxlbmd0aCksIGYgPSAwOyAwID09IGIgJiYgZiA8IGU7IGYrKykge1xuICAgICAgICB2YXIgZyA9IGNbZl0gfHwgXCJcIixcbiAgICAgICAgICAgIGggPSBkW2ZdIHx8IFwiXCI7XG5cbiAgICAgICAgZG8ge1xuICAgICAgICAgIGcgPSAvKFxcZCopKFxcRCopKC4qKS8uZXhlYyhnKSB8fCBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl07XG4gICAgICAgICAgaCA9IC8oXFxkKikoXFxEKikoLiopLy5leGVjKGgpIHx8IFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXTtcbiAgICAgICAgICBpZiAoMCA9PSBnWzBdLmxlbmd0aCAmJiAwID09IGhbMF0ubGVuZ3RoKSBicmVhaztcbiAgICAgICAgICBiID0gaGIoMCA9PSBnWzFdLmxlbmd0aCA/IDAgOiBwYXJzZUludChnWzFdLCAxMCksIDAgPT0gaFsxXS5sZW5ndGggPyAwIDogcGFyc2VJbnQoaFsxXSwgMTApKSB8fCBoYigwID09IGdbMl0ubGVuZ3RoLCAwID09IGhbMl0ubGVuZ3RoKSB8fCBoYihnWzJdLCBoWzJdKTtcbiAgICAgICAgICBnID0gZ1szXTtcbiAgICAgICAgICBoID0gaFszXTtcbiAgICAgICAgfSB3aGlsZSAoMCA9PSBiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIDAgPD0gYjtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBnYztcblxuICBpZiAobC5kb2N1bWVudCAmJiBXYikge1xuICAgIHZhciBoYyA9IGFjKCk7XG4gICAgZ2MgPSBoYyA/IGhjIDogcGFyc2VJbnQoYmMsIDEwKSB8fCB2b2lkIDA7XG4gIH0gZWxzZSBnYyA9IHZvaWQgMDtcblxuICB2YXIgaWMgPSBnYztcblxuICB0cnkge1xuICAgIG5ldyBzZWxmLk9mZnNjcmVlbkNhbnZhcygwLCAwKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gIH0gY2F0Y2ggKGEpIHt9XG5cbiAgdmFyIGpjID0gIVdiIHx8IDkgPD0gTnVtYmVyKGljKTtcblxuICBmdW5jdGlvbiBrYyhhKSB7XG4gICAgdmFyIGIgPSBkb2N1bWVudDtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEgPyBiLmdldEVsZW1lbnRCeUlkKGEpIDogYTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxjKGEsIGIpIHtcbiAgICBsYihiLCBmdW5jdGlvbiAoYywgZCkge1xuICAgICAgYyAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBjICYmIGMuc2EgJiYgKGMgPSBjLnJhKCkpO1xuICAgICAgXCJzdHlsZVwiID09IGQgPyBhLnN0eWxlLmNzc1RleHQgPSBjIDogXCJjbGFzc1wiID09IGQgPyBhLmNsYXNzTmFtZSA9IGMgOiBcImZvclwiID09IGQgPyBhLmh0bWxGb3IgPSBjIDogbWMuaGFzT3duUHJvcGVydHkoZCkgPyBhLnNldEF0dHJpYnV0ZShtY1tkXSwgYykgOiAwID09IGQubGFzdEluZGV4T2YoXCJhcmlhLVwiLCAwKSB8fCAwID09IGQubGFzdEluZGV4T2YoXCJkYXRhLVwiLCAwKSA/IGEuc2V0QXR0cmlidXRlKGQsIGMpIDogYVtkXSA9IGM7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgbWMgPSB7XG4gICAgY2VsbHBhZGRpbmc6IFwiY2VsbFBhZGRpbmdcIixcbiAgICBjZWxsc3BhY2luZzogXCJjZWxsU3BhY2luZ1wiLFxuICAgIGNvbHNwYW46IFwiY29sU3BhblwiLFxuICAgIGZyYW1lYm9yZGVyOiBcImZyYW1lQm9yZGVyXCIsXG4gICAgaGVpZ2h0OiBcImhlaWdodFwiLFxuICAgIG1heGxlbmd0aDogXCJtYXhMZW5ndGhcIixcbiAgICBub25jZTogXCJub25jZVwiLFxuICAgIHJvbGU6IFwicm9sZVwiLFxuICAgIHJvd3NwYW46IFwicm93U3BhblwiLFxuICAgIHR5cGU6IFwidHlwZVwiLFxuICAgIHVzZW1hcDogXCJ1c2VNYXBcIixcbiAgICB2YWxpZ246IFwidkFsaWduXCIsXG4gICAgd2lkdGg6IFwid2lkdGhcIlxuICB9O1xuXG4gIGZ1bmN0aW9uIG5jKGEsIGIsIGMpIHtcbiAgICB2YXIgZCA9IGFyZ3VtZW50cyxcbiAgICAgICAgZSA9IGRvY3VtZW50LFxuICAgICAgICBmID0gU3RyaW5nKGRbMF0pLFxuICAgICAgICBnID0gZFsxXTtcblxuICAgIGlmICghamMgJiYgZyAmJiAoZy5uYW1lIHx8IGcudHlwZSkpIHtcbiAgICAgIGYgPSBbXCI8XCIsIGZdO1xuICAgICAgZy5uYW1lICYmIGYucHVzaCgnIG5hbWU9XCInLCBSYihnLm5hbWUpLCAnXCInKTtcblxuICAgICAgaWYgKGcudHlwZSkge1xuICAgICAgICBmLnB1c2goJyB0eXBlPVwiJywgUmIoZy50eXBlKSwgJ1wiJyk7XG4gICAgICAgIHZhciBoID0ge307XG4gICAgICAgIHooaCwgZyk7XG4gICAgICAgIGRlbGV0ZSBoLnR5cGU7XG4gICAgICAgIGcgPSBoO1xuICAgICAgfVxuXG4gICAgICBmLnB1c2goXCI+XCIpO1xuICAgICAgZiA9IGYuam9pbihcIlwiKTtcbiAgICB9XG5cbiAgICBmID0gb2MoZSwgZik7XG4gICAgZyAmJiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGcgPyBmLmNsYXNzTmFtZSA9IGcgOiBBcnJheS5pc0FycmF5KGcpID8gZi5jbGFzc05hbWUgPSBnLmpvaW4oXCIgXCIpIDogbGMoZiwgZykpO1xuICAgIDIgPCBkLmxlbmd0aCAmJiBwYyhlLCBmLCBkKTtcbiAgICByZXR1cm4gZjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBjKGEsIGIsIGMpIHtcbiAgICBmdW5jdGlvbiBkKGgpIHtcbiAgICAgIGggJiYgYi5hcHBlbmRDaGlsZChcInN0cmluZ1wiID09PSB0eXBlb2YgaCA/IGEuY3JlYXRlVGV4dE5vZGUoaCkgOiBoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBlID0gMjsgZSA8IGMubGVuZ3RoOyBlKyspIHtcbiAgICAgIHZhciBmID0gY1tlXTtcbiAgICAgIGlmICghbmEoZikgfHwgbShmKSAmJiAwIDwgZi5ub2RlVHlwZSkgZChmKTtlbHNlIHtcbiAgICAgICAgYToge1xuICAgICAgICAgIGlmIChmICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIGYubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobShmKSkge1xuICAgICAgICAgICAgICB2YXIgZyA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZi5pdGVtIHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGYuaXRlbTtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG9hKGYpKSB7XG4gICAgICAgICAgICAgIGcgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGYuaXRlbTtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnID0gITE7XG4gICAgICAgIH1cblxuICAgICAgICB3KGcgPyBaYShmKSA6IGYsIGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9jKGEsIGIpIHtcbiAgICBiID0gU3RyaW5nKGIpO1xuICAgIFwiYXBwbGljYXRpb24veGh0bWwreG1sXCIgPT09IGEuY29udGVudFR5cGUgJiYgKGIgPSBiLnRvTG93ZXJDYXNlKCkpO1xuICAgIHJldHVybiBhLmNyZWF0ZUVsZW1lbnQoYik7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gcWMoYSkge1xuICAgIGwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBhO1xuICAgIH0sIDApO1xuICB9XG5cbiAgdmFyIHJjO1xuXG4gIGZ1bmN0aW9uIHNjKCkge1xuICAgIHZhciBhID0gbC5NZXNzYWdlQ2hhbm5lbDtcbiAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgYSAmJiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdy5wb3N0TWVzc2FnZSAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciAmJiAheShcIlByZXN0b1wiKSAmJiAoYSA9IGZ1bmN0aW9uIGEoKSB7XG4gICAgICB2YXIgZSA9IG9jKGRvY3VtZW50LCBcIklGUkFNRVwiKTtcbiAgICAgIGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGUpO1xuICAgICAgdmFyIGYgPSBlLmNvbnRlbnRXaW5kb3c7XG4gICAgICBlID0gZi5kb2N1bWVudDtcbiAgICAgIGUub3BlbigpO1xuICAgICAgZS5jbG9zZSgpO1xuICAgICAgdmFyIGcgPSBcImNhbGxJbW1lZGlhdGVcIiArIE1hdGgucmFuZG9tKCksXG4gICAgICAgICAgaCA9IFwiZmlsZTpcIiA9PSBmLmxvY2F0aW9uLnByb3RvY29sID8gXCIqXCIgOiBmLmxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgZi5sb2NhdGlvbi5ob3N0O1xuICAgICAgZSA9IHEoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgaWYgKChcIipcIiA9PSBoIHx8IG4ub3JpZ2luID09IGgpICYmIG4uZGF0YSA9PSBnKSB0aGlzLnBvcnQxLm9ubWVzc2FnZSgpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgICBmLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGUsICExKTtcbiAgICAgIHRoaXMucG9ydDEgPSB7fTtcbiAgICAgIHRoaXMucG9ydDIgPSB7XG4gICAgICAgIHBvc3RNZXNzYWdlOiBmdW5jdGlvbiBwb3N0TWVzc2FnZSgpIHtcbiAgICAgICAgICBmLnBvc3RNZXNzYWdlKGcsIGgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBhICYmICF5KFwiVHJpZGVudFwiKSAmJiAheShcIk1TSUVcIikpIHtcbiAgICAgIHZhciBiID0gbmV3IGEoKSxcbiAgICAgICAgICBjID0ge30sXG4gICAgICAgICAgZCA9IGM7XG5cbiAgICAgIGIucG9ydDEub25tZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodm9pZCAwICE9PSBjLm5leHQpIHtcbiAgICAgICAgICBjID0gYy5uZXh0O1xuICAgICAgICAgIHZhciBlID0gYy5GYjtcbiAgICAgICAgICBjLkZiID0gbnVsbDtcbiAgICAgICAgICBlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkLm5leHQgPSB7XG4gICAgICAgICAgRmI6IGVcbiAgICAgICAgfTtcbiAgICAgICAgZCA9IGQubmV4dDtcbiAgICAgICAgYi5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XG4gICAgICBsLnNldFRpbWVvdXQoZSwgMCk7XG4gICAgfTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiB0YyhhLCBiKSB7XG4gICAgdWMgfHwgdmMoKTtcbiAgICB3YyB8fCAodWMoKSwgd2MgPSAhMCk7XG4gICAgTmEuYWRkKGEsIGIpO1xuICB9XG5cbiAgdmFyIHVjO1xuXG4gIGZ1bmN0aW9uIHZjKCkge1xuICAgIGlmIChsLlByb21pc2UgJiYgbC5Qcm9taXNlLnJlc29sdmUpIHtcbiAgICAgIHZhciBhID0gbC5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTtcblxuICAgICAgdWMgPSBmdW5jdGlvbiB1YygpIHtcbiAgICAgICAgYS50aGVuKHhjKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHVjID0gZnVuY3Rpb24gdWMoKSB7XG4gICAgICB2YXIgYiA9IHhjO1xuICAgICAgIW9hKGwuc2V0SW1tZWRpYXRlKSB8fCBsLldpbmRvdyAmJiBsLldpbmRvdy5wcm90b3R5cGUgJiYgIXkoXCJFZGdlXCIpICYmIGwuV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGUgPT0gbC5zZXRJbW1lZGlhdGUgPyAocmMgfHwgKHJjID0gc2MoKSksIHJjKGIpKSA6IGwuc2V0SW1tZWRpYXRlKGIpO1xuICAgIH07XG4gIH1cblxuICB2YXIgd2MgPSAhMSxcbiAgICAgIE5hID0gbmV3IEphKCk7XG5cbiAgZnVuY3Rpb24geGMoKSB7XG4gICAgZm9yICh2YXIgYTsgYSA9IE1hKCk7KSB7XG4gICAgICB0cnkge1xuICAgICAgICBhLmEuY2FsbChhLmIpO1xuICAgICAgfSBjYXRjaCAoYikge1xuICAgICAgICBxYyhiKTtcbiAgICAgIH1cblxuICAgICAgSWEoTGEsIGEpO1xuICAgIH1cblxuICAgIHdjID0gITE7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gRChhLCBiKSB7XG4gICAgdGhpcy5hID0geWM7XG4gICAgdGhpcy5pID0gdm9pZCAwO1xuICAgIHRoaXMuZiA9IHRoaXMuYiA9IHRoaXMuYyA9IG51bGw7XG4gICAgdGhpcy5nID0gdGhpcy5oID0gITE7XG4gICAgaWYgKGEgIT0gbGEpIHRyeSB7XG4gICAgICB2YXIgYyA9IHRoaXM7XG4gICAgICBhLmNhbGwoYiwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgemMoYywgQWMsIGQpO1xuICAgICAgfSwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgaWYgKCEoZCBpbnN0YW5jZW9mIEJjKSkgdHJ5IHtcbiAgICAgICAgICBpZiAoZCBpbnN0YW5jZW9mIEVycm9yKSB0aHJvdyBkO1xuICAgICAgICAgIHRocm93IEVycm9yKFwiUHJvbWlzZSByZWplY3RlZC5cIik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHpjKGMsIENjLCBkKTtcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGQpIHtcbiAgICAgIHpjKHRoaXMsIENjLCBkKTtcbiAgICB9XG4gIH1cblxuICB2YXIgeWMgPSAwLFxuICAgICAgQWMgPSAyLFxuICAgICAgQ2MgPSAzO1xuXG4gIGZ1bmN0aW9uIERjKCkge1xuICAgIHRoaXMubmV4dCA9IHRoaXMuZiA9IHRoaXMuYiA9IHRoaXMuZyA9IHRoaXMuYSA9IG51bGw7XG4gICAgdGhpcy5jID0gITE7XG4gIH1cblxuICBEYy5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mID0gdGhpcy5iID0gdGhpcy5nID0gdGhpcy5hID0gbnVsbDtcbiAgICB0aGlzLmMgPSAhMTtcbiAgfTtcblxuICB2YXIgRWMgPSBuZXcgSGEoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgRGMoKTtcbiAgfSwgZnVuY3Rpb24gKGEpIHtcbiAgICBhLnJlc2V0KCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIEZjKGEsIGIsIGMpIHtcbiAgICB2YXIgZCA9IEVjLmdldCgpO1xuICAgIGQuZyA9IGE7XG4gICAgZC5iID0gYjtcbiAgICBkLmYgPSBjO1xuICAgIHJldHVybiBkO1xuICB9XG5cbiAgZnVuY3Rpb24gRShhKSB7XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBEKSByZXR1cm4gYTtcbiAgICB2YXIgYiA9IG5ldyBEKGxhKTtcbiAgICB6YyhiLCBBYywgYSk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBGKGEpIHtcbiAgICByZXR1cm4gbmV3IEQoZnVuY3Rpb24gKGIsIGMpIHtcbiAgICAgIGMoYSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBHYyhhLCBiLCBjKSB7XG4gICAgSGMoYSwgYiwgYywgbnVsbCkgfHwgdGModWEoYiwgYSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gSWMoYSkge1xuICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoYiwgYykge1xuICAgICAgdmFyIGQgPSBhLmxlbmd0aCxcbiAgICAgICAgICBlID0gW107XG4gICAgICBpZiAoZCkgZm9yICh2YXIgZiA9IGZ1bmN0aW9uIGYocCwgdikge1xuICAgICAgICBkLS07XG4gICAgICAgIGVbcF0gPSB2O1xuICAgICAgICAwID09IGQgJiYgYihlKTtcbiAgICAgIH0sIGcgPSBmdW5jdGlvbiBnKHApIHtcbiAgICAgICAgYyhwKTtcbiAgICAgIH0sIGggPSAwLCBuOyBoIDwgYS5sZW5ndGg7IGgrKykge1xuICAgICAgICBuID0gYVtoXSwgR2MobiwgdWEoZiwgaCksIGcpO1xuICAgICAgfSBlbHNlIGIoZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBKYyhhKSB7XG4gICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiKSB7XG4gICAgICB2YXIgYyA9IGEubGVuZ3RoLFxuICAgICAgICAgIGQgPSBbXTtcbiAgICAgIGlmIChjKSBmb3IgKHZhciBlID0gZnVuY3Rpb24gZShoLCBuLCBwKSB7XG4gICAgICAgIGMtLTtcbiAgICAgICAgZFtoXSA9IG4gPyB7XG4gICAgICAgICAgT2I6ICEwLFxuICAgICAgICAgIHZhbHVlOiBwXG4gICAgICAgIH0gOiB7XG4gICAgICAgICAgT2I6ICExLFxuICAgICAgICAgIHJlYXNvbjogcFxuICAgICAgICB9O1xuICAgICAgICAwID09IGMgJiYgYihkKTtcbiAgICAgIH0sIGYgPSAwLCBnOyBmIDwgYS5sZW5ndGg7IGYrKykge1xuICAgICAgICBnID0gYVtmXSwgR2MoZywgdWEoZSwgZiwgITApLCB1YShlLCBmLCAhMSkpO1xuICAgICAgfSBlbHNlIGIoZCk7XG4gICAgfSk7XG4gIH1cblxuICBELnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gS2ModGhpcywgb2EoYSkgPyBhIDogbnVsbCwgb2EoYikgPyBiIDogbnVsbCwgYyk7XG4gIH07XG5cbiAgRC5wcm90b3R5cGUuJGdvb2dfVGhlbmFibGUgPSAhMDtcbiAgayA9IEQucHJvdG90eXBlO1xuXG4gIGsubmEgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGEgPSBGYyhhLCBhLCBiKTtcbiAgICBhLmMgPSAhMDtcbiAgICBMYyh0aGlzLCBhKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBrLnMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBLYyh0aGlzLCBudWxsLCBhLCBiKTtcbiAgfTtcblxuICBrLmNhbmNlbCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKHRoaXMuYSA9PSB5Yykge1xuICAgICAgdmFyIGIgPSBuZXcgQmMoYSk7XG4gICAgICB0YyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIE1jKHRoaXMsIGIpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIE1jKGEsIGIpIHtcbiAgICBpZiAoYS5hID09IHljKSBpZiAoYS5jKSB7XG4gICAgICB2YXIgYyA9IGEuYztcblxuICAgICAgaWYgKGMuYikge1xuICAgICAgICBmb3IgKHZhciBkID0gMCwgZSA9IG51bGwsIGYgPSBudWxsLCBnID0gYy5iOyBnICYmIChnLmMgfHwgKGQrKywgZy5hID09IGEgJiYgKGUgPSBnKSwgIShlICYmIDEgPCBkKSkpOyBnID0gZy5uZXh0KSB7XG4gICAgICAgICAgZSB8fCAoZiA9IGcpO1xuICAgICAgICB9XG5cbiAgICAgICAgZSAmJiAoYy5hID09IHljICYmIDEgPT0gZCA/IE1jKGMsIGIpIDogKGYgPyAoZCA9IGYsIGQubmV4dCA9PSBjLmYgJiYgKGMuZiA9IGQpLCBkLm5leHQgPSBkLm5leHQubmV4dCkgOiBOYyhjKSwgT2MoYywgZSwgQ2MsIGIpKSk7XG4gICAgICB9XG5cbiAgICAgIGEuYyA9IG51bGw7XG4gICAgfSBlbHNlIHpjKGEsIENjLCBiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIExjKGEsIGIpIHtcbiAgICBhLmIgfHwgYS5hICE9IEFjICYmIGEuYSAhPSBDYyB8fCBQYyhhKTtcbiAgICBhLmYgPyBhLmYubmV4dCA9IGIgOiBhLmIgPSBiO1xuICAgIGEuZiA9IGI7XG4gIH1cblxuICBmdW5jdGlvbiBLYyhhLCBiLCBjLCBkKSB7XG4gICAgdmFyIGUgPSBGYyhudWxsLCBudWxsLCBudWxsKTtcbiAgICBlLmEgPSBuZXcgRChmdW5jdGlvbiAoZiwgZykge1xuICAgICAgZS5nID0gYiA/IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG4gPSBiLmNhbGwoZCwgaCk7XG4gICAgICAgICAgZihuKTtcbiAgICAgICAgfSBjYXRjaCAocCkge1xuICAgICAgICAgIGcocCk7XG4gICAgICAgIH1cbiAgICAgIH0gOiBmO1xuICAgICAgZS5iID0gYyA/IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIG4gPSBjLmNhbGwoZCwgaCk7XG4gICAgICAgICAgdm9pZCAwID09PSBuICYmIGggaW5zdGFuY2VvZiBCYyA/IGcoaCkgOiBmKG4pO1xuICAgICAgICB9IGNhdGNoIChwKSB7XG4gICAgICAgICAgZyhwKTtcbiAgICAgICAgfVxuICAgICAgfSA6IGc7XG4gICAgfSk7XG4gICAgZS5hLmMgPSBhO1xuICAgIExjKGEsIGUpO1xuICAgIHJldHVybiBlLmE7XG4gIH1cblxuICBrLlpjID0gZnVuY3Rpb24gKGEpIHtcbiAgICB0aGlzLmEgPSB5YztcbiAgICB6Yyh0aGlzLCBBYywgYSk7XG4gIH07XG5cbiAgay4kYyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdGhpcy5hID0geWM7XG4gICAgemModGhpcywgQ2MsIGEpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHpjKGEsIGIsIGMpIHtcbiAgICBhLmEgPT0geWMgJiYgKGEgPT09IGMgJiYgKGIgPSBDYywgYyA9IG5ldyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSksIGEuYSA9IDEsIEhjKGMsIGEuWmMsIGEuJGMsIGEpIHx8IChhLmkgPSBjLCBhLmEgPSBiLCBhLmMgPSBudWxsLCBQYyhhKSwgYiAhPSBDYyB8fCBjIGluc3RhbmNlb2YgQmMgfHwgUWMoYSwgYykpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEhjKGEsIGIsIGMsIGQpIHtcbiAgICBpZiAoYSBpbnN0YW5jZW9mIEQpIHJldHVybiBMYyhhLCBGYyhiIHx8IGxhLCBjIHx8IG51bGwsIGQpKSwgITA7XG4gICAgaWYgKEVhKGEpKSByZXR1cm4gYS50aGVuKGIsIGMsIGQpLCAhMDtcbiAgICBpZiAobShhKSkgdHJ5IHtcbiAgICAgIHZhciBlID0gYS50aGVuO1xuICAgICAgaWYgKG9hKGUpKSByZXR1cm4gUmMoYSwgZSwgYiwgYywgZCksICEwO1xuICAgIH0gY2F0Y2ggKGYpIHtcbiAgICAgIHJldHVybiBjLmNhbGwoZCwgZiksICEwO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH1cblxuICBmdW5jdGlvbiBSYyhhLCBiLCBjLCBkLCBlKSB7XG4gICAgZnVuY3Rpb24gZihuKSB7XG4gICAgICBoIHx8IChoID0gITAsIGQuY2FsbChlLCBuKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZyhuKSB7XG4gICAgICBoIHx8IChoID0gITAsIGMuY2FsbChlLCBuKSk7XG4gICAgfVxuXG4gICAgdmFyIGggPSAhMTtcblxuICAgIHRyeSB7XG4gICAgICBiLmNhbGwoYSwgZywgZik7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgZihuKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBQYyhhKSB7XG4gICAgYS5oIHx8IChhLmggPSAhMCwgdGMoYS5mYywgYSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gTmMoYSkge1xuICAgIHZhciBiID0gbnVsbDtcbiAgICBhLmIgJiYgKGIgPSBhLmIsIGEuYiA9IGIubmV4dCwgYi5uZXh0ID0gbnVsbCk7XG4gICAgYS5iIHx8IChhLmYgPSBudWxsKTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGsuZmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgYTsgYSA9IE5jKHRoaXMpOykge1xuICAgICAgT2ModGhpcywgYSwgdGhpcy5hLCB0aGlzLmkpO1xuICAgIH1cblxuICAgIHRoaXMuaCA9ICExO1xuICB9O1xuXG4gIGZ1bmN0aW9uIE9jKGEsIGIsIGMsIGQpIHtcbiAgICBpZiAoYyA9PSBDYyAmJiBiLmIgJiYgIWIuYykgZm9yICg7IGEgJiYgYS5nOyBhID0gYS5jKSB7XG4gICAgICBhLmcgPSAhMTtcbiAgICB9XG4gICAgaWYgKGIuYSkgYi5hLmMgPSBudWxsLCBTYyhiLCBjLCBkKTtlbHNlIHRyeSB7XG4gICAgICBiLmMgPyBiLmcuY2FsbChiLmYpIDogU2MoYiwgYywgZCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgVGMuY2FsbChudWxsLCBlKTtcbiAgICB9XG4gICAgSWEoRWMsIGIpO1xuICB9XG5cbiAgZnVuY3Rpb24gU2MoYSwgYiwgYykge1xuICAgIGIgPT0gQWMgPyBhLmcuY2FsbChhLmYsIGMpIDogYS5iICYmIGEuYi5jYWxsKGEuZiwgYyk7XG4gIH1cblxuICBmdW5jdGlvbiBRYyhhLCBiKSB7XG4gICAgYS5nID0gITA7XG4gICAgdGMoZnVuY3Rpb24gKCkge1xuICAgICAgYS5nICYmIFRjLmNhbGwobnVsbCwgYik7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgVGMgPSBxYztcblxuICBmdW5jdGlvbiBCYyhhKSB7XG4gICAgdS5jYWxsKHRoaXMsIGEpO1xuICB9XG5cbiAgcihCYywgdSk7XG4gIEJjLnByb3RvdHlwZS5uYW1lID0gXCJjYW5jZWxcIjtcblxuICBmdW5jdGlvbiBVYygpIHtcbiAgICAwICE9IFZjICYmIChXY1twYSh0aGlzKV0gPSB0aGlzKTtcbiAgICB0aGlzLnhhID0gdGhpcy54YTtcbiAgICB0aGlzLm9hID0gdGhpcy5vYTtcbiAgfVxuXG4gIHZhciBWYyA9IDAsXG4gICAgICBXYyA9IHt9O1xuICBVYy5wcm90b3R5cGUueGEgPSAhMTtcblxuICBmdW5jdGlvbiBYYyhhKSB7XG4gICAgaWYgKCFhLnhhICYmIChhLnhhID0gITAsIGEuRGEoKSwgMCAhPSBWYykpIHtcbiAgICAgIHZhciBiID0gcGEoYSk7XG4gICAgICBpZiAoMCAhPSBWYyAmJiBhLm9hICYmIDAgPCBhLm9hLmxlbmd0aCkgdGhyb3cgRXJyb3IoYSArIFwiIGRpZCBub3QgZW1wdHkgaXRzIG9uRGlzcG9zZUNhbGxiYWNrcyBxdWV1ZS4gVGhpcyBwcm9iYWJseSBtZWFucyBpdCBvdmVycm9kZSBkaXNwb3NlKCkgb3IgZGlzcG9zZUludGVybmFsKCkgd2l0aG91dCBjYWxsaW5nIHRoZSBzdXBlcmNsYXNzJyBtZXRob2QuXCIpO1xuICAgICAgZGVsZXRlIFdjW2JdO1xuICAgIH1cbiAgfVxuXG4gIFVjLnByb3RvdHlwZS5EYSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5vYSkgZm9yICg7IHRoaXMub2EubGVuZ3RoOykge1xuICAgICAgdGhpcy5vYS5zaGlmdCgpKCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciBZYyA9IE9iamVjdC5mcmVlemUgfHwgZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYTtcbiAgfTtcblxuICB2YXIgWmMgPSAhV2IgfHwgOSA8PSBOdW1iZXIoaWMpLFxuICAgICAgJGMgPSBXYiAmJiAhZmMoXCI5XCIpLFxuICAgICAgYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFsLmFkZEV2ZW50TGlzdGVuZXIgfHwgIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgcmV0dXJuICExO1xuICAgIHZhciBhID0gITEsXG4gICAgICAgIGIgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwicGFzc2l2ZVwiLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgYSA9ICEwO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJ5IHtcbiAgICAgIGwuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgbGEsIGIpLCBsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIGxhLCBiKTtcbiAgICB9IGNhdGNoIChjKSB7fVxuXG4gICAgcmV0dXJuIGE7XG4gIH0oKTtcblxuICBmdW5jdGlvbiBHKGEsIGIpIHtcbiAgICB0aGlzLnR5cGUgPSBhO1xuICAgIHRoaXMuYiA9IHRoaXMudGFyZ2V0ID0gYjtcbiAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSAhMTtcbiAgfVxuXG4gIEcucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICEwO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGJkKGEsIGIpIHtcbiAgICBHLmNhbGwodGhpcywgYSA/IGEudHlwZSA6IFwiXCIpO1xuICAgIHRoaXMucmVsYXRlZFRhcmdldCA9IHRoaXMuYiA9IHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLmJ1dHRvbiA9IHRoaXMuc2NyZWVuWSA9IHRoaXMuc2NyZWVuWCA9IHRoaXMuY2xpZW50WSA9IHRoaXMuY2xpZW50WCA9IDA7XG4gICAgdGhpcy5rZXkgPSBcIlwiO1xuICAgIHRoaXMubWV0YUtleSA9IHRoaXMuc2hpZnRLZXkgPSB0aGlzLmFsdEtleSA9IHRoaXMuY3RybEtleSA9ICExO1xuICAgIHRoaXMucG9pbnRlcklkID0gMDtcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gXCJcIjtcbiAgICB0aGlzLmEgPSBudWxsO1xuXG4gICAgaWYgKGEpIHtcbiAgICAgIHZhciBjID0gdGhpcy50eXBlID0gYS50eXBlLFxuICAgICAgICAgIGQgPSBhLmNoYW5nZWRUb3VjaGVzICYmIGEuY2hhbmdlZFRvdWNoZXMubGVuZ3RoID8gYS5jaGFuZ2VkVG91Y2hlc1swXSA6IG51bGw7XG4gICAgICB0aGlzLnRhcmdldCA9IGEudGFyZ2V0IHx8IGEuc3JjRWxlbWVudDtcbiAgICAgIHRoaXMuYiA9IGI7XG5cbiAgICAgIGlmIChiID0gYS5yZWxhdGVkVGFyZ2V0KSB7XG4gICAgICAgIGlmIChaYikge1xuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFNiKGIubm9kZU5hbWUpO1xuICAgICAgICAgICAgICB2YXIgZSA9ICEwO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfSBjYXRjaCAoZikge31cblxuICAgICAgICAgICAgZSA9ICExO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGUgfHwgKGIgPSBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIFwibW91c2VvdmVyXCIgPT0gYyA/IGIgPSBhLmZyb21FbGVtZW50IDogXCJtb3VzZW91dFwiID09IGMgJiYgKGIgPSBhLnRvRWxlbWVudCk7XG5cbiAgICAgIHRoaXMucmVsYXRlZFRhcmdldCA9IGI7XG4gICAgICBkID8gKHRoaXMuY2xpZW50WCA9IHZvaWQgMCAhPT0gZC5jbGllbnRYID8gZC5jbGllbnRYIDogZC5wYWdlWCwgdGhpcy5jbGllbnRZID0gdm9pZCAwICE9PSBkLmNsaWVudFkgPyBkLmNsaWVudFkgOiBkLnBhZ2VZLCB0aGlzLnNjcmVlblggPSBkLnNjcmVlblggfHwgMCwgdGhpcy5zY3JlZW5ZID0gZC5zY3JlZW5ZIHx8IDApIDogKHRoaXMuY2xpZW50WCA9IHZvaWQgMCAhPT0gYS5jbGllbnRYID8gYS5jbGllbnRYIDogYS5wYWdlWCwgdGhpcy5jbGllbnRZID0gdm9pZCAwICE9PSBhLmNsaWVudFkgPyBhLmNsaWVudFkgOiBhLnBhZ2VZLCB0aGlzLnNjcmVlblggPSBhLnNjcmVlblggfHwgMCwgdGhpcy5zY3JlZW5ZID0gYS5zY3JlZW5ZIHx8IDApO1xuICAgICAgdGhpcy5idXR0b24gPSBhLmJ1dHRvbjtcbiAgICAgIHRoaXMua2V5ID0gYS5rZXkgfHwgXCJcIjtcbiAgICAgIHRoaXMuY3RybEtleSA9IGEuY3RybEtleTtcbiAgICAgIHRoaXMuYWx0S2V5ID0gYS5hbHRLZXk7XG4gICAgICB0aGlzLnNoaWZ0S2V5ID0gYS5zaGlmdEtleTtcbiAgICAgIHRoaXMubWV0YUtleSA9IGEubWV0YUtleTtcbiAgICAgIHRoaXMucG9pbnRlcklkID0gYS5wb2ludGVySWQgfHwgMDtcbiAgICAgIHRoaXMucG9pbnRlclR5cGUgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYS5wb2ludGVyVHlwZSA/IGEucG9pbnRlclR5cGUgOiBjZFthLnBvaW50ZXJUeXBlXSB8fCBcIlwiO1xuICAgICAgdGhpcy5hID0gYTtcbiAgICAgIGEuZGVmYXVsdFByZXZlbnRlZCAmJiB0aGlzLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgcihiZCwgRyk7XG4gIHZhciBjZCA9IFljKHtcbiAgICAyOiBcInRvdWNoXCIsXG4gICAgMzogXCJwZW5cIixcbiAgICA0OiBcIm1vdXNlXCJcbiAgfSk7XG5cbiAgYmQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkge1xuICAgIGJkLiRhLnByZXZlbnREZWZhdWx0LmNhbGwodGhpcyk7XG4gICAgdmFyIGEgPSB0aGlzLmE7XG4gICAgaWYgKGEucHJldmVudERlZmF1bHQpIGEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmIChhLnJldHVyblZhbHVlID0gITEsICRjKSB0cnkge1xuICAgICAgaWYgKGEuY3RybEtleSB8fCAxMTIgPD0gYS5rZXlDb2RlICYmIDEyMyA+PSBhLmtleUNvZGUpIGEua2V5Q29kZSA9IC0xO1xuICAgIH0gY2F0Y2ggKGIpIHt9XG4gIH07XG5cbiAgYmQucHJvdG90eXBlLmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYTtcbiAgfTtcblxuICB2YXIgZGQgPSBcImNsb3N1cmVfbGlzdGVuYWJsZV9cIiArICgxRTYgKiBNYXRoLnJhbmRvbSgpIHwgMCksXG4gICAgICBlZCA9IDA7XG5cbiAgZnVuY3Rpb24gZmQoYSwgYiwgYywgZCwgZSkge1xuICAgIHRoaXMubGlzdGVuZXIgPSBhO1xuICAgIHRoaXMucHJveHkgPSBudWxsO1xuICAgIHRoaXMuc3JjID0gYjtcbiAgICB0aGlzLnR5cGUgPSBjO1xuICAgIHRoaXMuY2FwdHVyZSA9ICEhZDtcbiAgICB0aGlzLlVhID0gZTtcbiAgICB0aGlzLmtleSA9ICsrZWQ7XG4gICAgdGhpcy52YSA9IHRoaXMuT2EgPSAhMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdkKGEpIHtcbiAgICBhLnZhID0gITA7XG4gICAgYS5saXN0ZW5lciA9IG51bGw7XG4gICAgYS5wcm94eSA9IG51bGw7XG4gICAgYS5zcmMgPSBudWxsO1xuICAgIGEuVWEgPSBudWxsO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGhkKGEpIHtcbiAgICB0aGlzLnNyYyA9IGE7XG4gICAgdGhpcy5hID0ge307XG4gICAgdGhpcy5iID0gMDtcbiAgfVxuXG4gIGhkLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgIHZhciBmID0gYS50b1N0cmluZygpO1xuICAgIGEgPSB0aGlzLmFbZl07XG4gICAgYSB8fCAoYSA9IHRoaXMuYVtmXSA9IFtdLCB0aGlzLmIrKyk7XG4gICAgdmFyIGcgPSBpZChhLCBiLCBkLCBlKTtcbiAgICAtMSA8IGcgPyAoYiA9IGFbZ10sIGMgfHwgKGIuT2EgPSAhMSkpIDogKGIgPSBuZXcgZmQoYiwgdGhpcy5zcmMsIGYsICEhZCwgZSksIGIuT2EgPSBjLCBhLnB1c2goYikpO1xuICAgIHJldHVybiBiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGpkKGEsIGIpIHtcbiAgICB2YXIgYyA9IGIudHlwZTtcbiAgICBjIGluIGEuYSAmJiBXYShhLmFbY10sIGIpICYmIChnZChiKSwgMCA9PSBhLmFbY10ubGVuZ3RoICYmIChkZWxldGUgYS5hW2NdLCBhLmItLSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gaWQoYSwgYiwgYywgZCkge1xuICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYS5sZW5ndGg7ICsrZSkge1xuICAgICAgdmFyIGYgPSBhW2VdO1xuICAgICAgaWYgKCFmLnZhICYmIGYubGlzdGVuZXIgPT0gYiAmJiBmLmNhcHR1cmUgPT0gISFjICYmIGYuVWEgPT0gZCkgcmV0dXJuIGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgO1xuICB2YXIga2QgPSBcImNsb3N1cmVfbG1fXCIgKyAoMUU2ICogTWF0aC5yYW5kb20oKSB8IDApLFxuICAgICAgbGQgPSB7fSxcbiAgICAgIG1kID0gMDtcblxuICBmdW5jdGlvbiBuZChhLCBiLCBjLCBkLCBlKSB7XG4gICAgaWYgKGQgJiYgZC5vbmNlKSBvZChhLCBiLCBjLCBkLCBlKTtlbHNlIGlmIChBcnJheS5pc0FycmF5KGIpKSBmb3IgKHZhciBmID0gMDsgZiA8IGIubGVuZ3RoOyBmKyspIHtcbiAgICAgIG5kKGEsIGJbZl0sIGMsIGQsIGUpO1xuICAgIH0gZWxzZSBjID0gcGQoYyksIGEgJiYgYVtkZF0gPyBxZChhLCBiLCBjLCBtKGQpID8gISFkLmNhcHR1cmUgOiAhIWQsIGUpIDogcmQoYSwgYiwgYywgITEsIGQsIGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmQoYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGlmICghYikgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7XG4gICAgdmFyIGcgPSBtKGUpID8gISFlLmNhcHR1cmUgOiAhIWUsXG4gICAgICAgIGggPSBzZChhKTtcbiAgICBoIHx8IChhW2tkXSA9IGggPSBuZXcgaGQoYSkpO1xuICAgIGMgPSBoLmFkZChiLCBjLCBkLCBnLCBmKTtcblxuICAgIGlmICghYy5wcm94eSkge1xuICAgICAgZCA9IHRkKCk7XG4gICAgICBjLnByb3h5ID0gZDtcbiAgICAgIGQuc3JjID0gYTtcbiAgICAgIGQubGlzdGVuZXIgPSBjO1xuICAgICAgaWYgKGEuYWRkRXZlbnRMaXN0ZW5lcikgYWQgfHwgKGUgPSBnKSwgdm9pZCAwID09PSBlICYmIChlID0gITEpLCBhLmFkZEV2ZW50TGlzdGVuZXIoYi50b1N0cmluZygpLCBkLCBlKTtlbHNlIGlmIChhLmF0dGFjaEV2ZW50KSBhLmF0dGFjaEV2ZW50KHVkKGIudG9TdHJpbmcoKSksIGQpO2Vsc2UgaWYgKGEuYWRkTGlzdGVuZXIgJiYgYS5yZW1vdmVMaXN0ZW5lcikgYS5hZGRMaXN0ZW5lcihkKTtlbHNlIHRocm93IEVycm9yKFwiYWRkRXZlbnRMaXN0ZW5lciBhbmQgYXR0YWNoRXZlbnQgYXJlIHVuYXZhaWxhYmxlLlwiKTtcbiAgICAgIG1kKys7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdGQoKSB7XG4gICAgdmFyIGEgPSB2ZCxcbiAgICAgICAgYiA9IFpjID8gZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBhLmNhbGwoYi5zcmMsIGIubGlzdGVuZXIsIGMpO1xuICAgIH0gOiBmdW5jdGlvbiAoYykge1xuICAgICAgYyA9IGEuY2FsbChiLnNyYywgYi5saXN0ZW5lciwgYyk7XG4gICAgICBpZiAoIWMpIHJldHVybiBjO1xuICAgIH07XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBvZChhLCBiLCBjLCBkLCBlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYikpIGZvciAodmFyIGYgPSAwOyBmIDwgYi5sZW5ndGg7IGYrKykge1xuICAgICAgb2QoYSwgYltmXSwgYywgZCwgZSk7XG4gICAgfSBlbHNlIGMgPSBwZChjKSwgYSAmJiBhW2RkXSA/IHdkKGEsIGIsIGMsIG0oZCkgPyAhIWQuY2FwdHVyZSA6ICEhZCwgZSkgOiByZChhLCBiLCBjLCAhMCwgZCwgZSk7XG4gIH1cblxuICBmdW5jdGlvbiBIKGEsIGIsIGMsIGQsIGUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShiKSkgZm9yICh2YXIgZiA9IDA7IGYgPCBiLmxlbmd0aDsgZisrKSB7XG4gICAgICBIKGEsIGJbZl0sIGMsIGQsIGUpO1xuICAgIH0gZWxzZSAoZCA9IG0oZCkgPyAhIWQuY2FwdHVyZSA6ICEhZCwgYyA9IHBkKGMpLCBhICYmIGFbZGRdKSA/IChhID0gYS52LCBiID0gU3RyaW5nKGIpLnRvU3RyaW5nKCksIGIgaW4gYS5hICYmIChmID0gYS5hW2JdLCBjID0gaWQoZiwgYywgZCwgZSksIC0xIDwgYyAmJiAoZ2QoZltjXSksIEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChmLCBjLCAxKSwgMCA9PSBmLmxlbmd0aCAmJiAoZGVsZXRlIGEuYVtiXSwgYS5iLS0pKSkpIDogYSAmJiAoYSA9IHNkKGEpKSAmJiAoYiA9IGEuYVtiLnRvU3RyaW5nKCldLCBhID0gLTEsIGIgJiYgKGEgPSBpZChiLCBjLCBkLCBlKSksIChjID0gLTEgPCBhID8gYlthXSA6IG51bGwpICYmIHhkKGMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHhkKGEpIHtcbiAgICBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIGEgJiYgYSAmJiAhYS52YSkge1xuICAgICAgdmFyIGIgPSBhLnNyYztcbiAgICAgIGlmIChiICYmIGJbZGRdKSBqZChiLnYsIGEpO2Vsc2Uge1xuICAgICAgICB2YXIgYyA9IGEudHlwZSxcbiAgICAgICAgICAgIGQgPSBhLnByb3h5O1xuICAgICAgICBiLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBiLnJlbW92ZUV2ZW50TGlzdGVuZXIoYywgZCwgYS5jYXB0dXJlKSA6IGIuZGV0YWNoRXZlbnQgPyBiLmRldGFjaEV2ZW50KHVkKGMpLCBkKSA6IGIuYWRkTGlzdGVuZXIgJiYgYi5yZW1vdmVMaXN0ZW5lciAmJiBiLnJlbW92ZUxpc3RlbmVyKGQpO1xuICAgICAgICBtZC0tO1xuICAgICAgICAoYyA9IHNkKGIpKSA/IChqZChjLCBhKSwgMCA9PSBjLmIgJiYgKGMuc3JjID0gbnVsbCwgYltrZF0gPSBudWxsKSkgOiBnZChhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1ZChhKSB7XG4gICAgcmV0dXJuIGEgaW4gbGQgPyBsZFthXSA6IGxkW2FdID0gXCJvblwiICsgYTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHlkKGEsIGIsIGMsIGQpIHtcbiAgICB2YXIgZSA9ICEwO1xuICAgIGlmIChhID0gc2QoYSkpIGlmIChiID0gYS5hW2IudG9TdHJpbmcoKV0pIGZvciAoYiA9IGIuY29uY2F0KCksIGEgPSAwOyBhIDwgYi5sZW5ndGg7IGErKykge1xuICAgICAgdmFyIGYgPSBiW2FdO1xuICAgICAgZiAmJiBmLmNhcHR1cmUgPT0gYyAmJiAhZi52YSAmJiAoZiA9IHpkKGYsIGQpLCBlID0gZSAmJiAhMSAhPT0gZik7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gemQoYSwgYikge1xuICAgIHZhciBjID0gYS5saXN0ZW5lcixcbiAgICAgICAgZCA9IGEuVWEgfHwgYS5zcmM7XG4gICAgYS5PYSAmJiB4ZChhKTtcbiAgICByZXR1cm4gYy5jYWxsKGQsIGIpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmQoYSwgYikge1xuICAgIGlmIChhLnZhKSByZXR1cm4gITA7XG5cbiAgICBpZiAoIVpjKSB7XG4gICAgICBpZiAoIWIpIGE6IHtcbiAgICAgICAgYiA9IFtcIndpbmRvd1wiLCBcImV2ZW50XCJdO1xuXG4gICAgICAgIGZvciAodmFyIGMgPSBsLCBkID0gMDsgZCA8IGIubGVuZ3RoOyBkKyspIHtcbiAgICAgICAgICBpZiAoYyA9IGNbYltkXV0sIG51bGwgPT0gYykge1xuICAgICAgICAgICAgYiA9IG51bGw7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGIgPSBjO1xuICAgICAgfVxuICAgICAgZCA9IGI7XG4gICAgICBiID0gbmV3IGJkKGQsIHRoaXMpO1xuICAgICAgYyA9ICEwO1xuXG4gICAgICBpZiAoISgwID4gZC5rZXlDb2RlIHx8IHZvaWQgMCAhPSBkLnJldHVyblZhbHVlKSkge1xuICAgICAgICBhOiB7XG4gICAgICAgICAgdmFyIGUgPSAhMTtcbiAgICAgICAgICBpZiAoMCA9PSBkLmtleUNvZGUpIHRyeSB7XG4gICAgICAgICAgICBkLmtleUNvZGUgPSAtMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfSBjYXRjaCAoZykge1xuICAgICAgICAgICAgZSA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZSB8fCB2b2lkIDAgPT0gZC5yZXR1cm5WYWx1ZSkgZC5yZXR1cm5WYWx1ZSA9ICEwO1xuICAgICAgICB9XG5cbiAgICAgICAgZCA9IFtdO1xuXG4gICAgICAgIGZvciAoZSA9IGIuYjsgZTsgZSA9IGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGQucHVzaChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGEgPSBhLnR5cGU7XG5cbiAgICAgICAgZm9yIChlID0gZC5sZW5ndGggLSAxOyAwIDw9IGU7IGUtLSkge1xuICAgICAgICAgIGIuYiA9IGRbZV07XG4gICAgICAgICAgdmFyIGYgPSB5ZChkW2VdLCBhLCAhMCwgYik7XG4gICAgICAgICAgYyA9IGMgJiYgZjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoZSA9IDA7IGUgPCBkLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgYi5iID0gZFtlXSwgZiA9IHlkKGRbZV0sIGEsICExLCBiKSwgYyA9IGMgJiYgZjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYztcbiAgICB9XG5cbiAgICByZXR1cm4gemQoYSwgbmV3IGJkKGIsIHRoaXMpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNkKGEpIHtcbiAgICBhID0gYVtrZF07XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBoZCA/IGEgOiBudWxsO1xuICB9XG5cbiAgdmFyIEJkID0gXCJfX2Nsb3N1cmVfZXZlbnRzX2ZuX1wiICsgKDFFOSAqIE1hdGgucmFuZG9tKCkgPj4+IDApO1xuXG4gIGZ1bmN0aW9uIHBkKGEpIHtcbiAgICBpZiAob2EoYSkpIHJldHVybiBhO1xuICAgIGFbQmRdIHx8IChhW0JkXSA9IGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYS5oYW5kbGVFdmVudChiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYVtCZF07XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gSSgpIHtcbiAgICBVYy5jYWxsKHRoaXMpO1xuICAgIHRoaXMudiA9IG5ldyBoZCh0aGlzKTtcbiAgICB0aGlzLiRiID0gdGhpcztcbiAgICB0aGlzLmZiID0gbnVsbDtcbiAgfVxuXG4gIHIoSSwgVWMpO1xuICBJLnByb3RvdHlwZVtkZF0gPSAhMDtcblxuICBJLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICBuZCh0aGlzLCBhLCBiLCBjLCBkKTtcbiAgfTtcblxuICBJLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICBIKHRoaXMsIGEsIGIsIGMsIGQpO1xuICB9O1xuXG4gIEkucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiLFxuICAgICAgICBjID0gdGhpcy5mYjtcbiAgICBpZiAoYykgZm9yIChiID0gW107IGM7IGMgPSBjLmZiKSB7XG4gICAgICBiLnB1c2goYyk7XG4gICAgfVxuICAgIGMgPSB0aGlzLiRiO1xuICAgIHZhciBkID0gYS50eXBlIHx8IGE7XG4gICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhKSBhID0gbmV3IEcoYSwgYyk7ZWxzZSBpZiAoYSBpbnN0YW5jZW9mIEcpIGEudGFyZ2V0ID0gYS50YXJnZXQgfHwgYztlbHNlIHtcbiAgICAgIHZhciBlID0gYTtcbiAgICAgIGEgPSBuZXcgRyhkLCBjKTtcbiAgICAgIHooYSwgZSk7XG4gICAgfVxuICAgIGUgPSAhMDtcbiAgICBpZiAoYikgZm9yICh2YXIgZiA9IGIubGVuZ3RoIC0gMTsgMCA8PSBmOyBmLS0pIHtcbiAgICAgIHZhciBnID0gYS5iID0gYltmXTtcbiAgICAgIGUgPSBDZChnLCBkLCAhMCwgYSkgJiYgZTtcbiAgICB9XG4gICAgZyA9IGEuYiA9IGM7XG4gICAgZSA9IENkKGcsIGQsICEwLCBhKSAmJiBlO1xuICAgIGUgPSBDZChnLCBkLCAhMSwgYSkgJiYgZTtcbiAgICBpZiAoYikgZm9yIChmID0gMDsgZiA8IGIubGVuZ3RoOyBmKyspIHtcbiAgICAgIGcgPSBhLmIgPSBiW2ZdLCBlID0gQ2QoZywgZCwgITEsIGEpICYmIGU7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9O1xuXG4gIEkucHJvdG90eXBlLkRhID0gZnVuY3Rpb24gKCkge1xuICAgIEkuJGEuRGEuY2FsbCh0aGlzKTtcblxuICAgIGlmICh0aGlzLnYpIHtcbiAgICAgIHZhciBhID0gdGhpcy52LFxuICAgICAgICAgIGIgPSAwLFxuICAgICAgICAgIGM7XG5cbiAgICAgIGZvciAoYyBpbiBhLmEpIHtcbiAgICAgICAgZm9yICh2YXIgZCA9IGEuYVtjXSwgZSA9IDA7IGUgPCBkLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgKytiLCBnZChkW2VdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBhLmFbY107XG4gICAgICAgIGEuYi0tO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZmIgPSBudWxsO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHFkKGEsIGIsIGMsIGQsIGUpIHtcbiAgICBhLnYuYWRkKFN0cmluZyhiKSwgYywgITEsIGQsIGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gd2QoYSwgYiwgYywgZCwgZSkge1xuICAgIGEudi5hZGQoU3RyaW5nKGIpLCBjLCAhMCwgZCwgZSk7XG4gIH1cblxuICBmdW5jdGlvbiBDZChhLCBiLCBjLCBkKSB7XG4gICAgYiA9IGEudi5hW1N0cmluZyhiKV07XG4gICAgaWYgKCFiKSByZXR1cm4gITA7XG4gICAgYiA9IGIuY29uY2F0KCk7XG5cbiAgICBmb3IgKHZhciBlID0gITAsIGYgPSAwOyBmIDwgYi5sZW5ndGg7ICsrZikge1xuICAgICAgdmFyIGcgPSBiW2ZdO1xuXG4gICAgICBpZiAoZyAmJiAhZy52YSAmJiBnLmNhcHR1cmUgPT0gYykge1xuICAgICAgICB2YXIgaCA9IGcubGlzdGVuZXIsXG4gICAgICAgICAgICBuID0gZy5VYSB8fCBnLnNyYztcbiAgICAgICAgZy5PYSAmJiBqZChhLnYsIGcpO1xuICAgICAgICBlID0gITEgIT09IGguY2FsbChuLCBkKSAmJiBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBlICYmICFkLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gRGQoYSwgYiwgYykge1xuICAgIGlmIChvYShhKSkgYyAmJiAoYSA9IHEoYSwgYykpO2Vsc2UgaWYgKGEgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLmhhbmRsZUV2ZW50KSBhID0gcShhLmhhbmRsZUV2ZW50LCBhKTtlbHNlIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTtcbiAgICByZXR1cm4gMjE0NzQ4MzY0NyA8IE51bWJlcihiKSA/IC0xIDogbC5zZXRUaW1lb3V0KGEsIGIgfHwgMCk7XG4gIH1cblxuICBmdW5jdGlvbiBFZChhKSB7XG4gICAgdmFyIGIgPSBudWxsO1xuICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoYywgZCkge1xuICAgICAgYiA9IERkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYyh2b2lkIDApO1xuICAgICAgfSwgYSk7XG4gICAgICAtMSA9PSBiICYmIGQoRXJyb3IoXCJGYWlsZWQgdG8gc2NoZWR1bGUgdGltZXIuXCIpKTtcbiAgICB9KS5zKGZ1bmN0aW9uIChjKSB7XG4gICAgICBsLmNsZWFyVGltZW91dChiKTtcbiAgICAgIHRocm93IGM7XG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gRmQoYSkge1xuICAgIGlmIChhLlYgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBhLlYpIHJldHVybiBhLlYoKTtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEpIHJldHVybiBhLnNwbGl0KFwiXCIpO1xuXG4gICAgaWYgKG5hKGEpKSB7XG4gICAgICBmb3IgKHZhciBiID0gW10sIGMgPSBhLmxlbmd0aCwgZCA9IDA7IGQgPCBjOyBkKyspIHtcbiAgICAgICAgYi5wdXNoKGFbZF0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYjtcbiAgICB9XG5cbiAgICBiID0gW107XG4gICAgYyA9IDA7XG5cbiAgICBmb3IgKGQgaW4gYSkge1xuICAgICAgYltjKytdID0gYVtkXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdkKGEpIHtcbiAgICBpZiAoYS5ZICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYS5ZKSByZXR1cm4gYS5ZKCk7XG5cbiAgICBpZiAoIWEuViB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGEuVikge1xuICAgICAgaWYgKG5hKGEpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhKSB7XG4gICAgICAgIHZhciBiID0gW107XG4gICAgICAgIGEgPSBhLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGE7IGMrKykge1xuICAgICAgICAgIGIucHVzaChjKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfVxuXG4gICAgICBiID0gW107XG4gICAgICBjID0gMDtcblxuICAgICAgZm9yICh2YXIgZCBpbiBhKSB7XG4gICAgICAgIGJbYysrXSA9IGQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEhkKGEsIGIpIHtcbiAgICBpZiAoYS5mb3JFYWNoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgYS5mb3JFYWNoKSBhLmZvckVhY2goYiwgdm9pZCAwKTtlbHNlIGlmIChuYShhKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgYSkgdyhhLCBiLCB2b2lkIDApO2Vsc2UgZm9yICh2YXIgYyA9IEdkKGEpLCBkID0gRmQoYSksIGUgPSBkLmxlbmd0aCwgZiA9IDA7IGYgPCBlOyBmKyspIHtcbiAgICAgIGIuY2FsbCh2b2lkIDAsIGRbZl0sIGMgJiYgY1tmXSwgYSk7XG4gICAgfVxuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIElkKGEsIGIpIHtcbiAgICB0aGlzLmIgPSB7fTtcbiAgICB0aGlzLmEgPSBbXTtcbiAgICB0aGlzLmMgPSAwO1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgIGlmICgxIDwgYykge1xuICAgICAgaWYgKGMgJSAyKSB0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO1xuXG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGM7IGQgKz0gMikge1xuICAgICAgICB0aGlzLnNldChhcmd1bWVudHNbZF0sIGFyZ3VtZW50c1tkICsgMV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYSkgaWYgKGEgaW5zdGFuY2VvZiBJZCkgZm9yIChjID0gYS5ZKCksIGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykge1xuICAgICAgdGhpcy5zZXQoY1tkXSwgYS5nZXQoY1tkXSkpO1xuICAgIH0gZWxzZSBmb3IgKGQgaW4gYSkge1xuICAgICAgdGhpcy5zZXQoZCwgYVtkXSk7XG4gICAgfVxuICB9XG5cbiAgayA9IElkLnByb3RvdHlwZTtcblxuICBrLlYgPSBmdW5jdGlvbiAoKSB7XG4gICAgSmQodGhpcyk7XG5cbiAgICBmb3IgKHZhciBhID0gW10sIGIgPSAwOyBiIDwgdGhpcy5hLmxlbmd0aDsgYisrKSB7XG4gICAgICBhLnB1c2godGhpcy5iW3RoaXMuYVtiXV0pO1xuICAgIH1cblxuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIGsuWSA9IGZ1bmN0aW9uICgpIHtcbiAgICBKZCh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5hLmNvbmNhdCgpO1xuICB9O1xuXG4gIGsuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5iID0ge307XG4gICAgdGhpcy5jID0gdGhpcy5hLmxlbmd0aCA9IDA7XG4gIH07XG5cbiAgZnVuY3Rpb24gSmQoYSkge1xuICAgIGlmIChhLmMgIT0gYS5hLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgYiA9IDAsIGMgPSAwOyBiIDwgYS5hLmxlbmd0aDspIHtcbiAgICAgICAgdmFyIGQgPSBhLmFbYl07XG4gICAgICAgIEtkKGEuYiwgZCkgJiYgKGEuYVtjKytdID0gZCk7XG4gICAgICAgIGIrKztcbiAgICAgIH1cblxuICAgICAgYS5hLmxlbmd0aCA9IGM7XG4gICAgfVxuXG4gICAgaWYgKGEuYyAhPSBhLmEubGVuZ3RoKSB7XG4gICAgICB2YXIgZSA9IHt9O1xuXG4gICAgICBmb3IgKGMgPSBiID0gMDsgYiA8IGEuYS5sZW5ndGg7KSB7XG4gICAgICAgIGQgPSBhLmFbYl0sIEtkKGUsIGQpIHx8IChhLmFbYysrXSA9IGQsIGVbZF0gPSAxKSwgYisrO1xuICAgICAgfVxuXG4gICAgICBhLmEubGVuZ3RoID0gYztcbiAgICB9XG4gIH1cblxuICBrLmdldCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIEtkKHRoaXMuYiwgYSkgPyB0aGlzLmJbYV0gOiBiO1xuICB9O1xuXG4gIGsuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBLZCh0aGlzLmIsIGEpIHx8ICh0aGlzLmMrKywgdGhpcy5hLnB1c2goYSkpO1xuICAgIHRoaXMuYlthXSA9IGI7XG4gIH07XG5cbiAgay5mb3JFYWNoID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBmb3IgKHZhciBjID0gdGhpcy5ZKCksIGQgPSAwOyBkIDwgYy5sZW5ndGg7IGQrKykge1xuICAgICAgdmFyIGUgPSBjW2RdLFxuICAgICAgICAgIGYgPSB0aGlzLmdldChlKTtcbiAgICAgIGEuY2FsbChiLCBmLCBlLCB0aGlzKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gS2QoYSwgYikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSwgYik7XG4gIH1cblxuICA7XG4gIHZhciBMZCA9IC9eKD86KFteOi8/Iy5dKyk6KT8oPzpcXC9cXC8oPzooW15cXFxcLz8jXSopQCk/KFteXFxcXC8/I10qPykoPzo6KFswLTldKykpPyg/PVtcXFxcLz8jXXwkKSk/KFtePyNdKyk/KD86XFw/KFteI10qKSk/KD86IyhbXFxzXFxTXSopKT8kLztcblxuICBmdW5jdGlvbiBNZChhLCBiKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIGEgPSBhLnNwbGl0KFwiJlwiKTtcblxuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmxlbmd0aDsgYysrKSB7XG4gICAgICAgIHZhciBkID0gYVtjXS5pbmRleE9mKFwiPVwiKSxcbiAgICAgICAgICAgIGUgPSBudWxsO1xuXG4gICAgICAgIGlmICgwIDw9IGQpIHtcbiAgICAgICAgICB2YXIgZiA9IGFbY10uc3Vic3RyaW5nKDAsIGQpO1xuICAgICAgICAgIGUgPSBhW2NdLnN1YnN0cmluZyhkICsgMSk7XG4gICAgICAgIH0gZWxzZSBmID0gYVtjXTtcblxuICAgICAgICBiKGYsIGUgPyBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKSA6IFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBOZChhLCBiKSB7XG4gICAgdGhpcy5hID0gdGhpcy5sID0gdGhpcy5mID0gXCJcIjtcbiAgICB0aGlzLmcgPSBudWxsO1xuICAgIHRoaXMuaCA9IHRoaXMuYyA9IFwiXCI7XG4gICAgdGhpcy5pID0gITE7XG4gICAgdmFyIGM7XG4gICAgYSBpbnN0YW5jZW9mIE5kID8gKHRoaXMuaSA9IHZvaWQgMCAhPT0gYiA/IGIgOiBhLmksIE9kKHRoaXMsIGEuZiksIHRoaXMubCA9IGEubCwgdGhpcy5hID0gYS5hLCBQZCh0aGlzLCBhLmcpLCB0aGlzLmMgPSBhLmMsIFFkKHRoaXMsIFJkKGEuYikpLCB0aGlzLmggPSBhLmgpIDogYSAmJiAoYyA9IFN0cmluZyhhKS5tYXRjaChMZCkpID8gKHRoaXMuaSA9ICEhYiwgT2QodGhpcywgY1sxXSB8fCBcIlwiLCAhMCksIHRoaXMubCA9IFNkKGNbMl0gfHwgXCJcIiksIHRoaXMuYSA9IFNkKGNbM10gfHwgXCJcIiwgITApLCBQZCh0aGlzLCBjWzRdKSwgdGhpcy5jID0gU2QoY1s1XSB8fCBcIlwiLCAhMCksIFFkKHRoaXMsIGNbNl0gfHwgXCJcIiwgITApLCB0aGlzLmggPSBTZChjWzddIHx8IFwiXCIpKSA6ICh0aGlzLmkgPSAhIWIsIHRoaXMuYiA9IG5ldyBUZChudWxsLCB0aGlzLmkpKTtcbiAgfVxuXG4gIE5kLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IFtdLFxuICAgICAgICBiID0gdGhpcy5mO1xuICAgIGIgJiYgYS5wdXNoKFVkKGIsIFZkLCAhMCksIFwiOlwiKTtcbiAgICB2YXIgYyA9IHRoaXMuYTtcbiAgICBpZiAoYyB8fCBcImZpbGVcIiA9PSBiKSBhLnB1c2goXCIvL1wiKSwgKGIgPSB0aGlzLmwpICYmIGEucHVzaChVZChiLCBWZCwgITApLCBcIkBcIiksIGEucHVzaChlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGMpKS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIFwiJSQxXCIpKSwgYyA9IHRoaXMuZywgbnVsbCAhPSBjICYmIGEucHVzaChcIjpcIiwgU3RyaW5nKGMpKTtcbiAgICBpZiAoYyA9IHRoaXMuYykgdGhpcy5hICYmIFwiL1wiICE9IGMuY2hhckF0KDApICYmIGEucHVzaChcIi9cIiksIGEucHVzaChVZChjLCBcIi9cIiA9PSBjLmNoYXJBdCgwKSA/IFdkIDogWGQsICEwKSk7XG4gICAgKGMgPSB0aGlzLmIudG9TdHJpbmcoKSkgJiYgYS5wdXNoKFwiP1wiLCBjKTtcbiAgICAoYyA9IHRoaXMuaCkgJiYgYS5wdXNoKFwiI1wiLCBVZChjLCBZZCkpO1xuICAgIHJldHVybiBhLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgTmQucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gbmV3IE5kKHRoaXMpLFxuICAgICAgICBjID0gISFhLmY7XG4gICAgYyA/IE9kKGIsIGEuZikgOiBjID0gISFhLmw7XG4gICAgYyA/IGIubCA9IGEubCA6IGMgPSAhIWEuYTtcbiAgICBjID8gYi5hID0gYS5hIDogYyA9IG51bGwgIT0gYS5nO1xuICAgIHZhciBkID0gYS5jO1xuICAgIGlmIChjKSBQZChiLCBhLmcpO2Vsc2UgaWYgKGMgPSAhIWEuYykge1xuICAgICAgaWYgKFwiL1wiICE9IGQuY2hhckF0KDApKSBpZiAodGhpcy5hICYmICF0aGlzLmMpIGQgPSBcIi9cIiArIGQ7ZWxzZSB7XG4gICAgICAgIHZhciBlID0gYi5jLmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgICAgICAgLTEgIT0gZSAmJiAoZCA9IGIuYy5zdWJzdHIoMCwgZSArIDEpICsgZCk7XG4gICAgICB9XG4gICAgICBlID0gZDtcbiAgICAgIGlmIChcIi4uXCIgPT0gZSB8fCBcIi5cIiA9PSBlKSBkID0gXCJcIjtlbHNlIGlmICh4KGUsIFwiLi9cIikgfHwgeChlLCBcIi8uXCIpKSB7XG4gICAgICAgIGQgPSAwID09IGUubGFzdEluZGV4T2YoXCIvXCIsIDApO1xuICAgICAgICBlID0gZS5zcGxpdChcIi9cIik7XG5cbiAgICAgICAgZm9yICh2YXIgZiA9IFtdLCBnID0gMDsgZyA8IGUubGVuZ3RoOykge1xuICAgICAgICAgIHZhciBoID0gZVtnKytdO1xuICAgICAgICAgIFwiLlwiID09IGggPyBkICYmIGcgPT0gZS5sZW5ndGggJiYgZi5wdXNoKFwiXCIpIDogXCIuLlwiID09IGggPyAoKDEgPCBmLmxlbmd0aCB8fCAxID09IGYubGVuZ3RoICYmIFwiXCIgIT0gZlswXSkgJiYgZi5wb3AoKSwgZCAmJiBnID09IGUubGVuZ3RoICYmIGYucHVzaChcIlwiKSkgOiAoZi5wdXNoKGgpLCBkID0gITApO1xuICAgICAgICB9XG5cbiAgICAgICAgZCA9IGYuam9pbihcIi9cIik7XG4gICAgICB9IGVsc2UgZCA9IGU7XG4gICAgfVxuICAgIGMgPyBiLmMgPSBkIDogYyA9IFwiXCIgIT09IGEuYi50b1N0cmluZygpO1xuICAgIGMgPyBRZChiLCBSZChhLmIpKSA6IGMgPSAhIWEuaDtcbiAgICBjICYmIChiLmggPSBhLmgpO1xuICAgIHJldHVybiBiO1xuICB9O1xuXG4gIGZ1bmN0aW9uIE9kKGEsIGIsIGMpIHtcbiAgICBhLmYgPSBjID8gU2QoYiwgITApIDogYjtcbiAgICBhLmYgJiYgKGEuZiA9IGEuZi5yZXBsYWNlKC86JC8sIFwiXCIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFBkKGEsIGIpIHtcbiAgICBpZiAoYikge1xuICAgICAgYiA9IE51bWJlcihiKTtcbiAgICAgIGlmIChpc05hTihiKSB8fCAwID4gYikgdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIgKyBiKTtcbiAgICAgIGEuZyA9IGI7XG4gICAgfSBlbHNlIGEuZyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBRZChhLCBiLCBjKSB7XG4gICAgYiBpbnN0YW5jZW9mIFRkID8gKGEuYiA9IGIsIFpkKGEuYiwgYS5pKSkgOiAoYyB8fCAoYiA9IFVkKGIsICRkKSksIGEuYiA9IG5ldyBUZChiLCBhLmkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEooYSwgYiwgYykge1xuICAgIGEuYi5zZXQoYiwgYyk7XG4gIH1cblxuICBmdW5jdGlvbiBhZShhLCBiKSB7XG4gICAgcmV0dXJuIGEuYi5nZXQoYik7XG4gIH1cblxuICBmdW5jdGlvbiBiZShhKSB7XG4gICAgcmV0dXJuIGEgaW5zdGFuY2VvZiBOZCA/IG5ldyBOZChhKSA6IG5ldyBOZChhLCB2b2lkIDApO1xuICB9XG5cbiAgZnVuY3Rpb24gY2UoYSwgYiwgYywgZCkge1xuICAgIHZhciBlID0gbmV3IE5kKG51bGwsIHZvaWQgMCk7XG4gICAgYSAmJiBPZChlLCBhKTtcbiAgICBiICYmIChlLmEgPSBiKTtcbiAgICBjICYmIFBkKGUsIGMpO1xuICAgIGQgJiYgKGUuYyA9IGQpO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gU2QoYSwgYikge1xuICAgIHJldHVybiBhID8gYiA/IGRlY29kZVVSSShhLnJlcGxhY2UoLyUyNS9nLCBcIiUyNTI1XCIpKSA6IGRlY29kZVVSSUNvbXBvbmVudChhKSA6IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBVZChhLCBiLCBjKSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gKGEgPSBlbmNvZGVVUkkoYSkucmVwbGFjZShiLCBkZSksIGMgJiYgKGEgPSBhLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywgXCIlJDFcIikpLCBhKSA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBkZShhKSB7XG4gICAgYSA9IGEuY2hhckNvZGVBdCgwKTtcbiAgICByZXR1cm4gXCIlXCIgKyAoYSA+PiA0ICYgMTUpLnRvU3RyaW5nKDE2KSArIChhICYgMTUpLnRvU3RyaW5nKDE2KTtcbiAgfVxuXG4gIHZhciBWZCA9IC9bI1xcL1xcP0BdL2csXG4gICAgICBYZCA9IC9bI1xcPzpdL2csXG4gICAgICBXZCA9IC9bI1xcP10vZyxcbiAgICAgICRkID0gL1sjXFw/QF0vZyxcbiAgICAgIFlkID0gLyMvZztcblxuICBmdW5jdGlvbiBUZChhLCBiKSB7XG4gICAgdGhpcy5iID0gdGhpcy5hID0gbnVsbDtcbiAgICB0aGlzLmMgPSBhIHx8IG51bGw7XG4gICAgdGhpcy5mID0gISFiO1xuICB9XG5cbiAgZnVuY3Rpb24gZWUoYSkge1xuICAgIGEuYSB8fCAoYS5hID0gbmV3IElkKCksIGEuYiA9IDAsIGEuYyAmJiBNZChhLmMsIGZ1bmN0aW9uIChiLCBjKSB7XG4gICAgICBhLmFkZChkZWNvZGVVUklDb21wb25lbnQoYi5yZXBsYWNlKC9cXCsvZywgXCIgXCIpKSwgYyk7XG4gICAgfSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmUoYSkge1xuICAgIHZhciBiID0gR2QoYSk7XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGIpIHRocm93IEVycm9yKFwiS2V5cyBhcmUgdW5kZWZpbmVkXCIpO1xuICAgIHZhciBjID0gbmV3IFRkKG51bGwsIHZvaWQgMCk7XG4gICAgYSA9IEZkKGEpO1xuXG4gICAgZm9yICh2YXIgZCA9IDA7IGQgPCBiLmxlbmd0aDsgZCsrKSB7XG4gICAgICB2YXIgZSA9IGJbZF0sXG4gICAgICAgICAgZiA9IGFbZF07XG4gICAgICBBcnJheS5pc0FycmF5KGYpID8gZ2UoYywgZSwgZikgOiBjLmFkZChlLCBmKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYztcbiAgfVxuXG4gIGsgPSBUZC5wcm90b3R5cGU7XG5cbiAgay5hZGQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGVlKHRoaXMpO1xuICAgIHRoaXMuYyA9IG51bGw7XG4gICAgYSA9IGhlKHRoaXMsIGEpO1xuICAgIHZhciBjID0gdGhpcy5hLmdldChhKTtcbiAgICBjIHx8IHRoaXMuYS5zZXQoYSwgYyA9IFtdKTtcbiAgICBjLnB1c2goYik7XG4gICAgdGhpcy5iICs9IDE7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZnVuY3Rpb24gaWUoYSwgYikge1xuICAgIGVlKGEpO1xuICAgIGIgPSBoZShhLCBiKTtcbiAgICBLZChhLmEuYiwgYikgJiYgKGEuYyA9IG51bGwsIGEuYiAtPSBhLmEuZ2V0KGIpLmxlbmd0aCwgYSA9IGEuYSwgS2QoYS5iLCBiKSAmJiAoZGVsZXRlIGEuYltiXSwgYS5jLS0sIGEuYS5sZW5ndGggPiAyICogYS5jICYmIEpkKGEpKSk7XG4gIH1cblxuICBrLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYSA9IHRoaXMuYyA9IG51bGw7XG4gICAgdGhpcy5iID0gMDtcbiAgfTtcblxuICBmdW5jdGlvbiBqZShhLCBiKSB7XG4gICAgZWUoYSk7XG4gICAgYiA9IGhlKGEsIGIpO1xuICAgIHJldHVybiBLZChhLmEuYiwgYik7XG4gIH1cblxuICBrLmZvckVhY2ggPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGVlKHRoaXMpO1xuICAgIHRoaXMuYS5mb3JFYWNoKGZ1bmN0aW9uIChjLCBkKSB7XG4gICAgICB3KGMsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGEuY2FsbChiLCBlLCBkLCB0aGlzKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0sIHRoaXMpO1xuICB9O1xuXG4gIGsuWSA9IGZ1bmN0aW9uICgpIHtcbiAgICBlZSh0aGlzKTtcblxuICAgIGZvciAodmFyIGEgPSB0aGlzLmEuVigpLCBiID0gdGhpcy5hLlkoKSwgYyA9IFtdLCBkID0gMDsgZCA8IGIubGVuZ3RoOyBkKyspIHtcbiAgICAgIGZvciAodmFyIGUgPSBhW2RdLCBmID0gMDsgZiA8IGUubGVuZ3RoOyBmKyspIHtcbiAgICAgICAgYy5wdXNoKGJbZF0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9O1xuXG4gIGsuViA9IGZ1bmN0aW9uIChhKSB7XG4gICAgZWUodGhpcyk7XG4gICAgdmFyIGIgPSBbXTtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEpIGplKHRoaXMsIGEpICYmIChiID0gWWEoYiwgdGhpcy5hLmdldChoZSh0aGlzLCBhKSkpKTtlbHNlIHtcbiAgICAgIGEgPSB0aGlzLmEuVigpO1xuXG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGEubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgYiA9IFlhKGIsIGFbY10pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYjtcbiAgfTtcblxuICBrLnNldCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgZWUodGhpcyk7XG4gICAgdGhpcy5jID0gbnVsbDtcbiAgICBhID0gaGUodGhpcywgYSk7XG4gICAgamUodGhpcywgYSkgJiYgKHRoaXMuYiAtPSB0aGlzLmEuZ2V0KGEpLmxlbmd0aCk7XG4gICAgdGhpcy5hLnNldChhLCBbYl0pO1xuICAgIHRoaXMuYiArPSAxO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGsuZ2V0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoIWEpIHJldHVybiBiO1xuICAgIGEgPSB0aGlzLlYoYSk7XG4gICAgcmV0dXJuIDAgPCBhLmxlbmd0aCA/IFN0cmluZyhhWzBdKSA6IGI7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2UoYSwgYiwgYykge1xuICAgIGllKGEsIGIpO1xuICAgIDAgPCBjLmxlbmd0aCAmJiAoYS5jID0gbnVsbCwgYS5hLnNldChoZShhLCBiKSwgWmEoYykpLCBhLmIgKz0gYy5sZW5ndGgpO1xuICB9XG5cbiAgay50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5jKSByZXR1cm4gdGhpcy5jO1xuICAgIGlmICghdGhpcy5hKSByZXR1cm4gXCJcIjtcblxuICAgIGZvciAodmFyIGEgPSBbXSwgYiA9IHRoaXMuYS5ZKCksIGMgPSAwOyBjIDwgYi5sZW5ndGg7IGMrKykge1xuICAgICAgdmFyIGQgPSBiW2NdLFxuICAgICAgICAgIGUgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGQpKTtcbiAgICAgIGQgPSB0aGlzLlYoZCk7XG5cbiAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgZC5sZW5ndGg7IGYrKykge1xuICAgICAgICB2YXIgZyA9IGU7XG4gICAgICAgIFwiXCIgIT09IGRbZl0gJiYgKGcgKz0gXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGRbZl0pKSk7XG4gICAgICAgIGEucHVzaChnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jID0gYS5qb2luKFwiJlwiKTtcbiAgfTtcblxuICBmdW5jdGlvbiBSZChhKSB7XG4gICAgdmFyIGIgPSBuZXcgVGQoKTtcbiAgICBiLmMgPSBhLmM7XG4gICAgYS5hICYmIChiLmEgPSBuZXcgSWQoYS5hKSwgYi5iID0gYS5iKTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhlKGEsIGIpIHtcbiAgICBiID0gU3RyaW5nKGIpO1xuICAgIGEuZiAmJiAoYiA9IGIudG9Mb3dlckNhc2UoKSk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBaZChhLCBiKSB7XG4gICAgYiAmJiAhYS5mICYmIChlZShhKSwgYS5jID0gbnVsbCwgYS5hLmZvckVhY2goZnVuY3Rpb24gKGMsIGQpIHtcbiAgICAgIHZhciBlID0gZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgZCAhPSBlICYmIChpZSh0aGlzLCBkKSwgZ2UodGhpcywgZSwgYykpO1xuICAgIH0sIGEpKTtcbiAgICBhLmYgPSBiO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGtlKGEpIHtcbiAgICB2YXIgYiA9IFtdO1xuICAgIGxlKG5ldyBtZSgpLCBhLCBiKTtcbiAgICByZXR1cm4gYi5qb2luKFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gbWUoKSB7fVxuXG4gIGZ1bmN0aW9uIGxlKGEsIGIsIGMpIHtcbiAgICBpZiAobnVsbCA9PSBiKSBjLnB1c2goXCJudWxsXCIpO2Vsc2Uge1xuICAgICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYikpIHtcbiAgICAgICAgICB2YXIgZCA9IGI7XG4gICAgICAgICAgYiA9IGQubGVuZ3RoO1xuICAgICAgICAgIGMucHVzaChcIltcIik7XG5cbiAgICAgICAgICBmb3IgKHZhciBlID0gXCJcIiwgZiA9IDA7IGYgPCBiOyBmKyspIHtcbiAgICAgICAgICAgIGMucHVzaChlKSwgbGUoYSwgZFtmXSwgYyksIGUgPSBcIixcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjLnB1c2goXCJdXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiIGluc3RhbmNlb2YgU3RyaW5nIHx8IGIgaW5zdGFuY2VvZiBOdW1iZXIgfHwgYiBpbnN0YW5jZW9mIEJvb2xlYW4pIGIgPSBiLnZhbHVlT2YoKTtlbHNlIHtcbiAgICAgICAgICBjLnB1c2goXCJ7XCIpO1xuICAgICAgICAgIGUgPSBcIlwiO1xuXG4gICAgICAgICAgZm9yIChkIGluIGIpIHtcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBkKSAmJiAoZiA9IGJbZF0sIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZiAmJiAoYy5wdXNoKGUpLCBuZShkLCBjKSwgYy5wdXNoKFwiOlwiKSwgbGUoYSwgZiwgYyksIGUgPSBcIixcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGMucHVzaChcIn1cIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodHlwZW9mIGIpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIG5lKGIsIGMpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICBjLnB1c2goaXNGaW5pdGUoYikgJiYgIWlzTmFOKGIpID8gU3RyaW5nKGIpIDogXCJudWxsXCIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgYy5wdXNoKFN0cmluZyhiKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgYy5wdXNoKFwibnVsbFwiKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIiArIHR5cGVvZiBiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgb2UgPSB7XG4gICAgJ1wiJzogJ1xcXFxcIicsXG4gICAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIixcbiAgICBcIi9cIjogXCJcXFxcL1wiLFxuICAgIFwiXFxiXCI6IFwiXFxcXGJcIixcbiAgICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gICAgXCJcXG5cIjogXCJcXFxcblwiLFxuICAgIFwiXFxyXCI6IFwiXFxcXHJcIixcbiAgICBcIlxcdFwiOiBcIlxcXFx0XCIsXG4gICAgXCJcXHgwQlwiOiBcIlxcXFx1MDAwYlwiXG4gIH0sXG4gICAgICBwZSA9IC9cXHVmZmZmLy50ZXN0KFwiXFx1RkZGRlwiKSA/IC9bXFxcXFwiXFx4MDAtXFx4MWZcXHg3Zi1cXHVmZmZmXS9nIDogL1tcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxceGZmXS9nO1xuXG4gIGZ1bmN0aW9uIG5lKGEsIGIpIHtcbiAgICBiLnB1c2goJ1wiJywgYS5yZXBsYWNlKHBlLCBmdW5jdGlvbiAoYykge1xuICAgICAgdmFyIGQgPSBvZVtjXTtcbiAgICAgIGQgfHwgKGQgPSBcIlxcXFx1XCIgKyAoYy5jaGFyQ29kZUF0KDApIHwgNjU1MzYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSksIG9lW2NdID0gZCk7XG4gICAgICByZXR1cm4gZDtcbiAgICB9KSwgJ1wiJyk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gcWUoKSB7XG4gICAgdmFyIGEgPSBLKCk7XG4gICAgcmV0dXJuIFdiICYmICEhaWMgJiYgMTEgPT0gaWMgfHwgL0VkZ2VcXC9cXGQrLy50ZXN0KGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmUoKSB7XG4gICAgcmV0dXJuIGwud2luZG93ICYmIGwud2luZG93LmxvY2F0aW9uLmhyZWYgfHwgc2VsZiAmJiBzZWxmLmxvY2F0aW9uICYmIHNlbGYubG9jYXRpb24uaHJlZiB8fCBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gc2UoYSwgYikge1xuICAgIGIgPSBiIHx8IGwud2luZG93O1xuICAgIHZhciBjID0gXCJhYm91dDpibGFua1wiO1xuICAgIGEgJiYgKGMgPSBFYihJYihhKSB8fCBLYikpO1xuICAgIGIubG9jYXRpb24uaHJlZiA9IGM7XG4gIH1cblxuICBmdW5jdGlvbiB0ZShhLCBiKSB7XG4gICAgdmFyIGMgPSBbXSxcbiAgICAgICAgZDtcblxuICAgIGZvciAoZCBpbiBhKSB7XG4gICAgICBkIGluIGIgPyB0eXBlb2YgYVtkXSAhPSB0eXBlb2YgYltkXSA/IGMucHVzaChkKSA6IFwib2JqZWN0XCIgPT0gdHlwZW9mIGFbZF0gJiYgbnVsbCAhPSBhW2RdICYmIG51bGwgIT0gYltkXSA/IDAgPCB0ZShhW2RdLCBiW2RdKS5sZW5ndGggJiYgYy5wdXNoKGQpIDogYVtkXSAhPT0gYltkXSAmJiBjLnB1c2goZCkgOiBjLnB1c2goZCk7XG4gICAgfVxuXG4gICAgZm9yIChkIGluIGIpIHtcbiAgICAgIGQgaW4gYSB8fCBjLnB1c2goZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGM7XG4gIH1cblxuICBmdW5jdGlvbiB1ZSgpIHtcbiAgICB2YXIgYSA9IEsoKTtcbiAgICBhID0gdmUoYSkgIT0gd2UgPyBudWxsIDogKGEgPSBhLm1hdGNoKC9cXHNDaHJvbWVcXC8oXFxkKykvaSkpICYmIDIgPT0gYS5sZW5ndGggPyBwYXJzZUludChhWzFdLCAxMCkgOiBudWxsO1xuICAgIHJldHVybiBhICYmIDMwID4gYSA/ICExIDogIVdiIHx8ICFpYyB8fCA5IDwgaWM7XG4gIH1cblxuICBmdW5jdGlvbiB4ZShhKSB7XG4gICAgYSA9IChhIHx8IEsoKSkudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gYS5tYXRjaCgvYW5kcm9pZC8pIHx8IGEubWF0Y2goL3dlYm9zLykgfHwgYS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZC8pIHx8IGEubWF0Y2goL2JsYWNrYmVycnkvKSB8fCBhLm1hdGNoKC93aW5kb3dzIHBob25lLykgfHwgYS5tYXRjaCgvaWVtb2JpbGUvKSA/ICEwIDogITE7XG4gIH1cblxuICBmdW5jdGlvbiB5ZShhKSB7XG4gICAgYSA9IGEgfHwgbC53aW5kb3c7XG5cbiAgICB0cnkge1xuICAgICAgYS5jbG9zZSgpO1xuICAgIH0gY2F0Y2ggKGIpIHt9XG4gIH1cblxuICBmdW5jdGlvbiB6ZShhLCBiLCBjKSB7XG4gICAgdmFyIGQgPSBNYXRoLmZsb29yKDFFOSAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCk7XG4gICAgYiA9IGIgfHwgNTAwO1xuICAgIGMgPSBjIHx8IDYwMDtcbiAgICB2YXIgZSA9ICh3aW5kb3cuc2NyZWVuLmF2YWlsSGVpZ2h0IC0gYykgLyAyLFxuICAgICAgICBmID0gKHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aCAtIGIpIC8gMjtcbiAgICBiID0ge1xuICAgICAgd2lkdGg6IGIsXG4gICAgICBoZWlnaHQ6IGMsXG4gICAgICB0b3A6IDAgPCBlID8gZSA6IDAsXG4gICAgICBsZWZ0OiAwIDwgZiA/IGYgOiAwLFxuICAgICAgbG9jYXRpb246ICEwLFxuICAgICAgcmVzaXphYmxlOiAhMCxcbiAgICAgIHN0YXR1c2JhcjogITAsXG4gICAgICB0b29sYmFyOiAhMVxuICAgIH07XG4gICAgYyA9IEsoKS50b0xvd2VyQ2FzZSgpO1xuICAgIGQgJiYgKGIudGFyZ2V0ID0gZCwgeChjLCBcImNyaW9zL1wiKSAmJiAoYi50YXJnZXQgPSBcIl9ibGFua1wiKSk7XG4gICAgdmUoSygpKSA9PSBBZSAmJiAoYSA9IGEgfHwgXCJodHRwOi8vbG9jYWxob3N0XCIsIGIuc2Nyb2xsYmFycyA9ICEwKTtcbiAgICBjID0gYSB8fCBcIlwiO1xuICAgIChhID0gYikgfHwgKGEgPSB7fSk7XG4gICAgZCA9IHdpbmRvdztcbiAgICBiID0gYyBpbnN0YW5jZW9mIEMgPyBjIDogSWIoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYy5ocmVmID8gYy5ocmVmIDogU3RyaW5nKGMpKSB8fCBLYjtcbiAgICBjID0gYS50YXJnZXQgfHwgYy50YXJnZXQ7XG4gICAgZSA9IFtdO1xuXG4gICAgZm9yIChnIGluIGEpIHtcbiAgICAgIHN3aXRjaCAoZykge1xuICAgICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICBjYXNlIFwidG9wXCI6XG4gICAgICAgIGNhc2UgXCJsZWZ0XCI6XG4gICAgICAgICAgZS5wdXNoKGcgKyBcIj1cIiArIGFbZ10pO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ0YXJnZXRcIjpcbiAgICAgICAgY2FzZSBcIm5vb3BlbmVyXCI6XG4gICAgICAgIGNhc2UgXCJub3JlZmVycmVyXCI6XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBlLnB1c2goZyArIFwiPVwiICsgKGFbZ10gPyAxIDogMCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBnID0gZS5qb2luKFwiLFwiKTtcbiAgICBpZiAoKHkoXCJpUGhvbmVcIikgJiYgIXkoXCJpUG9kXCIpICYmICF5KFwiaVBhZFwiKSB8fCB5KFwiaVBhZFwiKSB8fCB5KFwiaVBvZFwiKSkgJiYgZC5uYXZpZ2F0b3IgJiYgZC5uYXZpZ2F0b3Iuc3RhbmRhbG9uZSAmJiBjICYmIFwiX3NlbGZcIiAhPSBjKSBnID0gb2MoZG9jdW1lbnQsIFwiQVwiKSwgcGIoZywgXCJIVE1MQW5jaG9yRWxlbWVudFwiKSwgYiA9IGIgaW5zdGFuY2VvZiBDID8gYiA6IEpiKGIpLCBnLmhyZWYgPSBFYihiKSwgZy5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIiwgYyksIGEubm9yZWZlcnJlciAmJiBnLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcIm5vcmVmZXJyZXJcIiksIGEgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIk1vdXNlRXZlbnRcIiksIGEuaW5pdE1vdXNlRXZlbnQoXCJjbGlja1wiLCAhMCwgITAsIGQsIDEpLCBnLmRpc3BhdGNoRXZlbnQoYSksIGcgPSB7fTtlbHNlIGlmIChhLm5vcmVmZXJyZXIpIHtcbiAgICAgIGlmIChnID0gUGIoXCJcIiwgZCwgYywgZyksIGEgPSBFYihiKSwgZyAmJiAoWWIgJiYgeChhLCBcIjtcIikgJiYgKGEgPSBcIidcIiArIGEucmVwbGFjZSgvJy9nLCBcIiUyN1wiKSArIFwiJ1wiKSwgZy5vcGVuZXIgPSBudWxsLCBhID0gJzxtZXRhIG5hbWU9XCJyZWZlcnJlclwiIGNvbnRlbnQ9XCJuby1yZWZlcnJlclwiPjxtZXRhIGh0dHAtZXF1aXY9XCJyZWZyZXNoXCIgY29udGVudD1cIjA7IHVybD0nICsgUmIoYSkgKyAnXCI+JywgYSA9IChkID0gdmIoKSkgPyBkLmNyZWF0ZUhUTUwoYSkgOiBhLCBhID0gbmV3IExiKGEsIG51bGwsIE1iKSwgZCA9IGcuZG9jdW1lbnQpKSBkLndyaXRlKE5iKGEpKSwgZC5jbG9zZSgpO1xuICAgIH0gZWxzZSAoZyA9IFBiKGIsIGQsIGMsIGcpKSAmJiBhLm5vb3BlbmVyICYmIChnLm9wZW5lciA9IG51bGwpO1xuICAgIGlmIChnKSB0cnkge1xuICAgICAgZy5mb2N1cygpO1xuICAgIH0gY2F0Y2ggKGgpIHt9XG4gICAgcmV0dXJuIGc7XG4gIH1cblxuICBmdW5jdGlvbiBCZShhKSB7XG4gICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiKSB7XG4gICAgICBmdW5jdGlvbiBjKCkge1xuICAgICAgICBFZCgyRTMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghYSB8fCBhLmNsb3NlZCkgYigpO2Vsc2UgcmV0dXJuIGMoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjKCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgQ2UgPSAvXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC8sXG4gICAgICBEZSA9IC9eW15AXStAW15AXSskLztcblxuICBmdW5jdGlvbiBFZSgpIHtcbiAgICB2YXIgYSA9IG51bGw7XG4gICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiKSB7XG4gICAgICBcImNvbXBsZXRlXCIgPT0gbC5kb2N1bWVudC5yZWFkeVN0YXRlID8gYigpIDogKGEgPSBmdW5jdGlvbiBhKCkge1xuICAgICAgICBiKCk7XG4gICAgICB9LCBvZCh3aW5kb3csIFwibG9hZFwiLCBhKSk7XG4gICAgfSkucyhmdW5jdGlvbiAoYikge1xuICAgICAgSCh3aW5kb3csIFwibG9hZFwiLCBhKTtcbiAgICAgIHRocm93IGI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBGZSgpIHtcbiAgICByZXR1cm4gR2Uodm9pZCAwKSA/IEVlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGMgPSBsLmRvY3VtZW50LFxuICAgICAgICAgICAgZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGIoRXJyb3IoXCJDb3Jkb3ZhIGZyYW1ld29yayBpcyBub3QgcmVhZHkuXCIpKTtcbiAgICAgICAgfSwgMUUzKTtcbiAgICAgICAgYy5hZGRFdmVudExpc3RlbmVyKFwiZGV2aWNlcmVhZHlcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChkKTtcbiAgICAgICAgICBhKCk7XG4gICAgICAgIH0sICExKTtcbiAgICAgIH0pO1xuICAgIH0pIDogRihFcnJvcihcIkNvcmRvdmEgbXVzdCBydW4gaW4gYW4gQW5kcm9pZCBvciBpT1MgZmlsZSBzY2hlbWUuXCIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdlKGEpIHtcbiAgICBhID0gYSB8fCBLKCk7XG4gICAgcmV0dXJuICEoXCJmaWxlOlwiICE9PSBIZSgpICYmIFwiaW9uaWM6XCIgIT09IEhlKCkgfHwgIWEudG9Mb3dlckNhc2UoKS5tYXRjaCgvaXBob25lfGlwYWR8aXBvZHxhbmRyb2lkLykpO1xuICB9XG5cbiAgZnVuY3Rpb24gSWUoKSB7XG4gICAgdmFyIGEgPSBsLndpbmRvdztcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gISghYSB8fCBhID09IGEudG9wKTtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gSmUoKSB7XG4gICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBsLldvcmtlckdsb2JhbFNjb3BlICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGwuaW1wb3J0U2NyaXB0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIEtlKCkge1xuICAgIHJldHVybiBmaXJlYmFzZS5JTlRFUk5BTC5oYXNPd25Qcm9wZXJ0eShcInJlYWN0TmF0aXZlXCIpID8gXCJSZWFjdE5hdGl2ZVwiIDogZmlyZWJhc2UuSU5URVJOQUwuaGFzT3duUHJvcGVydHkoXCJub2RlXCIpID8gXCJOb2RlXCIgOiBKZSgpID8gXCJXb3JrZXJcIiA6IFwiQnJvd3NlclwiO1xuICB9XG5cbiAgZnVuY3Rpb24gTGUoKSB7XG4gICAgdmFyIGEgPSBLZSgpO1xuICAgIHJldHVybiBcIlJlYWN0TmF0aXZlXCIgPT09IGEgfHwgXCJOb2RlXCIgPT09IGE7XG4gIH1cblxuICBmdW5jdGlvbiBNZSgpIHtcbiAgICBmb3IgKHZhciBhID0gNTAsIGIgPSBbXTsgMCA8IGE7KSB7XG4gICAgICBiLnB1c2goXCIxMjM0NTY3ODkwYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiLmNoYXJBdChNYXRoLmZsb29yKDYyICogTWF0aC5yYW5kb20oKSkpKSwgYS0tO1xuICAgIH1cblxuICAgIHJldHVybiBiLmpvaW4oXCJcIik7XG4gIH1cblxuICB2YXIgQWUgPSBcIkZpcmVmb3hcIixcbiAgICAgIHdlID0gXCJDaHJvbWVcIjtcblxuICBmdW5jdGlvbiB2ZShhKSB7XG4gICAgdmFyIGIgPSBhLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHgoYiwgXCJvcGVyYS9cIikgfHwgeChiLCBcIm9wci9cIikgfHwgeChiLCBcIm9waW9zL1wiKSkgcmV0dXJuIFwiT3BlcmFcIjtcbiAgICBpZiAoeChiLCBcImllbW9iaWxlXCIpKSByZXR1cm4gXCJJRU1vYmlsZVwiO1xuICAgIGlmICh4KGIsIFwibXNpZVwiKSB8fCB4KGIsIFwidHJpZGVudC9cIikpIHJldHVybiBcIklFXCI7XG4gICAgaWYgKHgoYiwgXCJlZGdlL1wiKSkgcmV0dXJuIFwiRWRnZVwiO1xuICAgIGlmICh4KGIsIFwiZmlyZWZveC9cIikpIHJldHVybiBBZTtcbiAgICBpZiAoeChiLCBcInNpbGsvXCIpKSByZXR1cm4gXCJTaWxrXCI7XG4gICAgaWYgKHgoYiwgXCJibGFja2JlcnJ5XCIpKSByZXR1cm4gXCJCbGFja2JlcnJ5XCI7XG4gICAgaWYgKHgoYiwgXCJ3ZWJvc1wiKSkgcmV0dXJuIFwiV2Vib3NcIjtcbiAgICBpZiAoIXgoYiwgXCJzYWZhcmkvXCIpIHx8IHgoYiwgXCJjaHJvbWUvXCIpIHx8IHgoYiwgXCJjcmlvcy9cIikgfHwgeChiLCBcImFuZHJvaWRcIikpIHtcbiAgICAgIGlmICgheChiLCBcImNocm9tZS9cIikgJiYgIXgoYiwgXCJjcmlvcy9cIikgfHwgeChiLCBcImVkZ2UvXCIpKSB7XG4gICAgICAgIGlmICh4KGIsIFwiYW5kcm9pZFwiKSkgcmV0dXJuIFwiQW5kcm9pZFwiO1xuICAgICAgICBpZiAoKGEgPSBhLm1hdGNoKC8oW2EtekEtWlxcZFxcLl0rKVxcL1thLXpBLVpcXGRcXC5dKiQvKSkgJiYgMiA9PSBhLmxlbmd0aCkgcmV0dXJuIGFbMV07XG4gICAgICB9IGVsc2UgcmV0dXJuIHdlO1xuICAgIH0gZWxzZSByZXR1cm4gXCJTYWZhcmlcIjtcbiAgICByZXR1cm4gXCJPdGhlclwiO1xuICB9XG5cbiAgdmFyIE5lID0ge1xuICAgIGxkOiBcIkZpcmViYXNlQ29yZS13ZWJcIixcbiAgICBuZDogXCJGaXJlYmFzZVVJLXdlYlwiXG4gIH07XG5cbiAgZnVuY3Rpb24gT2UoYSwgYikge1xuICAgIGIgPSBiIHx8IFtdO1xuICAgIHZhciBjID0gW10sXG4gICAgICAgIGQgPSB7fSxcbiAgICAgICAgZTtcblxuICAgIGZvciAoZSBpbiBOZSkge1xuICAgICAgZFtOZVtlXV0gPSAhMDtcbiAgICB9XG5cbiAgICBmb3IgKGUgPSAwOyBlIDwgYi5sZW5ndGg7IGUrKykge1xuICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGRbYltlXV0gJiYgKGRlbGV0ZSBkW2JbZV1dLCBjLnB1c2goYltlXSkpO1xuICAgIH1cblxuICAgIGMuc29ydCgpO1xuICAgIGIgPSBjO1xuICAgIGIubGVuZ3RoIHx8IChiID0gW1wiRmlyZWJhc2VDb3JlLXdlYlwiXSk7XG4gICAgYyA9IEtlKCk7XG4gICAgXCJCcm93c2VyXCIgPT09IGMgPyAoZCA9IEsoKSwgYyA9IHZlKGQpKSA6IFwiV29ya2VyXCIgPT09IGMgJiYgKGQgPSBLKCksIGMgPSB2ZShkKSArIFwiLVwiICsgYyk7XG4gICAgcmV0dXJuIGMgKyBcIi9Kc0NvcmUvXCIgKyBhICsgXCIvXCIgKyBiLmpvaW4oXCIsXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gSygpIHtcbiAgICByZXR1cm4gbC5uYXZpZ2F0b3IgJiYgbC5uYXZpZ2F0b3IudXNlckFnZW50IHx8IFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBMKGEsIGIpIHtcbiAgICBhID0gYS5zcGxpdChcIi5cIik7XG4gICAgYiA9IGIgfHwgbDtcblxuICAgIGZvciAodmFyIGMgPSAwOyBjIDwgYS5sZW5ndGggJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgYiAmJiBudWxsICE9IGI7IGMrKykge1xuICAgICAgYiA9IGJbYVtjXV07XG4gICAgfVxuXG4gICAgYyAhPSBhLmxlbmd0aCAmJiAoYiA9IHZvaWQgMCk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBQZSgpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGEgPSBsLmxvY2FsU3RvcmFnZSxcbiAgICAgICAgICBiID0gUWUoKTtcbiAgICAgIGlmIChhKSByZXR1cm4gYS5zZXRJdGVtKGIsIFwiMVwiKSwgYS5yZW1vdmVJdGVtKGIpLCBxZSgpID8gISFsLmluZGV4ZWREQiA6ICEwO1xuICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgIHJldHVybiBKZSgpICYmICEhbC5pbmRleGVkREI7XG4gICAgfVxuXG4gICAgcmV0dXJuICExO1xuICB9XG5cbiAgZnVuY3Rpb24gUmUoKSB7XG4gICAgcmV0dXJuIChTZSgpIHx8IFwiY2hyb21lLWV4dGVuc2lvbjpcIiA9PT0gSGUoKSB8fCBHZSgpKSAmJiAhTGUoKSAmJiBQZSgpICYmICFKZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gU2UoKSB7XG4gICAgcmV0dXJuIFwiaHR0cDpcIiA9PT0gSGUoKSB8fCBcImh0dHBzOlwiID09PSBIZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gSGUoKSB7XG4gICAgcmV0dXJuIGwubG9jYXRpb24gJiYgbC5sb2NhdGlvbi5wcm90b2NvbCB8fCBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gVGUoYSkge1xuICAgIGEgPSBhIHx8IEsoKTtcbiAgICByZXR1cm4geGUoYSkgfHwgdmUoYSkgPT0gQWUgPyAhMSA6ICEwO1xuICB9XG5cbiAgZnVuY3Rpb24gVWUoYSkge1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgYSA/IG51bGwgOiBrZShhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZlKGEpIHtcbiAgICB2YXIgYiA9IHt9LFxuICAgICAgICBjO1xuXG4gICAgZm9yIChjIGluIGEpIHtcbiAgICAgIGEuaGFzT3duUHJvcGVydHkoYykgJiYgbnVsbCAhPT0gYVtjXSAmJiB2b2lkIDAgIT09IGFbY10gJiYgKGJbY10gPSBhW2NdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIFdlKGEpIHtcbiAgICBpZiAobnVsbCAhPT0gYSkgcmV0dXJuIEpTT04ucGFyc2UoYSk7XG4gIH1cblxuICBmdW5jdGlvbiBRZShhKSB7XG4gICAgcmV0dXJuIGEgPyBhIDogTWF0aC5mbG9vcigxRTkgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gWGUoYSkge1xuICAgIGEgPSBhIHx8IEsoKTtcbiAgICByZXR1cm4gXCJTYWZhcmlcIiA9PSB2ZShhKSB8fCBhLnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKSA/ICExIDogITA7XG4gIH1cblxuICBmdW5jdGlvbiBZZSgpIHtcbiAgICB2YXIgYSA9IGwuX19fanNsO1xuICAgIGlmIChhICYmIGEuSCkgZm9yICh2YXIgYiBpbiBhLkgpIHtcbiAgICAgIGlmIChhLkhbYl0uciA9IGEuSFtiXS5yIHx8IFtdLCBhLkhbYl0uTCA9IGEuSFtiXS5MIHx8IFtdLCBhLkhbYl0uciA9IGEuSFtiXS5MLmNvbmNhdCgpLCBhLkNQKSBmb3IgKHZhciBjID0gMDsgYyA8IGEuQ1AubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgYS5DUFtjXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gWmUoYSwgYikge1xuICAgIGlmIChhID4gYikgdGhyb3cgRXJyb3IoXCJTaG9ydCBkZWxheSBzaG91bGQgYmUgbGVzcyB0aGFuIGxvbmcgZGVsYXkhXCIpO1xuICAgIHRoaXMuYSA9IGE7XG4gICAgdGhpcy5jID0gYjtcbiAgICBhID0gSygpO1xuICAgIGIgPSBLZSgpO1xuICAgIHRoaXMuYiA9IHhlKGEpIHx8IFwiUmVhY3ROYXRpdmVcIiA9PT0gYjtcbiAgfVxuXG4gIFplLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSBsLm5hdmlnYXRvcjtcbiAgICByZXR1cm4gKGEgJiYgXCJib29sZWFuXCIgPT09IHR5cGVvZiBhLm9uTGluZSAmJiAoU2UoKSB8fCBcImNocm9tZS1leHRlbnNpb246XCIgPT09IEhlKCkgfHwgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGEuY29ubmVjdGlvbikgPyBhLm9uTGluZSA6IDEpID8gdGhpcy5iID8gdGhpcy5jIDogdGhpcy5hIDogTWF0aC5taW4oNUUzLCB0aGlzLmEpO1xuICB9O1xuXG4gIGZ1bmN0aW9uICRlKCkge1xuICAgIHZhciBhID0gbC5kb2N1bWVudDtcbiAgICByZXR1cm4gYSAmJiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgYS52aXNpYmlsaXR5U3RhdGUgPyBcInZpc2libGVcIiA9PSBhLnZpc2liaWxpdHlTdGF0ZSA6ICEwO1xuICB9XG5cbiAgZnVuY3Rpb24gYWYoKSB7XG4gICAgdmFyIGEgPSBsLmRvY3VtZW50LFxuICAgICAgICBfYiA9IG51bGw7XG4gICAgcmV0dXJuICRlKCkgfHwgIWEgPyBFKCkgOiBuZXcgRChmdW5jdGlvbiAoYykge1xuICAgICAgX2IgPSBmdW5jdGlvbiBiKCkge1xuICAgICAgICAkZSgpICYmIChhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIF9iLCAhMSksIGMoKSk7XG4gICAgICB9O1xuXG4gICAgICBhLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIF9iLCAhMSk7XG4gICAgfSkucyhmdW5jdGlvbiAoYykge1xuICAgICAgYS5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCBfYiwgITEpO1xuICAgICAgdGhyb3cgYztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJmKGEpIHtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgY29uc29sZSAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb25zb2xlLndhcm4gJiYgY29uc29sZS53YXJuKGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2YoYSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgYiA9IG5ldyBEYXRlKHBhcnNlSW50KGEsIDEwKSk7XG4gICAgICBpZiAoIWlzTmFOKGIuZ2V0VGltZSgpKSAmJiAhL1teMC05XS8udGVzdChhKSkgcmV0dXJuIGIudG9VVENTdHJpbmcoKTtcbiAgICB9IGNhdGNoIChjKSB7fVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBkZigpIHtcbiAgICByZXR1cm4gISghTChcImZpcmVhdXRoLm9hdXRoaGVscGVyXCIsIGwpICYmICFMKFwiZmlyZWF1dGguaWZyYW1lXCIsIGwpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVmKCkge1xuICAgIHZhciBhID0gbC5uYXZpZ2F0b3I7XG4gICAgcmV0dXJuIGEgJiYgYS5zZXJ2aWNlV29ya2VyICYmIGEuc2VydmljZVdvcmtlci5jb250cm9sbGVyIHx8IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBmZigpIHtcbiAgICB2YXIgYSA9IGwubmF2aWdhdG9yO1xuICAgIHJldHVybiBhICYmIGEuc2VydmljZVdvcmtlciA/IEUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhLnNlcnZpY2VXb3JrZXIucmVhZHk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIGIuYWN0aXZlIHx8IG51bGw7XG4gICAgfSkucyhmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9KSA6IEUobnVsbCk7XG4gIH1cblxuICA7XG4gIHZhciBnZiA9IHt9O1xuXG4gIGZ1bmN0aW9uIGhmKGEpIHtcbiAgICBnZlthXSB8fCAoZ2ZbYV0gPSAhMCwgYmYoYSkpO1xuICB9XG5cbiAgO1xuICB2YXIgamY7XG5cbiAgdHJ5IHtcbiAgICB2YXIga2YgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoa2YsIFwiYWJjZFwiLCB7XG4gICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICB2YWx1ZTogMVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrZiwgXCJhYmNkXCIsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIHZhbHVlOiAyXG4gICAgfSk7XG4gICAgamYgPSAyID09IGtmLmFiY2Q7XG4gIH0gY2F0Y2ggKGEpIHtcbiAgICBqZiA9ICExO1xuICB9XG5cbiAgZnVuY3Rpb24gTShhLCBiLCBjKSB7XG4gICAgamYgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwgYiwge1xuICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgdmFsdWU6IGNcbiAgICB9KSA6IGFbYl0gPSBjO1xuICB9XG5cbiAgZnVuY3Rpb24gTihhLCBiKSB7XG4gICAgaWYgKGIpIGZvciAodmFyIGMgaW4gYikge1xuICAgICAgYi5oYXNPd25Qcm9wZXJ0eShjKSAmJiBNKGEsIGMsIGJbY10pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxmKGEpIHtcbiAgICB2YXIgYiA9IHt9O1xuICAgIE4oYiwgYSk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBtZihhKSB7XG4gICAgdmFyIGIgPSB7fSxcbiAgICAgICAgYztcblxuICAgIGZvciAoYyBpbiBhKSB7XG4gICAgICBhLmhhc093blByb3BlcnR5KGMpICYmIChiW2NdID0gYVtjXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBuZihhLCBiKSB7XG4gICAgaWYgKCFiIHx8ICFiLmxlbmd0aCkgcmV0dXJuICEwO1xuICAgIGlmICghYSkgcmV0dXJuICExO1xuXG4gICAgZm9yICh2YXIgYyA9IDA7IGMgPCBiLmxlbmd0aDsgYysrKSB7XG4gICAgICB2YXIgZCA9IGFbYltjXV07XG4gICAgICBpZiAodm9pZCAwID09PSBkIHx8IG51bGwgPT09IGQgfHwgXCJcIiA9PT0gZCkgcmV0dXJuICExO1xuICAgIH1cblxuICAgIHJldHVybiAhMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9mKGEpIHtcbiAgICB2YXIgYiA9IGE7XG5cbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgYSAmJiBudWxsICE9IGEpIHtcbiAgICAgIGIgPSBcImxlbmd0aFwiIGluIGEgPyBbXSA6IHt9O1xuXG4gICAgICBmb3IgKHZhciBjIGluIGEpIHtcbiAgICAgICAgTShiLCBjLCBvZihhW2NdKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICA7XG4gIC8qXG4gIENvcHlyaWdodCAyMDE5IEdvb2dsZSBJbmMuXG4gIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gICovXG5cbiAgZnVuY3Rpb24gcGYoYSkge1xuICAgIHZhciBiID0gYSAmJiAoYVtxZl0gPyBcInBob25lXCIgOiBudWxsKTtcblxuICAgIGlmIChiICYmIGEgJiYgYVtyZl0pIHtcbiAgICAgIE0odGhpcywgXCJ1aWRcIiwgYVtyZl0pO1xuICAgICAgTSh0aGlzLCBcImRpc3BsYXlOYW1lXCIsIGFbc2ZdIHx8IG51bGwpO1xuICAgICAgdmFyIGMgPSBudWxsO1xuICAgICAgYVt0Zl0gJiYgKGMgPSBuZXcgRGF0ZShhW3RmXSkudG9VVENTdHJpbmcoKSk7XG4gICAgICBNKHRoaXMsIFwiZW5yb2xsbWVudFRpbWVcIiwgYyk7XG4gICAgICBNKHRoaXMsIFwiZmFjdG9ySWRcIiwgYik7XG4gICAgfSBlbHNlIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJJbnRlcm5hbCBhc3NlcnQ6IGludmFsaWQgTXVsdGlGYWN0b3JJbmZvIG9iamVjdFwiKTtcbiAgfVxuXG4gIHBmLnByb3RvdHlwZS53ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1aWQ6IHRoaXMudWlkLFxuICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZGlzcGxheU5hbWUsXG4gICAgICBmYWN0b3JJZDogdGhpcy5mYWN0b3JJZCxcbiAgICAgIGVucm9sbG1lbnRUaW1lOiB0aGlzLmVucm9sbG1lbnRUaW1lXG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB1ZihhKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBiID0gbmV3IHZmKGEpO1xuICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgIGIgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBiO1xuICB9XG5cbiAgdmFyIHNmID0gXCJkaXNwbGF5TmFtZVwiLFxuICAgICAgdGYgPSBcImVucm9sbGVkQXRcIixcbiAgICAgIHJmID0gXCJtZmFFbnJvbGxtZW50SWRcIixcbiAgICAgIHFmID0gXCJwaG9uZUluZm9cIjtcblxuICBmdW5jdGlvbiB2ZihhKSB7XG4gICAgcGYuY2FsbCh0aGlzLCBhKTtcbiAgICBNKHRoaXMsIFwicGhvbmVOdW1iZXJcIiwgYVtxZl0pO1xuICB9XG5cbiAgcih2ZiwgcGYpO1xuXG4gIHZmLnByb3RvdHlwZS53ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdmYuJGEudy5jYWxsKHRoaXMpO1xuICAgIGEucGhvbmVOdW1iZXIgPSB0aGlzLnBob25lTnVtYmVyO1xuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHdmKGEpIHtcbiAgICB2YXIgYiA9IHt9LFxuICAgICAgICBjID0gYVt4Zl0sXG4gICAgICAgIGQgPSBhW3lmXSxcbiAgICAgICAgZSA9IGFbemZdO1xuICAgIGEgPSB1ZihhW0FmXSk7XG4gICAgaWYgKCFlIHx8IGUgIT0gQmYgJiYgZSAhPSBDZiAmJiAhYyB8fCBlID09IENmICYmICFkIHx8IGUgPT0gRGYgJiYgIWEpIHRocm93IEVycm9yKFwiSW52YWxpZCBjaGVja0FjdGlvbkNvZGUgcmVzcG9uc2UhXCIpO1xuICAgIGUgPT0gQ2YgPyAoYltFZl0gPSBjIHx8IG51bGwsIGJbRmZdID0gYyB8fCBudWxsLCBiW0dmXSA9IGQpIDogKGJbRWZdID0gZCB8fCBudWxsLCBiW0ZmXSA9IGQgfHwgbnVsbCwgYltHZl0gPSBjIHx8IG51bGwpO1xuICAgIGJbSGZdID0gYSB8fCBudWxsO1xuICAgIE0odGhpcywgSWYsIGUpO1xuICAgIE0odGhpcywgSmYsIG9mKGIpKTtcbiAgfVxuXG4gIHZhciBEZiA9IFwiUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT05cIixcbiAgICAgIEJmID0gXCJFTUFJTF9TSUdOSU5cIixcbiAgICAgIENmID0gXCJWRVJJRllfQU5EX0NIQU5HRV9FTUFJTFwiLFxuICAgICAgeGYgPSBcImVtYWlsXCIsXG4gICAgICBBZiA9IFwibWZhSW5mb1wiLFxuICAgICAgeWYgPSBcIm5ld0VtYWlsXCIsXG4gICAgICB6ZiA9IFwicmVxdWVzdFR5cGVcIixcbiAgICAgIEdmID0gXCJlbWFpbFwiLFxuICAgICAgRWYgPSBcImZyb21FbWFpbFwiLFxuICAgICAgSGYgPSBcIm11bHRpRmFjdG9ySW5mb1wiLFxuICAgICAgRmYgPSBcInByZXZpb3VzRW1haWxcIixcbiAgICAgIEpmID0gXCJkYXRhXCIsXG4gICAgICBJZiA9IFwib3BlcmF0aW9uXCI7XG5cbiAgZnVuY3Rpb24gS2YoYSkge1xuICAgIGEgPSBiZShhKTtcbiAgICB2YXIgYiA9IGFlKGEsIExmKSB8fCBudWxsLFxuICAgICAgICBjID0gYWUoYSwgTWYpIHx8IG51bGwsXG4gICAgICAgIGQgPSBhZShhLCBOZikgfHwgbnVsbDtcbiAgICBkID0gZCA/IE9mW2RdIHx8IG51bGwgOiBudWxsO1xuICAgIGlmICghYiB8fCAhYyB8fCAhZCkgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCBMZiArIFwiLCBcIiArIE1mICsgXCJhbmQgXCIgKyBOZiArIFwiIGFyZSByZXF1aXJlZCBpbiBhIHZhbGlkIGFjdGlvbiBjb2RlIFVSTC5cIik7XG4gICAgTih0aGlzLCB7XG4gICAgICBhcGlLZXk6IGIsXG4gICAgICBvcGVyYXRpb246IGQsXG4gICAgICBjb2RlOiBjLFxuICAgICAgY29udGludWVVcmw6IGFlKGEsIFBmKSB8fCBudWxsLFxuICAgICAgbGFuZ3VhZ2VDb2RlOiBhZShhLCBRZikgfHwgbnVsbCxcbiAgICAgIHRlbmFudElkOiBhZShhLCBSZikgfHwgbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgdmFyIExmID0gXCJhcGlLZXlcIixcbiAgICAgIE1mID0gXCJvb2JDb2RlXCIsXG4gICAgICBQZiA9IFwiY29udGludWVVcmxcIixcbiAgICAgIFFmID0gXCJsYW5ndWFnZUNvZGVcIixcbiAgICAgIE5mID0gXCJtb2RlXCIsXG4gICAgICBSZiA9IFwidGVuYW50SWRcIixcbiAgICAgIE9mID0ge1xuICAgIHJlY292ZXJFbWFpbDogXCJSRUNPVkVSX0VNQUlMXCIsXG4gICAgcmVzZXRQYXNzd29yZDogXCJQQVNTV09SRF9SRVNFVFwiLFxuICAgIHJldmVydFNlY29uZEZhY3RvckFkZGl0aW9uOiBEZixcbiAgICBzaWduSW46IEJmLFxuICAgIHZlcmlmeUFuZENoYW5nZUVtYWlsOiBDZixcbiAgICB2ZXJpZnlFbWFpbDogXCJWRVJJRllfRU1BSUxcIlxuICB9O1xuXG4gIGZ1bmN0aW9uIFNmKGEpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBLZihhKTtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gVGYoYSkge1xuICAgIHZhciBiID0gYVtVZl07XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBiKSB0aHJvdyBuZXcgdChcIm1pc3NpbmctY29udGludWUtdXJpXCIpO1xuICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgYiB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgYiAmJiAhYi5sZW5ndGgpIHRocm93IG5ldyB0KFwiaW52YWxpZC1jb250aW51ZS11cmlcIik7XG4gICAgdGhpcy5oID0gYjtcbiAgICB0aGlzLmIgPSB0aGlzLmEgPSBudWxsO1xuICAgIHRoaXMuZyA9ICExO1xuICAgIHZhciBjID0gYVtWZl07XG5cbiAgICBpZiAoYyAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgYykge1xuICAgICAgYiA9IGNbV2ZdO1xuICAgICAgdmFyIGQgPSBjW1hmXTtcbiAgICAgIGMgPSBjW1lmXTtcblxuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBiICYmIGIubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuYSA9IGI7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZCAmJiBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIGQpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgWGYgKyBcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB3aGVuIHNwZWNpZmllZC5cIik7XG4gICAgICAgIHRoaXMuZyA9ICEhZDtcbiAgICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBjICYmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgYyB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgYyAmJiAhYy5sZW5ndGgpKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFlmICsgXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuXCIpO1xuICAgICAgICB0aGlzLmIgPSBjIHx8IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGIpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgV2YgKyBcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZyB3aGVuIHNwZWNpZmllZC5cIik7XG4gICAgICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZCB8fCBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgYykgdGhyb3cgbmV3IHQoXCJtaXNzaW5nLWFuZHJvaWQtcGtnLW5hbWVcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgYykgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCBWZiArIFwiIHByb3BlcnR5IG11c3QgYmUgYSBub24gbnVsbCBvYmplY3Qgd2hlbiBzcGVjaWZpZWQuXCIpO1xuXG4gICAgdGhpcy5mID0gbnVsbDtcbiAgICBpZiAoKGIgPSBhW1pmXSkgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGIpIHtcbiAgICAgIGlmIChiID0gYlskZl0sIFwic3RyaW5nXCIgPT09IHR5cGVvZiBiICYmIGIubGVuZ3RoKSB0aGlzLmYgPSBiO2Vsc2Uge1xuICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGIpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgJGYgKyBcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgbm9uIGVtcHR5IHN0cmluZyB3aGVuIHNwZWNpZmllZC5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgYikgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCBaZiArIFwiIHByb3BlcnR5IG11c3QgYmUgYSBub24gbnVsbCBvYmplY3Qgd2hlbiBzcGVjaWZpZWQuXCIpO1xuICAgIGIgPSBhW2FnXTtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGIgJiYgXCJib29sZWFuXCIgIT09IHR5cGVvZiBiKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIGFnICsgXCIgcHJvcGVydHkgbXVzdCBiZSBhIGJvb2xlYW4gd2hlbiBzcGVjaWZpZWQuXCIpO1xuICAgIHRoaXMuYyA9ICEhYjtcbiAgICBhID0gYVtiZ107XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBhICYmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgYSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgYSAmJiAhYS5sZW5ndGgpKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIGJnICsgXCIgcHJvcGVydHkgbXVzdCBiZSBhIG5vbiBlbXB0eSBzdHJpbmcgd2hlbiBzcGVjaWZpZWQuXCIpO1xuICAgIHRoaXMuaSA9IGEgfHwgbnVsbDtcbiAgfVxuXG4gIHZhciBWZiA9IFwiYW5kcm9pZFwiLFxuICAgICAgYmcgPSBcImR5bmFtaWNMaW5rRG9tYWluXCIsXG4gICAgICBhZyA9IFwiaGFuZGxlQ29kZUluQXBwXCIsXG4gICAgICBaZiA9IFwiaU9TXCIsXG4gICAgICBVZiA9IFwidXJsXCIsXG4gICAgICBYZiA9IFwiaW5zdGFsbEFwcFwiLFxuICAgICAgWWYgPSBcIm1pbmltdW1WZXJzaW9uXCIsXG4gICAgICBXZiA9IFwicGFja2FnZU5hbWVcIixcbiAgICAgICRmID0gXCJidW5kbGVJZFwiO1xuXG4gIGZ1bmN0aW9uIGNnKGEpIHtcbiAgICB2YXIgYiA9IHt9O1xuICAgIGIuY29udGludWVVcmwgPSBhLmg7XG4gICAgYi5jYW5IYW5kbGVDb2RlSW5BcHAgPSBhLmM7XG4gICAgaWYgKGIuYW5kcm9pZFBhY2thZ2VOYW1lID0gYS5hKSBiLmFuZHJvaWRNaW5pbXVtVmVyc2lvbiA9IGEuYiwgYi5hbmRyb2lkSW5zdGFsbEFwcCA9IGEuZztcbiAgICBiLmlPU0J1bmRsZUlkID0gYS5mO1xuICAgIGIuZHluYW1pY0xpbmtEb21haW4gPSBhLmk7XG5cbiAgICBmb3IgKHZhciBjIGluIGIpIHtcbiAgICAgIG51bGwgPT09IGJbY10gJiYgZGVsZXRlIGJbY107XG4gICAgfVxuXG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZGcoYSkge1xuICAgIHJldHVybiBSYShhLCBmdW5jdGlvbiAoYikge1xuICAgICAgYiA9IGIudG9TdHJpbmcoMTYpO1xuICAgICAgcmV0dXJuIDEgPCBiLmxlbmd0aCA/IGIgOiBcIjBcIiArIGI7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfVxuXG4gIDtcbiAgdmFyIGVnID0gbnVsbDtcblxuICBmdW5jdGlvbiBmZyhhKSB7XG4gICAgdmFyIGIgPSBcIlwiO1xuICAgIGdnKGEsIGZ1bmN0aW9uIChjKSB7XG4gICAgICBiICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBmdW5jdGlvbiBnZyhhLCBiKSB7XG4gICAgZnVuY3Rpb24gYyhuKSB7XG4gICAgICBmb3IgKDsgZCA8IGEubGVuZ3RoOykge1xuICAgICAgICB2YXIgcCA9IGEuY2hhckF0KGQrKyksXG4gICAgICAgICAgICB2ID0gZWdbcF07XG4gICAgICAgIGlmIChudWxsICE9IHYpIHJldHVybiB2O1xuICAgICAgICBpZiAoIS9eW1xcc1xceGEwXSokLy50ZXN0KHApKSB0aHJvdyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiICsgcCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuO1xuICAgIH1cblxuICAgIGhnKCk7XG5cbiAgICBmb3IgKHZhciBkID0gMDs7KSB7XG4gICAgICB2YXIgZSA9IGMoLTEpLFxuICAgICAgICAgIGYgPSBjKDApLFxuICAgICAgICAgIGcgPSBjKDY0KSxcbiAgICAgICAgICBoID0gYyg2NCk7XG4gICAgICBpZiAoNjQgPT09IGggJiYgLTEgPT09IGUpIGJyZWFrO1xuICAgICAgYihlIDw8IDIgfCBmID4+IDQpO1xuICAgICAgNjQgIT0gZyAmJiAoYihmIDw8IDQgJiAyNDAgfCBnID4+IDIpLCA2NCAhPSBoICYmIGIoZyA8PCA2ICYgMTkyIHwgaCkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhnKCkge1xuICAgIGlmICghZWcpIHtcbiAgICAgIGVnID0ge307XG5cbiAgICAgIGZvciAodmFyIGEgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuc3BsaXQoXCJcIiksIGIgPSBbXCIrLz1cIiwgXCIrL1wiLCBcIi1fPVwiLCBcIi1fLlwiLCBcIi1fXCJdLCBjID0gMDsgNSA+IGM7IGMrKykge1xuICAgICAgICBmb3IgKHZhciBkID0gYS5jb25jYXQoYltjXS5zcGxpdChcIlwiKSksIGUgPSAwOyBlIDwgZC5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIHZhciBmID0gZFtlXTtcbiAgICAgICAgICB2b2lkIDAgPT09IGVnW2ZdICYmIChlZ1tmXSA9IGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGlnKGEpIHtcbiAgICB2YXIgYiA9IGpnKGEpO1xuICAgIGlmICghKGIgJiYgYi5zdWIgJiYgYi5pc3MgJiYgYi5hdWQgJiYgYi5leHApKSB0aHJvdyBFcnJvcihcIkludmFsaWQgSldUXCIpO1xuICAgIHRoaXMuZyA9IGE7XG4gICAgdGhpcy5jID0gYi5leHA7XG4gICAgdGhpcy5oID0gYi5zdWI7XG4gICAgdmEoKTtcbiAgICB0aGlzLmEgPSBiLnByb3ZpZGVyX2lkIHx8IGIuZmlyZWJhc2UgJiYgYi5maXJlYmFzZS5zaWduX2luX3Byb3ZpZGVyIHx8IG51bGw7XG4gICAgdGhpcy5mID0gYi5maXJlYmFzZSAmJiBiLmZpcmViYXNlLnRlbmFudCB8fCBudWxsO1xuICAgIHRoaXMuYiA9ICEhYi5pc19hbm9ueW1vdXMgfHwgXCJhbm9ueW1vdXNcIiA9PSB0aGlzLmE7XG4gIH1cblxuICBpZy5wcm90b3R5cGUuUyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5mO1xuICB9O1xuXG4gIGlnLnByb3RvdHlwZS5pID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmI7XG4gIH07XG5cbiAgaWcucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmc7XG4gIH07XG5cbiAgZnVuY3Rpb24ga2coYSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IGlnKGEpO1xuICAgIH0gY2F0Y2ggKGIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGpnKGEpIHtcbiAgICBpZiAoIWEpIHJldHVybiBudWxsO1xuICAgIGEgPSBhLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAoMyAhPSBhLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgYSA9IGFbMV07XG5cbiAgICBmb3IgKHZhciBiID0gKDQgLSBhLmxlbmd0aCAlIDQpICUgNCwgYyA9IDA7IGMgPCBiOyBjKyspIHtcbiAgICAgIGEgKz0gXCIuXCI7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGZnKGEpKTtcbiAgICB9IGNhdGNoIChkKSB7fVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICA7XG4gIHZhciBsZyA9IFwib2F1dGhfY29uc3VtZXJfa2V5IG9hdXRoX25vbmNlIG9hdXRoX3NpZ25hdHVyZSBvYXV0aF9zaWduYXR1cmVfbWV0aG9kIG9hdXRoX3RpbWVzdGFtcCBvYXV0aF90b2tlbiBvYXV0aF92ZXJzaW9uXCIuc3BsaXQoXCIgXCIpLFxuICAgICAgbWcgPSBbXCJjbGllbnRfaWRcIiwgXCJyZXNwb25zZV90eXBlXCIsIFwic2NvcGVcIiwgXCJyZWRpcmVjdF91cmlcIiwgXCJzdGF0ZVwiXSxcbiAgICAgIG5nID0ge1xuICAgIG1kOiB7XG4gICAgICBKYTogXCJsb2NhbGVcIixcbiAgICAgIHVhOiA3MDAsXG4gICAgICB0YTogNjAwLFxuICAgICAgZmE6IFwiZmFjZWJvb2suY29tXCIsXG4gICAgICBXYTogbWdcbiAgICB9LFxuICAgIG9kOiB7XG4gICAgICBKYTogbnVsbCxcbiAgICAgIHVhOiA1MDAsXG4gICAgICB0YTogNzUwLFxuICAgICAgZmE6IFwiZ2l0aHViLmNvbVwiLFxuICAgICAgV2E6IG1nXG4gICAgfSxcbiAgICBwZDoge1xuICAgICAgSmE6IFwiaGxcIixcbiAgICAgIHVhOiA1MTUsXG4gICAgICB0YTogNjgwLFxuICAgICAgZmE6IFwiZ29vZ2xlLmNvbVwiLFxuICAgICAgV2E6IG1nXG4gICAgfSxcbiAgICB2ZDoge1xuICAgICAgSmE6IFwibGFuZ1wiLFxuICAgICAgdWE6IDQ4NSxcbiAgICAgIHRhOiA3MDUsXG4gICAgICBmYTogXCJ0d2l0dGVyLmNvbVwiLFxuICAgICAgV2E6IGxnXG4gICAgfSxcbiAgICBqZDoge1xuICAgICAgSmE6IFwibG9jYWxlXCIsXG4gICAgICB1YTogNjQwLFxuICAgICAgdGE6IDYwMCxcbiAgICAgIGZhOiBcImFwcGxlLmNvbVwiLFxuICAgICAgV2E6IFtdXG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIG9nKGEpIHtcbiAgICBmb3IgKHZhciBiIGluIG5nKSB7XG4gICAgICBpZiAobmdbYl0uZmEgPT0gYSkgcmV0dXJuIG5nW2JdO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHBnKGEpIHtcbiAgICB2YXIgYiA9IHt9O1xuICAgIGJbXCJmYWNlYm9vay5jb21cIl0gPSBxZztcbiAgICBiW1wiZ29vZ2xlLmNvbVwiXSA9IHJnO1xuICAgIGJbXCJnaXRodWIuY29tXCJdID0gc2c7XG4gICAgYltcInR3aXR0ZXIuY29tXCJdID0gdGc7XG4gICAgdmFyIGMgPSBhICYmIGFbdWddO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmIChjKSByZXR1cm4gYltjXSA/IG5ldyBiW2NdKGEpIDogbmV3IHZnKGEpO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBhW3dnXSkgcmV0dXJuIG5ldyB4ZyhhKTtcbiAgICB9IGNhdGNoIChkKSB7fVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgd2cgPSBcImlkVG9rZW5cIixcbiAgICAgIHVnID0gXCJwcm92aWRlcklkXCI7XG5cbiAgZnVuY3Rpb24geGcoYSkge1xuICAgIHZhciBiID0gYVt1Z107XG5cbiAgICBpZiAoIWIgJiYgYVt3Z10pIHtcbiAgICAgIHZhciBjID0ga2coYVt3Z10pO1xuICAgICAgYyAmJiBjLmEgJiYgKGIgPSBjLmEpO1xuICAgIH1cblxuICAgIGlmICghYikgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFkZGl0aW9uYWwgdXNlciBpbmZvIVwiKTtcbiAgICBpZiAoXCJhbm9ueW1vdXNcIiA9PSBiIHx8IFwiY3VzdG9tXCIgPT0gYikgYiA9IG51bGw7XG4gICAgYyA9ICExO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBhLmlzTmV3VXNlciA/IGMgPSAhIWEuaXNOZXdVc2VyIDogXCJpZGVudGl0eXRvb2xraXQjU2lnbnVwTmV3VXNlclJlc3BvbnNlXCIgPT09IGEua2luZCAmJiAoYyA9ICEwKTtcbiAgICBNKHRoaXMsIFwicHJvdmlkZXJJZFwiLCBiKTtcbiAgICBNKHRoaXMsIFwiaXNOZXdVc2VyXCIsIGMpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmcoYSkge1xuICAgIHhnLmNhbGwodGhpcywgYSk7XG4gICAgYSA9IFdlKGEucmF3VXNlckluZm8gfHwgXCJ7fVwiKTtcbiAgICBNKHRoaXMsIFwicHJvZmlsZVwiLCBvZihhIHx8IHt9KSk7XG4gIH1cblxuICByKHZnLCB4Zyk7XG5cbiAgZnVuY3Rpb24gcWcoYSkge1xuICAgIHZnLmNhbGwodGhpcywgYSk7XG4gICAgaWYgKFwiZmFjZWJvb2suY29tXCIgIT0gdGhpcy5wcm92aWRlcklkKSB0aHJvdyBFcnJvcihcIkludmFsaWQgcHJvdmlkZXIgSUQhXCIpO1xuICB9XG5cbiAgcihxZywgdmcpO1xuXG4gIGZ1bmN0aW9uIHNnKGEpIHtcbiAgICB2Zy5jYWxsKHRoaXMsIGEpO1xuICAgIGlmIChcImdpdGh1Yi5jb21cIiAhPSB0aGlzLnByb3ZpZGVySWQpIHRocm93IEVycm9yKFwiSW52YWxpZCBwcm92aWRlciBJRCFcIik7XG4gICAgTSh0aGlzLCBcInVzZXJuYW1lXCIsIHRoaXMucHJvZmlsZSAmJiB0aGlzLnByb2ZpbGUubG9naW4gfHwgbnVsbCk7XG4gIH1cblxuICByKHNnLCB2Zyk7XG5cbiAgZnVuY3Rpb24gcmcoYSkge1xuICAgIHZnLmNhbGwodGhpcywgYSk7XG4gICAgaWYgKFwiZ29vZ2xlLmNvbVwiICE9IHRoaXMucHJvdmlkZXJJZCkgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIElEIVwiKTtcbiAgfVxuXG4gIHIocmcsIHZnKTtcblxuICBmdW5jdGlvbiB0ZyhhKSB7XG4gICAgdmcuY2FsbCh0aGlzLCBhKTtcbiAgICBpZiAoXCJ0d2l0dGVyLmNvbVwiICE9IHRoaXMucHJvdmlkZXJJZCkgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3ZpZGVyIElEIVwiKTtcbiAgICBNKHRoaXMsIFwidXNlcm5hbWVcIiwgYS5zY3JlZW5OYW1lIHx8IG51bGwpO1xuICB9XG5cbiAgcih0ZywgdmcpO1xuXG4gIGZ1bmN0aW9uIHlnKGEpIHtcbiAgICB2YXIgYiA9IGJlKGEpLFxuICAgICAgICBjID0gYWUoYiwgXCJsaW5rXCIpLFxuICAgICAgICBkID0gYWUoYmUoYyksIFwibGlua1wiKTtcbiAgICBiID0gYWUoYiwgXCJkZWVwX2xpbmtfaWRcIik7XG4gICAgcmV0dXJuIGFlKGJlKGIpLCBcImxpbmtcIikgfHwgYiB8fCBkIHx8IGMgfHwgYTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiB6ZyhhLCBiKSB7XG4gICAgaWYgKCFhICYmICFiKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIsIFwiSW50ZXJuYWwgYXNzZXJ0OiBubyByYXcgc2Vzc2lvbiBzdHJpbmcgYXZhaWxhYmxlXCIpO1xuICAgIGlmIChhICYmIGIpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJJbnRlcm5hbCBhc3NlcnQ6IHVuYWJsZSB0byBkZXRlcm1pbmUgdGhlIHNlc3Npb24gdHlwZVwiKTtcbiAgICB0aGlzLmEgPSBhIHx8IG51bGw7XG4gICAgdGhpcy5iID0gYiB8fCBudWxsO1xuICAgIHRoaXMudHlwZSA9IHRoaXMuYSA/IEFnIDogQmc7XG4gIH1cblxuICB2YXIgQWcgPSBcImVucm9sbFwiLFxuICAgICAgQmcgPSBcInNpZ25pblwiO1xuXG4gIHpnLnByb3RvdHlwZS5IYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hID8gRSh0aGlzLmEpIDogRSh0aGlzLmIpO1xuICB9O1xuXG4gIHpnLnByb3RvdHlwZS53ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGUgPT0gQWcgPyB7XG4gICAgICBtdWx0aUZhY3RvclNlc3Npb246IHtcbiAgICAgICAgaWRUb2tlbjogdGhpcy5hXG4gICAgICB9XG4gICAgfSA6IHtcbiAgICAgIG11bHRpRmFjdG9yU2Vzc2lvbjoge1xuICAgICAgICBwZW5kaW5nQ3JlZGVudGlhbDogdGhpcy5iXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBDZygpIHt9XG5cbiAgQ2cucHJvdG90eXBlLmphID0gZnVuY3Rpb24gKCkge307XG5cbiAgQ2cucHJvdG90eXBlLmIgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBDZy5wcm90b3R5cGUuYyA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIENnLnByb3RvdHlwZS53ID0gZnVuY3Rpb24gKCkge307XG5cbiAgZnVuY3Rpb24gRGcoYSwgYikge1xuICAgIHJldHVybiBhLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChjW0VnXSkge1xuICAgICAgICB2YXIgZCA9IGtnKGNbRWddKTtcbiAgICAgICAgaWYgKCFkIHx8IGIgIT0gZC5oKSB0aHJvdyBuZXcgdChcInVzZXItbWlzbWF0Y2hcIik7XG4gICAgICAgIHJldHVybiBjO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgdChcInVzZXItbWlzbWF0Y2hcIik7XG4gICAgfSkucyhmdW5jdGlvbiAoYykge1xuICAgICAgdGhyb3cgYyAmJiBjLmNvZGUgJiYgYy5jb2RlID09IHlhICsgXCJ1c2VyLW5vdC1mb3VuZFwiID8gbmV3IHQoXCJ1c2VyLW1pc21hdGNoXCIpIDogYztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEZnKGEsIGIpIHtcbiAgICBpZiAoYikgdGhpcy5hID0gYjtlbHNlIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJmYWlsZWQgdG8gY29uc3RydWN0IGEgY3JlZGVudGlhbFwiKTtcbiAgICBNKHRoaXMsIFwicHJvdmlkZXJJZFwiLCBhKTtcbiAgICBNKHRoaXMsIFwic2lnbkluTWV0aG9kXCIsIGEpO1xuICB9XG5cbiAgRmcucHJvdG90eXBlLmphID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gR2coYSwgSGcodGhpcykpO1xuICB9O1xuXG4gIEZnLnByb3RvdHlwZS5iID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYyA9IEhnKHRoaXMpO1xuICAgIGMuaWRUb2tlbiA9IGI7XG4gICAgcmV0dXJuIElnKGEsIGMpO1xuICB9O1xuXG4gIEZnLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gRGcoSmcoYSwgSGcodGhpcykpLCBiKTtcbiAgfTtcblxuICBmdW5jdGlvbiBIZyhhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBlbmRpbmdUb2tlbjogYS5hLFxuICAgICAgcmVxdWVzdFVyaTogXCJodHRwOi8vbG9jYWxob3N0XCJcbiAgICB9O1xuICB9XG5cbiAgRmcucHJvdG90eXBlLncgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb3ZpZGVySWQ6IHRoaXMucHJvdmlkZXJJZCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5zaWduSW5NZXRob2QsXG4gICAgICBwZW5kaW5nVG9rZW46IHRoaXMuYVxuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gS2coYSkge1xuICAgIGlmIChhICYmIGEucHJvdmlkZXJJZCAmJiBhLnNpZ25Jbk1ldGhvZCAmJiAwID09IGEucHJvdmlkZXJJZC5pbmRleE9mKFwic2FtbC5cIikgJiYgYS5wZW5kaW5nVG9rZW4pIHRyeSB7XG4gICAgICByZXR1cm4gbmV3IEZnKGEucHJvdmlkZXJJZCwgYS5wZW5kaW5nVG9rZW4pO1xuICAgIH0gY2F0Y2ggKGIpIHt9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBMZyhhLCBiLCBjKSB7XG4gICAgdGhpcy5hID0gbnVsbDtcbiAgICBpZiAoYi5pZFRva2VuIHx8IGIuYWNjZXNzVG9rZW4pIGIuaWRUb2tlbiAmJiBNKHRoaXMsIFwiaWRUb2tlblwiLCBiLmlkVG9rZW4pLCBiLmFjY2Vzc1Rva2VuICYmIE0odGhpcywgXCJhY2Nlc3NUb2tlblwiLCBiLmFjY2Vzc1Rva2VuKSwgYi5ub25jZSAmJiAhYi5wZW5kaW5nVG9rZW4gJiYgTSh0aGlzLCBcIm5vbmNlXCIsIGIubm9uY2UpLCBiLnBlbmRpbmdUb2tlbiAmJiAodGhpcy5hID0gYi5wZW5kaW5nVG9rZW4pO2Vsc2UgaWYgKGIub2F1dGhUb2tlbiAmJiBiLm9hdXRoVG9rZW5TZWNyZXQpIE0odGhpcywgXCJhY2Nlc3NUb2tlblwiLCBiLm9hdXRoVG9rZW4pLCBNKHRoaXMsIFwic2VjcmV0XCIsIGIub2F1dGhUb2tlblNlY3JldCk7ZWxzZSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIsIFwiZmFpbGVkIHRvIGNvbnN0cnVjdCBhIGNyZWRlbnRpYWxcIik7XG4gICAgTSh0aGlzLCBcInByb3ZpZGVySWRcIiwgYSk7XG4gICAgTSh0aGlzLCBcInNpZ25Jbk1ldGhvZFwiLCBjKTtcbiAgfVxuXG4gIExnLnByb3RvdHlwZS5qYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIEdnKGEsIE1nKHRoaXMpKTtcbiAgfTtcblxuICBMZy5wcm90b3R5cGUuYiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGMgPSBNZyh0aGlzKTtcbiAgICBjLmlkVG9rZW4gPSBiO1xuICAgIHJldHVybiBJZyhhLCBjKTtcbiAgfTtcblxuICBMZy5wcm90b3R5cGUuYyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGMgPSBNZyh0aGlzKTtcbiAgICByZXR1cm4gRGcoSmcoYSwgYyksIGIpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIE1nKGEpIHtcbiAgICB2YXIgYiA9IHt9O1xuICAgIGEuaWRUb2tlbiAmJiAoYi5pZF90b2tlbiA9IGEuaWRUb2tlbik7XG4gICAgYS5hY2Nlc3NUb2tlbiAmJiAoYi5hY2Nlc3NfdG9rZW4gPSBhLmFjY2Vzc1Rva2VuKTtcbiAgICBhLnNlY3JldCAmJiAoYi5vYXV0aF90b2tlbl9zZWNyZXQgPSBhLnNlY3JldCk7XG4gICAgYi5wcm92aWRlcklkID0gYS5wcm92aWRlcklkO1xuICAgIGEubm9uY2UgJiYgIWEuYSAmJiAoYi5ub25jZSA9IGEubm9uY2UpO1xuICAgIGIgPSB7XG4gICAgICBwb3N0Qm9keTogZmUoYikudG9TdHJpbmcoKSxcbiAgICAgIHJlcXVlc3RVcmk6IFwiaHR0cDovL2xvY2FsaG9zdFwiXG4gICAgfTtcbiAgICBhLmEgJiYgKGRlbGV0ZSBiLnBvc3RCb2R5LCBiLnBlbmRpbmdUb2tlbiA9IGEuYSk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBMZy5wcm90b3R5cGUudyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHtcbiAgICAgIHByb3ZpZGVySWQ6IHRoaXMucHJvdmlkZXJJZCxcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5zaWduSW5NZXRob2RcbiAgICB9O1xuICAgIHRoaXMuaWRUb2tlbiAmJiAoYS5vYXV0aElkVG9rZW4gPSB0aGlzLmlkVG9rZW4pO1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gJiYgKGEub2F1dGhBY2Nlc3NUb2tlbiA9IHRoaXMuYWNjZXNzVG9rZW4pO1xuICAgIHRoaXMuc2VjcmV0ICYmIChhLm9hdXRoVG9rZW5TZWNyZXQgPSB0aGlzLnNlY3JldCk7XG4gICAgdGhpcy5ub25jZSAmJiAoYS5ub25jZSA9IHRoaXMubm9uY2UpO1xuICAgIHRoaXMuYSAmJiAoYS5wZW5kaW5nVG9rZW4gPSB0aGlzLmEpO1xuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIGZ1bmN0aW9uIE5nKGEpIHtcbiAgICBpZiAoYSAmJiBhLnByb3ZpZGVySWQgJiYgYS5zaWduSW5NZXRob2QpIHtcbiAgICAgIHZhciBiID0ge1xuICAgICAgICBpZFRva2VuOiBhLm9hdXRoSWRUb2tlbixcbiAgICAgICAgYWNjZXNzVG9rZW46IGEub2F1dGhUb2tlblNlY3JldCA/IG51bGwgOiBhLm9hdXRoQWNjZXNzVG9rZW4sXG4gICAgICAgIG9hdXRoVG9rZW5TZWNyZXQ6IGEub2F1dGhUb2tlblNlY3JldCxcbiAgICAgICAgb2F1dGhUb2tlbjogYS5vYXV0aFRva2VuU2VjcmV0ICYmIGEub2F1dGhBY2Nlc3NUb2tlbixcbiAgICAgICAgbm9uY2U6IGEubm9uY2UsXG4gICAgICAgIHBlbmRpbmdUb2tlbjogYS5wZW5kaW5nVG9rZW5cbiAgICAgIH07XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgTGcoYS5wcm92aWRlcklkLCBiLCBhLnNpZ25Jbk1ldGhvZCk7XG4gICAgICB9IGNhdGNoIChjKSB7fVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gT2coYSwgYikge1xuICAgIHRoaXMuUGMgPSBiIHx8IFtdO1xuICAgIE4odGhpcywge1xuICAgICAgcHJvdmlkZXJJZDogYSxcbiAgICAgIGlzT0F1dGhQcm92aWRlcjogITBcbiAgICB9KTtcbiAgICB0aGlzLkhiID0ge307XG4gICAgdGhpcy5vYiA9IChvZyhhKSB8fCB7fSkuSmEgfHwgbnVsbDtcbiAgICB0aGlzLm5iID0gbnVsbDtcbiAgfVxuXG4gIE9nLnByb3RvdHlwZS5LYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdGhpcy5IYiA9IG5iKGEpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFBnKGEpIHtcbiAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIGEgfHwgMCAhPSBhLmluZGV4T2YoXCJzYW1sLlwiKSkgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCAnU0FNTCBwcm92aWRlciBJRHMgbXVzdCBiZSBwcmVmaXhlZCB3aXRoIFwic2FtbC5cIicpO1xuICAgIE9nLmNhbGwodGhpcywgYSwgW10pO1xuICB9XG5cbiAgcihQZywgT2cpO1xuXG4gIGZ1bmN0aW9uIFFnKGEpIHtcbiAgICBPZy5jYWxsKHRoaXMsIGEsIG1nKTtcbiAgICB0aGlzLmEgPSBbXTtcbiAgfVxuXG4gIHIoUWcsIE9nKTtcblxuICBRZy5wcm90b3R5cGUuQ2EgPSBmdW5jdGlvbiAoYSkge1xuICAgIFZhKHRoaXMuYSwgYSkgfHwgdGhpcy5hLnB1c2goYSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgUWcucHJvdG90eXBlLlBiID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBaYSh0aGlzLmEpO1xuICB9O1xuXG4gIFFnLnByb3RvdHlwZS5jcmVkZW50aWFsID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYztcbiAgICBtKGEpID8gYyA9IHtcbiAgICAgIGlkVG9rZW46IGEuaWRUb2tlbiB8fCBudWxsLFxuICAgICAgYWNjZXNzVG9rZW46IGEuYWNjZXNzVG9rZW4gfHwgbnVsbCxcbiAgICAgIG5vbmNlOiBhLnJhd05vbmNlIHx8IG51bGxcbiAgICB9IDogYyA9IHtcbiAgICAgIGlkVG9rZW46IGEgfHwgbnVsbCxcbiAgICAgIGFjY2Vzc1Rva2VuOiBiIHx8IG51bGxcbiAgICB9O1xuICAgIGlmICghYy5pZFRva2VuICYmICFjLmFjY2Vzc1Rva2VuKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFwiY3JlZGVudGlhbCBmYWlsZWQ6IG11c3QgcHJvdmlkZSB0aGUgSUQgdG9rZW4gYW5kL29yIHRoZSBhY2Nlc3MgdG9rZW4uXCIpO1xuICAgIHJldHVybiBuZXcgTGcodGhpcy5wcm92aWRlcklkLCBjLCB0aGlzLnByb3ZpZGVySWQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFJnKCkge1xuICAgIFFnLmNhbGwodGhpcywgXCJmYWNlYm9vay5jb21cIik7XG4gIH1cblxuICByKFJnLCBRZyk7XG4gIE0oUmcsIFwiUFJPVklERVJfSURcIiwgXCJmYWNlYm9vay5jb21cIik7XG4gIE0oUmcsIFwiRkFDRUJPT0tfU0lHTl9JTl9NRVRIT0RcIiwgXCJmYWNlYm9vay5jb21cIik7XG5cbiAgZnVuY3Rpb24gU2coYSkge1xuICAgIGlmICghYSkgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCBcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAxIGFyZ3VtZW50ICh0aGUgT0F1dGggYWNjZXNzIHRva2VuKS5cIik7XG4gICAgdmFyIGIgPSBhO1xuICAgIG0oYSkgJiYgKGIgPSBhLmFjY2Vzc1Rva2VuKTtcbiAgICByZXR1cm4gbmV3IFJnKCkuY3JlZGVudGlhbCh7XG4gICAgICBhY2Nlc3NUb2tlbjogYlxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gVGcoKSB7XG4gICAgUWcuY2FsbCh0aGlzLCBcImdpdGh1Yi5jb21cIik7XG4gIH1cblxuICByKFRnLCBRZyk7XG4gIE0oVGcsIFwiUFJPVklERVJfSURcIiwgXCJnaXRodWIuY29tXCIpO1xuICBNKFRnLCBcIkdJVEhVQl9TSUdOX0lOX01FVEhPRFwiLCBcImdpdGh1Yi5jb21cIik7XG5cbiAgZnVuY3Rpb24gVWcoYSkge1xuICAgIGlmICghYSkgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCBcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAxIGFyZ3VtZW50ICh0aGUgT0F1dGggYWNjZXNzIHRva2VuKS5cIik7XG4gICAgdmFyIGIgPSBhO1xuICAgIG0oYSkgJiYgKGIgPSBhLmFjY2Vzc1Rva2VuKTtcbiAgICByZXR1cm4gbmV3IFRnKCkuY3JlZGVudGlhbCh7XG4gICAgICBhY2Nlc3NUb2tlbjogYlxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gVmcoKSB7XG4gICAgUWcuY2FsbCh0aGlzLCBcImdvb2dsZS5jb21cIik7XG4gICAgdGhpcy5DYShcInByb2ZpbGVcIik7XG4gIH1cblxuICByKFZnLCBRZyk7XG4gIE0oVmcsIFwiUFJPVklERVJfSURcIiwgXCJnb29nbGUuY29tXCIpO1xuICBNKFZnLCBcIkdPT0dMRV9TSUdOX0lOX01FVEhPRFwiLCBcImdvb2dsZS5jb21cIik7XG5cbiAgZnVuY3Rpb24gV2coYSwgYikge1xuICAgIHZhciBjID0gYTtcbiAgICBtKGEpICYmIChjID0gYS5pZFRva2VuLCBiID0gYS5hY2Nlc3NUb2tlbik7XG4gICAgcmV0dXJuIG5ldyBWZygpLmNyZWRlbnRpYWwoe1xuICAgICAgaWRUb2tlbjogYyxcbiAgICAgIGFjY2Vzc1Rva2VuOiBiXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBYZygpIHtcbiAgICBPZy5jYWxsKHRoaXMsIFwidHdpdHRlci5jb21cIiwgbGcpO1xuICB9XG5cbiAgcihYZywgT2cpO1xuICBNKFhnLCBcIlBST1ZJREVSX0lEXCIsIFwidHdpdHRlci5jb21cIik7XG4gIE0oWGcsIFwiVFdJVFRFUl9TSUdOX0lOX01FVEhPRFwiLCBcInR3aXR0ZXIuY29tXCIpO1xuXG4gIGZ1bmN0aW9uIFlnKGEsIGIpIHtcbiAgICB2YXIgYyA9IGE7XG4gICAgbShjKSB8fCAoYyA9IHtcbiAgICAgIG9hdXRoVG9rZW46IGEsXG4gICAgICBvYXV0aFRva2VuU2VjcmV0OiBiXG4gICAgfSk7XG4gICAgaWYgKCFjLm9hdXRoVG9rZW4gfHwgIWMub2F1dGhUb2tlblNlY3JldCkgdGhyb3cgbmV3IHQoXCJhcmd1bWVudC1lcnJvclwiLCBcImNyZWRlbnRpYWwgZmFpbGVkOiBleHBlY3RlZCAyIGFyZ3VtZW50cyAodGhlIE9BdXRoIGFjY2VzcyB0b2tlbiBhbmQgc2VjcmV0KS5cIik7XG4gICAgcmV0dXJuIG5ldyBMZyhcInR3aXR0ZXIuY29tXCIsIGMsIFwidHdpdHRlci5jb21cIik7XG4gIH1cblxuICBmdW5jdGlvbiBaZyhhLCBiLCBjKSB7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmYgPSBiO1xuICAgIE0odGhpcywgXCJwcm92aWRlcklkXCIsIFwicGFzc3dvcmRcIik7XG4gICAgTSh0aGlzLCBcInNpZ25Jbk1ldGhvZFwiLCBjID09PSAkZy5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EID8gJGcuRU1BSUxfTElOS19TSUdOX0lOX01FVEhPRCA6ICRnLkVNQUlMX1BBU1NXT1JEX1NJR05fSU5fTUVUSE9EKTtcbiAgfVxuXG4gIFpnLnByb3RvdHlwZS5qYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbkluTWV0aG9kID09ICRnLkVNQUlMX0xJTktfU0lHTl9JTl9NRVRIT0QgPyBPKGEsIGFoLCB7XG4gICAgICBlbWFpbDogdGhpcy5hLFxuICAgICAgb29iQ29kZTogdGhpcy5mXG4gICAgfSkgOiBPKGEsIGJoLCB7XG4gICAgICBlbWFpbDogdGhpcy5hLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuZlxuICAgIH0pO1xuICB9O1xuXG4gIFpnLnByb3RvdHlwZS5iID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gdGhpcy5zaWduSW5NZXRob2QgPT0gJGcuRU1BSUxfTElOS19TSUdOX0lOX01FVEhPRCA/IE8oYSwgY2gsIHtcbiAgICAgIGlkVG9rZW46IGIsXG4gICAgICBlbWFpbDogdGhpcy5hLFxuICAgICAgb29iQ29kZTogdGhpcy5mXG4gICAgfSkgOiBPKGEsIGRoLCB7XG4gICAgICBpZFRva2VuOiBiLFxuICAgICAgZW1haWw6IHRoaXMuYSxcbiAgICAgIHBhc3N3b3JkOiB0aGlzLmZcbiAgICB9KTtcbiAgfTtcblxuICBaZy5wcm90b3R5cGUuYyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIERnKHRoaXMuamEoYSksIGIpO1xuICB9O1xuXG4gIFpnLnByb3RvdHlwZS53ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBlbWFpbDogdGhpcy5hLFxuICAgICAgcGFzc3dvcmQ6IHRoaXMuZixcbiAgICAgIHNpZ25Jbk1ldGhvZDogdGhpcy5zaWduSW5NZXRob2RcbiAgICB9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVoKGEpIHtcbiAgICByZXR1cm4gYSAmJiBhLmVtYWlsICYmIGEucGFzc3dvcmQgPyBuZXcgWmcoYS5lbWFpbCwgYS5wYXNzd29yZCwgYS5zaWduSW5NZXRob2QpIDogbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uICRnKCkge1xuICAgIE4odGhpcywge1xuICAgICAgcHJvdmlkZXJJZDogXCJwYXNzd29yZFwiLFxuICAgICAgaXNPQXV0aFByb3ZpZGVyOiAhMVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmgoYSwgYikge1xuICAgIGIgPSBnaChiKTtcbiAgICBpZiAoIWIpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgXCJJbnZhbGlkIGVtYWlsIGxpbmshXCIpO1xuICAgIHJldHVybiBuZXcgWmcoYSwgYi5jb2RlLCAkZy5FTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdoKGEpIHtcbiAgICBhID0geWcoYSk7XG4gICAgcmV0dXJuIChhID0gU2YoYSkpICYmIGEub3BlcmF0aW9uID09PSBCZiA/IGEgOiBudWxsO1xuICB9XG5cbiAgTigkZywge1xuICAgIFBST1ZJREVSX0lEOiBcInBhc3N3b3JkXCJcbiAgfSk7XG4gIE4oJGcsIHtcbiAgICBFTUFJTF9MSU5LX1NJR05fSU5fTUVUSE9EOiBcImVtYWlsTGlua1wiXG4gIH0pO1xuICBOKCRnLCB7XG4gICAgRU1BSUxfUEFTU1dPUkRfU0lHTl9JTl9NRVRIT0Q6IFwicGFzc3dvcmRcIlxuICB9KTtcblxuICBmdW5jdGlvbiBoaChhKSB7XG4gICAgaWYgKCEoYS5jYiAmJiBhLmJiIHx8IGEuTGEgJiYgYS5lYSkpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgdGhpcy5hID0gYTtcbiAgICBNKHRoaXMsIFwicHJvdmlkZXJJZFwiLCBcInBob25lXCIpO1xuICAgIHRoaXMuZmEgPSBcInBob25lXCI7XG4gICAgTSh0aGlzLCBcInNpZ25Jbk1ldGhvZFwiLCBcInBob25lXCIpO1xuICB9XG5cbiAgaGgucHJvdG90eXBlLmphID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYS5lYihpaCh0aGlzKSk7XG4gIH07XG5cbiAgaGgucHJvdG90eXBlLmIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gaWgodGhpcyk7XG4gICAgYy5pZFRva2VuID0gYjtcbiAgICByZXR1cm4gTyhhLCBqaCwgYyk7XG4gIH07XG5cbiAgaGgucHJvdG90eXBlLmMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gaWgodGhpcyk7XG4gICAgYy5vcGVyYXRpb24gPSBcIlJFQVVUSFwiO1xuICAgIGEgPSBPKGEsIGtoLCBjKTtcbiAgICByZXR1cm4gRGcoYSwgYik7XG4gIH07XG5cbiAgaGgucHJvdG90eXBlLncgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSB7XG4gICAgICBwcm92aWRlcklkOiBcInBob25lXCJcbiAgICB9O1xuICAgIHRoaXMuYS5jYiAmJiAoYS52ZXJpZmljYXRpb25JZCA9IHRoaXMuYS5jYik7XG4gICAgdGhpcy5hLmJiICYmIChhLnZlcmlmaWNhdGlvbkNvZGUgPSB0aGlzLmEuYmIpO1xuICAgIHRoaXMuYS5MYSAmJiAoYS50ZW1wb3JhcnlQcm9vZiA9IHRoaXMuYS5MYSk7XG4gICAgdGhpcy5hLmVhICYmIChhLnBob25lTnVtYmVyID0gdGhpcy5hLmVhKTtcbiAgICByZXR1cm4gYTtcbiAgfTtcblxuICBmdW5jdGlvbiBsaChhKSB7XG4gICAgaWYgKGEgJiYgXCJwaG9uZVwiID09PSBhLnByb3ZpZGVySWQgJiYgKGEudmVyaWZpY2F0aW9uSWQgJiYgYS52ZXJpZmljYXRpb25Db2RlIHx8IGEudGVtcG9yYXJ5UHJvb2YgJiYgYS5waG9uZU51bWJlcikpIHtcbiAgICAgIHZhciBiID0ge307XG4gICAgICB3KFtcInZlcmlmaWNhdGlvbklkXCIsIFwidmVyaWZpY2F0aW9uQ29kZVwiLCBcInRlbXBvcmFyeVByb29mXCIsIFwicGhvbmVOdW1iZXJcIl0sIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIGFbY10gJiYgKGJbY10gPSBhW2NdKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBoaChiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGloKGEpIHtcbiAgICByZXR1cm4gYS5hLkxhICYmIGEuYS5lYSA/IHtcbiAgICAgIHRlbXBvcmFyeVByb29mOiBhLmEuTGEsXG4gICAgICBwaG9uZU51bWJlcjogYS5hLmVhXG4gICAgfSA6IHtcbiAgICAgIHNlc3Npb25JbmZvOiBhLmEuY2IsXG4gICAgICBjb2RlOiBhLmEuYmJcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gbWgoYSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmEgPSBhIHx8IGZpcmViYXNlLmF1dGgoKTtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFwiRWl0aGVyIGFuIGluc3RhbmNlIG9mIGZpcmViYXNlLmF1dGguQXV0aCBtdXN0IGJlIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgZmlyZWJhc2UuYXV0aC5QaG9uZUF1dGhQcm92aWRlciBjb25zdHJ1Y3Rvciwgb3IgdGhlIGRlZmF1bHQgZmlyZWJhc2UgQXBwIGluc3RhbmNlIG11c3QgYmUgaW5pdGlhbGl6ZWQgdmlhIGZpcmViYXNlLmluaXRpYWxpemVBcHAoKS5cIik7XG4gICAgfVxuXG4gICAgTih0aGlzLCB7XG4gICAgICBwcm92aWRlcklkOiBcInBob25lXCIsXG4gICAgICBpc09BdXRoUHJvdmlkZXI6ICExXG4gICAgfSk7XG4gIH1cblxuICBtaC5wcm90b3R5cGUuZWIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcy5hLmE7XG4gICAgcmV0dXJuIEUoYi52ZXJpZnkoKSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBkKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFwiQW4gaW1wbGVtZW50YXRpb24gb2YgZmlyZWJhc2UuYXV0aC5BcHBsaWNhdGlvblZlcmlmaWVyLnByb3RvdHlwZS52ZXJpZnkoKSBtdXN0IHJldHVybiBhIGZpcmViYXNlLlByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIGEgc3RyaW5nLlwiKTtcblxuICAgICAgc3dpdGNoIChiLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInJlY2FwdGNoYVwiOlxuICAgICAgICAgIHZhciBlID0gbShhKSA/IGEuc2Vzc2lvbiA6IG51bGwsXG4gICAgICAgICAgICAgIGYgPSBtKGEpID8gYS5waG9uZU51bWJlciA6IGEsXG4gICAgICAgICAgICAgIGc7XG4gICAgICAgICAgZSAmJiBlLnR5cGUgPT0gQWcgPyBnID0gZS5IYSgpLnRoZW4oZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIHJldHVybiBuaChjLCB7XG4gICAgICAgICAgICAgIGlkVG9rZW46IGgsXG4gICAgICAgICAgICAgIHBob25lRW5yb2xsbWVudEluZm86IHtcbiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogZixcbiAgICAgICAgICAgICAgICByZWNhcHRjaGFUb2tlbjogZFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSA6IGUgJiYgZS50eXBlID09IEJnID8gZyA9IGUuSGEoKS50aGVuKGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgICByZXR1cm4gb2goYywge1xuICAgICAgICAgICAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogaCxcbiAgICAgICAgICAgICAgbWZhRW5yb2xsbWVudElkOiBhLm11bHRpRmFjdG9ySGludCAmJiBhLm11bHRpRmFjdG9ySGludC51aWQgfHwgYS5tdWx0aUZhY3RvclVpZCxcbiAgICAgICAgICAgICAgcGhvbmVTaWduSW5JbmZvOiB7XG4gICAgICAgICAgICAgICAgcmVjYXB0Y2hhVG9rZW46IGRcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkgOiBnID0gcGgoYywge1xuICAgICAgICAgICAgcGhvbmVOdW1iZXI6IGYsXG4gICAgICAgICAgICByZWNhcHRjaGFUb2tlbjogZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBnLnRoZW4oZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGIucmVzZXQgJiYgYi5yZXNldCgpO1xuICAgICAgICAgICAgcmV0dXJuIGg7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGIucmVzZXQgJiYgYi5yZXNldCgpO1xuICAgICAgICAgICAgdGhyb3cgaDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgJ09ubHkgZmlyZWJhc2UuYXV0aC5BcHBsaWNhdGlvblZlcmlmaWVycyB3aXRoIHR5cGU9XCJyZWNhcHRjaGFcIiBhcmUgY3VycmVudGx5IHN1cHBvcnRlZC4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBxaChhLCBiKSB7XG4gICAgaWYgKCFhKSB0aHJvdyBuZXcgdChcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIpO1xuICAgIGlmICghYikgdGhyb3cgbmV3IHQoXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCIpO1xuICAgIHJldHVybiBuZXcgaGgoe1xuICAgICAgY2I6IGEsXG4gICAgICBiYjogYlxuICAgIH0pO1xuICB9XG5cbiAgTihtaCwge1xuICAgIFBST1ZJREVSX0lEOiBcInBob25lXCJcbiAgfSk7XG4gIE4obWgsIHtcbiAgICBQSE9ORV9TSUdOX0lOX01FVEhPRDogXCJwaG9uZVwiXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHJoKGEpIHtcbiAgICBpZiAoYS50ZW1wb3JhcnlQcm9vZiAmJiBhLnBob25lTnVtYmVyKSByZXR1cm4gbmV3IGhoKHtcbiAgICAgIExhOiBhLnRlbXBvcmFyeVByb29mLFxuICAgICAgZWE6IGEucGhvbmVOdW1iZXJcbiAgICB9KTtcbiAgICB2YXIgYiA9IGEgJiYgYS5wcm92aWRlcklkO1xuICAgIGlmICghYiB8fCBcInBhc3N3b3JkXCIgPT09IGIpIHJldHVybiBudWxsO1xuICAgIHZhciBjID0gYSAmJiBhLm9hdXRoQWNjZXNzVG9rZW4sXG4gICAgICAgIGQgPSBhICYmIGEub2F1dGhUb2tlblNlY3JldCxcbiAgICAgICAgZSA9IGEgJiYgYS5ub25jZSxcbiAgICAgICAgZiA9IGEgJiYgYS5vYXV0aElkVG9rZW4sXG4gICAgICAgIGcgPSBhICYmIGEucGVuZGluZ1Rva2VuO1xuXG4gICAgdHJ5IHtcbiAgICAgIHN3aXRjaCAoYikge1xuICAgICAgICBjYXNlIFwiZ29vZ2xlLmNvbVwiOlxuICAgICAgICAgIHJldHVybiBXZyhmLCBjKTtcblxuICAgICAgICBjYXNlIFwiZmFjZWJvb2suY29tXCI6XG4gICAgICAgICAgcmV0dXJuIFNnKGMpO1xuXG4gICAgICAgIGNhc2UgXCJnaXRodWIuY29tXCI6XG4gICAgICAgICAgcmV0dXJuIFVnKGMpO1xuXG4gICAgICAgIGNhc2UgXCJ0d2l0dGVyLmNvbVwiOlxuICAgICAgICAgIHJldHVybiBZZyhjLCBkKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBjIHx8IGQgfHwgZiB8fCBnID8gZyA/IDAgPT0gYi5pbmRleE9mKFwic2FtbC5cIikgPyBuZXcgRmcoYiwgZykgOiBuZXcgTGcoYiwge1xuICAgICAgICAgICAgcGVuZGluZ1Rva2VuOiBnLFxuICAgICAgICAgICAgaWRUb2tlbjogYS5vYXV0aElkVG9rZW4sXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogYS5vYXV0aEFjY2Vzc1Rva2VuXG4gICAgICAgICAgfSwgYikgOiBuZXcgUWcoYikuY3JlZGVudGlhbCh7XG4gICAgICAgICAgICBpZFRva2VuOiBmLFxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGMsXG4gICAgICAgICAgICByYXdOb25jZTogZVxuICAgICAgICAgIH0pIDogbnVsbDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaChhKSB7XG4gICAgaWYgKCFhLmlzT0F1dGhQcm92aWRlcikgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLW9hdXRoLXByb3ZpZGVyXCIpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIHRoKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHtcbiAgICB0aGlzLmMgPSBhO1xuICAgIHRoaXMuYiA9IGIgfHwgbnVsbDtcbiAgICB0aGlzLmcgPSBjIHx8IG51bGw7XG4gICAgdGhpcy5mID0gZCB8fCBudWxsO1xuICAgIHRoaXMuaSA9IGYgfHwgbnVsbDtcbiAgICB0aGlzLmggPSBnIHx8IG51bGw7XG4gICAgdGhpcy5hID0gZSB8fCBudWxsO1xuXG4gICAgaWYgKHRoaXMuZyB8fCB0aGlzLmEpIHtcbiAgICAgIGlmICh0aGlzLmcgJiYgdGhpcy5hKSB0aHJvdyBuZXcgdChcImludmFsaWQtYXV0aC1ldmVudFwiKTtcbiAgICAgIGlmICh0aGlzLmcgJiYgIXRoaXMuZikgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7XG4gICAgfSBlbHNlIHRocm93IG5ldyB0KFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpO1xuICB9XG5cbiAgdGgucHJvdG90eXBlLmdldFVpZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IFtdO1xuICAgIGEucHVzaCh0aGlzLmMpO1xuICAgIHRoaXMuYiAmJiBhLnB1c2godGhpcy5iKTtcbiAgICB0aGlzLmYgJiYgYS5wdXNoKHRoaXMuZik7XG4gICAgdGhpcy5oICYmIGEucHVzaCh0aGlzLmgpO1xuICAgIHJldHVybiBhLmpvaW4oXCItXCIpO1xuICB9O1xuXG4gIHRoLnByb3RvdHlwZS5TID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmg7XG4gIH07XG5cbiAgdGgucHJvdG90eXBlLncgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHRoaXMuYyxcbiAgICAgIGV2ZW50SWQ6IHRoaXMuYixcbiAgICAgIHVybFJlc3BvbnNlOiB0aGlzLmcsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuZixcbiAgICAgIHBvc3RCb2R5OiB0aGlzLmksXG4gICAgICB0ZW5hbnRJZDogdGhpcy5oLFxuICAgICAgZXJyb3I6IHRoaXMuYSAmJiB0aGlzLmEudygpXG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB1aChhKSB7XG4gICAgYSA9IGEgfHwge307XG4gICAgcmV0dXJuIGEudHlwZSA/IG5ldyB0aChhLnR5cGUsIGEuZXZlbnRJZCwgYS51cmxSZXNwb25zZSwgYS5zZXNzaW9uSWQsIGEuZXJyb3IgJiYgQWEoYS5lcnJvciksIGEucG9zdEJvZHksIGEudGVuYW50SWQpIDogbnVsbDtcbiAgfVxuXG4gIDtcbiAgLypcbiAgQ29weXJpZ2h0IDIwMTggR29vZ2xlIEluYy5cbiAgTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAgKi9cblxuICBmdW5jdGlvbiB2aCgpIHtcbiAgICB0aGlzLmIgPSBudWxsO1xuICAgIHRoaXMuYSA9IFtdO1xuICB9XG5cbiAgdmFyIHdoID0gbnVsbDtcblxuICBmdW5jdGlvbiB4aChhKSB7XG4gICAgdmFyIGIgPSB3aDtcbiAgICBiLmEucHVzaChhKTtcbiAgICBiLmIgfHwgKGIuYiA9IGZ1bmN0aW9uIChjKSB7XG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGIuYS5sZW5ndGg7IGQrKykge1xuICAgICAgICBiLmFbZF0oYyk7XG4gICAgICB9XG4gICAgfSwgYSA9IEwoXCJ1bml2ZXJzYWxMaW5rcy5zdWJzY3JpYmVcIiwgbCksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGEgJiYgYShudWxsLCBiLmIpKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiB5aChhKSB7XG4gICAgdmFyIGIgPSBcInVuYXV0aG9yaXplZC1kb21haW5cIixcbiAgICAgICAgYyA9IHZvaWQgMCxcbiAgICAgICAgZCA9IGJlKGEpO1xuICAgIGEgPSBkLmE7XG4gICAgZCA9IGQuZjtcbiAgICBcImNocm9tZS1leHRlbnNpb25cIiA9PSBkID8gYyA9IFFiKFwiVGhpcyBjaHJvbWUgZXh0ZW5zaW9uIElEIChjaHJvbWUtZXh0ZW5zaW9uOi8vJXMpIGlzIG5vdCBhdXRob3JpemVkIHRvIHJ1biB0aGlzIG9wZXJhdGlvbi4gQWRkIGl0IHRvIHRoZSBPQXV0aCByZWRpcmVjdCBkb21haW5zIGxpc3QgaW4gdGhlIEZpcmViYXNlIGNvbnNvbGUgLT4gQXV0aCBzZWN0aW9uIC0+IFNpZ24gaW4gbWV0aG9kIHRhYi5cIiwgYSkgOiBcImh0dHBcIiA9PSBkIHx8IFwiaHR0cHNcIiA9PSBkID8gYyA9IFFiKFwiVGhpcyBkb21haW4gKCVzKSBpcyBub3QgYXV0aG9yaXplZCB0byBydW4gdGhpcyBvcGVyYXRpb24uIEFkZCBpdCB0byB0aGUgT0F1dGggcmVkaXJlY3QgZG9tYWlucyBsaXN0IGluIHRoZSBGaXJlYmFzZSBjb25zb2xlIC0+IEF1dGggc2VjdGlvbiAtPiBTaWduIGluIG1ldGhvZCB0YWIuXCIsIGEpIDogYiA9IFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiO1xuICAgIHQuY2FsbCh0aGlzLCBiLCBjKTtcbiAgfVxuXG4gIHIoeWgsIHQpO1xuXG4gIGZ1bmN0aW9uIHpoKGEsIGIsIGMpIHtcbiAgICB0LmNhbGwodGhpcywgYSwgYyk7XG4gICAgYSA9IGIgfHwge307XG4gICAgYS5JYiAmJiBNKHRoaXMsIFwiZW1haWxcIiwgYS5JYik7XG4gICAgYS5lYSAmJiBNKHRoaXMsIFwicGhvbmVOdW1iZXJcIiwgYS5lYSk7XG4gICAgYS5jcmVkZW50aWFsICYmIE0odGhpcywgXCJjcmVkZW50aWFsXCIsIGEuY3JlZGVudGlhbCk7XG4gICAgYS5ZYiAmJiBNKHRoaXMsIFwidGVuYW50SWRcIiwgYS5ZYik7XG4gIH1cblxuICByKHpoLCB0KTtcblxuICB6aC5wcm90b3R5cGUudyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHtcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZVxuICAgIH07XG4gICAgdGhpcy5lbWFpbCAmJiAoYS5lbWFpbCA9IHRoaXMuZW1haWwpO1xuICAgIHRoaXMucGhvbmVOdW1iZXIgJiYgKGEucGhvbmVOdW1iZXIgPSB0aGlzLnBob25lTnVtYmVyKTtcbiAgICB0aGlzLnRlbmFudElkICYmIChhLnRlbmFudElkID0gdGhpcy50ZW5hbnRJZCk7XG4gICAgdmFyIGIgPSB0aGlzLmNyZWRlbnRpYWwgJiYgdGhpcy5jcmVkZW50aWFsLncoKTtcbiAgICBiICYmIHooYSwgYik7XG4gICAgcmV0dXJuIGE7XG4gIH07XG5cbiAgemgucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy53KCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQWgoYSkge1xuICAgIGlmIChhLmNvZGUpIHtcbiAgICAgIHZhciBiID0gYS5jb2RlIHx8IFwiXCI7XG4gICAgICAwID09IGIuaW5kZXhPZih5YSkgJiYgKGIgPSBiLnN1YnN0cmluZyh5YS5sZW5ndGgpKTtcbiAgICAgIHZhciBjID0ge1xuICAgICAgICBjcmVkZW50aWFsOiByaChhKSxcbiAgICAgICAgWWI6IGEudGVuYW50SWRcbiAgICAgIH07XG4gICAgICBpZiAoYS5lbWFpbCkgYy5JYiA9IGEuZW1haWw7ZWxzZSBpZiAoYS5waG9uZU51bWJlcikgYy5lYSA9IGEucGhvbmVOdW1iZXI7ZWxzZSBpZiAoIWMuY3JlZGVudGlhbCkgcmV0dXJuIG5ldyB0KGIsIGEubWVzc2FnZSB8fCB2b2lkIDApO1xuICAgICAgcmV0dXJuIG5ldyB6aChiLCBjLCBhLm1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIEJoKCkge31cblxuICBCaC5wcm90b3R5cGUuYyA9IG51bGw7XG5cbiAgZnVuY3Rpb24gQ2goYSkge1xuICAgIHJldHVybiBhLmMgfHwgKGEuYyA9IGEuYigpKTtcbiAgfVxuXG4gIDtcbiAgdmFyIERoO1xuXG4gIGZ1bmN0aW9uIEVoKCkge31cblxuICByKEVoLCBCaCk7XG5cbiAgRWgucHJvdG90eXBlLmEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSBGaCh0aGlzKTtcbiAgICByZXR1cm4gYSA/IG5ldyBBY3RpdmVYT2JqZWN0KGEpIDogbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gIH07XG5cbiAgRWgucHJvdG90eXBlLmIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSB7fTtcbiAgICBGaCh0aGlzKSAmJiAoYVswXSA9ICEwLCBhWzFdID0gITApO1xuICAgIHJldHVybiBhO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEZoKGEpIHtcbiAgICBpZiAoIWEuZiAmJiBcInVuZGVmaW5lZFwiID09IHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAmJiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBBY3RpdmVYT2JqZWN0KSB7XG4gICAgICBmb3IgKHZhciBiID0gW1wiTVNYTUwyLlhNTEhUVFAuNi4wXCIsIFwiTVNYTUwyLlhNTEhUVFAuMy4wXCIsIFwiTVNYTUwyLlhNTEhUVFBcIiwgXCJNaWNyb3NvZnQuWE1MSFRUUFwiXSwgYyA9IDA7IGMgPCBiLmxlbmd0aDsgYysrKSB7XG4gICAgICAgIHZhciBkID0gYltjXTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdChkKSwgYS5mID0gZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cblxuICAgICAgdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIEFjdGl2ZVhPYmplY3QuIEFjdGl2ZVggbWlnaHQgYmUgZGlzYWJsZWQsIG9yIE1TWE1MIG1pZ2h0IG5vdCBiZSBpbnN0YWxsZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEuZjtcbiAgfVxuXG4gIERoID0gbmV3IEVoKCk7XG5cbiAgZnVuY3Rpb24gR2goKSB7fVxuXG4gIHIoR2gsIEJoKTtcblxuICBHaC5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIGlmIChcIndpdGhDcmVkZW50aWFsc1wiIGluIGEpIHJldHVybiBhO1xuICAgIGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBYRG9tYWluUmVxdWVzdCkgcmV0dXJuIG5ldyBIaCgpO1xuICAgIHRocm93IEVycm9yKFwiVW5zdXBwb3J0ZWQgYnJvd3NlclwiKTtcbiAgfTtcblxuICBHaC5wcm90b3R5cGUuYiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge307XG4gIH07XG5cbiAgZnVuY3Rpb24gSGgoKSB7XG4gICAgdGhpcy5hID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG4gICAgdGhpcy5yZWFkeVN0YXRlID0gMDtcbiAgICB0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgdGhpcy5yZXNwb25zZVR5cGUgPSB0aGlzLnJlc3BvbnNlVGV4dCA9IHRoaXMucmVzcG9uc2UgPSBcIlwiO1xuICAgIHRoaXMuc3RhdHVzID0gLTE7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gXCJcIjtcbiAgICB0aGlzLmEub25sb2FkID0gcSh0aGlzLnBjLCB0aGlzKTtcbiAgICB0aGlzLmEub25lcnJvciA9IHEodGhpcy5SYiwgdGhpcyk7XG4gICAgdGhpcy5hLm9ucHJvZ3Jlc3MgPSBxKHRoaXMucWMsIHRoaXMpO1xuICAgIHRoaXMuYS5vbnRpbWVvdXQgPSBxKHRoaXMudWMsIHRoaXMpO1xuICB9XG5cbiAgayA9IEhoLnByb3RvdHlwZTtcblxuICBrLm9wZW4gPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIGlmIChudWxsICE9IGMgJiYgIWMpIHRocm93IEVycm9yKFwiT25seSBhc3luYyByZXF1ZXN0cyBhcmUgc3VwcG9ydGVkLlwiKTtcbiAgICB0aGlzLmEub3BlbihhLCBiKTtcbiAgfTtcblxuICBrLnNlbmQgPSBmdW5jdGlvbiAoYSkge1xuICAgIGlmIChhKSB7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgYSkgdGhpcy5hLnNlbmQoYSk7ZWxzZSB0aHJvdyBFcnJvcihcIk9ubHkgc3RyaW5nIGRhdGEgaXMgc3VwcG9ydGVkXCIpO1xuICAgIH0gZWxzZSB0aGlzLmEuc2VuZCgpO1xuICB9O1xuXG4gIGsuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5hLmFib3J0KCk7XG4gIH07XG5cbiAgay5zZXRSZXF1ZXN0SGVhZGVyID0gZnVuY3Rpb24gKCkge307XG5cbiAgay5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIFwiY29udGVudC10eXBlXCIgPT0gYS50b0xvd2VyQ2FzZSgpID8gdGhpcy5hLmNvbnRlbnRUeXBlIDogXCJcIjtcbiAgfTtcblxuICBrLnBjID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuc3RhdHVzID0gMjAwO1xuICAgIHRoaXMucmVzcG9uc2UgPSB0aGlzLnJlc3BvbnNlVGV4dCA9IHRoaXMuYS5yZXNwb25zZVRleHQ7XG4gICAgSWgodGhpcywgNCk7XG4gIH07XG5cbiAgay5SYiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0YXR1cyA9IDUwMDtcbiAgICB0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBcIlwiO1xuICAgIEloKHRoaXMsIDQpO1xuICB9O1xuXG4gIGsudWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5SYigpO1xuICB9O1xuXG4gIGsucWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zdGF0dXMgPSAyMDA7XG4gICAgSWgodGhpcywgMSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gSWgoYSwgYikge1xuICAgIGEucmVhZHlTdGF0ZSA9IGI7XG4gICAgaWYgKGEub25yZWFkeXN0YXRlY2hhbmdlKSBhLm9ucmVhZHlzdGF0ZWNoYW5nZSgpO1xuICB9XG5cbiAgay5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiY29udGVudC10eXBlOiBcIiArIHRoaXMuYS5jb250ZW50VHlwZTtcbiAgfTtcblxuICBmdW5jdGlvbiBKaChhLCBiLCBjKSB7XG4gICAgdGhpcy5yZXNldChhLCBiLCBjLCB2b2lkIDAsIHZvaWQgMCk7XG4gIH1cblxuICBKaC5wcm90b3R5cGUuYSA9IG51bGw7XG4gIHZhciBLaCA9IDA7XG5cbiAgSmgucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHtcbiAgICBcIm51bWJlclwiID09IHR5cGVvZiBlIHx8IEtoKys7XG4gICAgZCB8fCB2YSgpO1xuICAgIGRlbGV0ZSB0aGlzLmE7XG4gIH07XG5cbiAgZnVuY3Rpb24gTGgoYSkge1xuICAgIHRoaXMuZiA9IGE7XG4gICAgdGhpcy5iID0gdGhpcy5jID0gdGhpcy5hID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIE1oKGEsIGIpIHtcbiAgICB0aGlzLm5hbWUgPSBhO1xuICAgIHRoaXMudmFsdWUgPSBiO1xuICB9XG5cbiAgTWgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG5cbiAgdmFyIE5oID0gbmV3IE1oKFwiU0VWRVJFXCIsIDFFMyksXG4gICAgICBPaCA9IG5ldyBNaChcIldBUk5JTkdcIiwgOTAwKSxcbiAgICAgIFBoID0gbmV3IE1oKFwiQ09ORklHXCIsIDcwMCksXG4gICAgICBRaCA9IG5ldyBNaChcIkZJTkVcIiwgNTAwKTtcblxuICBmdW5jdGlvbiBSaChhKSB7XG4gICAgaWYgKGEuYykgcmV0dXJuIGEuYztcbiAgICBpZiAoYS5hKSByZXR1cm4gUmgoYS5hKTtcbiAgICBHYShcIlJvb3QgbG9nZ2VyIGhhcyBubyBsZXZlbCBzZXQuXCIpO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgTGgucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgaWYgKGEudmFsdWUgPj0gUmgodGhpcykudmFsdWUpIGZvciAob2EoYikgJiYgKGIgPSBiKCkpLCBhID0gbmV3IEpoKGEsIFN0cmluZyhiKSwgdGhpcy5mKSwgYyAmJiAoYS5hID0gYyksIGMgPSB0aGlzOyBjOykge1xuICAgICAgYyA9IGMuYTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIFNoID0ge30sXG4gICAgICBUaCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gVWgoYSkge1xuICAgIFRoIHx8IChUaCA9IG5ldyBMaChcIlwiKSwgU2hbXCJcIl0gPSBUaCwgVGguYyA9IFBoKTtcbiAgICB2YXIgYjtcblxuICAgIGlmICghKGIgPSBTaFthXSkpIHtcbiAgICAgIGIgPSBuZXcgTGgoYSk7XG4gICAgICB2YXIgYyA9IGEubGFzdEluZGV4T2YoXCIuXCIpLFxuICAgICAgICAgIGQgPSBhLnN1YnN0cihjICsgMSk7XG4gICAgICBjID0gVWgoYS5zdWJzdHIoMCwgYykpO1xuICAgICAgYy5iIHx8IChjLmIgPSB7fSk7XG4gICAgICBjLmJbZF0gPSBiO1xuICAgICAgYi5hID0gYztcbiAgICAgIFNoW2FdID0gYjtcbiAgICB9XG5cbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBWaChhLCBiKSB7XG4gICAgYSAmJiBhLmxvZyhRaCwgYiwgdm9pZCAwKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBXaChhKSB7XG4gICAgdGhpcy5mID0gYTtcbiAgfVxuXG4gIHIoV2gsIEJoKTtcblxuICBXaC5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IFhoKHRoaXMuZik7XG4gIH07XG5cbiAgV2gucHJvdG90eXBlLmIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYTtcbiAgICB9O1xuICB9KHt9KTtcblxuICBmdW5jdGlvbiBYaChhKSB7XG4gICAgSS5jYWxsKHRoaXMpO1xuICAgIHRoaXMudSA9IGE7XG4gICAgdGhpcy5oID0gdm9pZCAwO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFloO1xuICAgIHRoaXMuc3RhdHVzID0gMDtcbiAgICB0aGlzLnJlc3BvbnNlVHlwZSA9IHRoaXMucmVzcG9uc2VUZXh0ID0gdGhpcy5yZXNwb25zZSA9IHRoaXMuc3RhdHVzVGV4dCA9IFwiXCI7XG4gICAgdGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgIHRoaXMubCA9IG5ldyBIZWFkZXJzKCk7XG4gICAgdGhpcy5iID0gbnVsbDtcbiAgICB0aGlzLm8gPSBcIkdFVFwiO1xuICAgIHRoaXMuZiA9IFwiXCI7XG4gICAgdGhpcy5hID0gITE7XG4gICAgdGhpcy5pID0gVWgoXCJnb29nLm5ldC5GZXRjaFhtbEh0dHBcIik7XG4gICAgdGhpcy5tID0gdGhpcy5jID0gdGhpcy5nID0gbnVsbDtcbiAgfVxuXG4gIHIoWGgsIEkpO1xuICB2YXIgWWggPSAwO1xuICBrID0gWGgucHJvdG90eXBlO1xuXG4gIGsub3BlbiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPSBZaCkgdGhyb3cgdGhpcy5hYm9ydCgpLCBFcnJvcihcIkVycm9yIHJlb3BlbmluZyBhIGNvbm5lY3Rpb25cIik7XG4gICAgdGhpcy5vID0gYTtcbiAgICB0aGlzLmYgPSBiO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IDE7XG4gICAgWmgodGhpcyk7XG4gIH07XG5cbiAgay5zZW5kID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoMSAhPSB0aGlzLnJlYWR5U3RhdGUpIHRocm93IHRoaXMuYWJvcnQoKSwgRXJyb3IoXCJuZWVkIHRvIGNhbGwgb3BlbigpIGZpcnN0LiBcIik7XG4gICAgdGhpcy5hID0gITA7XG4gICAgdmFyIGIgPSB7XG4gICAgICBoZWFkZXJzOiB0aGlzLmwsXG4gICAgICBtZXRob2Q6IHRoaXMubyxcbiAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLmgsXG4gICAgICBjYWNoZTogdm9pZCAwXG4gICAgfTtcbiAgICBhICYmIChiLmJvZHkgPSBhKTtcbiAgICB0aGlzLnUuZmV0Y2gobmV3IFJlcXVlc3QodGhpcy5mLCBiKSkudGhlbih0aGlzLnRjLmJpbmQodGhpcyksIHRoaXMuVGEuYmluZCh0aGlzKSk7XG4gIH07XG5cbiAgay5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBcIlwiO1xuICAgIHRoaXMubCA9IG5ldyBIZWFkZXJzKCk7XG4gICAgdGhpcy5zdGF0dXMgPSAwO1xuICAgIHRoaXMuYyAmJiB0aGlzLmMuY2FuY2VsKFwiUmVxdWVzdCB3YXMgYWJvcnRlZC5cIik7XG4gICAgMSA8PSB0aGlzLnJlYWR5U3RhdGUgJiYgdGhpcy5hICYmIDQgIT0gdGhpcy5yZWFkeVN0YXRlICYmICh0aGlzLmEgPSAhMSwgJGgodGhpcykpO1xuICAgIHRoaXMucmVhZHlTdGF0ZSA9IFloO1xuICB9O1xuXG4gIGsudGMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuYSAmJiAodGhpcy5nID0gYSwgdGhpcy5iIHx8ICh0aGlzLnN0YXR1cyA9IHRoaXMuZy5zdGF0dXMsIHRoaXMuc3RhdHVzVGV4dCA9IHRoaXMuZy5zdGF0dXNUZXh0LCB0aGlzLmIgPSBhLmhlYWRlcnMsIHRoaXMucmVhZHlTdGF0ZSA9IDIsIFpoKHRoaXMpKSwgdGhpcy5hICYmICh0aGlzLnJlYWR5U3RhdGUgPSAzLCBaaCh0aGlzKSwgdGhpcy5hICYmIChcImFycmF5YnVmZmVyXCIgPT09IHRoaXMucmVzcG9uc2VUeXBlID8gYS5hcnJheUJ1ZmZlcigpLnRoZW4odGhpcy5yYy5iaW5kKHRoaXMpLCB0aGlzLlRhLmJpbmQodGhpcykpIDogXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGwuUmVhZGFibGVTdHJlYW0gJiYgXCJib2R5XCIgaW4gYSA/ICh0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgPSBcIlwiLCB0aGlzLmMgPSBhLmJvZHkuZ2V0UmVhZGVyKCksIHRoaXMubSA9IG5ldyBUZXh0RGVjb2RlcigpLCBhaSh0aGlzKSkgOiBhLnRleHQoKS50aGVuKHRoaXMuc2MuYmluZCh0aGlzKSwgdGhpcy5UYS5iaW5kKHRoaXMpKSkpKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhaShhKSB7XG4gICAgYS5jLnJlYWQoKS50aGVuKGEub2MuYmluZChhKSkuY2F0Y2goYS5UYS5iaW5kKGEpKTtcbiAgfVxuXG4gIGsub2MgPSBmdW5jdGlvbiAoYSkge1xuICAgIGlmICh0aGlzLmEpIHtcbiAgICAgIHZhciBiID0gdGhpcy5tLmRlY29kZShhLnZhbHVlID8gYS52YWx1ZSA6IG5ldyBVaW50OEFycmF5KDApLCB7XG4gICAgICAgIHN0cmVhbTogIWEuZG9uZVxuICAgICAgfSk7XG4gICAgICBiICYmICh0aGlzLnJlc3BvbnNlID0gdGhpcy5yZXNwb25zZVRleHQgKz0gYik7XG4gICAgICBhLmRvbmUgPyAkaCh0aGlzKSA6IFpoKHRoaXMpO1xuICAgICAgMyA9PSB0aGlzLnJlYWR5U3RhdGUgJiYgYWkodGhpcyk7XG4gICAgfVxuICB9O1xuXG4gIGsuc2MgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuYSAmJiAodGhpcy5yZXNwb25zZSA9IHRoaXMucmVzcG9uc2VUZXh0ID0gYSwgJGgodGhpcykpO1xuICB9O1xuXG4gIGsucmMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuYSAmJiAodGhpcy5yZXNwb25zZSA9IGEsICRoKHRoaXMpKTtcbiAgfTtcblxuICBrLlRhID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IHRoaXMuaTtcbiAgICBiICYmIGIubG9nKE9oLCBcIkZhaWxlZCB0byBmZXRjaCB1cmwgXCIgKyB0aGlzLmYsIGEgaW5zdGFuY2VvZiBFcnJvciA/IGEgOiBFcnJvcihhKSk7XG4gICAgdGhpcy5hICYmICRoKHRoaXMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uICRoKGEpIHtcbiAgICBhLnJlYWR5U3RhdGUgPSA0O1xuICAgIGEuZyA9IG51bGw7XG4gICAgYS5jID0gbnVsbDtcbiAgICBhLm0gPSBudWxsO1xuICAgIFpoKGEpO1xuICB9XG5cbiAgay5zZXRSZXF1ZXN0SGVhZGVyID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB0aGlzLmwuYXBwZW5kKGEsIGIpO1xuICB9O1xuXG4gIGsuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiB0aGlzLmIgPyB0aGlzLmIuZ2V0KGEudG9Mb3dlckNhc2UoKSkgfHwgXCJcIiA6ICgoYSA9IHRoaXMuaSkgJiYgYS5sb2coT2gsIFwiQXR0ZW1wdGluZyB0byBnZXQgcmVzcG9uc2UgaGVhZGVyIGJ1dCBubyBoZWFkZXJzIGhhdmUgYmVlbiByZWNlaXZlZCBmb3IgdXJsOiBcIiArIHRoaXMuZiwgdm9pZCAwKSwgXCJcIik7XG4gIH07XG5cbiAgay5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmIpIHtcbiAgICAgIHZhciBhID0gdGhpcy5pO1xuICAgICAgYSAmJiBhLmxvZyhPaCwgXCJBdHRlbXB0aW5nIHRvIGdldCBhbGwgcmVzcG9uc2UgaGVhZGVycyBidXQgbm8gaGVhZGVycyBoYXZlIGJlZW4gcmVjZWl2ZWQgZm9yIHVybDogXCIgKyB0aGlzLmYsIHZvaWQgMCk7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICBhID0gW107XG5cbiAgICBmb3IgKHZhciBiID0gdGhpcy5iLmVudHJpZXMoKSwgYyA9IGIubmV4dCgpOyAhYy5kb25lOykge1xuICAgICAgYyA9IGMudmFsdWUsIGEucHVzaChjWzBdICsgXCI6IFwiICsgY1sxXSksIGMgPSBiLm5leHQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYS5qb2luKFwiXFxyXFxuXCIpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFpoKGEpIHtcbiAgICBhLm9ucmVhZHlzdGF0ZWNoYW5nZSAmJiBhLm9ucmVhZHlzdGF0ZWNoYW5nZS5jYWxsKGEpO1xuICB9XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFhoLnByb3RvdHlwZSwgXCJ3aXRoQ3JlZGVudGlhbHNcIiwge1xuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIFwiaW5jbHVkZVwiID09PSB0aGlzLmg7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChhKSB7XG4gICAgICB0aGlzLmggPSBhID8gXCJpbmNsdWRlXCIgOiBcInNhbWUtb3JpZ2luXCI7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBiaShhKSB7XG4gICAgSS5jYWxsKHRoaXMpO1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBJZCgpO1xuICAgIHRoaXMuTyA9IGEgfHwgbnVsbDtcbiAgICB0aGlzLmMgPSAhMTtcbiAgICB0aGlzLkEgPSB0aGlzLmEgPSBudWxsO1xuICAgIHRoaXMuaCA9IHRoaXMuUCA9IHRoaXMubCA9IFwiXCI7XG4gICAgdGhpcy5mID0gdGhpcy5OID0gdGhpcy5pID0gdGhpcy5HID0gITE7XG4gICAgdGhpcy5nID0gMDtcbiAgICB0aGlzLm8gPSBudWxsO1xuICAgIHRoaXMubSA9IGNpO1xuICAgIHRoaXMudSA9IHRoaXMuUiA9ICExO1xuICB9XG5cbiAgcihiaSwgSSk7XG4gIHZhciBjaSA9IFwiXCI7XG4gIGJpLnByb3RvdHlwZS5iID0gVWgoXCJnb29nLm5ldC5YaHJJb1wiKTtcbiAgdmFyIGRpID0gL15odHRwcz8kL2ksXG4gICAgICBlaSA9IFtcIlBPU1RcIiwgXCJQVVRcIl07XG5cbiAgZnVuY3Rpb24gZmkoYSwgYiwgYywgZCwgZSkge1xuICAgIGlmIChhLmEpIHRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiICsgYS5sICsgXCI7IG5ld1VyaT1cIiArIGIpO1xuICAgIGMgPSBjID8gYy50b1VwcGVyQ2FzZSgpIDogXCJHRVRcIjtcbiAgICBhLmwgPSBiO1xuICAgIGEuaCA9IFwiXCI7XG4gICAgYS5QID0gYztcbiAgICBhLkcgPSAhMTtcbiAgICBhLmMgPSAhMDtcbiAgICBhLmEgPSBhLk8gPyBhLk8uYSgpIDogRGguYSgpO1xuICAgIGEuQSA9IGEuTyA/IENoKGEuTykgOiBDaChEaCk7XG4gICAgYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHEoYS5VYiwgYSk7XG5cbiAgICB0cnkge1xuICAgICAgVmgoYS5iLCBnaShhLCBcIk9wZW5pbmcgWGhyXCIpKSwgYS5OID0gITAsIGEuYS5vcGVuKGMsIFN0cmluZyhiKSwgITApLCBhLk4gPSAhMTtcbiAgICB9IGNhdGNoIChnKSB7XG4gICAgICBWaChhLmIsIGdpKGEsIFwiRXJyb3Igb3BlbmluZyBYaHI6IFwiICsgZy5tZXNzYWdlKSk7XG4gICAgICBoaShhLCBnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBiID0gZCB8fCBcIlwiO1xuICAgIHZhciBmID0gbmV3IElkKGEuaGVhZGVycyk7XG4gICAgZSAmJiBIZChlLCBmdW5jdGlvbiAoZywgaCkge1xuICAgICAgZi5zZXQoaCwgZyk7XG4gICAgfSk7XG4gICAgZSA9IFRhKGYuWSgpKTtcbiAgICBkID0gbC5Gb3JtRGF0YSAmJiBiIGluc3RhbmNlb2YgbC5Gb3JtRGF0YTtcbiAgICAhVmEoZWksIGMpIHx8IGUgfHwgZCB8fCBmLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpO1xuICAgIGYuZm9yRWFjaChmdW5jdGlvbiAoZywgaCkge1xuICAgICAgdGhpcy5hLnNldFJlcXVlc3RIZWFkZXIoaCwgZyk7XG4gICAgfSwgYSk7XG4gICAgYS5tICYmIChhLmEucmVzcG9uc2VUeXBlID0gYS5tKTtcbiAgICBcIndpdGhDcmVkZW50aWFsc1wiIGluIGEuYSAmJiBhLmEud2l0aENyZWRlbnRpYWxzICE9PSBhLlIgJiYgKGEuYS53aXRoQ3JlZGVudGlhbHMgPSBhLlIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlpKGEpLCAwIDwgYS5nICYmIChhLnUgPSBqaShhLmEpLCBWaChhLmIsIGdpKGEsIFwiV2lsbCBhYm9ydCBhZnRlciBcIiArIGEuZyArIFwibXMgaWYgaW5jb21wbGV0ZSwgeGhyMiBcIiArIGEudSkpLCBhLnUgPyAoYS5hLnRpbWVvdXQgPSBhLmcsIGEuYS5vbnRpbWVvdXQgPSBxKGEuTWEsIGEpKSA6IGEubyA9IERkKGEuTWEsIGEuZywgYSkpLCBWaChhLmIsIGdpKGEsIFwiU2VuZGluZyByZXF1ZXN0XCIpKSwgYS5pID0gITAsIGEuYS5zZW5kKGIpLCBhLmkgPSAhMTtcbiAgICB9IGNhdGNoIChnKSB7XG4gICAgICBWaChhLmIsIGdpKGEsIFwiU2VuZCBlcnJvcjogXCIgKyBnLm1lc3NhZ2UpKSwgaGkoYSwgZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gamkoYSkge1xuICAgIHJldHVybiBXYiAmJiBmYyg5KSAmJiBcIm51bWJlclwiID09PSB0eXBlb2YgYS50aW1lb3V0ICYmIHZvaWQgMCAhPT0gYS5vbnRpbWVvdXQ7XG4gIH1cblxuICBmdW5jdGlvbiBVYShhKSB7XG4gICAgcmV0dXJuIFwiY29udGVudC10eXBlXCIgPT0gYS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgayA9IGJpLnByb3RvdHlwZTtcblxuICBrLk1hID0gZnVuY3Rpb24gKCkge1xuICAgIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGhhICYmIHRoaXMuYSAmJiAodGhpcy5oID0gXCJUaW1lZCBvdXQgYWZ0ZXIgXCIgKyB0aGlzLmcgKyBcIm1zLCBhYm9ydGluZ1wiLCBWaCh0aGlzLmIsIGdpKHRoaXMsIHRoaXMuaCkpLCB0aGlzLmRpc3BhdGNoRXZlbnQoXCJ0aW1lb3V0XCIpLCB0aGlzLmFib3J0KDgpKTtcbiAgfTtcblxuICBmdW5jdGlvbiBoaShhLCBiKSB7XG4gICAgYS5jID0gITE7XG4gICAgYS5hICYmIChhLmYgPSAhMCwgYS5hLmFib3J0KCksIGEuZiA9ICExKTtcbiAgICBhLmggPSBiO1xuICAgIGtpKGEpO1xuICAgIGxpKGEpO1xuICB9XG5cbiAgZnVuY3Rpb24ga2koYSkge1xuICAgIGEuRyB8fCAoYS5HID0gITAsIGEuZGlzcGF0Y2hFdmVudChcImNvbXBsZXRlXCIpLCBhLmRpc3BhdGNoRXZlbnQoXCJlcnJvclwiKSk7XG4gIH1cblxuICBrLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYSAmJiB0aGlzLmMgJiYgKFZoKHRoaXMuYiwgZ2kodGhpcywgXCJBYm9ydGluZ1wiKSksIHRoaXMuYyA9ICExLCB0aGlzLmYgPSAhMCwgdGhpcy5hLmFib3J0KCksIHRoaXMuZiA9ICExLCB0aGlzLmRpc3BhdGNoRXZlbnQoXCJjb21wbGV0ZVwiKSwgdGhpcy5kaXNwYXRjaEV2ZW50KFwiYWJvcnRcIiksIGxpKHRoaXMpKTtcbiAgfTtcblxuICBrLkRhID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYSAmJiAodGhpcy5jICYmICh0aGlzLmMgPSAhMSwgdGhpcy5mID0gITAsIHRoaXMuYS5hYm9ydCgpLCB0aGlzLmYgPSAhMSksIGxpKHRoaXMsICEwKSk7XG4gICAgYmkuJGEuRGEuY2FsbCh0aGlzKTtcbiAgfTtcblxuICBrLlViID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMueGEgfHwgKHRoaXMuTiB8fCB0aGlzLmkgfHwgdGhpcy5mID8gbWkodGhpcykgOiB0aGlzLkljKCkpO1xuICB9O1xuXG4gIGsuSWMgPSBmdW5jdGlvbiAoKSB7XG4gICAgbWkodGhpcyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWkoYSkge1xuICAgIGlmIChhLmMgJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgaGEpIGlmIChhLkFbMV0gJiYgNCA9PSBuaShhKSAmJiAyID09IG9pKGEpKSBWaChhLmIsIGdpKGEsIFwiTG9jYWwgcmVxdWVzdCBlcnJvciBkZXRlY3RlZCBhbmQgaWdub3JlZFwiKSk7ZWxzZSBpZiAoYS5pICYmIDQgPT0gbmkoYSkpIERkKGEuVWIsIDAsIGEpO2Vsc2UgaWYgKGEuZGlzcGF0Y2hFdmVudChcInJlYWR5c3RhdGVjaGFuZ2VcIiksIDQgPT0gbmkoYSkpIHtcbiAgICAgIFZoKGEuYiwgZ2koYSwgXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKTtcbiAgICAgIGEuYyA9ICExO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgYiA9IG9pKGEpO1xuXG4gICAgICAgIGE6IHN3aXRjaCAoYikge1xuICAgICAgICAgIGNhc2UgMjAwOlxuICAgICAgICAgIGNhc2UgMjAxOlxuICAgICAgICAgIGNhc2UgMjAyOlxuICAgICAgICAgIGNhc2UgMjA0OlxuICAgICAgICAgIGNhc2UgMjA2OlxuICAgICAgICAgIGNhc2UgMzA0OlxuICAgICAgICAgIGNhc2UgMTIyMzpcbiAgICAgICAgICAgIHZhciBjID0gITA7XG4gICAgICAgICAgICBicmVhayBhO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGMgPSAhMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkO1xuXG4gICAgICAgIGlmICghKGQgPSBjKSkge1xuICAgICAgICAgIHZhciBlO1xuXG4gICAgICAgICAgaWYgKGUgPSAwID09PSBiKSB7XG4gICAgICAgICAgICB2YXIgZiA9IFN0cmluZyhhLmwpLm1hdGNoKExkKVsxXSB8fCBudWxsO1xuXG4gICAgICAgICAgICBpZiAoIWYgJiYgbC5zZWxmICYmIGwuc2VsZi5sb2NhdGlvbikge1xuICAgICAgICAgICAgICB2YXIgZyA9IGwuc2VsZi5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICAgICAgICAgICAgZiA9IGcuc3Vic3RyKDAsIGcubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGUgPSAhZGkudGVzdChmID8gZi50b0xvd2VyQ2FzZSgpIDogXCJcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZCA9IGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZCkgYS5kaXNwYXRjaEV2ZW50KFwiY29tcGxldGVcIiksIGEuZGlzcGF0Y2hFdmVudChcInN1Y2Nlc3NcIik7ZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBoID0gMiA8IG5pKGEpID8gYS5hLnN0YXR1c1RleHQgOiBcIlwiO1xuICAgICAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgICAgIFZoKGEuYiwgXCJDYW4gbm90IGdldCBzdGF0dXM6IFwiICsgbi5tZXNzYWdlKSwgaCA9IFwiXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYS5oID0gaCArIFwiIFtcIiArIG9pKGEpICsgXCJdXCI7XG4gICAgICAgICAga2koYSk7XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGxpKGEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxpKGEsIGIpIHtcbiAgICBpZiAoYS5hKSB7XG4gICAgICBpaShhKTtcbiAgICAgIHZhciBjID0gYS5hLFxuICAgICAgICAgIGQgPSBhLkFbMF0gPyBsYSA6IG51bGw7XG4gICAgICBhLmEgPSBudWxsO1xuICAgICAgYS5BID0gbnVsbDtcbiAgICAgIGIgfHwgYS5kaXNwYXRjaEV2ZW50KFwicmVhZHlcIik7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGMub25yZWFkeXN0YXRlY2hhbmdlID0gZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgKGEgPSBhLmIpICYmIGEubG9nKE5oLCBcIlByb2JsZW0gZW5jb3VudGVyZWQgcmVzZXR0aW5nIG9ucmVhZHlzdGF0ZWNoYW5nZTogXCIgKyBlLm1lc3NhZ2UsIHZvaWQgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaWkoYSkge1xuICAgIGEuYSAmJiBhLnUgJiYgKGEuYS5vbnRpbWVvdXQgPSBudWxsKTtcbiAgICBhLm8gJiYgKGwuY2xlYXJUaW1lb3V0KGEubyksIGEubyA9IG51bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gbmkoYSkge1xuICAgIHJldHVybiBhLmEgPyBhLmEucmVhZHlTdGF0ZSA6IDA7XG4gIH1cblxuICBmdW5jdGlvbiBvaShhKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAyIDwgbmkoYSkgPyBhLmEuc3RhdHVzIDogLTE7XG4gICAgfSBjYXRjaCAoYikge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBpKGEpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGEuYSA/IGEuYS5yZXNwb25zZVRleHQgOiBcIlwiO1xuICAgIH0gY2F0Y2ggKGIpIHtcbiAgICAgIHJldHVybiBWaChhLmIsIFwiQ2FuIG5vdCBnZXQgcmVzcG9uc2VUZXh0OiBcIiArIGIubWVzc2FnZSksIFwiXCI7XG4gICAgfVxuICB9XG5cbiAgay5nZXRSZXNwb25zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmEpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwicmVzcG9uc2VcIiBpbiB0aGlzLmEpIHJldHVybiB0aGlzLmEucmVzcG9uc2U7XG5cbiAgICAgIHN3aXRjaCAodGhpcy5tKSB7XG4gICAgICAgIGNhc2UgY2k6XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYS5yZXNwb25zZVRleHQ7XG5cbiAgICAgICAgY2FzZSBcImFycmF5YnVmZmVyXCI6XG4gICAgICAgICAgaWYgKFwibW96UmVzcG9uc2VBcnJheUJ1ZmZlclwiIGluIHRoaXMuYSkgcmV0dXJuIHRoaXMuYS5tb3pSZXNwb25zZUFycmF5QnVmZmVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgYSA9IHRoaXMuYjtcbiAgICAgIGEgJiYgYS5sb2coTmgsIFwiUmVzcG9uc2UgdHlwZSBcIiArIHRoaXMubSArIFwiIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBicm93c2VyXCIsIHZvaWQgMCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICByZXR1cm4gVmgodGhpcy5iLCBcIkNhbiBub3QgZ2V0IHJlc3BvbnNlOiBcIiArIGIubWVzc2FnZSksIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdpKGEsIGIpIHtcbiAgICByZXR1cm4gYiArIFwiIFtcIiArIGEuUCArIFwiIFwiICsgYS5sICsgXCIgXCIgKyBvaShhKSArIFwiXVwiO1xuICB9XG5cbiAgO1xuICAvKlxuICBQb3J0aW9ucyBvZiB0aGlzIGNvZGUgYXJlIGZyb20gTW9jaGlLaXQsIHJlY2VpdmVkIGJ5XG4gIFRoZSBDbG9zdXJlIEF1dGhvcnMgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLiBBbGwgb3RoZXIgY29kZSBpcyBDb3B5cmlnaHRcbiAgMjAwNS0yMDA5IFRoZSBDbG9zdXJlIEF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gICovXG5cbiAgZnVuY3Rpb24gcWkoYSkge1xuICAgIHZhciBiID0gcmk7XG4gICAgdGhpcy5nID0gW107XG4gICAgdGhpcy51ID0gYjtcbiAgICB0aGlzLm8gPSBhIHx8IG51bGw7XG4gICAgdGhpcy5mID0gdGhpcy5hID0gITE7XG4gICAgdGhpcy5jID0gdm9pZCAwO1xuICAgIHRoaXMubSA9IHRoaXMuQSA9IHRoaXMuaSA9ICExO1xuICAgIHRoaXMuaCA9IDA7XG4gICAgdGhpcy5iID0gbnVsbDtcbiAgICB0aGlzLmwgPSAwO1xuICB9XG5cbiAgcWkucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKHRoaXMuYSkgdGhpcy5jIGluc3RhbmNlb2YgcWkgJiYgdGhpcy5jLmNhbmNlbCgpO2Vsc2Uge1xuICAgICAgaWYgKHRoaXMuYikge1xuICAgICAgICB2YXIgYiA9IHRoaXMuYjtcbiAgICAgICAgZGVsZXRlIHRoaXMuYjtcbiAgICAgICAgYSA/IGIuY2FuY2VsKGEpIDogKGIubC0tLCAwID49IGIubCAmJiBiLmNhbmNlbCgpKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy51ID8gdGhpcy51LmNhbGwodGhpcy5vLCB0aGlzKSA6IHRoaXMubSA9ICEwO1xuICAgICAgdGhpcy5hIHx8IChhID0gbmV3IHNpKHRoaXMpLCB0aSh0aGlzKSwgdWkodGhpcywgITEsIGEpKTtcbiAgICB9XG4gIH07XG5cbiAgcWkucHJvdG90eXBlLnYgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHRoaXMuaSA9ICExO1xuICAgIHVpKHRoaXMsIGEsIGIpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHVpKGEsIGIsIGMpIHtcbiAgICBhLmEgPSAhMDtcbiAgICBhLmMgPSBjO1xuICAgIGEuZiA9ICFiO1xuICAgIHZpKGEpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGkoYSkge1xuICAgIGlmIChhLmEpIHtcbiAgICAgIGlmICghYS5tKSB0aHJvdyBuZXcgd2koYSk7XG4gICAgICBhLm0gPSAhMTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB4aShhLCBiKSB7XG4gICAgeWkoYSwgbnVsbCwgYiwgdm9pZCAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHlpKGEsIGIsIGMsIGQpIHtcbiAgICBhLmcucHVzaChbYiwgYywgZF0pO1xuICAgIGEuYSAmJiB2aShhKTtcbiAgfVxuXG4gIHFpLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICB2YXIgZCxcbiAgICAgICAgZSxcbiAgICAgICAgZiA9IG5ldyBEKGZ1bmN0aW9uIChnLCBoKSB7XG4gICAgICBkID0gZztcbiAgICAgIGUgPSBoO1xuICAgIH0pO1xuICAgIHlpKHRoaXMsIGQsIGZ1bmN0aW9uIChnKSB7XG4gICAgICBnIGluc3RhbmNlb2Ygc2kgPyBmLmNhbmNlbCgpIDogZShnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZi50aGVuKGEsIGIsIGMpO1xuICB9O1xuXG4gIHFpLnByb3RvdHlwZS4kZ29vZ19UaGVuYWJsZSA9ICEwO1xuXG4gIGZ1bmN0aW9uIHppKGEpIHtcbiAgICByZXR1cm4gU2EoYS5nLCBmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIG9hKGJbMV0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdmkoYSkge1xuICAgIGlmIChhLmggJiYgYS5hICYmIHppKGEpKSB7XG4gICAgICB2YXIgYiA9IGEuaCxcbiAgICAgICAgICBjID0gQWlbYl07XG4gICAgICBjICYmIChsLmNsZWFyVGltZW91dChjLmEpLCBkZWxldGUgQWlbYl0pO1xuICAgICAgYS5oID0gMDtcbiAgICB9XG5cbiAgICBhLmIgJiYgKGEuYi5sLS0sIGRlbGV0ZSBhLmIpO1xuICAgIGIgPSBhLmM7XG5cbiAgICBmb3IgKHZhciBkID0gYyA9ICExOyBhLmcubGVuZ3RoICYmICFhLmk7KSB7XG4gICAgICB2YXIgZSA9IGEuZy5zaGlmdCgpLFxuICAgICAgICAgIGYgPSBlWzBdLFxuICAgICAgICAgIGcgPSBlWzFdO1xuICAgICAgZSA9IGVbMl07XG4gICAgICBpZiAoZiA9IGEuZiA/IGcgOiBmKSB0cnkge1xuICAgICAgICB2YXIgaCA9IGYuY2FsbChlIHx8IGEubywgYik7XG4gICAgICAgIHZvaWQgMCAhPT0gaCAmJiAoYS5mID0gYS5mICYmIChoID09IGIgfHwgaCBpbnN0YW5jZW9mIEVycm9yKSwgYS5jID0gYiA9IGgpO1xuICAgICAgICBpZiAoRWEoYikgfHwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbC5Qcm9taXNlICYmIGIgaW5zdGFuY2VvZiBsLlByb21pc2UpIGQgPSAhMCwgYS5pID0gITA7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIGIgPSBuLCBhLmYgPSAhMCwgemkoYSkgfHwgKGMgPSAhMCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYS5jID0gYjtcbiAgICBkICYmIChoID0gcShhLnYsIGEsICEwKSwgZCA9IHEoYS52LCBhLCAhMSksIGIgaW5zdGFuY2VvZiBxaSA/ICh5aShiLCBoLCBkKSwgYi5BID0gITApIDogYi50aGVuKGgsIGQpKTtcbiAgICBjICYmIChiID0gbmV3IEJpKGIpLCBBaVtiLmFdID0gYiwgYS5oID0gYi5hKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdpKCkge1xuICAgIHUuY2FsbCh0aGlzKTtcbiAgfVxuXG4gIHIod2ksIHUpO1xuICB3aS5wcm90b3R5cGUubWVzc2FnZSA9IFwiRGVmZXJyZWQgaGFzIGFscmVhZHkgZmlyZWRcIjtcbiAgd2kucHJvdG90eXBlLm5hbWUgPSBcIkFscmVhZHlDYWxsZWRFcnJvclwiO1xuXG4gIGZ1bmN0aW9uIHNpKCkge1xuICAgIHUuY2FsbCh0aGlzKTtcbiAgfVxuXG4gIHIoc2ksIHUpO1xuICBzaS5wcm90b3R5cGUubWVzc2FnZSA9IFwiRGVmZXJyZWQgd2FzIGNhbmNlbGVkXCI7XG4gIHNpLnByb3RvdHlwZS5uYW1lID0gXCJDYW5jZWxlZEVycm9yXCI7XG5cbiAgZnVuY3Rpb24gQmkoYSkge1xuICAgIHRoaXMuYSA9IGwuc2V0VGltZW91dChxKHRoaXMuYywgdGhpcyksIDApO1xuICAgIHRoaXMuYiA9IGE7XG4gIH1cblxuICBCaS5wcm90b3R5cGUuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICBkZWxldGUgQWlbdGhpcy5hXTtcbiAgICB0aHJvdyB0aGlzLmI7XG4gIH07XG5cbiAgdmFyIEFpID0ge307XG5cbiAgZnVuY3Rpb24gQ2koYSkge1xuICAgIHZhciBiID0ge30sXG4gICAgICAgIGMgPSBiLmRvY3VtZW50IHx8IGRvY3VtZW50LFxuICAgICAgICBkID0geWIoYSkudG9TdHJpbmcoKSxcbiAgICAgICAgZSA9IG9jKGRvY3VtZW50LCBcIlNDUklQVFwiKSxcbiAgICAgICAgZiA9IHtcbiAgICAgIFZiOiBlLFxuICAgICAgTWE6IHZvaWQgMFxuICAgIH0sXG4gICAgICAgIGcgPSBuZXcgcWkoZiksXG4gICAgICAgIGggPSBudWxsLFxuICAgICAgICBuID0gbnVsbCAhPSBiLnRpbWVvdXQgPyBiLnRpbWVvdXQgOiA1RTM7XG4gICAgMCA8IG4gJiYgKGggPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBEaShlLCAhMCk7XG4gICAgICB2YXIgcCA9IG5ldyBFaShGaSwgXCJUaW1lb3V0IHJlYWNoZWQgZm9yIGxvYWRpbmcgc2NyaXB0IFwiICsgZCk7XG4gICAgICB0aShnKTtcbiAgICAgIHVpKGcsICExLCBwKTtcbiAgICB9LCBuKSwgZi5NYSA9IGgpO1xuXG4gICAgZS5vbmxvYWQgPSBlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGUucmVhZHlTdGF0ZSAmJiBcImxvYWRlZFwiICE9IGUucmVhZHlTdGF0ZSAmJiBcImNvbXBsZXRlXCIgIT0gZS5yZWFkeVN0YXRlIHx8IChEaShlLCBiLndkIHx8ICExLCBoKSwgdGkoZyksIHVpKGcsICEwLCBudWxsKSk7XG4gICAgfTtcblxuICAgIGUub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIERpKGUsICEwLCBoKTtcbiAgICAgIHZhciBwID0gbmV3IEVpKEdpLCBcIkVycm9yIHdoaWxlIGxvYWRpbmcgc2NyaXB0IFwiICsgZCk7XG4gICAgICB0aShnKTtcbiAgICAgIHVpKGcsICExLCBwKTtcbiAgICB9O1xuXG4gICAgZiA9IGIuYXR0cmlidXRlcyB8fCB7fTtcbiAgICB6KGYsIHtcbiAgICAgIHR5cGU6IFwidGV4dC9qYXZhc2NyaXB0XCIsXG4gICAgICBjaGFyc2V0OiBcIlVURi04XCJcbiAgICB9KTtcbiAgICBsYyhlLCBmKTtcbiAgICBPYihlLCBhKTtcbiAgICBIaShjKS5hcHBlbmRDaGlsZChlKTtcbiAgICByZXR1cm4gZztcbiAgfVxuXG4gIGZ1bmN0aW9uIEhpKGEpIHtcbiAgICB2YXIgYjtcbiAgICByZXR1cm4gKGIgPSAoYSB8fCBkb2N1bWVudCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJIRUFEXCIpKSAmJiAwICE9IGIubGVuZ3RoID8gYlswXSA6IGEuZG9jdW1lbnRFbGVtZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gcmkoKSB7XG4gICAgaWYgKHRoaXMgJiYgdGhpcy5WYikge1xuICAgICAgdmFyIGEgPSB0aGlzLlZiO1xuICAgICAgYSAmJiBcIlNDUklQVFwiID09IGEudGFnTmFtZSAmJiBEaShhLCAhMCwgdGhpcy5NYSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gRGkoYSwgYiwgYykge1xuICAgIG51bGwgIT0gYyAmJiBsLmNsZWFyVGltZW91dChjKTtcbiAgICBhLm9ubG9hZCA9IGxhO1xuICAgIGEub25lcnJvciA9IGxhO1xuICAgIGEub25yZWFkeXN0YXRlY2hhbmdlID0gbGE7XG4gICAgYiAmJiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhICYmIGEucGFyZW50Tm9kZSAmJiBhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSk7XG4gICAgfSwgMCk7XG4gIH1cblxuICB2YXIgR2kgPSAwLFxuICAgICAgRmkgPSAxO1xuXG4gIGZ1bmN0aW9uIEVpKGEsIGIpIHtcbiAgICB2YXIgYyA9IFwiSnNsb2FkZXIgZXJyb3IgKGNvZGUgI1wiICsgYSArIFwiKVwiO1xuICAgIGIgJiYgKGMgKz0gXCI6IFwiICsgYik7XG4gICAgdS5jYWxsKHRoaXMsIGMpO1xuICAgIHRoaXMuY29kZSA9IGE7XG4gIH1cblxuICByKEVpLCB1KTtcblxuICBmdW5jdGlvbiBJaShhKSB7XG4gICAgdGhpcy5mID0gYTtcbiAgfVxuXG4gIHIoSWksIEJoKTtcblxuICBJaS5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuZigpO1xuICB9O1xuXG4gIElpLnByb3RvdHlwZS5iID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7fTtcbiAgfTtcblxuICBmdW5jdGlvbiBKaShhLCBiLCBjKSB7XG4gICAgdGhpcy5jID0gYTtcbiAgICBhID0gYiB8fCB7fTtcbiAgICB0aGlzLmwgPSBhLnNlY3VyZVRva2VuRW5kcG9pbnQgfHwgXCJodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZWFwaXMuY29tL3YxL3Rva2VuXCI7XG4gICAgdGhpcy52ID0gYS5zZWN1cmVUb2tlblRpbWVvdXQgfHwgS2k7XG4gICAgdGhpcy5nID0gbmIoYS5zZWN1cmVUb2tlbkhlYWRlcnMgfHwgTGkpO1xuICAgIHRoaXMuaCA9IGEuZmlyZWJhc2VFbmRwb2ludCB8fCBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2lkZW50aXR5dG9vbGtpdC92My9yZWx5aW5ncGFydHkvXCI7XG4gICAgdGhpcy5pID0gYS5pZGVudGl0eVBsYXRmb3JtRW5kcG9pbnQgfHwgXCJodHRwczovL2lkZW50aXR5dG9vbGtpdC5nb29nbGVhcGlzLmNvbS92Mi9cIjtcbiAgICB0aGlzLm0gPSBhLmZpcmViYXNlVGltZW91dCB8fCBNaTtcbiAgICB0aGlzLmEgPSBuYihhLmZpcmViYXNlSGVhZGVycyB8fCBOaSk7XG4gICAgYyAmJiAodGhpcy5hW1wiWC1DbGllbnQtVmVyc2lvblwiXSA9IGMsIHRoaXMuZ1tcIlgtQ2xpZW50LVZlcnNpb25cIl0gPSBjKTtcbiAgICBjID0gXCJOb2RlXCIgPT0gS2UoKTtcbiAgICBjID0gbC5YTUxIdHRwUmVxdWVzdCB8fCBjICYmIGZpcmViYXNlLklOVEVSTkFMLm5vZGUgJiYgZmlyZWJhc2UuSU5URVJOQUwubm9kZS5YTUxIdHRwUmVxdWVzdDtcbiAgICBpZiAoIWMgJiYgIUplKCkpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJUaGUgWE1MSHR0cFJlcXVlc3QgY29tcGF0aWJpbGl0eSBsaWJyYXJ5IHdhcyBub3QgZm91bmQuXCIpO1xuICAgIHRoaXMuZiA9IHZvaWQgMDtcbiAgICBKZSgpID8gdGhpcy5mID0gbmV3IFdoKHNlbGYpIDogTGUoKSA/IHRoaXMuZiA9IG5ldyBJaShjKSA6IHRoaXMuZiA9IG5ldyBHaCgpO1xuICAgIHRoaXMuYiA9IG51bGw7XG4gIH1cblxuICB2YXIgT2ksXG4gICAgICBFZyA9IFwiaWRUb2tlblwiLFxuICAgICAgS2kgPSBuZXcgWmUoM0U0LCA2RTQpLFxuICAgICAgTGkgPSB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIlxuICB9LFxuICAgICAgTWkgPSBuZXcgWmUoM0U0LCA2RTQpLFxuICAgICAgTmkgPSB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfTtcblxuICBmdW5jdGlvbiBQaShhLCBiKSB7XG4gICAgYiA/IGEuYVtcIlgtRmlyZWJhc2UtTG9jYWxlXCJdID0gYiA6IGRlbGV0ZSBhLmFbXCJYLUZpcmViYXNlLUxvY2FsZVwiXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFFpKGEsIGIpIHtcbiAgICBiICYmIChhLmwgPSBSaShcImh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlYXBpcy5jb20vdjEvdG9rZW5cIiwgYiksIGEuaCA9IFJpKFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vaWRlbnRpdHl0b29sa2l0L3YzL3JlbHlpbmdwYXJ0eS9cIiwgYiksIGEuaSA9IFJpKFwiaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vdjIvXCIsIGIpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFJpKGEsIGIpIHtcbiAgICBhID0gYmUoYSk7XG4gICAgYiA9IGJlKGIudXJsKTtcbiAgICBhLmMgPSBhLmEgKyBhLmM7XG4gICAgT2QoYSwgYi5mKTtcbiAgICBhLmEgPSBiLmE7XG4gICAgUGQoYSwgYi5nKTtcbiAgICByZXR1cm4gYS50b1N0cmluZygpO1xuICB9XG5cbiAgZnVuY3Rpb24gU2koYSwgYikge1xuICAgIGIgPyAoYS5hW1wiWC1DbGllbnQtVmVyc2lvblwiXSA9IGIsIGEuZ1tcIlgtQ2xpZW50LVZlcnNpb25cIl0gPSBiKSA6IChkZWxldGUgYS5hW1wiWC1DbGllbnQtVmVyc2lvblwiXSwgZGVsZXRlIGEuZ1tcIlgtQ2xpZW50LVZlcnNpb25cIl0pO1xuICB9XG5cbiAgSmkucHJvdG90eXBlLlMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYjtcbiAgfTtcblxuICBmdW5jdGlvbiBUaShhLCBiLCBjLCBkLCBlLCBmLCBnKSB7XG4gICAgdWUoKSB8fCBKZSgpID8gYSA9IHEoYS51LCBhKSA6IChPaSB8fCAoT2kgPSBuZXcgRChmdW5jdGlvbiAoaCwgbikge1xuICAgICAgVWkoaCwgbik7XG4gICAgfSkpLCBhID0gcShhLm8sIGEpKTtcbiAgICBhKGIsIGMsIGQsIGUsIGYsIGcpO1xuICB9XG5cbiAgSmkucHJvdG90eXBlLnUgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikge1xuICAgIGlmIChKZSgpICYmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgbC5mZXRjaCB8fCBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgbC5IZWFkZXJzIHx8IFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBsLlJlcXVlc3QpKSB0aHJvdyBuZXcgdChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIiwgXCJmZXRjaCwgSGVhZGVycyBhbmQgUmVxdWVzdCBuYXRpdmUgQVBJcyBvciBlcXVpdmFsZW50IFBvbHlmaWxscyBtdXN0IGJlIGF2YWlsYWJsZSB0byBzdXBwb3J0IEhUVFAgcmVxdWVzdHMgZnJvbSBhIFdvcmtlciBlbnZpcm9ubWVudC5cIik7XG4gICAgdmFyIGcgPSBuZXcgYmkodGhpcy5mKTtcblxuICAgIGlmIChmKSB7XG4gICAgICBnLmcgPSBNYXRoLm1heCgwLCBmKTtcbiAgICAgIHZhciBoID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGcuZGlzcGF0Y2hFdmVudChcInRpbWVvdXRcIik7XG4gICAgICB9LCBmKTtcbiAgICB9XG5cbiAgICBxZChnLCBcImNvbXBsZXRlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGggJiYgY2xlYXJUaW1lb3V0KGgpO1xuICAgICAgdmFyIG4gPSBudWxsO1xuXG4gICAgICB0cnkge1xuICAgICAgICBuID0gSlNPTi5wYXJzZShwaSh0aGlzKSkgfHwgbnVsbDtcbiAgICAgIH0gY2F0Y2ggKHApIHtcbiAgICAgICAgbiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGIgJiYgYihuKTtcbiAgICB9KTtcbiAgICB3ZChnLCBcInJlYWR5XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGggJiYgY2xlYXJUaW1lb3V0KGgpO1xuICAgICAgWGModGhpcyk7XG4gICAgfSk7XG4gICAgd2QoZywgXCJ0aW1lb3V0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGggJiYgY2xlYXJUaW1lb3V0KGgpO1xuICAgICAgWGModGhpcyk7XG4gICAgICBiICYmIGIobnVsbCk7XG4gICAgfSk7XG4gICAgZmkoZywgYSwgYywgZCwgZSk7XG4gIH07XG5cbiAgdmFyIFZpID0gbmV3IHFiKHJiLCBcImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudC5qcz9vbmxvYWQ9JXtvbmxvYWR9XCIpLFxuICAgICAgV2kgPSBcIl9fZmNiXCIgKyBNYXRoLmZsb29yKDFFNiAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKCk7XG5cbiAgZnVuY3Rpb24gVWkoYSwgYikge1xuICAgIGlmICgoKHdpbmRvdy5nYXBpIHx8IHt9KS5jbGllbnQgfHwge30pLnJlcXVlc3QpIGEoKTtlbHNlIHtcbiAgICAgIGxbV2ldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAoKHdpbmRvdy5nYXBpIHx8IHt9KS5jbGllbnQgfHwge30pLnJlcXVlc3QgPyBhKCkgOiBiKEVycm9yKFwiQ09SU19VTlNVUFBPUlRFRFwiKSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgYyA9IHpiKFZpLCB7XG4gICAgICAgIG9ubG9hZDogV2lcbiAgICAgIH0pO1xuICAgICAgeGkoQ2koYyksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYihFcnJvcihcIkNPUlNfVU5TVVBQT1JURURcIikpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgSmkucHJvdG90eXBlLm8gPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSkge1xuICAgIHZhciBmID0gdGhpcztcbiAgICBPaS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdpbmRvdy5nYXBpLmNsaWVudC5zZXRBcGlLZXkoZi5jKTtcbiAgICAgIHZhciBnID0gd2luZG93LmdhcGkuYXV0aC5nZXRUb2tlbigpO1xuICAgICAgd2luZG93LmdhcGkuYXV0aC5zZXRUb2tlbihudWxsKTtcbiAgICAgIHdpbmRvdy5nYXBpLmNsaWVudC5yZXF1ZXN0KHtcbiAgICAgICAgcGF0aDogYSxcbiAgICAgICAgbWV0aG9kOiBjLFxuICAgICAgICBib2R5OiBkLFxuICAgICAgICBoZWFkZXJzOiBlLFxuICAgICAgICBhdXRoVHlwZTogXCJub25lXCIsXG4gICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhoKSB7XG4gICAgICAgICAgd2luZG93LmdhcGkuYXV0aC5zZXRUb2tlbihnKTtcbiAgICAgICAgICBiICYmIGIoaCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pLnMoZnVuY3Rpb24gKGcpIHtcbiAgICAgIGIgJiYgYih7XG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgbWVzc2FnZTogZyAmJiBnLm1lc3NhZ2UgfHwgXCJDT1JTX1VOU1VQUE9SVEVEXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gWGkoYSwgYikge1xuICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoYywgZCkge1xuICAgICAgXCJyZWZyZXNoX3Rva2VuXCIgPT0gYi5ncmFudF90eXBlICYmIGIucmVmcmVzaF90b2tlbiB8fCBcImF1dGhvcml6YXRpb25fY29kZVwiID09IGIuZ3JhbnRfdHlwZSAmJiBiLmNvZGUgPyBUaShhLCBhLmwgKyBcIj9rZXk9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoYS5jKSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZSA/IGUuZXJyb3IgPyBkKFlpKGUpKSA6IGUuYWNjZXNzX3Rva2VuICYmIGUucmVmcmVzaF90b2tlbiA/IGMoZSkgOiBkKG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIikpIDogZChuZXcgdChcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIikpO1xuICAgICAgfSwgXCJQT1NUXCIsIGZlKGIpLnRvU3RyaW5nKCksIGEuZywgYS52LmdldCgpKSA6IGQobmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBaaShhLCBiLCBjLCBkLCBlLCBmLCBnKSB7XG4gICAgdmFyIGggPSBiZShiICsgYyk7XG4gICAgSihoLCBcImtleVwiLCBhLmMpO1xuICAgIGcgJiYgSihoLCBcImNiXCIsIHZhKCkudG9TdHJpbmcoKSk7XG4gICAgdmFyIG4gPSBcIkdFVFwiID09IGQ7XG4gICAgaWYgKG4pIGZvciAodmFyIHAgaW4gZSkge1xuICAgICAgZS5oYXNPd25Qcm9wZXJ0eShwKSAmJiBKKGgsIHAsIGVbcF0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEQoZnVuY3Rpb24gKHYsIEIpIHtcbiAgICAgIFRpKGEsIGgudG9TdHJpbmcoKSwgZnVuY3Rpb24gKEEpIHtcbiAgICAgICAgQSA/IEEuZXJyb3IgPyBCKFlpKEEsIGYgfHwge30pKSA6IHYoQSkgOiBCKG5ldyB0KFwibmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiKSk7XG4gICAgICB9LCBkLCBuID8gdm9pZCAwIDoga2UoVmUoZSkpLCBhLmEsIGEubS5nZXQoKSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiAkaShhKSB7XG4gICAgYSA9IGEuZW1haWw7XG4gICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBhIHx8ICFEZS50ZXN0KGEpKSB0aHJvdyBuZXcgdChcImludmFsaWQtZW1haWxcIik7XG4gIH1cblxuICBmdW5jdGlvbiBhaihhKSB7XG4gICAgXCJlbWFpbFwiIGluIGEgJiYgJGkoYSk7XG4gIH1cblxuICBmdW5jdGlvbiBiaihhLCBiKSB7XG4gICAgcmV0dXJuIE8oYSwgY2osIHtcbiAgICAgIGlkZW50aWZpZXI6IGIsXG4gICAgICBjb250aW51ZVVyaTogU2UoKSA/IHJlKCkgOiBcImh0dHA6Ly9sb2NhbGhvc3RcIlxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBjLnNpZ25pbk1ldGhvZHMgfHwgW107XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkaihhKSB7XG4gICAgcmV0dXJuIE8oYSwgZWosIHt9KS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYi5hdXRob3JpemVkRG9tYWlucyB8fCBbXTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFAoYSkge1xuICAgIGlmICghYVtFZ10pIHtcbiAgICAgIGlmIChhLm1mYVBlbmRpbmdDcmVkZW50aWFsKSB0aHJvdyBuZXcgdChcIm11bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkXCIsIG51bGwsIG5iKGEpKTtcbiAgICAgIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmooYSkge1xuICAgIGlmIChhLnBob25lTnVtYmVyIHx8IGEudGVtcG9yYXJ5UHJvb2YpIHtcbiAgICAgIGlmICghYS5waG9uZU51bWJlciB8fCAhYS50ZW1wb3JhcnlQcm9vZikgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFhLnNlc3Npb25JbmZvKSB0aHJvdyBuZXcgdChcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIpO1xuICAgICAgaWYgKCFhLmNvZGUpIHRocm93IG5ldyB0KFwibWlzc2luZy12ZXJpZmljYXRpb24tY29kZVwiKTtcbiAgICB9XG4gIH1cblxuICBKaS5wcm90b3R5cGUueWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE8odGhpcywgZ2osIHt9KTtcbiAgfTtcblxuICBKaS5wcm90b3R5cGUuQWIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBPKHRoaXMsIGhqLCB7XG4gICAgICBpZFRva2VuOiBhLFxuICAgICAgZW1haWw6IGJcbiAgICB9KTtcbiAgfTtcblxuICBKaS5wcm90b3R5cGUuQmIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBPKHRoaXMsIGRoLCB7XG4gICAgICBpZFRva2VuOiBhLFxuICAgICAgcGFzc3dvcmQ6IGJcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgaWogPSB7XG4gICAgZGlzcGxheU5hbWU6IFwiRElTUExBWV9OQU1FXCIsXG4gICAgcGhvdG9Vcmw6IFwiUEhPVE9fVVJMXCJcbiAgfTtcbiAgayA9IEppLnByb3RvdHlwZTtcblxuICBrLkNiID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYyA9IHtcbiAgICAgIGlkVG9rZW46IGFcbiAgICB9LFxuICAgICAgICBkID0gW107XG4gICAgbGIoaWosIGZ1bmN0aW9uIChlLCBmKSB7XG4gICAgICB2YXIgZyA9IGJbZl07XG4gICAgICBudWxsID09PSBnID8gZC5wdXNoKGUpIDogZiBpbiBiICYmIChjW2ZdID0gZyk7XG4gICAgfSk7XG4gICAgZC5sZW5ndGggJiYgKGMuZGVsZXRlQXR0cmlidXRlID0gZCk7XG4gICAgcmV0dXJuIE8odGhpcywgaGosIGMpO1xuICB9O1xuXG4gIGsudWIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGEgPSB7XG4gICAgICByZXF1ZXN0VHlwZTogXCJQQVNTV09SRF9SRVNFVFwiLFxuICAgICAgZW1haWw6IGFcbiAgICB9O1xuICAgIHooYSwgYik7XG4gICAgcmV0dXJuIE8odGhpcywgamosIGEpO1xuICB9O1xuXG4gIGsudmIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIGEgPSB7XG4gICAgICByZXF1ZXN0VHlwZTogXCJFTUFJTF9TSUdOSU5cIixcbiAgICAgIGVtYWlsOiBhXG4gICAgfTtcbiAgICB6KGEsIGIpO1xuICAgIHJldHVybiBPKHRoaXMsIGtqLCBhKTtcbiAgfTtcblxuICBrLnRiID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBhID0ge1xuICAgICAgcmVxdWVzdFR5cGU6IFwiVkVSSUZZX0VNQUlMXCIsXG4gICAgICBpZFRva2VuOiBhXG4gICAgfTtcbiAgICB6KGEsIGIpO1xuICAgIHJldHVybiBPKHRoaXMsIGxqLCBhKTtcbiAgfTtcblxuICBrLkRiID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICBhID0ge1xuICAgICAgcmVxdWVzdFR5cGU6IFwiVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcIixcbiAgICAgIGlkVG9rZW46IGEsXG4gICAgICBuZXdFbWFpbDogYlxuICAgIH07XG4gICAgeihhLCBjKTtcbiAgICByZXR1cm4gTyh0aGlzLCBtaiwgYSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGgoYSwgYikge1xuICAgIHJldHVybiBPKGEsIG5qLCBiKTtcbiAgfVxuXG4gIGsuZWIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBPKHRoaXMsIG9qLCBhKTtcbiAgfTtcblxuICBmdW5jdGlvbiBuaChhLCBiKSB7XG4gICAgcmV0dXJuIE8oYSwgcGosIGIpLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBjLnBob25lU2Vzc2lvbkluZm8uc2Vzc2lvbkluZm87XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBxaihhKSB7XG4gICAgaWYgKCFhLnBob25lVmVyaWZpY2F0aW9uSW5mbykgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICBpZiAoIWEucGhvbmVWZXJpZmljYXRpb25JbmZvLnNlc3Npb25JbmZvKSB0aHJvdyBuZXcgdChcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIpO1xuICAgIGlmICghYS5waG9uZVZlcmlmaWNhdGlvbkluZm8uY29kZSkgdGhyb3cgbmV3IHQoXCJtaXNzaW5nLXZlcmlmaWNhdGlvbi1jb2RlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gb2goYSwgYikge1xuICAgIHJldHVybiBPKGEsIHJqLCBiKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5waG9uZVJlc3BvbnNlSW5mby5zZXNzaW9uSW5mbztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNqKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gTyhhLCB0aiwge1xuICAgICAgaWRUb2tlbjogYixcbiAgICAgIGRlbGV0ZVByb3ZpZGVyOiBjXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1aihhKSB7XG4gICAgaWYgKCFhLnJlcXVlc3RVcmkgfHwgIWEuc2Vzc2lvbklkICYmICFhLnBvc3RCb2R5ICYmICFhLnBlbmRpbmdUb2tlbikgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZqKGEsIGIpIHtcbiAgICBiLm9hdXRoSWRUb2tlbiAmJiBiLnByb3ZpZGVySWQgJiYgMCA9PSBiLnByb3ZpZGVySWQuaW5kZXhPZihcIm9pZGMuXCIpICYmICFiLnBlbmRpbmdUb2tlbiAmJiAoYS5zZXNzaW9uSWQgPyBiLm5vbmNlID0gYS5zZXNzaW9uSWQgOiBhLnBvc3RCb2R5ICYmIChhID0gbmV3IFRkKGEucG9zdEJvZHkpLCBqZShhLCBcIm5vbmNlXCIpICYmIChiLm5vbmNlID0gYS5nZXQoXCJub25jZVwiKSkpKTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdqKGEpIHtcbiAgICB2YXIgYiA9IG51bGw7XG4gICAgYS5uZWVkQ29uZmlybWF0aW9uID8gKGEuY29kZSA9IFwiYWNjb3VudC1leGlzdHMtd2l0aC1kaWZmZXJlbnQtY3JlZGVudGlhbFwiLCBiID0gQWgoYSkpIDogXCJGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRFwiID09IGEuZXJyb3JNZXNzYWdlID8gKGEuY29kZSA9IFwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLCBiID0gQWgoYSkpIDogXCJFTUFJTF9FWElTVFNcIiA9PSBhLmVycm9yTWVzc2FnZSA/IChhLmNvZGUgPSBcImVtYWlsLWFscmVhZHktaW4tdXNlXCIsIGIgPSBBaChhKSkgOiBhLmVycm9yTWVzc2FnZSAmJiAoYiA9IHhqKGEuZXJyb3JNZXNzYWdlKSk7XG4gICAgaWYgKGIpIHRocm93IGI7XG4gICAgUChhKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdnKGEsIGIpIHtcbiAgICBiLnJldHVybklkcENyZWRlbnRpYWwgPSAhMDtcbiAgICByZXR1cm4gTyhhLCB5aiwgYik7XG4gIH1cblxuICBmdW5jdGlvbiBJZyhhLCBiKSB7XG4gICAgYi5yZXR1cm5JZHBDcmVkZW50aWFsID0gITA7XG4gICAgcmV0dXJuIE8oYSwgemosIGIpO1xuICB9XG5cbiAgZnVuY3Rpb24gSmcoYSwgYikge1xuICAgIGIucmV0dXJuSWRwQ3JlZGVudGlhbCA9ICEwO1xuICAgIGIuYXV0b0NyZWF0ZSA9ICExO1xuICAgIHJldHVybiBPKGEsIEFqLCBiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEJqKGEpIHtcbiAgICBpZiAoIWEub29iQ29kZSkgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLWFjdGlvbi1jb2RlXCIpO1xuICB9XG5cbiAgay5tYiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIE8odGhpcywgQ2osIHtcbiAgICAgIG9vYkNvZGU6IGEsXG4gICAgICBuZXdQYXNzd29yZDogYlxuICAgIH0pO1xuICB9O1xuXG4gIGsuUWEgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBPKHRoaXMsIERqLCB7XG4gICAgICBvb2JDb2RlOiBhXG4gICAgfSk7XG4gIH07XG5cbiAgay5pYiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIE8odGhpcywgRWosIHtcbiAgICAgIG9vYkNvZGU6IGFcbiAgICB9KTtcbiAgfTtcblxuICB2YXIgRWogPSB7XG4gICAgZW5kcG9pbnQ6IFwic2V0QWNjb3VudEluZm9cIixcbiAgICBCOiBCaixcbiAgICBaOiBcImVtYWlsXCIsXG4gICAgQzogITBcbiAgfSxcbiAgICAgIERqID0ge1xuICAgIGVuZHBvaW50OiBcInJlc2V0UGFzc3dvcmRcIixcbiAgICBCOiBCaixcbiAgICBGOiBmdW5jdGlvbiBGKGEpIHtcbiAgICAgIHZhciBiID0gYS5yZXF1ZXN0VHlwZTtcbiAgICAgIGlmICghYiB8fCAhYS5lbWFpbCAmJiBcIkVNQUlMX1NJR05JTlwiICE9IGIgJiYgXCJWRVJJRllfQU5EX0NIQU5HRV9FTUFJTFwiICE9IGIpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgfSxcbiAgICBDOiAhMFxuICB9LFxuICAgICAgRmogPSB7XG4gICAgZW5kcG9pbnQ6IFwic2lnbnVwTmV3VXNlclwiLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgJGkoYSk7XG4gICAgICBpZiAoIWEucGFzc3dvcmQpIHRocm93IG5ldyB0KFwid2Vhay1wYXNzd29yZFwiKTtcbiAgICB9LFxuICAgIEY6IFAsXG4gICAgVTogITAsXG4gICAgQzogITBcbiAgfSxcbiAgICAgIGNqID0ge1xuICAgIGVuZHBvaW50OiBcImNyZWF0ZUF1dGhVcmlcIixcbiAgICBDOiAhMFxuICB9LFxuICAgICAgR2ogPSB7XG4gICAgZW5kcG9pbnQ6IFwiZGVsZXRlQWNjb3VudFwiLFxuICAgIE06IFtcImlkVG9rZW5cIl1cbiAgfSxcbiAgICAgIHRqID0ge1xuICAgIGVuZHBvaW50OiBcInNldEFjY291bnRJbmZvXCIsXG4gICAgTTogW1wiaWRUb2tlblwiLCBcImRlbGV0ZVByb3ZpZGVyXCJdLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGEuZGVsZXRlUHJvdmlkZXIpKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIpO1xuICAgIH1cbiAgfSxcbiAgICAgIGFoID0ge1xuICAgIGVuZHBvaW50OiBcImVtYWlsTGlua1NpZ25pblwiLFxuICAgIE06IFtcImVtYWlsXCIsIFwib29iQ29kZVwiXSxcbiAgICBCOiAkaSxcbiAgICBGOiBQLFxuICAgIFU6ICEwLFxuICAgIEM6ICEwXG4gIH0sXG4gICAgICBjaCA9IHtcbiAgICBlbmRwb2ludDogXCJlbWFpbExpbmtTaWduaW5cIixcbiAgICBNOiBbXCJpZFRva2VuXCIsIFwiZW1haWxcIiwgXCJvb2JDb2RlXCJdLFxuICAgIEI6ICRpLFxuICAgIEY6IFAsXG4gICAgVTogITBcbiAgfSxcbiAgICAgIEhqID0ge1xuICAgIGVuZHBvaW50OiBcImFjY291bnRzL21mYUVucm9sbG1lbnQ6ZmluYWxpemVcIixcbiAgICBNOiBbXCJpZFRva2VuXCIsIFwicGhvbmVWZXJpZmljYXRpb25JbmZvXCJdLFxuICAgIEI6IHFqLFxuICAgIEY6IFAsXG4gICAgQzogITAsXG4gICAgTmE6ICEwXG4gIH0sXG4gICAgICBJaiA9IHtcbiAgICBlbmRwb2ludDogXCJhY2NvdW50cy9tZmFTaWduSW46ZmluYWxpemVcIixcbiAgICBNOiBbXCJtZmFQZW5kaW5nQ3JlZGVudGlhbFwiLCBcInBob25lVmVyaWZpY2F0aW9uSW5mb1wiXSxcbiAgICBCOiBxaixcbiAgICBGOiBQLFxuICAgIEM6ICEwLFxuICAgIE5hOiAhMFxuICB9LFxuICAgICAgSmogPSB7XG4gICAgZW5kcG9pbnQ6IFwiZ2V0QWNjb3VudEluZm9cIlxuICB9LFxuICAgICAga2ogPSB7XG4gICAgZW5kcG9pbnQ6IFwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLFxuICAgIE06IFtcInJlcXVlc3RUeXBlXCJdLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKFwiRU1BSUxfU0lHTklOXCIgIT0gYS5yZXF1ZXN0VHlwZSkgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICAgICRpKGEpO1xuICAgIH0sXG4gICAgWjogXCJlbWFpbFwiLFxuICAgIEM6ICEwXG4gIH0sXG4gICAgICBsaiA9IHtcbiAgICBlbmRwb2ludDogXCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsXG4gICAgTTogW1wiaWRUb2tlblwiLCBcInJlcXVlc3RUeXBlXCJdLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKFwiVkVSSUZZX0VNQUlMXCIgIT0gYS5yZXF1ZXN0VHlwZSkgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICB9LFxuICAgIFo6IFwiZW1haWxcIixcbiAgICBDOiAhMFxuICB9LFxuICAgICAgbWogPSB7XG4gICAgZW5kcG9pbnQ6IFwiZ2V0T29iQ29uZmlybWF0aW9uQ29kZVwiLFxuICAgIE06IFtcImlkVG9rZW5cIiwgXCJuZXdFbWFpbFwiLCBcInJlcXVlc3RUeXBlXCJdLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKFwiVkVSSUZZX0FORF9DSEFOR0VfRU1BSUxcIiAhPSBhLnJlcXVlc3RUeXBlKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIpO1xuICAgIH0sXG4gICAgWjogXCJlbWFpbFwiLFxuICAgIEM6ICEwXG4gIH0sXG4gICAgICBqaiA9IHtcbiAgICBlbmRwb2ludDogXCJnZXRPb2JDb25maXJtYXRpb25Db2RlXCIsXG4gICAgTTogW1wicmVxdWVzdFR5cGVcIl0sXG4gICAgQjogZnVuY3Rpb24gQihhKSB7XG4gICAgICBpZiAoXCJQQVNTV09SRF9SRVNFVFwiICE9IGEucmVxdWVzdFR5cGUpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgICAkaShhKTtcbiAgICB9LFxuICAgIFo6IFwiZW1haWxcIixcbiAgICBDOiAhMFxuICB9LFxuICAgICAgZWogPSB7XG4gICAga2I6ICEwLFxuICAgIGVuZHBvaW50OiBcImdldFByb2plY3RDb25maWdcIixcbiAgICBUYjogXCJHRVRcIlxuICB9LFxuICAgICAgS2ogPSB7XG4gICAga2I6ICEwLFxuICAgIGVuZHBvaW50OiBcImdldFJlY2FwdGNoYVBhcmFtXCIsXG4gICAgVGI6IFwiR0VUXCIsXG4gICAgRjogZnVuY3Rpb24gRihhKSB7XG4gICAgICBpZiAoIWEucmVjYXB0Y2hhU2l0ZUtleSkgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICB9XG4gIH0sXG4gICAgICBDaiA9IHtcbiAgICBlbmRwb2ludDogXCJyZXNldFBhc3N3b3JkXCIsXG4gICAgQjogQmosXG4gICAgWjogXCJlbWFpbFwiLFxuICAgIEM6ICEwXG4gIH0sXG4gICAgICBuaiA9IHtcbiAgICBlbmRwb2ludDogXCJzZW5kVmVyaWZpY2F0aW9uQ29kZVwiLFxuICAgIE06IFtcInBob25lTnVtYmVyXCIsIFwicmVjYXB0Y2hhVG9rZW5cIl0sXG4gICAgWjogXCJzZXNzaW9uSW5mb1wiLFxuICAgIEM6ICEwXG4gIH0sXG4gICAgICBoaiA9IHtcbiAgICBlbmRwb2ludDogXCJzZXRBY2NvdW50SW5mb1wiLFxuICAgIE06IFtcImlkVG9rZW5cIl0sXG4gICAgQjogYWosXG4gICAgVTogITBcbiAgfSxcbiAgICAgIGRoID0ge1xuICAgIGVuZHBvaW50OiBcInNldEFjY291bnRJbmZvXCIsXG4gICAgTTogW1wiaWRUb2tlblwiXSxcbiAgICBCOiBmdW5jdGlvbiBCKGEpIHtcbiAgICAgIGFqKGEpO1xuICAgICAgaWYgKCFhLnBhc3N3b3JkKSB0aHJvdyBuZXcgdChcIndlYWstcGFzc3dvcmRcIik7XG4gICAgfSxcbiAgICBGOiBQLFxuICAgIFU6ICEwXG4gIH0sXG4gICAgICBnaiA9IHtcbiAgICBlbmRwb2ludDogXCJzaWdudXBOZXdVc2VyXCIsXG4gICAgRjogUCxcbiAgICBVOiAhMCxcbiAgICBDOiAhMFxuICB9LFxuICAgICAgcGogPSB7XG4gICAgZW5kcG9pbnQ6IFwiYWNjb3VudHMvbWZhRW5yb2xsbWVudDpzdGFydFwiLFxuICAgIE06IFtcImlkVG9rZW5cIiwgXCJwaG9uZUVucm9sbG1lbnRJbmZvXCJdLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKCFhLnBob25lRW5yb2xsbWVudEluZm8pIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgICBpZiAoIWEucGhvbmVFbnJvbGxtZW50SW5mby5waG9uZU51bWJlcikgdGhyb3cgbmV3IHQoXCJtaXNzaW5nLXBob25lLW51bWJlclwiKTtcbiAgICAgIGlmICghYS5waG9uZUVucm9sbG1lbnRJbmZvLnJlY2FwdGNoYVRva2VuKSB0aHJvdyBuZXcgdChcIm1pc3NpbmctYXBwLWNyZWRlbnRpYWxcIik7XG4gICAgfSxcbiAgICBGOiBmdW5jdGlvbiBGKGEpIHtcbiAgICAgIGlmICghYS5waG9uZVNlc3Npb25JbmZvIHx8ICFhLnBob25lU2Vzc2lvbkluZm8uc2Vzc2lvbkluZm8pIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgfSxcbiAgICBDOiAhMCxcbiAgICBOYTogITBcbiAgfSxcbiAgICAgIHJqID0ge1xuICAgIGVuZHBvaW50OiBcImFjY291bnRzL21mYVNpZ25JbjpzdGFydFwiLFxuICAgIE06IFtcIm1mYVBlbmRpbmdDcmVkZW50aWFsXCIsIFwibWZhRW5yb2xsbWVudElkXCIsIFwicGhvbmVTaWduSW5JbmZvXCJdLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKCFhLnBob25lU2lnbkluSW5mbyB8fCAhYS5waG9uZVNpZ25JbkluZm8ucmVjYXB0Y2hhVG9rZW4pIHRocm93IG5ldyB0KFwibWlzc2luZy1hcHAtY3JlZGVudGlhbFwiKTtcbiAgICB9LFxuICAgIEY6IGZ1bmN0aW9uIEYoYSkge1xuICAgICAgaWYgKCFhLnBob25lUmVzcG9uc2VJbmZvIHx8ICFhLnBob25lUmVzcG9uc2VJbmZvLnNlc3Npb25JbmZvKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIpO1xuICAgIH0sXG4gICAgQzogITAsXG4gICAgTmE6ICEwXG4gIH0sXG4gICAgICB5aiA9IHtcbiAgICBlbmRwb2ludDogXCJ2ZXJpZnlBc3NlcnRpb25cIixcbiAgICBCOiB1aixcbiAgICBYYTogdmosXG4gICAgRjogd2osXG4gICAgVTogITAsXG4gICAgQzogITBcbiAgfSxcbiAgICAgIEFqID0ge1xuICAgIGVuZHBvaW50OiBcInZlcmlmeUFzc2VydGlvblwiLFxuICAgIEI6IHVqLFxuICAgIFhhOiB2aixcbiAgICBGOiBmdW5jdGlvbiBGKGEpIHtcbiAgICAgIGlmIChhLmVycm9yTWVzc2FnZSAmJiBcIlVTRVJfTk9UX0ZPVU5EXCIgPT0gYS5lcnJvck1lc3NhZ2UpIHRocm93IG5ldyB0KFwidXNlci1ub3QtZm91bmRcIik7XG4gICAgICBpZiAoYS5lcnJvck1lc3NhZ2UpIHRocm93IHhqKGEuZXJyb3JNZXNzYWdlKTtcbiAgICAgIFAoYSk7XG4gICAgfSxcbiAgICBVOiAhMCxcbiAgICBDOiAhMFxuICB9LFxuICAgICAgemogPSB7XG4gICAgZW5kcG9pbnQ6IFwidmVyaWZ5QXNzZXJ0aW9uXCIsXG4gICAgQjogZnVuY3Rpb24gQihhKSB7XG4gICAgICB1aihhKTtcbiAgICAgIGlmICghYS5pZFRva2VuKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIpO1xuICAgIH0sXG4gICAgWGE6IHZqLFxuICAgIEY6IHdqLFxuICAgIFU6ICEwXG4gIH0sXG4gICAgICBMaiA9IHtcbiAgICBlbmRwb2ludDogXCJ2ZXJpZnlDdXN0b21Ub2tlblwiLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKCFhLnRva2VuKSB0aHJvdyBuZXcgdChcImludmFsaWQtY3VzdG9tLXRva2VuXCIpO1xuICAgIH0sXG4gICAgRjogUCxcbiAgICBVOiAhMCxcbiAgICBDOiAhMFxuICB9LFxuICAgICAgYmggPSB7XG4gICAgZW5kcG9pbnQ6IFwidmVyaWZ5UGFzc3dvcmRcIixcbiAgICBCOiBmdW5jdGlvbiBCKGEpIHtcbiAgICAgICRpKGEpO1xuICAgICAgaWYgKCFhLnBhc3N3b3JkKSB0aHJvdyBuZXcgdChcIndyb25nLXBhc3N3b3JkXCIpO1xuICAgIH0sXG4gICAgRjogUCxcbiAgICBVOiAhMCxcbiAgICBDOiAhMFxuICB9LFxuICAgICAgb2ogPSB7XG4gICAgZW5kcG9pbnQ6IFwidmVyaWZ5UGhvbmVOdW1iZXJcIixcbiAgICBCOiBmaixcbiAgICBGOiBQLFxuICAgIEM6ICEwXG4gIH0sXG4gICAgICBqaCA9IHtcbiAgICBlbmRwb2ludDogXCJ2ZXJpZnlQaG9uZU51bWJlclwiLFxuICAgIEI6IGZ1bmN0aW9uIEIoYSkge1xuICAgICAgaWYgKCFhLmlkVG9rZW4pIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgICBmaihhKTtcbiAgICB9LFxuICAgIEY6IGZ1bmN0aW9uIEYoYSkge1xuICAgICAgaWYgKGEudGVtcG9yYXJ5UHJvb2YpIHRocm93IGEuY29kZSA9IFwiY3JlZGVudGlhbC1hbHJlYWR5LWluLXVzZVwiLCBBaChhKTtcbiAgICAgIFAoYSk7XG4gICAgfVxuICB9LFxuICAgICAga2ggPSB7XG4gICAgR2I6IHtcbiAgICAgIFVTRVJfTk9UX0ZPVU5EOiBcInVzZXItbm90LWZvdW5kXCJcbiAgICB9LFxuICAgIGVuZHBvaW50OiBcInZlcmlmeVBob25lTnVtYmVyXCIsXG4gICAgQjogZmosXG4gICAgRjogUCxcbiAgICBDOiAhMFxuICB9LFxuICAgICAgTWogPSB7XG4gICAgZW5kcG9pbnQ6IFwiYWNjb3VudHMvbWZhRW5yb2xsbWVudDp3aXRoZHJhd1wiLFxuICAgIE06IFtcImlkVG9rZW5cIiwgXCJtZmFFbnJvbGxtZW50SWRcIl0sXG4gICAgRjogZnVuY3Rpb24gRihhKSB7XG4gICAgICBpZiAoISFhW0VnXSBeICEhYS5yZWZyZXNoVG9rZW4pIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIik7XG4gICAgfSxcbiAgICBDOiAhMCxcbiAgICBOYTogITBcbiAgfTtcblxuICBmdW5jdGlvbiBPKGEsIGIsIGMpIHtcbiAgICBpZiAoIW5mKGMsIGIuTSkpIHJldHVybiBGKG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIikpO1xuICAgIHZhciBkID0gISFiLk5hLFxuICAgICAgICBlID0gYi5UYiB8fCBcIlBPU1RcIixcbiAgICAgICAgZjtcbiAgICByZXR1cm4gRShjKS50aGVuKGIuQikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBiLlUgJiYgKGMucmV0dXJuU2VjdXJlVG9rZW4gPSAhMCk7XG4gICAgICBiLkMgJiYgYS5iICYmIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBjLnRlbmFudElkICYmIChjLnRlbmFudElkID0gYS5iKTtcbiAgICAgIHJldHVybiBkID8gWmkoYSwgYS5pLCBiLmVuZHBvaW50LCBlLCBjLCBiLkdiLCBiLmtiIHx8ICExKSA6IFppKGEsIGEuaCwgYi5lbmRwb2ludCwgZSwgYywgYi5HYiwgYi5rYiB8fCAhMSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZykge1xuICAgICAgZiA9IGc7XG4gICAgICByZXR1cm4gYi5YYSA/IGIuWGEoYywgZikgOiBmO1xuICAgIH0pLnRoZW4oYi5GKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghYi5aKSByZXR1cm4gZjtcbiAgICAgIGlmICghKGIuWiBpbiBmKSkgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICAgIHJldHVybiBmW2IuWl07XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB4aihhKSB7XG4gICAgcmV0dXJuIFlpKHtcbiAgICAgIGVycm9yOiB7XG4gICAgICAgIGVycm9yczogW3tcbiAgICAgICAgICBtZXNzYWdlOiBhXG4gICAgICAgIH1dLFxuICAgICAgICBjb2RlOiA0MDAsXG4gICAgICAgIG1lc3NhZ2U6IGFcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFlpKGEsIGIpIHtcbiAgICB2YXIgYyA9IChhLmVycm9yICYmIGEuZXJyb3IuZXJyb3JzICYmIGEuZXJyb3IuZXJyb3JzWzBdIHx8IHt9KS5yZWFzb24gfHwgXCJcIjtcbiAgICB2YXIgZCA9IHtcbiAgICAgIGtleUludmFsaWQ6IFwiaW52YWxpZC1hcGkta2V5XCIsXG4gICAgICBpcFJlZmVyZXJCbG9ja2VkOiBcImFwcC1ub3QtYXV0aG9yaXplZFwiXG4gICAgfTtcbiAgICBpZiAoYyA9IGRbY10gPyBuZXcgdChkW2NdKSA6IG51bGwpIHJldHVybiBjO1xuICAgIGMgPSBhLmVycm9yICYmIGEuZXJyb3IubWVzc2FnZSB8fCBcIlwiO1xuICAgIGQgPSB7XG4gICAgICBJTlZBTElEX0NVU1RPTV9UT0tFTjogXCJpbnZhbGlkLWN1c3RvbS10b2tlblwiLFxuICAgICAgQ1JFREVOVElBTF9NSVNNQVRDSDogXCJjdXN0b20tdG9rZW4tbWlzbWF0Y2hcIixcbiAgICAgIE1JU1NJTkdfQ1VTVE9NX1RPS0VOOiBcImludGVybmFsLWVycm9yXCIsXG4gICAgICBJTlZBTElEX0lERU5USUZJRVI6IFwiaW52YWxpZC1lbWFpbFwiLFxuICAgICAgTUlTU0lOR19DT05USU5VRV9VUkk6IFwiaW50ZXJuYWwtZXJyb3JcIixcbiAgICAgIElOVkFMSURfRU1BSUw6IFwiaW52YWxpZC1lbWFpbFwiLFxuICAgICAgSU5WQUxJRF9QQVNTV09SRDogXCJ3cm9uZy1wYXNzd29yZFwiLFxuICAgICAgVVNFUl9ESVNBQkxFRDogXCJ1c2VyLWRpc2FibGVkXCIsXG4gICAgICBNSVNTSU5HX1BBU1NXT1JEOiBcImludGVybmFsLWVycm9yXCIsXG4gICAgICBFTUFJTF9FWElTVFM6IFwiZW1haWwtYWxyZWFkeS1pbi11c2VcIixcbiAgICAgIFBBU1NXT1JEX0xPR0lOX0RJU0FCTEVEOiBcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLFxuICAgICAgSU5WQUxJRF9JRFBfUkVTUE9OU0U6IFwiaW52YWxpZC1jcmVkZW50aWFsXCIsXG4gICAgICBJTlZBTElEX1BFTkRJTkdfVE9LRU46IFwiaW52YWxpZC1jcmVkZW50aWFsXCIsXG4gICAgICBGRURFUkFURURfVVNFUl9JRF9BTFJFQURZX0xJTktFRDogXCJjcmVkZW50aWFsLWFscmVhZHktaW4tdXNlXCIsXG4gICAgICBNSVNTSU5HX09SX0lOVkFMSURfTk9OQ0U6IFwibWlzc2luZy1vci1pbnZhbGlkLW5vbmNlXCIsXG4gICAgICBJTlZBTElEX01FU1NBR0VfUEFZTE9BRDogXCJpbnZhbGlkLW1lc3NhZ2UtcGF5bG9hZFwiLFxuICAgICAgSU5WQUxJRF9SRUNJUElFTlRfRU1BSUw6IFwiaW52YWxpZC1yZWNpcGllbnQtZW1haWxcIixcbiAgICAgIElOVkFMSURfU0VOREVSOiBcImludmFsaWQtc2VuZGVyXCIsXG4gICAgICBFTUFJTF9OT1RfRk9VTkQ6IFwidXNlci1ub3QtZm91bmRcIixcbiAgICAgIFJFU0VUX1BBU1NXT1JEX0VYQ0VFRF9MSU1JVDogXCJ0b28tbWFueS1yZXF1ZXN0c1wiLFxuICAgICAgRVhQSVJFRF9PT0JfQ09ERTogXCJleHBpcmVkLWFjdGlvbi1jb2RlXCIsXG4gICAgICBJTlZBTElEX09PQl9DT0RFOiBcImludmFsaWQtYWN0aW9uLWNvZGVcIixcbiAgICAgIE1JU1NJTkdfT09CX0NPREU6IFwiaW50ZXJuYWwtZXJyb3JcIixcbiAgICAgIElOVkFMSURfUFJPVklERVJfSUQ6IFwiaW52YWxpZC1wcm92aWRlci1pZFwiLFxuICAgICAgQ1JFREVOVElBTF9UT09fT0xEX0xPR0lOX0FHQUlOOiBcInJlcXVpcmVzLXJlY2VudC1sb2dpblwiLFxuICAgICAgSU5WQUxJRF9JRF9UT0tFTjogXCJpbnZhbGlkLXVzZXItdG9rZW5cIixcbiAgICAgIFRPS0VOX0VYUElSRUQ6IFwidXNlci10b2tlbi1leHBpcmVkXCIsXG4gICAgICBVU0VSX05PVF9GT1VORDogXCJ1c2VyLXRva2VuLWV4cGlyZWRcIixcbiAgICAgIENPUlNfVU5TVVBQT1JURUQ6IFwiY29ycy11bnN1cHBvcnRlZFwiLFxuICAgICAgRFlOQU1JQ19MSU5LX05PVF9BQ1RJVkFURUQ6IFwiZHluYW1pYy1saW5rLW5vdC1hY3RpdmF0ZWRcIixcbiAgICAgIElOVkFMSURfQVBQX0lEOiBcImludmFsaWQtYXBwLWlkXCIsXG4gICAgICBUT09fTUFOWV9BVFRFTVBUU19UUllfTEFURVI6IFwidG9vLW1hbnktcmVxdWVzdHNcIixcbiAgICAgIFdFQUtfUEFTU1dPUkQ6IFwid2Vhay1wYXNzd29yZFwiLFxuICAgICAgT1BFUkFUSU9OX05PVF9BTExPV0VEOiBcIm9wZXJhdGlvbi1ub3QtYWxsb3dlZFwiLFxuICAgICAgVVNFUl9DQU5DRUxMRUQ6IFwidXNlci1jYW5jZWxsZWRcIixcbiAgICAgIENBUFRDSEFfQ0hFQ0tfRkFJTEVEOiBcImNhcHRjaGEtY2hlY2stZmFpbGVkXCIsXG4gICAgICBJTlZBTElEX0FQUF9DUkVERU5USUFMOiBcImludmFsaWQtYXBwLWNyZWRlbnRpYWxcIixcbiAgICAgIElOVkFMSURfQ09ERTogXCJpbnZhbGlkLXZlcmlmaWNhdGlvbi1jb2RlXCIsXG4gICAgICBJTlZBTElEX1BIT05FX05VTUJFUjogXCJpbnZhbGlkLXBob25lLW51bWJlclwiLFxuICAgICAgSU5WQUxJRF9TRVNTSU9OX0lORk86IFwiaW52YWxpZC12ZXJpZmljYXRpb24taWRcIixcbiAgICAgIElOVkFMSURfVEVNUE9SQVJZX1BST09GOiBcImludmFsaWQtY3JlZGVudGlhbFwiLFxuICAgICAgTUlTU0lOR19BUFBfQ1JFREVOVElBTDogXCJtaXNzaW5nLWFwcC1jcmVkZW50aWFsXCIsXG4gICAgICBNSVNTSU5HX0NPREU6IFwibWlzc2luZy12ZXJpZmljYXRpb24tY29kZVwiLFxuICAgICAgTUlTU0lOR19QSE9ORV9OVU1CRVI6IFwibWlzc2luZy1waG9uZS1udW1iZXJcIixcbiAgICAgIE1JU1NJTkdfU0VTU0lPTl9JTkZPOiBcIm1pc3NpbmctdmVyaWZpY2F0aW9uLWlkXCIsXG4gICAgICBRVU9UQV9FWENFRURFRDogXCJxdW90YS1leGNlZWRlZFwiLFxuICAgICAgU0VTU0lPTl9FWFBJUkVEOiBcImNvZGUtZXhwaXJlZFwiLFxuICAgICAgUkVKRUNURURfQ1JFREVOVElBTDogXCJyZWplY3RlZC1jcmVkZW50aWFsXCIsXG4gICAgICBJTlZBTElEX0NPTlRJTlVFX1VSSTogXCJpbnZhbGlkLWNvbnRpbnVlLXVyaVwiLFxuICAgICAgTUlTU0lOR19BTkRST0lEX1BBQ0tBR0VfTkFNRTogXCJtaXNzaW5nLWFuZHJvaWQtcGtnLW5hbWVcIixcbiAgICAgIE1JU1NJTkdfSU9TX0JVTkRMRV9JRDogXCJtaXNzaW5nLWlvcy1idW5kbGUtaWRcIixcbiAgICAgIFVOQVVUSE9SSVpFRF9ET01BSU46IFwidW5hdXRob3JpemVkLWNvbnRpbnVlLXVyaVwiLFxuICAgICAgSU5WQUxJRF9EWU5BTUlDX0xJTktfRE9NQUlOOiBcImludmFsaWQtZHluYW1pYy1saW5rLWRvbWFpblwiLFxuICAgICAgSU5WQUxJRF9PQVVUSF9DTElFTlRfSUQ6IFwiaW52YWxpZC1vYXV0aC1jbGllbnQtaWRcIixcbiAgICAgIElOVkFMSURfQ0VSVF9IQVNIOiBcImludmFsaWQtY2VydC1oYXNoXCIsXG4gICAgICBVTlNVUFBPUlRFRF9URU5BTlRfT1BFUkFUSU9OOiBcInVuc3VwcG9ydGVkLXRlbmFudC1vcGVyYXRpb25cIixcbiAgICAgIElOVkFMSURfVEVOQU5UX0lEOiBcImludmFsaWQtdGVuYW50LWlkXCIsXG4gICAgICBURU5BTlRfSURfTUlTTUFUQ0g6IFwidGVuYW50LWlkLW1pc21hdGNoXCIsXG4gICAgICBBRE1JTl9PTkxZX09QRVJBVElPTjogXCJhZG1pbi1yZXN0cmljdGVkLW9wZXJhdGlvblwiLFxuICAgICAgSU5WQUxJRF9NRkFfUEVORElOR19DUkVERU5USUFMOiBcImludmFsaWQtbXVsdGktZmFjdG9yLXNlc3Npb25cIixcbiAgICAgIE1GQV9FTlJPTExNRU5UX05PVF9GT1VORDogXCJtdWx0aS1mYWN0b3ItaW5mby1ub3QtZm91bmRcIixcbiAgICAgIE1JU1NJTkdfTUZBX1BFTkRJTkdfQ1JFREVOVElBTDogXCJtaXNzaW5nLW11bHRpLWZhY3Rvci1zZXNzaW9uXCIsXG4gICAgICBNSVNTSU5HX01GQV9FTlJPTExNRU5UX0lEOiBcIm1pc3NpbmctbXVsdGktZmFjdG9yLWluZm9cIixcbiAgICAgIEVNQUlMX0NIQU5HRV9ORUVEU19WRVJJRklDQVRJT046IFwiZW1haWwtY2hhbmdlLW5lZWRzLXZlcmlmaWNhdGlvblwiLFxuICAgICAgU0VDT05EX0ZBQ1RPUl9FWElTVFM6IFwic2Vjb25kLWZhY3Rvci1hbHJlYWR5LWluLXVzZVwiLFxuICAgICAgU0VDT05EX0ZBQ1RPUl9MSU1JVF9FWENFRURFRDogXCJtYXhpbXVtLXNlY29uZC1mYWN0b3ItY291bnQtZXhjZWVkZWRcIixcbiAgICAgIFVOU1VQUE9SVEVEX0ZJUlNUX0ZBQ1RPUjogXCJ1bnN1cHBvcnRlZC1maXJzdC1mYWN0b3JcIixcbiAgICAgIFVOVkVSSUZJRURfRU1BSUw6IFwidW52ZXJpZmllZC1lbWFpbFwiXG4gICAgfTtcbiAgICB6KGQsIGIgfHwge30pO1xuICAgIGIgPSAoYiA9IGMubWF0Y2goL15bXlxcc10rXFxzKjpcXHMqKFtcXHNcXFNdKikkLykpICYmIDEgPCBiLmxlbmd0aCA/IGJbMV0gOiB2b2lkIDA7XG5cbiAgICBmb3IgKHZhciBlIGluIGQpIHtcbiAgICAgIGlmICgwID09PSBjLmluZGV4T2YoZSkpIHJldHVybiBuZXcgdChkW2VdLCBiKTtcbiAgICB9XG5cbiAgICAhYiAmJiBhICYmIChiID0gVWUoYSkpO1xuICAgIHJldHVybiBuZXcgdChcImludGVybmFsLWVycm9yXCIsIGIpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIE5qKGEpIHtcbiAgICB0aGlzLmIgPSBhO1xuICAgIHRoaXMuYSA9IG51bGw7XG4gICAgdGhpcy5xYiA9IE9qKHRoaXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gT2ooYSkge1xuICAgIHJldHVybiBQaigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiLCBjKSB7XG4gICAgICAgIEwoXCJnYXBpLmlmcmFtZXMuZ2V0Q29udGV4dFwiKSgpLm9wZW4oe1xuICAgICAgICAgIHdoZXJlOiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgIHVybDogYS5iLFxuICAgICAgICAgIG1lc3NhZ2VIYW5kbGVyc0ZpbHRlcjogTChcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIiksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgdG9wOiBcIi0xMDBweFwiLFxuICAgICAgICAgICAgICB3aWR0aDogXCIxcHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjFweFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBkb250Y2xlYXI6ICEwXG4gICAgICAgIH0sIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgZnVuY3Rpb24gZSgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChmKTtcbiAgICAgICAgICAgIGIoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhLmEgPSBkO1xuICAgICAgICAgIGEuYS5yZXN0eWxlKHtcbiAgICAgICAgICAgIHNldEhpZGVPbkxlYXZlOiAhMVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHZhciBmID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjKEVycm9yKFwiTmV0d29yayBFcnJvclwiKSk7XG4gICAgICAgICAgfSwgUWouZ2V0KCkpO1xuICAgICAgICAgIGQucGluZyhlKS50aGVuKGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGMoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFJqKGEsIGIpIHtcbiAgICByZXR1cm4gYS5xYi50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoYykge1xuICAgICAgICBhLmEuc2VuZChiLnR5cGUsIGIsIGMsIEwoXCJnYXBpLmlmcmFtZXMuQ1JPU1NfT1JJR0lOX0lGUkFNRVNfRklMVEVSXCIpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gU2ooYSwgYikge1xuICAgIGEucWIudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBhLmEucmVnaXN0ZXIoXCJhdXRoRXZlbnRcIiwgYiwgTChcImdhcGkuaWZyYW1lcy5DUk9TU19PUklHSU5fSUZSQU1FU19GSUxURVJcIikpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIFRqID0gbmV3IHFiKHJiLCBcImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2FwaS5qcz9vbmxvYWQ9JXtvbmxvYWR9XCIpLFxuICAgICAgVWogPSBuZXcgWmUoM0U0LCA2RTQpLFxuICAgICAgUWogPSBuZXcgWmUoNUUzLCAxNUUzKSxcbiAgICAgIFZqID0gbnVsbDtcblxuICBmdW5jdGlvbiBQaigpIHtcbiAgICByZXR1cm4gVmogPyBWaiA6IFZqID0gbmV3IEQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgIGZ1bmN0aW9uIGMoKSB7XG4gICAgICAgIFllKCk7XG4gICAgICAgIEwoXCJnYXBpLmxvYWRcIikoXCJnYXBpLmlmcmFtZXNcIiwge1xuICAgICAgICAgIGNhbGxiYWNrOiBhLFxuICAgICAgICAgIG9udGltZW91dDogZnVuY3Rpb24gb250aW1lb3V0KCkge1xuICAgICAgICAgICAgWWUoKTtcbiAgICAgICAgICAgIGIoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRpbWVvdXQ6IFVqLmdldCgpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoTChcImdhcGkuaWZyYW1lcy5JZnJhbWVcIikpIGEoKTtlbHNlIGlmIChMKFwiZ2FwaS5sb2FkXCIpKSBjKCk7ZWxzZSB7XG4gICAgICAgIHZhciBkID0gXCJfX2lmcmFtZWZjYlwiICsgTWF0aC5mbG9vcigxRTYgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygpO1xuXG4gICAgICAgIGxbZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgTChcImdhcGkubG9hZFwiKSA/IGMoKSA6IGIoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkID0gemIoVGosIHtcbiAgICAgICAgICBvbmxvYWQ6IGRcbiAgICAgICAgfSk7XG4gICAgICAgIEUoQ2koZCkpLnMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGIoRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkucyhmdW5jdGlvbiAoYSkge1xuICAgICAgVmogPSBudWxsO1xuICAgICAgdGhyb3cgYTtcbiAgICB9KTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBXaihhLCBiLCBjLCBkKSB7XG4gICAgdGhpcy5sID0gYTtcbiAgICB0aGlzLmggPSBiO1xuICAgIHRoaXMuaSA9IGM7XG4gICAgdGhpcy5nID0gZDtcbiAgICB0aGlzLmYgPSBudWxsO1xuICAgIHRoaXMuZyA/IChhID0gYmUodGhpcy5nLnVybCksIGEgPSBjZShhLmYsIGEuYSwgYS5nLCBcIi9lbXVsYXRvci9hdXRoL2lmcmFtZVwiKSkgOiBhID0gY2UoXCJodHRwc1wiLCB0aGlzLmwsIG51bGwsIFwiL19fL2F1dGgvaWZyYW1lXCIpO1xuICAgIHRoaXMuYSA9IGE7XG4gICAgSih0aGlzLmEsIFwiYXBpS2V5XCIsIHRoaXMuaCk7XG4gICAgSih0aGlzLmEsIFwiYXBwTmFtZVwiLCB0aGlzLmkpO1xuICAgIHRoaXMuYiA9IG51bGw7XG4gICAgdGhpcy5jID0gW107XG4gIH1cblxuICBXai5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mID8gSih0aGlzLmEsIFwidlwiLCB0aGlzLmYpIDogaWUodGhpcy5hLmIsIFwidlwiKTtcbiAgICB0aGlzLmIgPyBKKHRoaXMuYSwgXCJlaWRcIiwgdGhpcy5iKSA6IGllKHRoaXMuYS5iLCBcImVpZFwiKTtcbiAgICB0aGlzLmMubGVuZ3RoID8gSih0aGlzLmEsIFwiZndcIiwgdGhpcy5jLmpvaW4oXCIsXCIpKSA6IGllKHRoaXMuYS5iLCBcImZ3XCIpO1xuICAgIHJldHVybiB0aGlzLmEudG9TdHJpbmcoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBYaihhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgdGhpcy51ID0gYTtcbiAgICB0aGlzLm8gPSBiO1xuICAgIHRoaXMuYyA9IGM7XG4gICAgdGhpcy52ID0gZDtcbiAgICB0aGlzLm0gPSBmO1xuICAgIHRoaXMuaSA9IHRoaXMuZyA9IHRoaXMubCA9IG51bGw7XG4gICAgdGhpcy5hID0gZTtcbiAgICB0aGlzLmggPSB0aGlzLmYgPSBudWxsO1xuICB9XG5cbiAgWGoucHJvdG90eXBlLnhiID0gZnVuY3Rpb24gKGEpIHtcbiAgICB0aGlzLmggPSBhO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFhqLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tKSB7XG4gICAgICB2YXIgYSA9IGJlKHRoaXMubS51cmwpO1xuICAgICAgYSA9IGNlKGEuZiwgYS5hLCBhLmcsIFwiL2VtdWxhdG9yL2F1dGgvaGFuZGxlclwiKTtcbiAgICB9IGVsc2UgYSA9IGNlKFwiaHR0cHNcIiwgdGhpcy51LCBudWxsLCBcIi9fXy9hdXRoL2hhbmRsZXJcIik7XG5cbiAgICBKKGEsIFwiYXBpS2V5XCIsIHRoaXMubyk7XG4gICAgSihhLCBcImFwcE5hbWVcIiwgdGhpcy5jKTtcbiAgICBKKGEsIFwiYXV0aFR5cGVcIiwgdGhpcy52KTtcblxuICAgIGlmICh0aGlzLmEuaXNPQXV0aFByb3ZpZGVyKSB7XG4gICAgICB2YXIgYiA9IHRoaXMuYTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGMgPSBmaXJlYmFzZS5hcHAodGhpcy5jKS5hdXRoKCkua2EoKTtcbiAgICAgIH0gY2F0Y2ggKGgpIHtcbiAgICAgICAgYyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIGIubmIgPSBjO1xuICAgICAgSihhLCBcInByb3ZpZGVySWRcIiwgdGhpcy5hLnByb3ZpZGVySWQpO1xuICAgICAgYyA9IHRoaXMuYTtcbiAgICAgIGIgPSBWZShjLkhiKTtcblxuICAgICAgZm9yICh2YXIgZCBpbiBiKSB7XG4gICAgICAgIGJbZF0gPSBiW2RdLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGQgPSBjLlBjO1xuICAgICAgYiA9IG5iKGIpO1xuXG4gICAgICBmb3IgKHZhciBlID0gMDsgZSA8IGQubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgdmFyIGYgPSBkW2VdO1xuICAgICAgICBmIGluIGIgJiYgZGVsZXRlIGJbZl07XG4gICAgICB9XG5cbiAgICAgIGMub2IgJiYgYy5uYiAmJiAhYltjLm9iXSAmJiAoYltjLm9iXSA9IGMubmIpO1xuICAgICAgbWIoYikgfHwgSihhLCBcImN1c3RvbVBhcmFtZXRlcnNcIiwgVWUoYikpO1xuICAgIH1cblxuICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRoaXMuYS5QYiAmJiAoYyA9IHRoaXMuYS5QYigpLCBjLmxlbmd0aCAmJiBKKGEsIFwic2NvcGVzXCIsIGMuam9pbihcIixcIikpKTtcbiAgICB0aGlzLmwgPyBKKGEsIFwicmVkaXJlY3RVcmxcIiwgdGhpcy5sKSA6IGllKGEuYiwgXCJyZWRpcmVjdFVybFwiKTtcbiAgICB0aGlzLmcgPyBKKGEsIFwiZXZlbnRJZFwiLCB0aGlzLmcpIDogaWUoYS5iLCBcImV2ZW50SWRcIik7XG4gICAgdGhpcy5pID8gSihhLCBcInZcIiwgdGhpcy5pKSA6IGllKGEuYiwgXCJ2XCIpO1xuICAgIGlmICh0aGlzLmIpIGZvciAodmFyIGcgaW4gdGhpcy5iKSB7XG4gICAgICB0aGlzLmIuaGFzT3duUHJvcGVydHkoZykgJiYgIWFlKGEsIGcpICYmIEooYSwgZywgdGhpcy5iW2ddKTtcbiAgICB9XG4gICAgdGhpcy5oID8gSihhLCBcInRpZFwiLCB0aGlzLmgpIDogaWUoYS5iLCBcInRpZFwiKTtcbiAgICB0aGlzLmYgPyBKKGEsIFwiZWlkXCIsIHRoaXMuZikgOiBpZShhLmIsIFwiZWlkXCIpO1xuICAgIGcgPSBZaih0aGlzLmMpO1xuICAgIGcubGVuZ3RoICYmIEooYSwgXCJmd1wiLCBnLmpvaW4oXCIsXCIpKTtcbiAgICByZXR1cm4gYS50b1N0cmluZygpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFlqKGEpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpcmViYXNlLmFwcChhKS5hdXRoKCkuR2EoKTtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gWmooYSwgYiwgYywgZCwgZSwgZikge1xuICAgIHRoaXMubyA9IGE7XG4gICAgdGhpcy5nID0gYjtcbiAgICB0aGlzLmIgPSBjO1xuICAgIHRoaXMuZiA9IGY7XG4gICAgdGhpcy5jID0gZCB8fCBudWxsO1xuICAgIHRoaXMuaSA9IGUgfHwgbnVsbDtcbiAgICB0aGlzLmwgPSB0aGlzLnUgPSB0aGlzLkEgPSBudWxsO1xuICAgIHRoaXMuaCA9IFtdO1xuICAgIHRoaXMudiA9IHRoaXMuYSA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBhayhhKSB7XG4gICAgdmFyIGIgPSByZSgpO1xuICAgIHJldHVybiBkaihhKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICBhOiB7XG4gICAgICAgIHZhciBkID0gYmUoYiksXG4gICAgICAgICAgICBlID0gZC5mO1xuICAgICAgICBkID0gZC5hO1xuXG4gICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgYy5sZW5ndGg7IGYrKykge1xuICAgICAgICAgIHZhciBnID0gY1tmXTtcbiAgICAgICAgICB2YXIgaCA9IGQ7XG4gICAgICAgICAgdmFyIG4gPSBlO1xuICAgICAgICAgIDAgPT0gZy5pbmRleE9mKFwiY2hyb21lLWV4dGVuc2lvbjovL1wiKSA/IGggPSBiZShnKS5hID09IGggJiYgXCJjaHJvbWUtZXh0ZW5zaW9uXCIgPT0gbiA6IFwiaHR0cFwiICE9IG4gJiYgXCJodHRwc1wiICE9IG4gPyBoID0gITEgOiBDZS50ZXN0KGcpID8gaCA9IGggPT0gZyA6IChnID0gZy5zcGxpdChcIi5cIikuam9pbihcIlxcXFwuXCIpLCBoID0gbmV3IFJlZ0V4cChcIl4oLitcXFxcLlwiICsgZyArIFwifFwiICsgZyArIFwiKSRcIiwgXCJpXCIpLnRlc3QoaCkpO1xuXG4gICAgICAgICAgaWYgKGgpIHtcbiAgICAgICAgICAgIGMgPSAhMDtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYyA9ICExO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWMpIHRocm93IG5ldyB5aChyZSgpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJrKGEpIHtcbiAgICBpZiAoYS52KSByZXR1cm4gYS52O1xuICAgIGEudiA9IEVlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWEudSkge1xuICAgICAgICB2YXIgYiA9IGEuYyxcbiAgICAgICAgICAgIGMgPSBhLmksXG4gICAgICAgICAgICBkID0gWWooYS5iKSxcbiAgICAgICAgICAgIGUgPSBuZXcgV2ooYS5vLCBhLmcsIGEuYiwgYS5mKTtcbiAgICAgICAgZS5mID0gYjtcbiAgICAgICAgZS5iID0gYztcbiAgICAgICAgZS5jID0gWmEoZCB8fCBbXSk7XG4gICAgICAgIGEudSA9IGUudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgYS5tID0gbmV3IE5qKGEudSk7XG4gICAgICBjayhhKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYS52O1xuICB9XG5cbiAgayA9IFpqLnByb3RvdHlwZTtcblxuICBrLk5iID0gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICB2YXIgZCA9IG5ldyB0KFwicG9wdXAtY2xvc2VkLWJ5LXVzZXJcIiksXG4gICAgICAgIGUgPSBuZXcgdChcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpLFxuICAgICAgICBmID0gdGhpcyxcbiAgICAgICAgZyA9ICExO1xuICAgIHJldHVybiB0aGlzLmxhKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBkayhmKS50aGVuKGZ1bmN0aW9uIChoKSB7XG4gICAgICAgIGggfHwgKGEgJiYgeWUoYSksIGIoZSksIGcgPSAhMCk7XG4gICAgICB9KTtcbiAgICB9KS5zKGZ1bmN0aW9uICgpIHt9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghZykgcmV0dXJuIEJlKGEpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFnKSByZXR1cm4gRWQoYykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGIoZCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBrLldiID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gSygpO1xuICAgIHJldHVybiAhVGUoYSkgJiYgIVhlKGEpO1xuICB9O1xuXG4gIGsuU2IgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICExO1xuICB9O1xuXG4gIGsuTGIgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZiwgZywgaCkge1xuICAgIGlmICghYSkgcmV0dXJuIEYobmV3IHQoXCJwb3B1cC1ibG9ja2VkXCIpKTtcbiAgICBpZiAoZyAmJiAhVGUoKSkgcmV0dXJuIHRoaXMubGEoKS5zKGZ1bmN0aW9uIChwKSB7XG4gICAgICB5ZShhKTtcbiAgICAgIGUocCk7XG4gICAgfSksIGQoKSwgRSgpO1xuICAgIHRoaXMuYSB8fCAodGhpcy5hID0gYWsoZWsodGhpcykpKTtcbiAgICB2YXIgbiA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXMuYS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwID0gbi5sYSgpLnMoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgeWUoYSk7XG4gICAgICAgIGUodik7XG4gICAgICAgIHRocm93IHY7XG4gICAgICB9KTtcbiAgICAgIGQoKTtcbiAgICAgIHJldHVybiBwO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgc2goYyk7XG5cbiAgICAgIGlmICghZykge1xuICAgICAgICB2YXIgcCA9IGZrKG4ubywgbi5nLCBuLmIsIGIsIGMsIG51bGwsIGYsIG4uYywgdm9pZCAwLCBuLmksIGgsIG4uZik7XG4gICAgICAgIHNlKHAsIGEpO1xuICAgICAgfVxuICAgIH0pLnMoZnVuY3Rpb24gKHApIHtcbiAgICAgIFwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIgPT0gcC5jb2RlICYmIChuLmEgPSBudWxsKTtcbiAgICAgIHRocm93IHA7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZWsoYSkge1xuICAgIGEubCB8fCAoYS5BID0gYS5jID8gT2UoYS5jLCBZaihhLmIpKSA6IG51bGwsIGEubCA9IG5ldyBKaShhLmcsIENhKGEuaSksIGEuQSksIGEuZiAmJiBRaShhLmwsIGEuZikpO1xuICAgIHJldHVybiBhLmw7XG4gIH1cblxuICBrLk1iID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICB0aGlzLmEgfHwgKHRoaXMuYSA9IGFrKGVrKHRoaXMpKSk7XG4gICAgdmFyIGUgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLmEudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBzaChiKTtcbiAgICAgIHZhciBmID0gZmsoZS5vLCBlLmcsIGUuYiwgYSwgYiwgcmUoKSwgYywgZS5jLCB2b2lkIDAsIGUuaSwgZCwgZS5mKTtcbiAgICAgIHNlKGYpO1xuICAgIH0pLnMoZnVuY3Rpb24gKGYpIHtcbiAgICAgIFwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIgPT0gZi5jb2RlICYmIChlLmEgPSBudWxsKTtcbiAgICAgIHRocm93IGY7XG4gICAgfSk7XG4gIH07XG5cbiAgay5sYSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHRoaXM7XG4gICAgcmV0dXJuIGJrKHRoaXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEubS5xYjtcbiAgICB9KS5zKGZ1bmN0aW9uICgpIHtcbiAgICAgIGEuYSA9IG51bGw7XG4gICAgICB0aHJvdyBuZXcgdChcIm5ldHdvcmstcmVxdWVzdC1mYWlsZWRcIik7XG4gICAgfSk7XG4gIH07XG5cbiAgay5aYiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gITA7XG4gIH07XG5cbiAgZnVuY3Rpb24gZmsoYSwgYiwgYywgZCwgZSwgZiwgZywgaCwgbiwgcCwgdiwgQikge1xuICAgIGEgPSBuZXcgWGooYSwgYiwgYywgZCwgZSwgQik7XG4gICAgYS5sID0gZjtcbiAgICBhLmcgPSBnO1xuICAgIGEuaSA9IGg7XG4gICAgYS5iID0gbmIobiB8fCBudWxsKTtcbiAgICBhLmYgPSBwO1xuICAgIHJldHVybiBhLnhiKHYpLnRvU3RyaW5nKCk7XG4gIH1cblxuICBmdW5jdGlvbiBjayhhKSB7XG4gICAgaWYgKCFhLm0pIHRocm93IEVycm9yKFwiSWZjSGFuZGxlciBtdXN0IGJlIGluaXRpYWxpemVkIVwiKTtcbiAgICBTaihhLm0sIGZ1bmN0aW9uIChiKSB7XG4gICAgICB2YXIgYyA9IHt9O1xuXG4gICAgICBpZiAoYiAmJiBiLmF1dGhFdmVudCkge1xuICAgICAgICB2YXIgZCA9ICExO1xuICAgICAgICBiID0gdWgoYi5hdXRoRXZlbnQpO1xuXG4gICAgICAgIGZvciAoYyA9IDA7IGMgPCBhLmgubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgICBkID0gYS5oW2NdKGIpIHx8IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBjID0ge307XG4gICAgICAgIGMuc3RhdHVzID0gZCA/IFwiQUNLXCIgOiBcIkVSUk9SXCI7XG4gICAgICAgIHJldHVybiBFKGMpO1xuICAgICAgfVxuXG4gICAgICBjLnN0YXR1cyA9IFwiRVJST1JcIjtcbiAgICAgIHJldHVybiBFKGMpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGsoYSkge1xuICAgIHZhciBiID0ge1xuICAgICAgdHlwZTogXCJ3ZWJTdG9yYWdlU3VwcG9ydFwiXG4gICAgfTtcbiAgICByZXR1cm4gYmsoYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUmooYS5tLCBiKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoYyAmJiBjLmxlbmd0aCAmJiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgY1swXS53ZWJTdG9yYWdlU3VwcG9ydCkgcmV0dXJuIGNbMF0ud2ViU3RvcmFnZVN1cHBvcnQ7XG4gICAgICB0aHJvdyBFcnJvcigpO1xuICAgIH0pO1xuICB9XG5cbiAgay5FYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdGhpcy5oLnB1c2goYSk7XG4gIH07XG5cbiAgay5SYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgWGEodGhpcy5oLCBmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIGIgPT0gYTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBnayhhKSB7XG4gICAgdGhpcy5hID0gYSB8fCBmaXJlYmFzZS5JTlRFUk5BTC5yZWFjdE5hdGl2ZSAmJiBmaXJlYmFzZS5JTlRFUk5BTC5yZWFjdE5hdGl2ZS5Bc3luY1N0b3JhZ2U7XG4gICAgaWYgKCF0aGlzLmEpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJUaGUgUmVhY3QgTmF0aXZlIGNvbXBhdGliaWxpdHkgbGlicmFyeSB3YXMgbm90IGZvdW5kLlwiKTtcbiAgICB0aGlzLnR5cGUgPSBcImFzeW5jU3RvcmFnZVwiO1xuICB9XG5cbiAgayA9IGdrLnByb3RvdHlwZTtcblxuICBrLmdldCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIEUodGhpcy5hLmdldEl0ZW0oYSkpLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIHJldHVybiBiICYmIFdlKGIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gRSh0aGlzLmEuc2V0SXRlbShhLCBVZShiKSkpO1xuICB9O1xuXG4gIGsuVCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIEUodGhpcy5hLnJlbW92ZUl0ZW0oYSkpO1xuICB9O1xuXG4gIGsuY2EgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBrLmlhID0gZnVuY3Rpb24gKCkge307XG5cbiAgZnVuY3Rpb24gaGsoYSkge1xuICAgIHRoaXMuYiA9IGE7XG4gICAgdGhpcy5hID0ge307XG4gICAgdGhpcy5mID0gcSh0aGlzLmMsIHRoaXMpO1xuICB9XG5cbiAgdmFyIGlrID0gW107XG5cbiAgZnVuY3Rpb24gamsoKSB7XG4gICAgdmFyIGEgPSBKZSgpID8gc2VsZiA6IG51bGw7XG4gICAgdyhpaywgZnVuY3Rpb24gKGMpIHtcbiAgICAgIGMuYiA9PSBhICYmIChiID0gYyk7XG4gICAgfSk7XG5cbiAgICBpZiAoIWIpIHtcbiAgICAgIHZhciBiID0gbmV3IGhrKGEpO1xuICAgICAgaWsucHVzaChiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGhrLnByb3RvdHlwZS5jID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IGEuZGF0YS5ldmVudFR5cGUsXG4gICAgICAgIGMgPSBhLmRhdGEuZXZlbnRJZCxcbiAgICAgICAgZCA9IHRoaXMuYVtiXTtcblxuICAgIGlmIChkICYmIDAgPCBkLmxlbmd0aCkge1xuICAgICAgYS5wb3J0c1swXS5wb3N0TWVzc2FnZSh7XG4gICAgICAgIHN0YXR1czogXCJhY2tcIixcbiAgICAgICAgZXZlbnRJZDogYyxcbiAgICAgICAgZXZlbnRUeXBlOiBiLFxuICAgICAgICByZXNwb25zZTogbnVsbFxuICAgICAgfSk7XG4gICAgICB2YXIgZSA9IFtdO1xuICAgICAgdyhkLCBmdW5jdGlvbiAoZikge1xuICAgICAgICBlLnB1c2goRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmKGEub3JpZ2luLCBhLmRhdGEuZGF0YSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pO1xuICAgICAgSmMoZSkudGhlbihmdW5jdGlvbiAoZikge1xuICAgICAgICB2YXIgZyA9IFtdO1xuICAgICAgICB3KGYsIGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgZy5wdXNoKHtcbiAgICAgICAgICAgIGZ1bGZpbGxlZDogaC5PYixcbiAgICAgICAgICAgIHZhbHVlOiBoLnZhbHVlLFxuICAgICAgICAgICAgcmVhc29uOiBoLnJlYXNvbiA/IGgucmVhc29uLm1lc3NhZ2UgOiB2b2lkIDBcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHcoZywgZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICBmb3IgKHZhciBuIGluIGgpIHtcbiAgICAgICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBoW25dICYmIGRlbGV0ZSBoW25dO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGEucG9ydHNbMF0ucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgIHN0YXR1czogXCJkb25lXCIsXG4gICAgICAgICAgZXZlbnRJZDogYyxcbiAgICAgICAgICBldmVudFR5cGU6IGIsXG4gICAgICAgICAgcmVzcG9uc2U6IGdcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24ga2soYSwgYiwgYykge1xuICAgIG1iKGEuYSkgJiYgYS5iLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGEuZik7XG4gICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGEuYVtiXSAmJiAoYS5hW2JdID0gW10pO1xuICAgIGEuYVtiXS5wdXNoKGMpO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIGxrKGEpIHtcbiAgICB0aGlzLmEgPSBhO1xuICB9XG5cbiAgbGsucHJvdG90eXBlLnBvc3RNZXNzYWdlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB0aGlzLmEucG9zdE1lc3NhZ2UoYSwgYik7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWsoYSkge1xuICAgIHRoaXMuYyA9IGE7XG4gICAgdGhpcy5iID0gITE7XG4gICAgdGhpcy5hID0gW107XG4gIH1cblxuICBmdW5jdGlvbiBuayhhLCBiLCBjLCBkKSB7XG4gICAgdmFyIGUsXG4gICAgICAgIGYgPSBjIHx8IHt9LFxuICAgICAgICBnLFxuICAgICAgICBoLFxuICAgICAgICBuLFxuICAgICAgICBwID0gbnVsbDtcbiAgICBpZiAoYS5iKSByZXR1cm4gRihFcnJvcihcImNvbm5lY3Rpb25fdW5hdmFpbGFibGVcIikpO1xuICAgIHZhciB2ID0gZCA/IDgwMCA6IDUwLFxuICAgICAgICBCID0gXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsID8gbmV3IE1lc3NhZ2VDaGFubmVsKCkgOiBudWxsO1xuICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoQSwgUSkge1xuICAgICAgQiA/IChlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5wb3coMTAsIDIwKSkudG9TdHJpbmcoKSwgQi5wb3J0MS5zdGFydCgpLCBoID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIFEoRXJyb3IoXCJ1bnN1cHBvcnRlZF9ldmVudFwiKSk7XG4gICAgICB9LCB2KSwgZyA9IGZ1bmN0aW9uIGcoeGEpIHtcbiAgICAgICAgeGEuZGF0YS5ldmVudElkID09PSBlICYmIChcImFja1wiID09PSB4YS5kYXRhLnN0YXR1cyA/IChjbGVhclRpbWVvdXQoaCksIG4gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBRKEVycm9yKFwidGltZW91dFwiKSk7XG4gICAgICAgIH0sIDNFMykpIDogXCJkb25lXCIgPT09IHhhLmRhdGEuc3RhdHVzID8gKGNsZWFyVGltZW91dChuKSwgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIHhhLmRhdGEucmVzcG9uc2UgPyBBKHhhLmRhdGEucmVzcG9uc2UpIDogUShFcnJvcihcInVua25vd25fZXJyb3JcIikpKSA6IChjbGVhclRpbWVvdXQoaCksIGNsZWFyVGltZW91dChuKSwgUShFcnJvcihcImludmFsaWRfcmVzcG9uc2VcIikpKSk7XG4gICAgICB9LCBwID0ge1xuICAgICAgICBtZXNzYWdlQ2hhbm5lbDogQixcbiAgICAgICAgb25NZXNzYWdlOiBnXG4gICAgICB9LCBhLmEucHVzaChwKSwgQi5wb3J0MS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBnKSwgYS5jLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgZXZlbnRUeXBlOiBiLFxuICAgICAgICBldmVudElkOiBlLFxuICAgICAgICBkYXRhOiBmXG4gICAgICB9LCBbQi5wb3J0Ml0pKSA6IFEoRXJyb3IoXCJjb25uZWN0aW9uX3VuYXZhaWxhYmxlXCIpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChBKSB7XG4gICAgICBvayhhLCBwKTtcbiAgICAgIHJldHVybiBBO1xuICAgIH0pLnMoZnVuY3Rpb24gKEEpIHtcbiAgICAgIG9rKGEsIHApO1xuICAgICAgdGhyb3cgQTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9rKGEsIGIpIHtcbiAgICBpZiAoYikge1xuICAgICAgdmFyIGMgPSBiLm1lc3NhZ2VDaGFubmVsLFxuICAgICAgICAgIGQgPSBiLm9uTWVzc2FnZTtcbiAgICAgIGMgJiYgKGMucG9ydDEucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgZCksIGMucG9ydDEuY2xvc2UoKSk7XG4gICAgICBYYShhLmEsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBlID09IGI7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBtay5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICg7IDAgPCB0aGlzLmEubGVuZ3RoOykge1xuICAgICAgb2sodGhpcywgdGhpcy5hWzBdKTtcbiAgICB9XG5cbiAgICB0aGlzLmIgPSAhMDtcbiAgfTtcblxuICBmdW5jdGlvbiBwaygpIHtcbiAgICBpZiAoIXFrKCkpIHRocm93IG5ldyB0KFwid2ViLXN0b3JhZ2UtdW5zdXBwb3J0ZWRcIik7XG4gICAgdGhpcy5jID0ge307XG4gICAgdGhpcy5hID0gW107XG4gICAgdGhpcy5iID0gMDtcbiAgICB0aGlzLnYgPSBsLmluZGV4ZWREQjtcbiAgICB0aGlzLnR5cGUgPSBcImluZGV4ZWREQlwiO1xuICAgIHRoaXMuZyA9IHRoaXMubSA9IHRoaXMuZiA9IHRoaXMubCA9IG51bGw7XG4gICAgdGhpcy5vID0gITE7XG4gICAgdGhpcy5oID0gbnVsbDtcbiAgICB2YXIgYSA9IHRoaXM7XG4gICAgSmUoKSAmJiBzZWxmID8gKHRoaXMubSA9IGprKCksIGtrKHRoaXMubSwgXCJrZXlDaGFuZ2VkXCIsIGZ1bmN0aW9uIChiLCBjKSB7XG4gICAgICByZXR1cm4gcmsoYSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgICAwIDwgZC5sZW5ndGggJiYgdyhhLmEsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgZShkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAga2V5UHJvY2Vzc2VkOiBWYShkLCBjLmtleSlcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pLCBrayh0aGlzLm0sIFwicGluZ1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRShbXCJrZXlDaGFuZ2VkXCJdKTtcbiAgICB9KSkgOiBmZigpLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIGlmIChhLmggPSBiKSBhLmcgPSBuZXcgbWsobmV3IGxrKGIpKSwgbmsoYS5nLCBcInBpbmdcIiwgbnVsbCwgITApLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgY1swXS5mdWxmaWxsZWQgJiYgVmEoY1swXS52YWx1ZSwgXCJrZXlDaGFuZ2VkXCIpICYmIChhLm8gPSAhMCk7XG4gICAgICB9KS5zKGZ1bmN0aW9uICgpIHt9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzaztcblxuICBmdW5jdGlvbiB0ayhhKSB7XG4gICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiLCBjKSB7XG4gICAgICB2YXIgZCA9IGEudi5kZWxldGVEYXRhYmFzZShcImZpcmViYXNlTG9jYWxTdG9yYWdlRGJcIik7XG5cbiAgICAgIGQub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBiKCk7XG4gICAgICB9O1xuXG4gICAgICBkLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjKEVycm9yKGUudGFyZ2V0LmVycm9yKSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdWsoYSkge1xuICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoYiwgYykge1xuICAgICAgdmFyIGQgPSBhLnYub3BlbihcImZpcmViYXNlTG9jYWxTdG9yYWdlRGJcIiwgMSk7XG5cbiAgICAgIGQub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9IGNhdGNoIChmKSB7fVxuXG4gICAgICAgIGMoRXJyb3IoZS50YXJnZXQuZXJyb3IpKTtcbiAgICAgIH07XG5cbiAgICAgIGQub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZSA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJmaXJlYmFzZUxvY2FsU3RvcmFnZVwiLCB7XG4gICAgICAgICAgICBrZXlQYXRoOiBcImZiYXNlX2tleVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGYpIHtcbiAgICAgICAgICBjKGYpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBkLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGUub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcImZpcmViYXNlTG9jYWxTdG9yYWdlXCIpID8gYihlKSA6IHRrKGEpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB1ayhhKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZikge1xuICAgICAgICAgIGIoZik7XG4gICAgICAgIH0pLnMoZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICBjKGYpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB2ayhhKSB7XG4gICAgYS5pIHx8IChhLmkgPSB1ayhhKSk7XG4gICAgcmV0dXJuIGEuaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdrKGEsIGIpIHtcbiAgICBmdW5jdGlvbiBjKGUsIGYpIHtcbiAgICAgIHZrKGEpLnRoZW4oYikudGhlbihlKS5zKGZ1bmN0aW9uIChnKSB7XG4gICAgICAgIGlmICgzIDwgKytkKSBmKGcpO2Vsc2UgcmV0dXJuIHZrKGEpLnRoZW4oZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICBoLmNsb3NlKCk7XG4gICAgICAgICAgYS5pID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBjKGUsIGYpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciBkID0gMDtcbiAgICByZXR1cm4gbmV3IEQoYyk7XG4gIH1cblxuICBmdW5jdGlvbiBxaygpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuICEhbC5pbmRleGVkREI7XG4gICAgfSBjYXRjaCAoYSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHhrKGEpIHtcbiAgICByZXR1cm4gYS5vYmplY3RTdG9yZShcImZpcmViYXNlTG9jYWxTdG9yYWdlXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24geWsoYSwgYikge1xuICAgIHJldHVybiBhLnRyYW5zYWN0aW9uKFtcImZpcmViYXNlTG9jYWxTdG9yYWdlXCJdLCBiID8gXCJyZWFkd3JpdGVcIiA6IFwicmVhZG9ubHlcIik7XG4gIH1cblxuICBmdW5jdGlvbiB6ayhhKSB7XG4gICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiLCBjKSB7XG4gICAgICBhLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGQgJiYgZC50YXJnZXQgPyBiKGQudGFyZ2V0LnJlc3VsdCkgOiBiKCk7XG4gICAgICB9O1xuXG4gICAgICBhLm9uZXJyb3IgPSBmdW5jdGlvbiAoZCkge1xuICAgICAgICBjKGQudGFyZ2V0LmVycm9yKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICBrID0gcGsucHJvdG90eXBlO1xuXG4gIGsuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYyA9IHRoaXMsXG4gICAgICAgIGQgPSAhMTtcbiAgICByZXR1cm4gd2sodGhpcywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgPSB4ayh5ayhlLCAhMCkpO1xuICAgICAgcmV0dXJuIHprKGUuZ2V0KGEpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gd2soYywgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgZiA9IHhrKHlrKGYsICEwKSk7XG4gICAgICAgIGlmIChlKSByZXR1cm4gZS52YWx1ZSA9IGIsIHprKGYucHV0KGUpKTtcbiAgICAgICAgYy5iKys7XG4gICAgICAgIGQgPSAhMDtcbiAgICAgICAgdmFyIGcgPSB7fTtcbiAgICAgICAgZy5mYmFzZV9rZXkgPSBhO1xuICAgICAgICBnLnZhbHVlID0gYjtcbiAgICAgICAgcmV0dXJuIHprKGYuYWRkKGcpKTtcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgYy5jW2FdID0gYjtcbiAgICAgIHJldHVybiBBayhjLCBhKTtcbiAgICB9KS5uYShmdW5jdGlvbiAoKSB7XG4gICAgICBkICYmIGMuYi0tO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEFrKGEsIGIpIHtcbiAgICByZXR1cm4gYS5nICYmIGEuaCAmJiBlZigpID09PSBhLmggPyBuayhhLmcsIFwia2V5Q2hhbmdlZFwiLCB7XG4gICAgICBrZXk6IGJcbiAgICB9LCBhLm8pLnRoZW4oZnVuY3Rpb24gKCkge30pLnMoZnVuY3Rpb24gKCkge30pIDogRSgpO1xuICB9XG5cbiAgay5nZXQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiB3ayh0aGlzLCBmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIHprKHhrKHlrKGIsICExKSkuZ2V0KGEpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYiAmJiBiLnZhbHVlO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuVCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzLFxuICAgICAgICBjID0gITE7XG4gICAgcmV0dXJuIHdrKHRoaXMsIGZ1bmN0aW9uIChkKSB7XG4gICAgICBjID0gITA7XG4gICAgICBiLmIrKztcbiAgICAgIHJldHVybiB6ayh4ayh5ayhkLCAhMCkpW1wiZGVsZXRlXCJdKGEpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlbGV0ZSBiLmNbYV07XG4gICAgICByZXR1cm4gQWsoYiwgYSk7XG4gICAgfSkubmEoZnVuY3Rpb24gKCkge1xuICAgICAgYyAmJiBiLmItLTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiByayhhKSB7XG4gICAgcmV0dXJuIHZrKGEpLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIHZhciBjID0geGsoeWsoYiwgITEpKTtcbiAgICAgIHJldHVybiBjLmdldEFsbCA/IHprKGMuZ2V0QWxsKCkpIDogbmV3IEQoZnVuY3Rpb24gKGQsIGUpIHtcbiAgICAgICAgdmFyIGYgPSBbXSxcbiAgICAgICAgICAgIGcgPSBjLm9wZW5DdXJzb3IoKTtcblxuICAgICAgICBnLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgKGggPSBoLnRhcmdldC5yZXN1bHQpID8gKGYucHVzaChoLnZhbHVlKSwgaFtcImNvbnRpbnVlXCJdKCkpIDogZChmKTtcbiAgICAgICAgfTtcblxuICAgICAgICBnLm9uZXJyb3IgPSBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgIGUoaC50YXJnZXQuZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYikge1xuICAgICAgdmFyIGMgPSB7fSxcbiAgICAgICAgICBkID0gW107XG5cbiAgICAgIGlmICgwID09IGEuYikge1xuICAgICAgICBmb3IgKGQgPSAwOyBkIDwgYi5sZW5ndGg7IGQrKykge1xuICAgICAgICAgIGNbYltkXS5mYmFzZV9rZXldID0gYltkXS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGQgPSB0ZShhLmMsIGMpO1xuICAgICAgICBhLmMgPSBjO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZDtcbiAgICB9KTtcbiAgfVxuXG4gIGsuY2EgPSBmdW5jdGlvbiAoYSkge1xuICAgIDAgPT0gdGhpcy5hLmxlbmd0aCAmJiBCayh0aGlzKTtcbiAgICB0aGlzLmEucHVzaChhKTtcbiAgfTtcblxuICBrLmlhID0gZnVuY3Rpb24gKGEpIHtcbiAgICBYYSh0aGlzLmEsIGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYiA9PSBhO1xuICAgIH0pO1xuICAgIDAgPT0gdGhpcy5hLmxlbmd0aCAmJiBDayh0aGlzKTtcbiAgfTtcblxuICBmdW5jdGlvbiBCayhhKSB7XG4gICAgZnVuY3Rpb24gYigpIHtcbiAgICAgIGEuZiA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLmwgPSByayhhKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgMCA8IGMubGVuZ3RoICYmIHcoYS5hLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgZChjKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYigpO1xuICAgICAgICB9KS5zKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgXCJTVE9QX0VWRU5UXCIgIT0gYy5tZXNzYWdlICYmIGIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCA4MDApO1xuICAgIH1cblxuICAgIENrKGEpO1xuICAgIGIoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIENrKGEpIHtcbiAgICBhLmwgJiYgYS5sLmNhbmNlbChcIlNUT1BfRVZFTlRcIik7XG4gICAgYS5mICYmIChjbGVhclRpbWVvdXQoYS5mKSwgYS5mID0gbnVsbCk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gRGsoYSkge1xuICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgYyA9IG51bGw7XG4gICAgdGhpcy5hID0gW107XG4gICAgdGhpcy50eXBlID0gXCJpbmRleGVkREJcIjtcbiAgICB0aGlzLmMgPSBhO1xuICAgIHRoaXMuYiA9IEUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChxaygpKSB7XG4gICAgICAgIHZhciBkID0gUWUoKSxcbiAgICAgICAgICAgIGUgPSBcIl9fc2FrXCIgKyBkO1xuICAgICAgICBzayB8fCAoc2sgPSBuZXcgcGsoKSk7XG4gICAgICAgIGMgPSBzaztcbiAgICAgICAgcmV0dXJuIGMuc2V0KGUsIGQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjLmdldChlKTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZikge1xuICAgICAgICAgIGlmIChmICE9PSBkKSB0aHJvdyBFcnJvcihcImluZGV4ZWREQiBub3Qgc3VwcG9ydGVkIVwiKTtcbiAgICAgICAgICByZXR1cm4gYy5UKGUpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgfSkucyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGIuYztcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBiLmM7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgYi50eXBlID0gZC50eXBlO1xuICAgICAgZC5jYShmdW5jdGlvbiAoZSkge1xuICAgICAgICB3KGIuYSwgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICBmKGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGQ7XG4gICAgfSk7XG4gIH1cblxuICBrID0gRGsucHJvdG90eXBlO1xuXG4gIGsuZ2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5iLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIHJldHVybiBiLmdldChhKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLnNldCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIHRoaXMuYi50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYy5zZXQoYSwgYik7XG4gICAgfSk7XG4gIH07XG5cbiAgay5UID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gdGhpcy5iLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIHJldHVybiBiLlQoYSk7XG4gICAgfSk7XG4gIH07XG5cbiAgay5jYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdGhpcy5hLnB1c2goYSk7XG4gIH07XG5cbiAgay5pYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgWGEodGhpcy5hLCBmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIGIgPT0gYTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBFaygpIHtcbiAgICB0aGlzLmEgPSB7fTtcbiAgICB0aGlzLnR5cGUgPSBcImluTWVtb3J5XCI7XG4gIH1cblxuICBrID0gRWsucHJvdG90eXBlO1xuXG4gIGsuZ2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gRSh0aGlzLmFbYV0pO1xuICB9O1xuXG4gIGsuc2V0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB0aGlzLmFbYV0gPSBiO1xuICAgIHJldHVybiBFKCk7XG4gIH07XG5cbiAgay5UID0gZnVuY3Rpb24gKGEpIHtcbiAgICBkZWxldGUgdGhpcy5hW2FdO1xuICAgIHJldHVybiBFKCk7XG4gIH07XG5cbiAgay5jYSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIGsuaWEgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBmdW5jdGlvbiBGaygpIHtcbiAgICBpZiAoIUdrKCkpIHtcbiAgICAgIGlmIChcIk5vZGVcIiA9PSBLZSgpKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIsIFwiVGhlIExvY2FsU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7XG4gICAgICB0aHJvdyBuZXcgdChcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO1xuICAgIH1cblxuICAgIHRoaXMuYSA9IEhrKCkgfHwgZmlyZWJhc2UuSU5URVJOQUwubm9kZS5sb2NhbFN0b3JhZ2U7XG4gICAgdGhpcy50eXBlID0gXCJsb2NhbFN0b3JhZ2VcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIEhrKCkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgYSA9IGwubG9jYWxTdG9yYWdlLFxuICAgICAgICAgIGIgPSBRZSgpO1xuICAgICAgYSAmJiAoYS5zZXRJdGVtKGIsIFwiMVwiKSwgYS5yZW1vdmVJdGVtKGIpKTtcbiAgICAgIHJldHVybiBhO1xuICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEdrKCkge1xuICAgIHZhciBhID0gXCJOb2RlXCIgPT0gS2UoKTtcbiAgICBhID0gSGsoKSB8fCBhICYmIGZpcmViYXNlLklOVEVSTkFMLm5vZGUgJiYgZmlyZWJhc2UuSU5URVJOQUwubm9kZS5sb2NhbFN0b3JhZ2U7XG4gICAgaWYgKCFhKSByZXR1cm4gITE7XG5cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGEuc2V0SXRlbShcIl9fc2FrXCIsIFwiMVwiKSwgYS5yZW1vdmVJdGVtKFwiX19zYWtcIiksICEwO1xuICAgIH0gY2F0Y2ggKGIpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cblxuICBrID0gRmsucHJvdG90eXBlO1xuXG4gIGsuZ2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IHRoaXM7XG4gICAgcmV0dXJuIEUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjID0gYi5hLmdldEl0ZW0oYSk7XG4gICAgICByZXR1cm4gV2UoYyk7XG4gICAgfSk7XG4gIH07XG5cbiAgay5zZXQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcztcbiAgICByZXR1cm4gRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGQgPSBVZShiKTtcbiAgICAgIG51bGwgPT09IGQgPyBjLlQoYSkgOiBjLmEuc2V0SXRlbShhLCBkKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLlQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgYi5hLnJlbW92ZUl0ZW0oYSk7XG4gICAgfSk7XG4gIH07XG5cbiAgay5jYSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgbC53aW5kb3cgJiYgbmQobC53aW5kb3csIFwic3RvcmFnZVwiLCBhKTtcbiAgfTtcblxuICBrLmlhID0gZnVuY3Rpb24gKGEpIHtcbiAgICBsLndpbmRvdyAmJiBIKGwud2luZG93LCBcInN0b3JhZ2VcIiwgYSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gSWsoKSB7XG4gICAgdGhpcy50eXBlID0gXCJudWxsU3RvcmFnZVwiO1xuICB9XG5cbiAgayA9IElrLnByb3RvdHlwZTtcblxuICBrLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRShudWxsKTtcbiAgfTtcblxuICBrLnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRSgpO1xuICB9O1xuXG4gIGsuVCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRSgpO1xuICB9O1xuXG4gIGsuY2EgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBrLmlhID0gZnVuY3Rpb24gKCkge307XG5cbiAgZnVuY3Rpb24gSmsoKSB7XG4gICAgaWYgKCFLaygpKSB7XG4gICAgICBpZiAoXCJOb2RlXCIgPT0gS2UoKSkgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiLCBcIlRoZSBTZXNzaW9uU3RvcmFnZSBjb21wYXRpYmlsaXR5IGxpYnJhcnkgd2FzIG5vdCBmb3VuZC5cIik7XG4gICAgICB0aHJvdyBuZXcgdChcIndlYi1zdG9yYWdlLXVuc3VwcG9ydGVkXCIpO1xuICAgIH1cblxuICAgIHRoaXMuYSA9IExrKCkgfHwgZmlyZWJhc2UuSU5URVJOQUwubm9kZS5zZXNzaW9uU3RvcmFnZTtcbiAgICB0aGlzLnR5cGUgPSBcInNlc3Npb25TdG9yYWdlXCI7XG4gIH1cblxuICBmdW5jdGlvbiBMaygpIHtcbiAgICB0cnkge1xuICAgICAgdmFyIGEgPSBsLnNlc3Npb25TdG9yYWdlLFxuICAgICAgICAgIGIgPSBRZSgpO1xuICAgICAgYSAmJiAoYS5zZXRJdGVtKGIsIFwiMVwiKSwgYS5yZW1vdmVJdGVtKGIpKTtcbiAgICAgIHJldHVybiBhO1xuICAgIH0gY2F0Y2ggKGMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIEtrKCkge1xuICAgIHZhciBhID0gXCJOb2RlXCIgPT0gS2UoKTtcbiAgICBhID0gTGsoKSB8fCBhICYmIGZpcmViYXNlLklOVEVSTkFMLm5vZGUgJiYgZmlyZWJhc2UuSU5URVJOQUwubm9kZS5zZXNzaW9uU3RvcmFnZTtcbiAgICBpZiAoIWEpIHJldHVybiAhMTtcblxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYS5zZXRJdGVtKFwiX19zYWtcIiwgXCIxXCIpLCBhLnJlbW92ZUl0ZW0oXCJfX3Nha1wiKSwgITA7XG4gICAgfSBjYXRjaCAoYikge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuXG4gIGsgPSBKay5wcm90b3R5cGU7XG5cbiAgay5nZXQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGMgPSBiLmEuZ2V0SXRlbShhKTtcbiAgICAgIHJldHVybiBXZShjKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLnNldCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGMgPSB0aGlzO1xuICAgIHJldHVybiBFKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZCA9IFVlKGIpO1xuICAgICAgbnVsbCA9PT0gZCA/IGMuVChhKSA6IGMuYS5zZXRJdGVtKGEsIGQpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuVCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHJldHVybiBFKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBiLmEucmVtb3ZlSXRlbShhKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLmNhID0gZnVuY3Rpb24gKCkge307XG5cbiAgay5pYSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIGZ1bmN0aW9uIE1rKCkge1xuICAgIHZhciBhID0ge307XG4gICAgYS5Ccm93c2VyID0gTms7XG4gICAgYS5Ob2RlID0gT2s7XG4gICAgYS5SZWFjdE5hdGl2ZSA9IFBrO1xuICAgIGEuV29ya2VyID0gUWs7XG4gICAgdGhpcy5hID0gYVtLZSgpXTtcbiAgfVxuXG4gIHZhciBSayxcbiAgICAgIE5rID0ge1xuICAgIEQ6IEZrLFxuICAgIGFiOiBKa1xuICB9LFxuICAgICAgT2sgPSB7XG4gICAgRDogRmssXG4gICAgYWI6IEprXG4gIH0sXG4gICAgICBQayA9IHtcbiAgICBEOiBnayxcbiAgICBhYjogSWtcbiAgfSxcbiAgICAgIFFrID0ge1xuICAgIEQ6IEZrLFxuICAgIGFiOiBJa1xuICB9O1xuICB2YXIgU2sgPSB7XG4gICAgcWQ6IFwibG9jYWxcIixcbiAgICBOT05FOiBcIm5vbmVcIixcbiAgICBzZDogXCJzZXNzaW9uXCJcbiAgfTtcblxuICBmdW5jdGlvbiBUayhhKSB7XG4gICAgdmFyIGIgPSBuZXcgdChcImludmFsaWQtcGVyc2lzdGVuY2UtdHlwZVwiKSxcbiAgICAgICAgYyA9IG5ldyB0KFwidW5zdXBwb3J0ZWQtcGVyc2lzdGVuY2UtdHlwZVwiKTtcblxuICAgIGE6IHtcbiAgICAgIGZvciAoZCBpbiBTaykge1xuICAgICAgICBpZiAoU2tbZF0gPT0gYSkge1xuICAgICAgICAgIHZhciBkID0gITA7XG4gICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBkID0gITE7XG4gICAgfVxuXG4gICAgaWYgKCFkIHx8IFwic3RyaW5nXCIgIT09IHR5cGVvZiBhKSB0aHJvdyBiO1xuXG4gICAgc3dpdGNoIChLZSgpKSB7XG4gICAgICBjYXNlIFwiUmVhY3ROYXRpdmVcIjpcbiAgICAgICAgaWYgKFwic2Vzc2lvblwiID09PSBhKSB0aHJvdyBjO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIk5vZGVcIjpcbiAgICAgICAgaWYgKFwibm9uZVwiICE9PSBhKSB0aHJvdyBjO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIldvcmtlclwiOlxuICAgICAgICBpZiAoXCJzZXNzaW9uXCIgPT09IGEgfHwgIXFrKCkgJiYgXCJub25lXCIgIT09IGEpIHRocm93IGM7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoIVBlKCkgJiYgXCJub25lXCIgIT09IGEpIHRocm93IGM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gVWsoKSB7XG4gICAgdmFyIGEgPSAhWGUoSygpKSAmJiBJZSgpID8gITAgOiAhMSxcbiAgICAgICAgYiA9IFRlKCksXG4gICAgICAgIGMgPSBQZSgpO1xuICAgIHRoaXMudiA9IGE7XG4gICAgdGhpcy5oID0gYjtcbiAgICB0aGlzLmwgPSBjO1xuICAgIHRoaXMuYSA9IHt9O1xuICAgIFJrIHx8IChSayA9IG5ldyBNaygpKTtcbiAgICBhID0gUms7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5nID0gIXFlKCkgJiYgZGYoKSB8fCAhbC5pbmRleGVkREIgPyBuZXcgYS5hLkQoKSA6IG5ldyBEayhKZSgpID8gbmV3IEVrKCkgOiBuZXcgYS5hLkQoKSk7XG4gICAgfSBjYXRjaCAoZCkge1xuICAgICAgdGhpcy5nID0gbmV3IEVrKCksIHRoaXMuaCA9ICEwO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICB0aGlzLmkgPSBuZXcgYS5hLmFiKCk7XG4gICAgfSBjYXRjaCAoZCkge1xuICAgICAgdGhpcy5pID0gbmV3IEVrKCk7XG4gICAgfVxuXG4gICAgdGhpcy5tID0gbmV3IEVrKCk7XG4gICAgdGhpcy5mID0gcSh0aGlzLlhiLCB0aGlzKTtcbiAgICB0aGlzLmIgPSB7fTtcbiAgfVxuXG4gIHZhciBWaztcblxuICBmdW5jdGlvbiBXaygpIHtcbiAgICBWayB8fCAoVmsgPSBuZXcgVWsoKSk7XG4gICAgcmV0dXJuIFZrO1xuICB9XG5cbiAgZnVuY3Rpb24gWGsoYSwgYikge1xuICAgIHN3aXRjaCAoYikge1xuICAgICAgY2FzZSBcInNlc3Npb25cIjpcbiAgICAgICAgcmV0dXJuIGEuaTtcblxuICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgcmV0dXJuIGEubTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGEuZztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBZayhhLCBiKSB7XG4gICAgcmV0dXJuIFwiZmlyZWJhc2U6XCIgKyBhLm5hbWUgKyAoYiA/IFwiOlwiICsgYiA6IFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gWmsoYSwgYiwgYykge1xuICAgIHZhciBkID0gWWsoYiwgYyksXG4gICAgICAgIGUgPSBYayhhLCBiLkQpO1xuICAgIHJldHVybiBhLmdldChiLCBjKS50aGVuKGZ1bmN0aW9uIChmKSB7XG4gICAgICB2YXIgZyA9IG51bGw7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGcgPSBXZShsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGQpKTtcbiAgICAgIH0gY2F0Y2ggKGgpIHt9XG5cbiAgICAgIGlmIChnICYmICFmKSByZXR1cm4gbC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShkKSwgYS5zZXQoYiwgZywgYyk7XG4gICAgICBnICYmIGYgJiYgXCJsb2NhbFN0b3JhZ2VcIiAhPSBlLnR5cGUgJiYgbC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShkKTtcbiAgICB9KTtcbiAgfVxuXG4gIGsgPSBVay5wcm90b3R5cGU7XG5cbiAgay5nZXQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBYayh0aGlzLCBhLkQpLmdldChZayhhLCBiKSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gJGsoYSwgYiwgYykge1xuICAgIGMgPSBZayhiLCBjKTtcbiAgICBcImxvY2FsXCIgPT0gYi5EICYmIChhLmJbY10gPSBudWxsKTtcbiAgICByZXR1cm4gWGsoYSwgYi5EKS5UKGMpO1xuICB9XG5cbiAgay5zZXQgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIHZhciBkID0gWWsoYSwgYyksXG4gICAgICAgIGUgPSB0aGlzLFxuICAgICAgICBmID0gWGsodGhpcywgYS5EKTtcbiAgICByZXR1cm4gZi5zZXQoZCwgYikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZi5nZXQoZCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZykge1xuICAgICAgXCJsb2NhbFwiID09IGEuRCAmJiAoZS5iW2RdID0gZyk7XG4gICAgfSk7XG4gIH07XG5cbiAgay5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgYSA9IFlrKGEsIGIpO1xuICAgIHRoaXMubCAmJiAodGhpcy5iW2FdID0gbC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShhKSk7XG4gICAgbWIodGhpcy5hKSAmJiAoWGsodGhpcywgXCJsb2NhbFwiKS5jYSh0aGlzLmYpLCB0aGlzLmggfHwgKHFlKCkgfHwgIWRmKCkpICYmIGwuaW5kZXhlZERCIHx8ICF0aGlzLmwgfHwgYWwodGhpcykpO1xuICAgIHRoaXMuYVthXSB8fCAodGhpcy5hW2FdID0gW10pO1xuICAgIHRoaXMuYVthXS5wdXNoKGMpO1xuICB9O1xuXG4gIGsucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIGEgPSBZayhhLCBiKTtcbiAgICB0aGlzLmFbYV0gJiYgKFhhKHRoaXMuYVthXSwgZnVuY3Rpb24gKGQpIHtcbiAgICAgIHJldHVybiBkID09IGM7XG4gICAgfSksIDAgPT0gdGhpcy5hW2FdLmxlbmd0aCAmJiBkZWxldGUgdGhpcy5hW2FdKTtcbiAgICBtYih0aGlzLmEpICYmIChYayh0aGlzLCBcImxvY2FsXCIpLmlhKHRoaXMuZiksIGJsKHRoaXMpKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhbChhKSB7XG4gICAgYmwoYSk7XG4gICAgYS5jID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgYiBpbiBhLmEpIHtcbiAgICAgICAgdmFyIGMgPSBsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGIpLFxuICAgICAgICAgICAgZCA9IGEuYltiXTtcbiAgICAgICAgYyAhPSBkICYmIChhLmJbYl0gPSBjLCBjID0gbmV3IGJkKHtcbiAgICAgICAgICB0eXBlOiBcInN0b3JhZ2VcIixcbiAgICAgICAgICBrZXk6IGIsXG4gICAgICAgICAgdGFyZ2V0OiB3aW5kb3csXG4gICAgICAgICAgb2xkVmFsdWU6IGQsXG4gICAgICAgICAgbmV3VmFsdWU6IGMsXG4gICAgICAgICAgYTogITBcbiAgICAgICAgfSksIGEuWGIoYykpO1xuICAgICAgfVxuICAgIH0sIDFFMyk7XG4gIH1cblxuICBmdW5jdGlvbiBibChhKSB7XG4gICAgYS5jICYmIChjbGVhckludGVydmFsKGEuYyksIGEuYyA9IG51bGwpO1xuICB9XG5cbiAgay5YYiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgaWYgKGEgJiYgYS5nKSB7XG4gICAgICB2YXIgYiA9IGEuYS5rZXk7XG4gICAgICBpZiAobnVsbCA9PSBiKSBmb3IgKHZhciBjIGluIHRoaXMuYSkge1xuICAgICAgICB2YXIgZCA9IHRoaXMuYltjXTtcbiAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGQgJiYgKGQgPSBudWxsKTtcbiAgICAgICAgdmFyIGUgPSBsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGMpO1xuICAgICAgICBlICE9PSBkICYmICh0aGlzLmJbY10gPSBlLCB0aGlzLmxiKGMpKTtcbiAgICAgIH0gZWxzZSBpZiAoMCA9PSBiLmluZGV4T2YoXCJmaXJlYmFzZTpcIikgJiYgdGhpcy5hW2JdKSB7XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBhLmEuYSA/IFhrKHRoaXMsIFwibG9jYWxcIikuaWEodGhpcy5mKSA6IGJsKHRoaXMpO1xuICAgICAgICBpZiAodGhpcy52KSBpZiAoYyA9IGwubG9jYWxTdG9yYWdlLmdldEl0ZW0oYiksIGQgPSBhLmEubmV3VmFsdWUsIGQgIT09IGMpIG51bGwgIT09IGQgPyBsLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGIsIGQpIDogbC5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShiKTtlbHNlIGlmICh0aGlzLmJbYl0gPT09IGQgJiYgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGEuYS5hKSByZXR1cm47XG4gICAgICAgIHZhciBmID0gdGhpcztcblxuICAgICAgICBjID0gZnVuY3Rpb24gYygpIHtcbiAgICAgICAgICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGEuYS5hIHx8IGYuYltiXSAhPT0gbC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShiKSkgZi5iW2JdID0gbC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShiKSwgZi5sYihiKTtcbiAgICAgICAgfTtcblxuICAgICAgICBXYiAmJiBpYyAmJiAxMCA9PSBpYyAmJiBsLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGIpICE9PSBhLmEubmV3VmFsdWUgJiYgYS5hLm5ld1ZhbHVlICE9PSBhLmEub2xkVmFsdWUgPyBzZXRUaW1lb3V0KGMsIDEwKSA6IGMoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgdyhhLCBxKHRoaXMubGIsIHRoaXMpKTtcbiAgfTtcblxuICBrLmxiID0gZnVuY3Rpb24gKGEpIHtcbiAgICB0aGlzLmFbYV0gJiYgdyh0aGlzLmFbYV0sIGZ1bmN0aW9uIChiKSB7XG4gICAgICBiKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gY2woYSkge1xuICAgIHRoaXMuYSA9IGE7XG4gICAgdGhpcy5iID0gV2soKTtcbiAgfVxuXG4gIHZhciBkbCA9IHtcbiAgICBuYW1lOiBcImF1dGhFdmVudFwiLFxuICAgIEQ6IFwibG9jYWxcIlxuICB9O1xuXG4gIGZ1bmN0aW9uIGVsKGEpIHtcbiAgICByZXR1cm4gYS5iLmdldChkbCwgYS5hKS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gdWgoYik7XG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZmwoKSB7XG4gICAgdGhpcy5hID0gV2soKTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBnbCgpIHtcbiAgICB0aGlzLmIgPSAtMTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBobChhLCBiKSB7XG4gICAgdGhpcy5iID0gaWw7XG4gICAgdGhpcy5mID0gbC5VaW50OEFycmF5ID8gbmV3IFVpbnQ4QXJyYXkodGhpcy5iKSA6IEFycmF5KHRoaXMuYik7XG4gICAgdGhpcy5nID0gdGhpcy5jID0gMDtcbiAgICB0aGlzLmEgPSBbXTtcbiAgICB0aGlzLmkgPSBhO1xuICAgIHRoaXMuaCA9IGI7XG4gICAgdGhpcy5sID0gbC5JbnQzMkFycmF5ID8gbmV3IEludDMyQXJyYXkoNjQpIDogQXJyYXkoNjQpO1xuICAgIHZvaWQgMCA9PT0gamwgJiYgKGwuSW50MzJBcnJheSA/IGpsID0gbmV3IEludDMyQXJyYXkoa2wpIDogamwgPSBrbCk7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgdmFyIGpsO1xuICByKGhsLCBnbCk7XG5cbiAgZm9yICh2YXIgaWwgPSA2NCwgbGwgPSBpbCAtIDEsIG1sID0gW10sIG5sID0gMDsgbmwgPCBsbDsgbmwrKykge1xuICAgIG1sW25sXSA9IDA7XG4gIH1cblxuICB2YXIgb2wgPSBZYSgxMjgsIG1sKTtcblxuICBobC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5nID0gdGhpcy5jID0gMDtcbiAgICB0aGlzLmEgPSBsLkludDMyQXJyYXkgPyBuZXcgSW50MzJBcnJheSh0aGlzLmgpIDogWmEodGhpcy5oKTtcbiAgfTtcblxuICBmdW5jdGlvbiBwbChhKSB7XG4gICAgZm9yICh2YXIgYiA9IGEuZiwgYyA9IGEubCwgZCA9IDAsIGUgPSAwOyBlIDwgYi5sZW5ndGg7KSB7XG4gICAgICBjW2QrK10gPSBiW2VdIDw8IDI0IHwgYltlICsgMV0gPDwgMTYgfCBiW2UgKyAyXSA8PCA4IHwgYltlICsgM10sIGUgPSA0ICogZDtcbiAgICB9XG5cbiAgICBmb3IgKGIgPSAxNjsgNjQgPiBiOyBiKyspIHtcbiAgICAgIGUgPSBjW2IgLSAxNV0gfCAwO1xuICAgICAgZCA9IGNbYiAtIDJdIHwgMDtcbiAgICAgIHZhciBmID0gKGNbYiAtIDE2XSB8IDApICsgKChlID4+PiA3IHwgZSA8PCAyNSkgXiAoZSA+Pj4gMTggfCBlIDw8IDE0KSBeIGUgPj4+IDMpIHwgMCxcbiAgICAgICAgICBnID0gKGNbYiAtIDddIHwgMCkgKyAoKGQgPj4+IDE3IHwgZCA8PCAxNSkgXiAoZCA+Pj4gMTkgfCBkIDw8IDEzKSBeIGQgPj4+IDEwKSB8IDA7XG4gICAgICBjW2JdID0gZiArIGcgfCAwO1xuICAgIH1cblxuICAgIGQgPSBhLmFbMF0gfCAwO1xuICAgIGUgPSBhLmFbMV0gfCAwO1xuICAgIHZhciBoID0gYS5hWzJdIHwgMCxcbiAgICAgICAgbiA9IGEuYVszXSB8IDAsXG4gICAgICAgIHAgPSBhLmFbNF0gfCAwLFxuICAgICAgICB2ID0gYS5hWzVdIHwgMCxcbiAgICAgICAgQiA9IGEuYVs2XSB8IDA7XG4gICAgZiA9IGEuYVs3XSB8IDA7XG5cbiAgICBmb3IgKGIgPSAwOyA2NCA+IGI7IGIrKykge1xuICAgICAgdmFyIEEgPSAoKGQgPj4+IDIgfCBkIDw8IDMwKSBeIChkID4+PiAxMyB8IGQgPDwgMTkpIF4gKGQgPj4+IDIyIHwgZCA8PCAxMCkpICsgKGQgJiBlIF4gZCAmIGggXiBlICYgaCkgfCAwO1xuICAgICAgZyA9IHAgJiB2IF4gfnAgJiBCO1xuICAgICAgZiA9IGYgKyAoKHAgPj4+IDYgfCBwIDw8IDI2KSBeIChwID4+PiAxMSB8IHAgPDwgMjEpIF4gKHAgPj4+IDI1IHwgcCA8PCA3KSkgfCAwO1xuICAgICAgZyA9IGcgKyAoamxbYl0gfCAwKSB8IDA7XG4gICAgICBnID0gZiArIChnICsgKGNbYl0gfCAwKSB8IDApIHwgMDtcbiAgICAgIGYgPSBCO1xuICAgICAgQiA9IHY7XG4gICAgICB2ID0gcDtcbiAgICAgIHAgPSBuICsgZyB8IDA7XG4gICAgICBuID0gaDtcbiAgICAgIGggPSBlO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gZyArIEEgfCAwO1xuICAgIH1cblxuICAgIGEuYVswXSA9IGEuYVswXSArIGQgfCAwO1xuICAgIGEuYVsxXSA9IGEuYVsxXSArIGUgfCAwO1xuICAgIGEuYVsyXSA9IGEuYVsyXSArIGggfCAwO1xuICAgIGEuYVszXSA9IGEuYVszXSArIG4gfCAwO1xuICAgIGEuYVs0XSA9IGEuYVs0XSArIHAgfCAwO1xuICAgIGEuYVs1XSA9IGEuYVs1XSArIHYgfCAwO1xuICAgIGEuYVs2XSA9IGEuYVs2XSArIEIgfCAwO1xuICAgIGEuYVs3XSA9IGEuYVs3XSArIGYgfCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gcWwoYSwgYiwgYykge1xuICAgIHZvaWQgMCA9PT0gYyAmJiAoYyA9IGIubGVuZ3RoKTtcbiAgICB2YXIgZCA9IDAsXG4gICAgICAgIGUgPSBhLmM7XG4gICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBiKSBmb3IgKDsgZCA8IGM7KSB7XG4gICAgICBhLmZbZSsrXSA9IGIuY2hhckNvZGVBdChkKyspLCBlID09IGEuYiAmJiAocGwoYSksIGUgPSAwKTtcbiAgICB9IGVsc2UgaWYgKG5hKGIpKSBmb3IgKDsgZCA8IGM7KSB7XG4gICAgICB2YXIgZiA9IGJbZCsrXTtcbiAgICAgIGlmICghKFwibnVtYmVyXCIgPT0gdHlwZW9mIGYgJiYgMCA8PSBmICYmIDI1NSA+PSBmICYmIGYgPT0gKGYgfCAwKSkpIHRocm93IEVycm9yKFwibWVzc2FnZSBtdXN0IGJlIGEgYnl0ZSBhcnJheVwiKTtcbiAgICAgIGEuZltlKytdID0gZjtcbiAgICAgIGUgPT0gYS5iICYmIChwbChhKSwgZSA9IDApO1xuICAgIH0gZWxzZSB0aHJvdyBFcnJvcihcIm1lc3NhZ2UgbXVzdCBiZSBzdHJpbmcgb3IgYXJyYXlcIik7XG4gICAgYS5jID0gZTtcbiAgICBhLmcgKz0gYztcbiAgfVxuXG4gIHZhciBrbCA9IFsxMTE2MzUyNDA4LCAxODk5NDQ3NDQxLCAzMDQ5MzIzNDcxLCAzOTIxMDA5NTczLCA5NjE5ODcxNjMsIDE1MDg5NzA5OTMsIDI0NTM2MzU3NDgsIDI4NzA3NjMyMjEsIDM2MjQzODEwODAsIDMxMDU5ODQwMSwgNjA3MjI1Mjc4LCAxNDI2ODgxOTg3LCAxOTI1MDc4Mzg4LCAyMTYyMDc4MjA2LCAyNjE0ODg4MTAzLCAzMjQ4MjIyNTgwLCAzODM1MzkwNDAxLCA0MDIyMjI0Nzc0LCAyNjQzNDcwNzgsIDYwNDgwNzYyOCwgNzcwMjU1OTgzLCAxMjQ5MTUwMTIyLCAxNTU1MDgxNjkyLCAxOTk2MDY0OTg2LCAyNTU0MjIwODgyLCAyODIxODM0MzQ5LCAyOTUyOTk2ODA4LCAzMjEwMzEzNjcxLCAzMzM2NTcxODkxLCAzNTg0NTI4NzExLCAxMTM5MjY5OTMsIDMzODI0MTg5NSwgNjY2MzA3MjA1LCA3NzM1Mjk5MTIsIDEyOTQ3NTczNzIsIDEzOTYxODIyOTEsIDE2OTUxODM3MDAsIDE5ODY2NjEwNTEsIDIxNzcwMjYzNTAsIDI0NTY5NTYwMzcsIDI3MzA0ODU5MjEsIDI4MjAzMDI0MTEsIDMyNTk3MzA4MDAsIDMzNDU3NjQ3NzEsIDM1MTYwNjU4MTcsIDM2MDAzNTI4MDQsIDQwOTQ1NzE5MDksIDI3NTQyMzM0NCwgNDMwMjI3NzM0LCA1MDY5NDg2MTYsIDY1OTA2MDU1NiwgODgzOTk3ODc3LCA5NTgxMzk1NzEsIDEzMjI4MjIyMTgsIDE1MzcwMDIwNjMsIDE3NDc4NzM3NzksIDE5NTU1NjIyMjIsIDIwMjQxMDQ4MTUsIDIyMjc3MzA0NTIsIDIzNjE4NTI0MjQsIDI0Mjg0MzY0NzQsIDI3NTY3MzQxODcsIDMyMDQwMzE0NzksIDMzMjkzMjUyOThdO1xuXG4gIGZ1bmN0aW9uIHJsKCkge1xuICAgIGhsLmNhbGwodGhpcywgOCwgc2wpO1xuICB9XG5cbiAgcihybCwgaGwpO1xuICB2YXIgc2wgPSBbMTc3OTAzMzcwMywgMzE0NDEzNDI3NywgMTAxMzkwNDI0MiwgMjc3MzQ4MDc2MiwgMTM1OTg5MzExOSwgMjYwMDgyMjkyNCwgNTI4NzM0NjM1LCAxNTQxNDU5MjI1XTtcblxuICBmdW5jdGlvbiB0bChhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgdGhpcy5tID0gYTtcbiAgICB0aGlzLmkgPSBiO1xuICAgIHRoaXMubCA9IGM7XG4gICAgdGhpcy52ID0gZCB8fCBudWxsO1xuICAgIHRoaXMudSA9IGUgfHwgbnVsbDtcbiAgICB0aGlzLm8gPSBmO1xuICAgIHRoaXMuaCA9IGIgKyBcIjpcIiArIGM7XG4gICAgdGhpcy5BID0gbmV3IGZsKCk7XG4gICAgdGhpcy5nID0gbmV3IGNsKHRoaXMuaCk7XG4gICAgdGhpcy5mID0gbnVsbDtcbiAgICB0aGlzLmIgPSBbXTtcbiAgICB0aGlzLmEgPSB0aGlzLmMgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gdWwoYSkge1xuICAgIHJldHVybiBuZXcgdChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIsIGEpO1xuICB9XG5cbiAgayA9IHRsLnByb3RvdHlwZTtcblxuICBrLmxhID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLklhID8gdGhpcy5JYSA6IHRoaXMuSWEgPSBGZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIEwoXCJ1bml2ZXJzYWxMaW5rcy5zdWJzY3JpYmVcIiwgbCkpIHRocm93IHVsKFwiY29yZG92YS11bml2ZXJzYWwtbGlua3MtcGx1Z2luLWZpeCBpcyBub3QgaW5zdGFsbGVkXCIpO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBMKFwiQnVpbGRJbmZvLnBhY2thZ2VOYW1lXCIsIGwpKSB0aHJvdyB1bChcImNvcmRvdmEtcGx1Z2luLWJ1aWxkaW5mbyBpcyBub3QgaW5zdGFsbGVkXCIpO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIEwoXCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5vcGVuVXJsXCIsIGwpKSB0aHJvdyB1bChcImNvcmRvdmEtcGx1Z2luLWJyb3dzZXJ0YWIgaXMgbm90IGluc3RhbGxlZFwiKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBMKFwiY29yZG92YS5JbkFwcEJyb3dzZXIub3BlblwiLCBsKSkgdGhyb3cgdWwoXCJjb3Jkb3ZhLXBsdWdpbi1pbmFwcGJyb3dzZXIgaXMgbm90IGluc3RhbGxlZFwiKTtcbiAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyBuZXcgdChcImNvcmRvdmEtbm90LXJlYWR5XCIpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHZsKCkge1xuICAgIGZvciAodmFyIGEgPSAyMCwgYiA9IFtdOyAwIDwgYTspIHtcbiAgICAgIGIucHVzaChcIjEyMzQ1Njc4OTBhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIuY2hhckF0KE1hdGguZmxvb3IoNjIgKiBNYXRoLnJhbmRvbSgpKSkpLCBhLS07XG4gICAgfVxuXG4gICAgcmV0dXJuIGIuam9pbihcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdsKGEpIHtcbiAgICB2YXIgYiA9IG5ldyBybCgpO1xuICAgIHFsKGIsIGEpO1xuICAgIGEgPSBbXTtcbiAgICB2YXIgYyA9IDggKiBiLmc7XG4gICAgNTYgPiBiLmMgPyBxbChiLCBvbCwgNTYgLSBiLmMpIDogcWwoYiwgb2wsIGIuYiAtIChiLmMgLSA1NikpO1xuXG4gICAgZm9yICh2YXIgZCA9IDYzOyA1NiA8PSBkOyBkLS0pIHtcbiAgICAgIGIuZltkXSA9IGMgJiAyNTUsIGMgLz0gMjU2O1xuICAgIH1cblxuICAgIHBsKGIpO1xuXG4gICAgZm9yIChkID0gYyA9IDA7IGQgPCBiLmk7IGQrKykge1xuICAgICAgZm9yICh2YXIgZSA9IDI0OyAwIDw9IGU7IGUgLT0gOCkge1xuICAgICAgICBhW2MrK10gPSBiLmFbZF0gPj4gZSAmIDI1NTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGcoYSk7XG4gIH1cblxuICBrLk5iID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBiKG5ldyB0KFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7XG4gICAgcmV0dXJuIEUoKTtcbiAgfTtcblxuICBrLkxiID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBGKG5ldyB0KFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7XG4gIH07XG5cbiAgay5aYiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gITE7XG4gIH07XG5cbiAgay5XYiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gITA7XG4gIH07XG5cbiAgay5TYiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gITA7XG4gIH07XG5cbiAgay5NYiA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgaWYgKHRoaXMuYykgcmV0dXJuIEYobmV3IHQoXCJyZWRpcmVjdC1vcGVyYXRpb24tcGVuZGluZ1wiKSk7XG4gICAgdmFyIGUgPSB0aGlzLFxuICAgICAgICBmID0gbC5kb2N1bWVudCxcbiAgICAgICAgZyA9IG51bGwsXG4gICAgICAgIGggPSBudWxsLFxuICAgICAgICBuID0gbnVsbCxcbiAgICAgICAgcCA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXMuYyA9IEUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNoKGIpO1xuICAgICAgcmV0dXJuIHhsKGUpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHlsKGUsIGEsIGIsIGMsIGQpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uICh2LCBCKSB7XG4gICAgICAgIGggPSBmdW5jdGlvbiBoKCkge1xuICAgICAgICAgIHZhciBBID0gTChcImNvcmRvdmEucGx1Z2lucy5icm93c2VydGFiLmNsb3NlXCIsIGwpO1xuICAgICAgICAgIHYoKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBBICYmIEEoKTtcbiAgICAgICAgICBlLmEgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZS5hLmNsb3NlICYmIChlLmEuY2xvc2UoKSwgZS5hID0gbnVsbCk7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9O1xuXG4gICAgICAgIGUuRWEoaCk7XG5cbiAgICAgICAgbiA9IGZ1bmN0aW9uIG4oKSB7XG4gICAgICAgICAgZyB8fCAoZyA9IEVkKDJFMykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBCKG5ldyB0KFwicmVkaXJlY3QtY2FuY2VsbGVkLWJ5LXVzZXJcIikpO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcblxuICAgICAgICBwID0gZnVuY3Rpb24gcCgpIHtcbiAgICAgICAgICAkZSgpICYmIG4oKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXN1bWVcIiwgbiwgITEpO1xuICAgICAgICBLKCkudG9Mb3dlckNhc2UoKS5tYXRjaCgvYW5kcm9pZC8pIHx8IGYuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgcCwgITEpO1xuICAgICAgfSkucyhmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gemwoZSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgdjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KS5uYShmdW5jdGlvbiAoKSB7XG4gICAgICBuICYmIGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc3VtZVwiLCBuLCAhMSk7XG4gICAgICBwICYmIGYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgcCwgITEpO1xuICAgICAgZyAmJiBnLmNhbmNlbCgpO1xuICAgICAgaCAmJiBlLlJhKGgpO1xuICAgICAgZS5jID0gbnVsbDtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiB5bChhLCBiLCBjLCBkLCBlKSB7XG4gICAgdmFyIGYgPSB2bCgpLFxuICAgICAgICBnID0gbmV3IHRoKGIsIGQsIG51bGwsIGYsIG5ldyB0KFwibm8tYXV0aC1ldmVudFwiKSwgbnVsbCwgZSksXG4gICAgICAgIGggPSBMKFwiQnVpbGRJbmZvLnBhY2thZ2VOYW1lXCIsIGwpO1xuICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgaCkgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTtcbiAgICB2YXIgbiA9IEwoXCJCdWlsZEluZm8uZGlzcGxheU5hbWVcIiwgbCksXG4gICAgICAgIHAgPSB7fTtcbiAgICBpZiAoSygpLnRvTG93ZXJDYXNlKCkubWF0Y2goL2lwaG9uZXxpcGFkfGlwb2QvKSkgcC5pYmkgPSBoO2Vsc2UgaWYgKEsoKS50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hbmRyb2lkLykpIHAuYXBuID0gaDtlbHNlIHJldHVybiBGKG5ldyB0KFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7XG4gICAgbiAmJiAocC5hcHBEaXNwbGF5TmFtZSA9IG4pO1xuICAgIGYgPSB3bChmKTtcbiAgICBwLnNlc3Npb25JZCA9IGY7XG4gICAgdmFyIHYgPSBmayhhLm0sIGEuaSwgYS5sLCBiLCBjLCBudWxsLCBkLCBhLnYsIHAsIGEudSwgZSwgYS5vKTtcbiAgICByZXR1cm4gYS5sYSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIEIgPSBhLmg7XG4gICAgICByZXR1cm4gYS5BLmEuc2V0KGRsLCBnLncoKSwgQik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgQiA9IEwoXCJjb3Jkb3ZhLnBsdWdpbnMuYnJvd3NlcnRhYi5pc0F2YWlsYWJsZVwiLCBsKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBCKSB0aHJvdyBuZXcgdChcImludmFsaWQtY29yZG92YS1jb25maWd1cmF0aW9uXCIpO1xuICAgICAgdmFyIEEgPSBudWxsO1xuICAgICAgQihmdW5jdGlvbiAoUSkge1xuICAgICAgICBpZiAoUSkge1xuICAgICAgICAgIEEgPSBMKFwiY29yZG92YS5wbHVnaW5zLmJyb3dzZXJ0YWIub3BlblVybFwiLCBsKTtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgQSkgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTtcbiAgICAgICAgICBBKHYpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIEEgPSBMKFwiY29yZG92YS5JbkFwcEJyb3dzZXIub3BlblwiLCBsKTtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgQSkgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiKTtcbiAgICAgICAgICBRID0gSygpO1xuICAgICAgICAgIGEuYSA9IEEodiwgUS5tYXRjaCgvKGlQYWR8aVBob25lfGlQb2QpLipPUyA3X1xcZC9pKSB8fCBRLm1hdGNoKC8oaVBhZHxpUGhvbmV8aVBvZCkuKk9TIDhfXFxkL2kpID8gXCJfYmxhbmtcIiA6IFwiX3N5c3RlbVwiLCBcImxvY2F0aW9uPXllc1wiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBBbChhLCBiKSB7XG4gICAgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmIubGVuZ3RoOyBjKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGEuYltjXShiKTtcbiAgICAgIH0gY2F0Y2ggKGQpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24geGwoYSkge1xuICAgIGEuZiB8fCAoYS5mID0gYS5sYSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG5ldyBEKGZ1bmN0aW9uIChiKSB7XG4gICAgICAgIGZ1bmN0aW9uIGMoZCkge1xuICAgICAgICAgIGIoZCk7XG4gICAgICAgICAgYS5SYShjKTtcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH1cblxuICAgICAgICBhLkVhKGMpO1xuICAgICAgICBCbChhKTtcbiAgICAgIH0pO1xuICAgIH0pKTtcbiAgICByZXR1cm4gYS5mO1xuICB9XG5cbiAgZnVuY3Rpb24gemwoYSkge1xuICAgIHZhciBiID0gbnVsbDtcbiAgICByZXR1cm4gZWwoYS5nKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICBiID0gYztcbiAgICAgIGMgPSBhLmc7XG4gICAgICByZXR1cm4gJGsoYy5iLCBkbCwgYy5hKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gQmwoYSkge1xuICAgIGZ1bmN0aW9uIGIoZykge1xuICAgICAgZCA9ICEwO1xuICAgICAgZSAmJiBlLmNhbmNlbCgpO1xuICAgICAgemwoYSkudGhlbihmdW5jdGlvbiAoaCkge1xuICAgICAgICB2YXIgbiA9IGM7XG5cbiAgICAgICAgaWYgKGggJiYgZyAmJiBnLnVybCkge1xuICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICBuID0geWcoZy51cmwpO1xuICAgICAgICAgIC0xICE9IG4uaW5kZXhPZihcIi9fXy9hdXRoL2NhbGxiYWNrXCIpICYmIChwID0gYmUobiksIHAgPSBXZShhZShwLCBcImZpcmViYXNlRXJyb3JcIikgfHwgbnVsbCksIHAgPSAocCA9IFwib2JqZWN0XCIgPT09IHR5cGVvZiBwID8gQWEocCkgOiBudWxsKSA/IG5ldyB0aChoLmMsIGguYiwgbnVsbCwgbnVsbCwgcCwgbnVsbCwgaC5TKCkpIDogbmV3IHRoKGguYywgaC5iLCBuLCBoLmYsIG51bGwsIG51bGwsIGguUygpKSk7XG4gICAgICAgICAgbiA9IHAgfHwgYztcbiAgICAgICAgfVxuXG4gICAgICAgIEFsKGEsIG4pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGMgPSBuZXcgdGgoXCJ1bmtub3duXCIsIG51bGwsIG51bGwsIG51bGwsIG5ldyB0KFwibm8tYXV0aC1ldmVudFwiKSksXG4gICAgICAgIGQgPSAhMSxcbiAgICAgICAgZSA9IEVkKDUwMCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gemwoYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGQgfHwgQWwoYSwgYyk7XG4gICAgICB9KTtcbiAgICB9KSxcbiAgICAgICAgZiA9IGwuaGFuZGxlT3BlblVSTDtcblxuICAgIGwuaGFuZGxlT3BlblVSTCA9IGZ1bmN0aW9uIChnKSB7XG4gICAgICAwID09IGcudG9Mb3dlckNhc2UoKS5pbmRleE9mKEwoXCJCdWlsZEluZm8ucGFja2FnZU5hbWVcIiwgbCkudG9Mb3dlckNhc2UoKSArIFwiOi8vXCIpICYmIGIoe1xuICAgICAgICB1cmw6IGdcbiAgICAgIH0pO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGYpIHRyeSB7XG4gICAgICAgIGYoZyk7XG4gICAgICB9IGNhdGNoIChoKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoaCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdoIHx8ICh3aCA9IG5ldyB2aCgpKTtcbiAgICB4aChiKTtcbiAgfVxuXG4gIGsuRWEgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuYi5wdXNoKGEpO1xuICAgIHhsKHRoaXMpLnMoZnVuY3Rpb24gKGIpIHtcbiAgICAgIFwiYXV0aC9pbnZhbGlkLWNvcmRvdmEtY29uZmlndXJhdGlvblwiID09PSBiLmNvZGUgJiYgKGIgPSBuZXcgdGgoXCJ1bmtub3duXCIsIG51bGwsIG51bGwsIG51bGwsIG5ldyB0KFwibm8tYXV0aC1ldmVudFwiKSksIGEoYikpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuUmEgPSBmdW5jdGlvbiAoYSkge1xuICAgIFhhKHRoaXMuYiwgZnVuY3Rpb24gKGIpIHtcbiAgICAgIHJldHVybiBiID09IGE7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQ2woYSkge1xuICAgIHRoaXMuYSA9IGE7XG4gICAgdGhpcy5iID0gV2soKTtcbiAgfVxuXG4gIHZhciBEbCA9IHtcbiAgICBuYW1lOiBcInBlbmRpbmdSZWRpcmVjdFwiLFxuICAgIEQ6IFwic2Vzc2lvblwiXG4gIH07XG5cbiAgZnVuY3Rpb24gRWwoYSkge1xuICAgIHJldHVybiBhLmIuc2V0KERsLCBcInBlbmRpbmdcIiwgYS5hKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEZsKGEpIHtcbiAgICByZXR1cm4gJGsoYS5iLCBEbCwgYS5hKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdsKGEpIHtcbiAgICByZXR1cm4gYS5iLmdldChEbCwgYS5hKS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gXCJwZW5kaW5nXCIgPT0gYjtcbiAgICB9KTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBIbChhLCBiLCBjLCBkKSB7XG4gICAgdGhpcy5pID0ge307XG4gICAgdGhpcy51ID0gMDtcbiAgICB0aGlzLk8gPSBhO1xuICAgIHRoaXMubSA9IGI7XG4gICAgdGhpcy52ID0gYztcbiAgICB0aGlzLkcgPSBkO1xuICAgIHRoaXMuaCA9IFtdO1xuICAgIHRoaXMuZiA9ICExO1xuICAgIHRoaXMubCA9IHEodGhpcy5vLCB0aGlzKTtcbiAgICB0aGlzLmIgPSBuZXcgSWwoKTtcbiAgICB0aGlzLkEgPSBuZXcgSmwoKTtcbiAgICB0aGlzLmcgPSBuZXcgQ2woS2wodGhpcy5tLCB0aGlzLnYpKTtcbiAgICB0aGlzLmMgPSB7fTtcbiAgICB0aGlzLmMudW5rbm93biA9IHRoaXMuYjtcbiAgICB0aGlzLmMuc2lnbkluVmlhUmVkaXJlY3QgPSB0aGlzLmI7XG4gICAgdGhpcy5jLmxpbmtWaWFSZWRpcmVjdCA9IHRoaXMuYjtcbiAgICB0aGlzLmMucmVhdXRoVmlhUmVkaXJlY3QgPSB0aGlzLmI7XG4gICAgdGhpcy5jLnNpZ25JblZpYVBvcHVwID0gdGhpcy5BO1xuICAgIHRoaXMuYy5saW5rVmlhUG9wdXAgPSB0aGlzLkE7XG4gICAgdGhpcy5jLnJlYXV0aFZpYVBvcHVwID0gdGhpcy5BO1xuICAgIHRoaXMuYSA9IExsKHRoaXMuTywgdGhpcy5tLCB0aGlzLnYsIERhLCB0aGlzLkcpO1xuICB9XG5cbiAgZnVuY3Rpb24gTGwoYSwgYiwgYywgZCwgZSkge1xuICAgIHZhciBmID0gZmlyZWJhc2UuU0RLX1ZFUlNJT04gfHwgbnVsbDtcbiAgICByZXR1cm4gR2UoKSA/IG5ldyB0bChhLCBiLCBjLCBmLCBkLCBlKSA6IG5ldyBaaihhLCBiLCBjLCBmLCBkLCBlKTtcbiAgfVxuXG4gIEhsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmYgPSAhMTtcbiAgICB0aGlzLmEuUmEodGhpcy5sKTtcbiAgICB0aGlzLmEgPSBMbCh0aGlzLk8sIHRoaXMubSwgdGhpcy52LCBudWxsLCB0aGlzLkcpO1xuICAgIHRoaXMuaSA9IHt9O1xuICB9O1xuXG4gIGZ1bmN0aW9uIE1sKGEpIHtcbiAgICBhLmYgfHwgKGEuZiA9ICEwLCBhLmEuRWEoYS5sKSk7XG4gICAgdmFyIGIgPSBhLmE7XG4gICAgcmV0dXJuIGEuYS5sYSgpLnMoZnVuY3Rpb24gKGMpIHtcbiAgICAgIGEuYSA9PSBiICYmIGEucmVzZXQoKTtcbiAgICAgIHRocm93IGM7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBObChhKSB7XG4gICAgYS5hLldiKCkgJiYgTWwoYSkucyhmdW5jdGlvbiAoYikge1xuICAgICAgdmFyIGMgPSBuZXcgdGgoXCJ1bmtub3duXCIsIG51bGwsIG51bGwsIG51bGwsIG5ldyB0KFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7XG4gICAgICBPbChiKSAmJiBhLm8oYyk7XG4gICAgfSk7XG4gICAgYS5hLlNiKCkgfHwgUGwoYS5iKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFFsKGEsIGIpIHtcbiAgICBWYShhLmgsIGIpIHx8IGEuaC5wdXNoKGIpO1xuICAgIGEuZiB8fCBHbChhLmcpLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIGMgPyBGbChhLmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBNbChhKS5zKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgdmFyIGUgPSBuZXcgdGgoXCJ1bmtub3duXCIsIG51bGwsIG51bGwsIG51bGwsIG5ldyB0KFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7XG4gICAgICAgICAgT2woZCkgJiYgYS5vKGUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pIDogTmwoYSk7XG4gICAgfSkucyhmdW5jdGlvbiAoKSB7XG4gICAgICBObChhKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFJsKGEsIGIpIHtcbiAgICBYYShhLmgsIGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYyA9PSBiO1xuICAgIH0pO1xuICB9XG5cbiAgSGwucHJvdG90eXBlLm8gPSBmdW5jdGlvbiAoYSkge1xuICAgIGlmICghYSkgdGhyb3cgbmV3IHQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIik7XG4gICAgNkU1IDw9IHZhKCkgLSB0aGlzLnUgJiYgKHRoaXMuaSA9IHt9LCB0aGlzLnUgPSAwKTtcbiAgICBpZiAoYSAmJiBhLmdldFVpZCgpICYmIHRoaXMuaS5oYXNPd25Qcm9wZXJ0eShhLmdldFVpZCgpKSkgcmV0dXJuICExO1xuXG4gICAgZm9yICh2YXIgYiA9ICExLCBjID0gMDsgYyA8IHRoaXMuaC5sZW5ndGg7IGMrKykge1xuICAgICAgdmFyIGQgPSB0aGlzLmhbY107XG5cbiAgICAgIGlmIChkLkViKGEuYywgYS5iKSkge1xuICAgICAgICBpZiAoYiA9IHRoaXMuY1thLmNdKSBiLmgoYSwgZCksIGEgJiYgKGEuZiB8fCBhLmIpICYmICh0aGlzLmlbYS5nZXRVaWQoKV0gPSAhMCwgdGhpcy51ID0gdmEoKSk7XG4gICAgICAgIGIgPSAhMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgUGwodGhpcy5iKTtcbiAgICByZXR1cm4gYjtcbiAgfTtcblxuICB2YXIgU2wgPSBuZXcgWmUoMkUzLCAxRTQpLFxuICAgICAgVGwgPSBuZXcgWmUoM0U0LCA2RTQpO1xuXG4gIEhsLnByb3RvdHlwZS5xYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5iLnFhKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gVWwoYSwgYiwgYywgZCwgZSwgZiwgZykge1xuICAgIHJldHVybiBhLmEuTGIoYiwgYywgZCwgZnVuY3Rpb24gKCkge1xuICAgICAgYS5mIHx8IChhLmYgPSAhMCwgYS5hLkVhKGEubCkpO1xuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGEucmVzZXQoKTtcbiAgICB9LCBlLCBmLCBnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIE9sKGEpIHtcbiAgICByZXR1cm4gYSAmJiBcImF1dGgvY29yZG92YS1ub3QtcmVhZHlcIiA9PSBhLmNvZGUgPyAhMCA6ICExO1xuICB9XG5cbiAgZnVuY3Rpb24gVmwoYSwgYiwgYywgZCwgZSkge1xuICAgIHZhciBmO1xuICAgIHJldHVybiBFbChhLmcpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuYS5NYihiLCBjLCBkLCBlKS5zKGZ1bmN0aW9uIChnKSB7XG4gICAgICAgIGlmIChPbChnKSkgdGhyb3cgbmV3IHQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpO1xuICAgICAgICBmID0gZztcbiAgICAgICAgcmV0dXJuIEZsKGEuZykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgZjtcbiAgICAgICAgfSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGEuYS5aYigpID8gbmV3IEQoZnVuY3Rpb24gKCkge30pIDogRmwoYS5nKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gYS5xYSgpO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KS5zKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gV2woYSwgYiwgYywgZCwgZSkge1xuICAgIHJldHVybiBhLmEuTmIoZCwgZnVuY3Rpb24gKGYpIHtcbiAgICAgIGIubWEoYywgbnVsbCwgZiwgZSk7XG4gICAgfSwgU2wuZ2V0KCkpO1xuICB9XG5cbiAgdmFyIFhsID0ge307XG5cbiAgZnVuY3Rpb24gS2woYSwgYiwgYykge1xuICAgIGEgPSBhICsgXCI6XCIgKyBiO1xuICAgIGMgJiYgKGEgPSBhICsgXCI6XCIgKyBjLnVybCk7XG4gICAgcmV0dXJuIGE7XG4gIH1cblxuICBmdW5jdGlvbiBZbChhLCBiLCBjLCBkKSB7XG4gICAgdmFyIGUgPSBLbChiLCBjLCBkKTtcbiAgICBYbFtlXSB8fCAoWGxbZV0gPSBuZXcgSGwoYSwgYiwgYywgZCkpO1xuICAgIHJldHVybiBYbFtlXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIElsKCkge1xuICAgIHRoaXMuYiA9IG51bGw7XG4gICAgdGhpcy5mID0gW107XG4gICAgdGhpcy5jID0gW107XG4gICAgdGhpcy5hID0gbnVsbDtcbiAgICB0aGlzLmkgPSB0aGlzLmcgPSAhMTtcbiAgfVxuXG4gIElsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmIgPSBudWxsO1xuICAgIHRoaXMuYSAmJiAodGhpcy5hLmNhbmNlbCgpLCB0aGlzLmEgPSBudWxsKTtcbiAgfTtcblxuICBJbC5wcm90b3R5cGUuaCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZyA9ICEwO1xuICAgICAgdmFyIGMgPSBhLmMsXG4gICAgICAgICAgZCA9IGEuYixcbiAgICAgICAgICBlID0gYS5hICYmIFwiYXV0aC93ZWItc3RvcmFnZS11bnN1cHBvcnRlZFwiID09IGEuYS5jb2RlLFxuICAgICAgICAgIGYgPSBhLmEgJiYgXCJhdXRoL29wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIiA9PSBhLmEuY29kZTtcbiAgICAgIHRoaXMuaSA9ICEoIWUgJiYgIWYpO1xuICAgICAgXCJ1bmtub3duXCIgIT0gYyB8fCBlIHx8IGYgPyBhLmEgPyAoWmwodGhpcywgITAsIG51bGwsIGEuYSksIEUoKSkgOiBiLkZhKGMsIGQpID8gJGwodGhpcywgYSwgYikgOiBGKG5ldyB0KFwiaW52YWxpZC1hdXRoLWV2ZW50XCIpKSA6IChabCh0aGlzLCAhMSwgbnVsbCwgbnVsbCksIEUoKSk7XG4gICAgfSBlbHNlIEYobmV3IHQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFBsKGEpIHtcbiAgICBhLmcgfHwgKGEuZyA9ICEwLCBabChhLCAhMSwgbnVsbCwgbnVsbCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gYW0oYSkge1xuICAgIGEuZyAmJiAhYS5pICYmIFpsKGEsICExLCBudWxsLCBudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uICRsKGEsIGIsIGMpIHtcbiAgICBjID0gYy5GYShiLmMsIGIuYik7XG4gICAgdmFyIGQgPSBiLmcsXG4gICAgICAgIGUgPSBiLmYsXG4gICAgICAgIGYgPSBiLmksXG4gICAgICAgIGcgPSBiLlMoKSxcbiAgICAgICAgaCA9ICEhYi5jLm1hdGNoKC9SZWRpcmVjdCQvKTtcbiAgICBjKGQsIGUsIGcsIGYpLnRoZW4oZnVuY3Rpb24gKG4pIHtcbiAgICAgIFpsKGEsIGgsIG4sIG51bGwpO1xuICAgIH0pLnMoZnVuY3Rpb24gKG4pIHtcbiAgICAgIFpsKGEsIGgsIG51bGwsIG4pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYm0oYSwgYikge1xuICAgIGEuYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBGKGIpO1xuICAgIH07XG5cbiAgICBpZiAoYS5jLmxlbmd0aCkgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmMubGVuZ3RoOyBjKyspIHtcbiAgICAgIGEuY1tjXShiKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbShhLCBiKSB7XG4gICAgYS5iID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEUoYik7XG4gICAgfTtcblxuICAgIGlmIChhLmYubGVuZ3RoKSBmb3IgKHZhciBjID0gMDsgYyA8IGEuZi5sZW5ndGg7IGMrKykge1xuICAgICAgYS5mW2NdKGIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIFpsKGEsIGIsIGMsIGQpIHtcbiAgICBiID8gZCA/IGJtKGEsIGQpIDogY20oYSwgYykgOiBjbShhLCB7XG4gICAgICB1c2VyOiBudWxsXG4gICAgfSk7XG4gICAgYS5mID0gW107XG4gICAgYS5jID0gW107XG4gIH1cblxuICBJbC5wcm90b3R5cGUucWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoYiwgYykge1xuICAgICAgYS5iID8gYS5iKCkudGhlbihiLCBjKSA6IChhLmYucHVzaChiKSwgYS5jLnB1c2goYyksIGRtKGEpKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBkbShhKSB7XG4gICAgdmFyIGIgPSBuZXcgdChcInRpbWVvdXRcIik7XG4gICAgYS5hICYmIGEuYS5jYW5jZWwoKTtcbiAgICBhLmEgPSBFZChUbC5nZXQoKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBhLmIgfHwgKGEuZyA9ICEwLCBabChhLCAhMCwgbnVsbCwgYikpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gSmwoKSB7fVxuXG4gIEpsLnByb3RvdHlwZS5oID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYSkge1xuICAgICAgdmFyIGMgPSBhLmMsXG4gICAgICAgICAgZCA9IGEuYjtcbiAgICAgIGEuYSA/IChiLm1hKGEuYywgbnVsbCwgYS5hLCBhLmIpLCBFKCkpIDogYi5GYShjLCBkKSA/IGVtKGEsIGIpIDogRihuZXcgdChcImludmFsaWQtYXV0aC1ldmVudFwiKSk7XG4gICAgfSBlbHNlIEYobmV3IHQoXCJpbnZhbGlkLWF1dGgtZXZlbnRcIikpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGVtKGEsIGIpIHtcbiAgICB2YXIgYyA9IGEuYixcbiAgICAgICAgZCA9IGEuYztcbiAgICBiLkZhKGQsIGMpKGEuZywgYS5mLCBhLlMoKSwgYS5pKS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICBiLm1hKGQsIGUsIG51bGwsIGMpO1xuICAgIH0pLnMoZnVuY3Rpb24gKGUpIHtcbiAgICAgIGIubWEoZCwgbnVsbCwgZSwgYyk7XG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZm0oKSB7XG4gICAgdGhpcy5oYiA9ICExO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImFwcFZlcmlmaWNhdGlvbkRpc2FibGVkXCIsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYjtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldChhKSB7XG4gICAgICAgIHRoaXMuaGIgPSBhO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6ICExXG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZ20oYSwgYikge1xuICAgIHRoaXMuYSA9IGI7XG4gICAgTSh0aGlzLCBcInZlcmlmaWNhdGlvbklkXCIsIGEpO1xuICB9XG5cbiAgZ20ucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAoYSkge1xuICAgIGEgPSBxaCh0aGlzLnZlcmlmaWNhdGlvbklkLCBhKTtcbiAgICByZXR1cm4gdGhpcy5hKGEpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGhtKGEsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gbmV3IG1oKGEpLmViKGIsIGMpLnRoZW4oZnVuY3Rpb24gKGUpIHtcbiAgICAgIHJldHVybiBuZXcgZ20oZSwgZCk7XG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gaW0oYSkge1xuICAgIHZhciBiID0gamcoYSk7XG4gICAgaWYgKCEoYiAmJiBiLmV4cCAmJiBiLmF1dGhfdGltZSAmJiBiLmlhdCkpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJBbiBpbnRlcm5hbCBlcnJvciBvY2N1cnJlZC4gVGhlIHRva2VuIG9idGFpbmVkIGJ5IEZpcmViYXNlIGFwcGVhcnMgdG8gYmUgbWFsZm9ybWVkLiBQbGVhc2UgcmV0cnkgdGhlIG9wZXJhdGlvbi5cIik7XG4gICAgTih0aGlzLCB7XG4gICAgICB0b2tlbjogYSxcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBjZigxRTMgKiBiLmV4cCksXG4gICAgICBhdXRoVGltZTogY2YoMUUzICogYi5hdXRoX3RpbWUpLFxuICAgICAgaXNzdWVkQXRUaW1lOiBjZigxRTMgKiBiLmlhdCksXG4gICAgICBzaWduSW5Qcm92aWRlcjogYi5maXJlYmFzZSAmJiBiLmZpcmViYXNlLnNpZ25faW5fcHJvdmlkZXIgPyBiLmZpcmViYXNlLnNpZ25faW5fcHJvdmlkZXIgOiBudWxsLFxuICAgICAgc2lnbkluU2Vjb25kRmFjdG9yOiBiLmZpcmViYXNlICYmIGIuZmlyZWJhc2Uuc2lnbl9pbl9zZWNvbmRfZmFjdG9yID8gYi5maXJlYmFzZS5zaWduX2luX3NlY29uZF9mYWN0b3IgOiBudWxsLFxuICAgICAgY2xhaW1zOiBiXG4gICAgfSk7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gam0oYSwgYiwgYykge1xuICAgIHZhciBkID0gYiAmJiBiW2ttXTtcbiAgICBpZiAoIWQpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgXCJJbnRlcm5hbCBhc3NlcnQ6IEludmFsaWQgTXVsdGlGYWN0b3JSZXNvbHZlclwiKTtcbiAgICB0aGlzLmEgPSBhO1xuICAgIHRoaXMuZiA9IG5iKGIpO1xuICAgIHRoaXMuZyA9IGM7XG4gICAgdGhpcy5jID0gbmV3IHpnKG51bGwsIGQpO1xuICAgIHRoaXMuYiA9IFtdO1xuICAgIHZhciBlID0gdGhpcztcbiAgICB3KGJbbG1dIHx8IFtdLCBmdW5jdGlvbiAoZikge1xuICAgICAgKGYgPSB1ZihmKSkgJiYgZS5iLnB1c2goZik7XG4gICAgfSk7XG4gICAgTSh0aGlzLCBcImF1dGhcIiwgdGhpcy5hKTtcbiAgICBNKHRoaXMsIFwic2Vzc2lvblwiLCB0aGlzLmMpO1xuICAgIE0odGhpcywgXCJoaW50c1wiLCB0aGlzLmIpO1xuICB9XG5cbiAgdmFyIGxtID0gXCJtZmFJbmZvXCIsXG4gICAgICBrbSA9IFwibWZhUGVuZGluZ0NyZWRlbnRpYWxcIjtcblxuICBqbS5wcm90b3R5cGUuUWMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gYS5yYih0aGlzLmEuYSwgdGhpcy5jKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICB2YXIgZCA9IG5iKGIuZik7XG4gICAgICBkZWxldGUgZFtsbV07XG4gICAgICBkZWxldGUgZFtrbV07XG4gICAgICB6KGQsIGMpO1xuICAgICAgcmV0dXJuIGIuZyhkKTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtbShhLCBiLCBjLCBkKSB7XG4gICAgdC5jYWxsKHRoaXMsIFwibXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIiwgZCwgYik7XG4gICAgdGhpcy5iID0gbmV3IGptKGEsIGIsIGMpO1xuICAgIE0odGhpcywgXCJyZXNvbHZlclwiLCB0aGlzLmIpO1xuICB9XG5cbiAgcihtbSwgdCk7XG5cbiAgZnVuY3Rpb24gbm0oYSwgYiwgYykge1xuICAgIGlmIChhICYmIG0oYS5zZXJ2ZXJSZXNwb25zZSkgJiYgXCJhdXRoL211bHRpLWZhY3Rvci1hdXRoLXJlcXVpcmVkXCIgPT09IGEuY29kZSkgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgbW0oYiwgYS5zZXJ2ZXJSZXNwb25zZSwgYywgYS5tZXNzYWdlKTtcbiAgICB9IGNhdGNoIChkKSB7fVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIG9tKCkge31cblxuICBvbS5wcm90b3R5cGUucmIgPSBmdW5jdGlvbiAoYSwgYiwgYykge1xuICAgIHJldHVybiBiLnR5cGUgPT0gQWcgPyBwbSh0aGlzLCBhLCBiLCBjKSA6IHFtKHRoaXMsIGEsIGIpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBtKGEsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYy5IYSgpLnRoZW4oZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgPSB7XG4gICAgICAgIGlkVG9rZW46IGVcbiAgICAgIH07XG4gICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZCAmJiAoZS5kaXNwbGF5TmFtZSA9IGQpO1xuICAgICAgeihlLCB7XG4gICAgICAgIHBob25lVmVyaWZpY2F0aW9uSW5mbzogaWgoYS5hKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gTyhiLCBIaiwgZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBxbShhLCBiLCBjKSB7XG4gICAgcmV0dXJuIGMuSGEoKS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICBkID0ge1xuICAgICAgICBtZmFQZW5kaW5nQ3JlZGVudGlhbDogZFxuICAgICAgfTtcbiAgICAgIHooZCwge1xuICAgICAgICBwaG9uZVZlcmlmaWNhdGlvbkluZm86IGloKGEuYSlcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIE8oYiwgSWosIGQpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcm0oYSkge1xuICAgIE0odGhpcywgXCJmYWN0b3JJZFwiLCBhLmZhKTtcbiAgICB0aGlzLmEgPSBhO1xuICB9XG5cbiAgcihybSwgb20pO1xuXG4gIGZ1bmN0aW9uIHNtKGEpIHtcbiAgICBybS5jYWxsKHRoaXMsIGEpO1xuICAgIGlmICh0aGlzLmEuZmEgIT0gbWguUFJPVklERVJfSUQpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgXCJmaXJlYmFzZS5hdXRoLlBob25lTXVsdGlGYWN0b3JBc3NlcnRpb24gcmVxdWlyZXMgYSB2YWxpZCBmaXJlYmFzZS5hdXRoLlBob25lQXV0aENyZWRlbnRpYWxcIik7XG4gIH1cblxuICByKHNtLCBybSk7XG5cbiAgZnVuY3Rpb24gdG0oYSwgYikge1xuICAgIEcuY2FsbCh0aGlzLCBhKTtcblxuICAgIGZvciAodmFyIGMgaW4gYikge1xuICAgICAgdGhpc1tjXSA9IGJbY107XG4gICAgfVxuICB9XG5cbiAgcih0bSwgRyk7XG5cbiAgZnVuY3Rpb24gdW0oYSwgYikge1xuICAgIHRoaXMuYSA9IGE7XG4gICAgdGhpcy5iID0gW107XG4gICAgdGhpcy5jID0gcSh0aGlzLnhjLCB0aGlzKTtcbiAgICBuZCh0aGlzLmEsIFwidXNlclJlbG9hZGVkXCIsIHRoaXMuYyk7XG4gICAgdmFyIGMgPSBbXTtcbiAgICBiICYmIGIubXVsdGlGYWN0b3IgJiYgYi5tdWx0aUZhY3Rvci5lbnJvbGxlZEZhY3RvcnMgJiYgdyhiLm11bHRpRmFjdG9yLmVucm9sbGVkRmFjdG9ycywgZnVuY3Rpb24gKGQpIHtcbiAgICAgIHZhciBlID0gbnVsbCxcbiAgICAgICAgICBmID0ge307XG5cbiAgICAgIGlmIChkKSB7XG4gICAgICAgIGQudWlkICYmIChmW3JmXSA9IGQudWlkKTtcbiAgICAgICAgZC5kaXNwbGF5TmFtZSAmJiAoZltzZl0gPSBkLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgZC5lbnJvbGxtZW50VGltZSAmJiAoZlt0Zl0gPSBuZXcgRGF0ZShkLmVucm9sbG1lbnRUaW1lKS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgZC5waG9uZU51bWJlciAmJiAoZltxZl0gPSBkLnBob25lTnVtYmVyKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIGUgPSBuZXcgdmYoZik7XG4gICAgICAgIH0gY2F0Y2ggKGcpIHt9XG5cbiAgICAgICAgZCA9IGU7XG4gICAgICB9IGVsc2UgZCA9IG51bGw7XG5cbiAgICAgIGQgJiYgYy5wdXNoKGQpO1xuICAgIH0pO1xuICAgIHZtKHRoaXMsIGMpO1xuICB9XG5cbiAgZnVuY3Rpb24gd20oYSkge1xuICAgIHZhciBiID0gW107XG4gICAgdyhhLm1mYUluZm8gfHwgW10sIGZ1bmN0aW9uIChjKSB7XG4gICAgICAoYyA9IHVmKGMpKSAmJiBiLnB1c2goYyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGI7XG4gIH1cblxuICBrID0gdW0ucHJvdG90eXBlO1xuXG4gIGsueGMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZtKHRoaXMsIHdtKGEuZ2QpKTtcbiAgfTtcblxuICBmdW5jdGlvbiB2bShhLCBiKSB7XG4gICAgYS5iID0gYjtcbiAgICBNKGEsIFwiZW5yb2xsZWRGYWN0b3JzXCIsIGIpO1xuICB9XG5cbiAgay5RYiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hLkkoKS50aGVuKGZ1bmN0aW9uIChhKSB7XG4gICAgICByZXR1cm4gbmV3IHpnKGEsIG51bGwpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuZWMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcyxcbiAgICAgICAgZCA9IHRoaXMuYS5hO1xuICAgIHJldHVybiB0aGlzLlFiKCkudGhlbihmdW5jdGlvbiAoZSkge1xuICAgICAgcmV0dXJuIGEucmIoZCwgZSwgYik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZSkge1xuICAgICAgeG0oYy5hLCBlKTtcbiAgICAgIHJldHVybiBjLmEucmVsb2FkKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgay5hZCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzLFxuICAgICAgICBjID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGEgPyBhIDogYS51aWQsXG4gICAgICAgIGQgPSB0aGlzLmEuYTtcbiAgICByZXR1cm4gdGhpcy5hLkkoKS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gTyhkLCBNaiwge1xuICAgICAgICBpZFRva2VuOiBlLFxuICAgICAgICBtZmFFbnJvbGxtZW50SWQ6IGNcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBmID0gUWEoYi5iLCBmdW5jdGlvbiAoZykge1xuICAgICAgICByZXR1cm4gZy51aWQgIT0gYztcbiAgICAgIH0pO1xuICAgICAgdm0oYiwgZik7XG4gICAgICB4bShiLmEsIGUpO1xuICAgICAgcmV0dXJuIGIuYS5yZWxvYWQoKS5zKGZ1bmN0aW9uIChnKSB7XG4gICAgICAgIGlmIChcImF1dGgvdXNlci10b2tlbi1leHBpcmVkXCIgIT0gZy5jb2RlKSB0aHJvdyBnO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgay53ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtdWx0aUZhY3Rvcjoge1xuICAgICAgICBlbnJvbGxlZEZhY3RvcnM6IFJhKHRoaXMuYiwgZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgICByZXR1cm4gYS53KCk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB5bShhLCBiLCBjKSB7XG4gICAgdGhpcy5oID0gYTtcbiAgICB0aGlzLmkgPSBiO1xuICAgIHRoaXMuZyA9IGM7XG4gICAgdGhpcy5jID0gM0U0O1xuICAgIHRoaXMuZiA9IDk2RTQ7XG4gICAgdGhpcy5iID0gbnVsbDtcbiAgICB0aGlzLmEgPSB0aGlzLmM7XG4gICAgaWYgKHRoaXMuZiA8IHRoaXMuYykgdGhyb3cgRXJyb3IoXCJQcm9hY3RpdmUgcmVmcmVzaCBsb3dlciBib3VuZCBncmVhdGVyIHRoYW4gdXBwZXIgYm91bmQhXCIpO1xuICB9XG5cbiAgeW0ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuYSA9IHRoaXMuYztcbiAgICB6bSh0aGlzLCAhMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gQW0oYSwgYikge1xuICAgIGlmIChiKSByZXR1cm4gYS5hID0gYS5jLCBhLmcoKTtcbiAgICBiID0gYS5hO1xuICAgIGEuYSAqPSAyO1xuICAgIGEuYSA+IGEuZiAmJiAoYS5hID0gYS5mKTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHptKGEsIGIpIHtcbiAgICBhLnN0b3AoKTtcbiAgICBhLmIgPSBFZChBbShhLCBiKSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYWYoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhLmgoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHptKGEsICEwKTtcbiAgICB9KS5zKGZ1bmN0aW9uIChjKSB7XG4gICAgICBhLmkoYykgJiYgem0oYSwgITEpO1xuICAgIH0pO1xuICB9XG5cbiAgeW0ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5iICYmICh0aGlzLmIuY2FuY2VsKCksIHRoaXMuYiA9IG51bGwpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEJtKGEpIHtcbiAgICB0aGlzLmMgPSBhO1xuICAgIHRoaXMuYiA9IHRoaXMuYSA9IG51bGw7XG4gIH1cblxuICBCbS5wcm90b3R5cGUudyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYXBpS2V5OiB0aGlzLmMuYyxcbiAgICAgIHJlZnJlc2hUb2tlbjogdGhpcy5hLFxuICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYiAmJiB0aGlzLmIudG9TdHJpbmcoKSxcbiAgICAgIGV4cGlyYXRpb25UaW1lOiBDbSh0aGlzKVxuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQ20oYSkge1xuICAgIHJldHVybiBhLmIgJiYgMUUzICogYS5iLmMgfHwgMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIERtKGEsIGIpIHtcbiAgICB2YXIgYyA9IGIucmVmcmVzaFRva2VuO1xuICAgIGEuYiA9IGtnKGJbRWddIHx8IFwiXCIpO1xuICAgIGEuYSA9IGM7XG4gIH1cblxuICBmdW5jdGlvbiBFbShhLCBiKSB7XG4gICAgYS5iID0gYi5iO1xuICAgIGEuYSA9IGIuYTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEZtKGEsIGIpIHtcbiAgICByZXR1cm4gWGkoYS5jLCBiKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICBhLmIgPSBrZyhjLmFjY2Vzc190b2tlbik7XG4gICAgICBhLmEgPSBjLnJlZnJlc2hfdG9rZW47XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhY2Nlc3NUb2tlbjogYS5iLnRvU3RyaW5nKCksXG4gICAgICAgIHJlZnJlc2hUb2tlbjogYS5hXG4gICAgICB9O1xuICAgIH0pLnMoZnVuY3Rpb24gKGMpIHtcbiAgICAgIFwiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIiA9PSBjLmNvZGUgJiYgKGEuYSA9IG51bGwpO1xuICAgICAgdGhyb3cgYztcbiAgICB9KTtcbiAgfVxuXG4gIEJtLnByb3RvdHlwZS5nZXRUb2tlbiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgYSA9ICEhYTtcbiAgICByZXR1cm4gdGhpcy5iICYmICF0aGlzLmEgPyBGKG5ldyB0KFwidXNlci10b2tlbi1leHBpcmVkXCIpKSA6IGEgfHwgIXRoaXMuYiB8fCB2YSgpID4gQ20odGhpcykgLSAzRTQgPyB0aGlzLmEgPyBGbSh0aGlzLCB7XG4gICAgICBncmFudF90eXBlOiBcInJlZnJlc2hfdG9rZW5cIixcbiAgICAgIHJlZnJlc2hfdG9rZW46IHRoaXMuYVxuICAgIH0pIDogRShudWxsKSA6IEUoe1xuICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYi50b1N0cmluZygpLFxuICAgICAgcmVmcmVzaFRva2VuOiB0aGlzLmFcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBHbShhLCBiKSB7XG4gICAgdGhpcy5hID0gYSB8fCBudWxsO1xuICAgIHRoaXMuYiA9IGIgfHwgbnVsbDtcbiAgICBOKHRoaXMsIHtcbiAgICAgIGxhc3RTaWduSW5UaW1lOiBjZihiIHx8IG51bGwpLFxuICAgICAgY3JlYXRpb25UaW1lOiBjZihhIHx8IG51bGwpXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBIbShhKSB7XG4gICAgcmV0dXJuIG5ldyBHbShhLmEsIGEuYik7XG4gIH1cblxuICBHbS5wcm90b3R5cGUudyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdExvZ2luQXQ6IHRoaXMuYixcbiAgICAgIGNyZWF0ZWRBdDogdGhpcy5hXG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBJbShhLCBiLCBjLCBkLCBlLCBmKSB7XG4gICAgTih0aGlzLCB7XG4gICAgICB1aWQ6IGEsXG4gICAgICBkaXNwbGF5TmFtZTogZCB8fCBudWxsLFxuICAgICAgcGhvdG9VUkw6IGUgfHwgbnVsbCxcbiAgICAgIGVtYWlsOiBjIHx8IG51bGwsXG4gICAgICBwaG9uZU51bWJlcjogZiB8fCBudWxsLFxuICAgICAgcHJvdmlkZXJJZDogYlxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gSm0oYSwgYiwgYykge1xuICAgIHRoaXMuRyA9IFtdO1xuICAgIHRoaXMubCA9IGEuYXBpS2V5O1xuICAgIHRoaXMubSA9IGEuYXBwTmFtZTtcbiAgICB0aGlzLm8gPSBhLmF1dGhEb21haW4gfHwgbnVsbDtcbiAgICB2YXIgZCA9IGZpcmViYXNlLlNES19WRVJTSU9OID8gT2UoZmlyZWJhc2UuU0RLX1ZFUlNJT04pIDogbnVsbDtcbiAgICB0aGlzLmEgPSBuZXcgSmkodGhpcy5sLCBDYShEYSksIGQpO1xuICAgIGEuZW11bGF0b3JDb25maWcgJiYgUWkodGhpcy5hLCBhLmVtdWxhdG9yQ29uZmlnKTtcbiAgICB0aGlzLmIgPSBuZXcgQm0odGhpcy5hKTtcbiAgICBLbSh0aGlzLCBiW0VnXSk7XG4gICAgRG0odGhpcy5iLCBiKTtcbiAgICBNKHRoaXMsIFwicmVmcmVzaFRva2VuXCIsIHRoaXMuYi5hKTtcbiAgICBMbSh0aGlzLCBjIHx8IHt9KTtcbiAgICBJLmNhbGwodGhpcyk7XG4gICAgdGhpcy5QID0gITE7XG4gICAgdGhpcy5vICYmIFJlKCkgJiYgKHRoaXMuaSA9IFlsKHRoaXMubywgdGhpcy5sLCB0aGlzLm0pKTtcbiAgICB0aGlzLlIgPSBbXTtcbiAgICB0aGlzLmYgPSBudWxsO1xuICAgIHRoaXMudSA9IE1tKHRoaXMpO1xuICAgIHRoaXMuJCA9IHEodGhpcy5nYiwgdGhpcyk7XG4gICAgdmFyIGUgPSB0aGlzO1xuICAgIHRoaXMucGEgPSBudWxsO1xuXG4gICAgdGhpcy5CYSA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICBlLndhKGYuaCk7XG4gICAgfTtcblxuICAgIHRoaXMuYmEgPSBudWxsO1xuXG4gICAgdGhpcy56YSA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICBRaShlLmEsIGYuYyk7XG4gICAgfTtcblxuICAgIHRoaXMuVyA9IG51bGw7XG4gICAgdGhpcy5YID0gW107XG5cbiAgICB0aGlzLkFhID0gZnVuY3Rpb24gKGYpIHtcbiAgICAgIE5tKGUsIGYuZik7XG4gICAgfTtcblxuICAgIHRoaXMuYWEgPSBudWxsO1xuICAgIHRoaXMuTiA9IG5ldyB1bSh0aGlzLCBjKTtcbiAgICBNKHRoaXMsIFwibXVsdGlGYWN0b3JcIiwgdGhpcy5OKTtcbiAgfVxuXG4gIHIoSm0sIEkpO1xuXG4gIEptLnByb3RvdHlwZS53YSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdGhpcy5wYSA9IGE7XG4gICAgUGkodGhpcy5hLCBhKTtcbiAgfTtcblxuICBKbS5wcm90b3R5cGUua2EgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMucGE7XG4gIH07XG5cbiAgZnVuY3Rpb24gT20oYSwgYikge1xuICAgIGEuYmEgJiYgSChhLmJhLCBcImxhbmd1YWdlQ29kZUNoYW5nZWRcIiwgYS5CYSk7XG4gICAgKGEuYmEgPSBiKSAmJiBuZChiLCBcImxhbmd1YWdlQ29kZUNoYW5nZWRcIiwgYS5CYSk7XG4gIH1cblxuICBmdW5jdGlvbiBQbShhLCBiKSB7XG4gICAgYS5XICYmIEgoYS5XLCBcImVtdWxhdG9yQ29uZmlnQ2hhbmdlZFwiLCBhLnphKTtcbiAgICAoYS5XID0gYikgJiYgbmQoYiwgXCJlbXVsYXRvckNvbmZpZ0NoYW5nZWRcIiwgYS56YSk7XG4gIH1cblxuICBmdW5jdGlvbiBObShhLCBiKSB7XG4gICAgYS5YID0gYjtcbiAgICBTaShhLmEsIGZpcmViYXNlLlNES19WRVJTSU9OID8gT2UoZmlyZWJhc2UuU0RLX1ZFUlNJT04sIGEuWCkgOiBudWxsKTtcbiAgfVxuXG4gIEptLnByb3RvdHlwZS5HYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gWmEodGhpcy5YKTtcbiAgfTtcblxuICBmdW5jdGlvbiBRbShhLCBiKSB7XG4gICAgYS5hYSAmJiBIKGEuYWEsIFwiZnJhbWV3b3JrQ2hhbmdlZFwiLCBhLkFhKTtcbiAgICAoYS5hYSA9IGIpICYmIG5kKGIsIFwiZnJhbWV3b3JrQ2hhbmdlZFwiLCBhLkFhKTtcbiAgfVxuXG4gIEptLnByb3RvdHlwZS5nYiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnUuYiAmJiAodGhpcy51LnN0b3AoKSwgdGhpcy51LnN0YXJ0KCkpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFJtKGEpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZpcmViYXNlLmFwcChhLm0pLmF1dGgoKTtcbiAgICB9IGNhdGNoIChiKSB7XG4gICAgICB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIsIFwiTm8gZmlyZWJhc2UuYXV0aC5BdXRoIGluc3RhbmNlIGlzIGF2YWlsYWJsZSBmb3IgdGhlIEZpcmViYXNlIEFwcCAnXCIgKyBhLm0gKyBcIichXCIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIE1tKGEpIHtcbiAgICByZXR1cm4gbmV3IHltKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhLkkoITApO1xuICAgIH0sIGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYiAmJiBcImF1dGgvbmV0d29yay1yZXF1ZXN0LWZhaWxlZFwiID09IGIuY29kZSA/ICEwIDogITE7XG4gICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGIgPSBDbShhLmIpIC0gdmEoKSAtIDNFNTtcbiAgICAgIHJldHVybiAwIDwgYiA/IGIgOiAwO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gU20oYSkge1xuICAgIGEuQSB8fCBhLnUuYiB8fCAoYS51LnN0YXJ0KCksIEgoYSwgXCJ0b2tlbkNoYW5nZWRcIiwgYS4kKSwgbmQoYSwgXCJ0b2tlbkNoYW5nZWRcIiwgYS4kKSk7XG4gIH1cblxuICBmdW5jdGlvbiBUbShhKSB7XG4gICAgSChhLCBcInRva2VuQ2hhbmdlZFwiLCBhLiQpO1xuICAgIGEudS5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBLbShhLCBiKSB7XG4gICAgYS55YSA9IGI7XG4gICAgTShhLCBcIl9sYXRcIiwgYik7XG4gIH1cblxuICBmdW5jdGlvbiBVbShhLCBiKSB7XG4gICAgWGEoYS5SLCBmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMgPT0gYjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFZtKGEpIHtcbiAgICBmb3IgKHZhciBiID0gW10sIGMgPSAwOyBjIDwgYS5SLmxlbmd0aDsgYysrKSB7XG4gICAgICBiLnB1c2goYS5SW2NdKGEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gSmMoYikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFdtKGEpIHtcbiAgICBhLmkgJiYgIWEuUCAmJiAoYS5QID0gITAsIFFsKGEuaSwgYSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gTG0oYSwgYikge1xuICAgIE4oYSwge1xuICAgICAgdWlkOiBiLnVpZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBiLmRpc3BsYXlOYW1lIHx8IG51bGwsXG4gICAgICBwaG90b1VSTDogYi5waG90b1VSTCB8fCBudWxsLFxuICAgICAgZW1haWw6IGIuZW1haWwgfHwgbnVsbCxcbiAgICAgIGVtYWlsVmVyaWZpZWQ6IGIuZW1haWxWZXJpZmllZCB8fCAhMSxcbiAgICAgIHBob25lTnVtYmVyOiBiLnBob25lTnVtYmVyIHx8IG51bGwsXG4gICAgICBpc0Fub255bW91czogYi5pc0Fub255bW91cyB8fCAhMSxcbiAgICAgIHRlbmFudElkOiBiLnRlbmFudElkIHx8IG51bGwsXG4gICAgICBtZXRhZGF0YTogbmV3IEdtKGIuY3JlYXRlZEF0LCBiLmxhc3RMb2dpbkF0KSxcbiAgICAgIHByb3ZpZGVyRGF0YTogW11cbiAgICB9KTtcbiAgICBhLmEuYiA9IGEudGVuYW50SWQ7XG4gIH1cblxuICBNKEptLnByb3RvdHlwZSwgXCJwcm92aWRlcklkXCIsIFwiZmlyZWJhc2VcIik7XG5cbiAgZnVuY3Rpb24gWG0oKSB7fVxuXG4gIGZ1bmN0aW9uIFltKGEpIHtcbiAgICByZXR1cm4gRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGEuQSkgdGhyb3cgbmV3IHQoXCJhcHAtZGVsZXRlZFwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFptKGEpIHtcbiAgICByZXR1cm4gUmEoYS5wcm92aWRlckRhdGEsIGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gYi5wcm92aWRlcklkO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gJG0oYSwgYikge1xuICAgIGIgJiYgKGFuKGEsIGIucHJvdmlkZXJJZCksIGEucHJvdmlkZXJEYXRhLnB1c2goYikpO1xuICB9XG5cbiAgZnVuY3Rpb24gYW4oYSwgYikge1xuICAgIFhhKGEucHJvdmlkZXJEYXRhLCBmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMucHJvdmlkZXJJZCA9PSBiO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gYm4oYSwgYiwgYykge1xuICAgIChcInVpZFwiICE9IGIgfHwgYykgJiYgYS5oYXNPd25Qcm9wZXJ0eShiKSAmJiBNKGEsIGIsIGMpO1xuICB9XG5cbiAgZnVuY3Rpb24gY24oYSwgYikge1xuICAgIGEgIT0gYiAmJiAoTihhLCB7XG4gICAgICB1aWQ6IGIudWlkLFxuICAgICAgZGlzcGxheU5hbWU6IGIuZGlzcGxheU5hbWUsXG4gICAgICBwaG90b1VSTDogYi5waG90b1VSTCxcbiAgICAgIGVtYWlsOiBiLmVtYWlsLFxuICAgICAgZW1haWxWZXJpZmllZDogYi5lbWFpbFZlcmlmaWVkLFxuICAgICAgcGhvbmVOdW1iZXI6IGIucGhvbmVOdW1iZXIsXG4gICAgICBpc0Fub255bW91czogYi5pc0Fub255bW91cyxcbiAgICAgIHRlbmFudElkOiBiLnRlbmFudElkLFxuICAgICAgcHJvdmlkZXJEYXRhOiBbXVxuICAgIH0pLCBiLm1ldGFkYXRhID8gTShhLCBcIm1ldGFkYXRhXCIsIEhtKGIubWV0YWRhdGEpKSA6IE0oYSwgXCJtZXRhZGF0YVwiLCBuZXcgR20oKSksIHcoYi5wcm92aWRlckRhdGEsIGZ1bmN0aW9uIChjKSB7XG4gICAgICAkbShhLCBjKTtcbiAgICB9KSwgRW0oYS5iLCBiLmIpLCBNKGEsIFwicmVmcmVzaFRva2VuXCIsIGEuYi5hKSwgdm0oYS5OLCBiLk4uYikpO1xuICB9XG5cbiAgayA9IEptLnByb3RvdHlwZTtcblxuICBrLnJlbG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHRoaXM7XG4gICAgcmV0dXJuIFIodGhpcywgWW0odGhpcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZG4oYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBWbShhKTtcbiAgICAgIH0pLnRoZW4oWG0pO1xuICAgIH0pKTtcbiAgfTtcblxuICBmdW5jdGlvbiBkbihhKSB7XG4gICAgcmV0dXJuIGEuSSgpLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIHZhciBjID0gYS5pc0Fub255bW91cztcbiAgICAgIHJldHVybiBlbihhLCBiKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYyB8fCBibihhLCBcImlzQW5vbnltb3VzXCIsICExKTtcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGsubmMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiB0aGlzLkkoYSkudGhlbihmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIG5ldyBpbShiKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLkkgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gUih0aGlzLCBZbSh0aGlzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBiLmIuZ2V0VG9rZW4oYSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKCFjKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIpO1xuICAgICAgYy5hY2Nlc3NUb2tlbiAhPSBiLnlhICYmIChLbShiLCBjLmFjY2Vzc1Rva2VuKSwgYi5kaXNwYXRjaEV2ZW50KG5ldyB0bShcInRva2VuQ2hhbmdlZFwiKSkpO1xuICAgICAgYm4oYiwgXCJyZWZyZXNoVG9rZW5cIiwgYy5yZWZyZXNoVG9rZW4pO1xuICAgICAgcmV0dXJuIGMuYWNjZXNzVG9rZW47XG4gICAgfSkpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHhtKGEsIGIpIHtcbiAgICBiW0VnXSAmJiBhLnlhICE9IGJbRWddICYmIChEbShhLmIsIGIpLCBhLmRpc3BhdGNoRXZlbnQobmV3IHRtKFwidG9rZW5DaGFuZ2VkXCIpKSwgS20oYSwgYltFZ10pLCBibihhLCBcInJlZnJlc2hUb2tlblwiLCBhLmIuYSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW4oYSwgYikge1xuICAgIHJldHVybiBPKGEuYSwgSmosIHtcbiAgICAgIGlkVG9rZW46IGJcbiAgICB9KS50aGVuKHEoYS5KYywgYSkpO1xuICB9XG5cbiAgay5KYyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgYSA9IGEudXNlcnM7XG4gICAgaWYgKCFhIHx8ICFhLmxlbmd0aCkgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKTtcbiAgICBhID0gYVswXTtcbiAgICBMbSh0aGlzLCB7XG4gICAgICB1aWQ6IGEubG9jYWxJZCxcbiAgICAgIGRpc3BsYXlOYW1lOiBhLmRpc3BsYXlOYW1lLFxuICAgICAgcGhvdG9VUkw6IGEucGhvdG9VcmwsXG4gICAgICBlbWFpbDogYS5lbWFpbCxcbiAgICAgIGVtYWlsVmVyaWZpZWQ6ICEhYS5lbWFpbFZlcmlmaWVkLFxuICAgICAgcGhvbmVOdW1iZXI6IGEucGhvbmVOdW1iZXIsXG4gICAgICBsYXN0TG9naW5BdDogYS5sYXN0TG9naW5BdCxcbiAgICAgIGNyZWF0ZWRBdDogYS5jcmVhdGVkQXQsXG4gICAgICB0ZW5hbnRJZDogYS50ZW5hbnRJZFxuICAgIH0pO1xuXG4gICAgZm9yICh2YXIgYiA9IGZuKGEpLCBjID0gMDsgYyA8IGIubGVuZ3RoOyBjKyspIHtcbiAgICAgICRtKHRoaXMsIGJbY10pO1xuICAgIH1cblxuICAgIGJuKHRoaXMsIFwiaXNBbm9ueW1vdXNcIiwgISh0aGlzLmVtYWlsICYmIGEucGFzc3dvcmRIYXNoKSAmJiAhKHRoaXMucHJvdmlkZXJEYXRhICYmIHRoaXMucHJvdmlkZXJEYXRhLmxlbmd0aCkpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgdG0oXCJ1c2VyUmVsb2FkZWRcIiwge1xuICAgICAgZ2Q6IGFcbiAgICB9KSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZm4oYSkge1xuICAgIHJldHVybiAoYSA9IGEucHJvdmlkZXJVc2VySW5mbykgJiYgYS5sZW5ndGggPyBSYShhLCBmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIG5ldyBJbShiLnJhd0lkLCBiLnByb3ZpZGVySWQsIGIuZW1haWwsIGIuZGlzcGxheU5hbWUsIGIucGhvdG9VcmwsIGIucGhvbmVOdW1iZXIpO1xuICAgIH0pIDogW107XG4gIH1cblxuICBrLktjID0gZnVuY3Rpb24gKGEpIHtcbiAgICBoZihcImZpcmViYXNlLlVzZXIucHJvdG90eXBlLnJlYXV0aGVudGljYXRlQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWwgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBmaXJlYmFzZS5Vc2VyLnByb3RvdHlwZS5yZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLnNiKGEpO1xuICB9O1xuXG4gIGsuc2IgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgYyA9IG51bGw7XG4gICAgcmV0dXJuIFIodGhpcywgYS5jKHRoaXMuYSwgdGhpcy51aWQpLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgIHhtKGIsIGQpO1xuICAgICAgYyA9IGduKGIsIGQsIFwicmVhdXRoZW50aWNhdGVcIik7XG4gICAgICBiLmYgPSBudWxsO1xuICAgICAgcmV0dXJuIGIucmVsb2FkKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYztcbiAgICB9KSwgITApO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGhuKGEsIGIpIHtcbiAgICByZXR1cm4gZG4oYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoVmEoWm0oYSksIGIpKSByZXR1cm4gVm0oYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IG5ldyB0KFwicHJvdmlkZXItYWxyZWFkeS1saW5rZWRcIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGsuQmMgPSBmdW5jdGlvbiAoYSkge1xuICAgIGhmKFwiZmlyZWJhc2UuVXNlci5wcm90b3R5cGUubGlua0FuZFJldHJpZXZlRGF0YVdpdGhDcmVkZW50aWFsIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgZmlyZWJhc2UuVXNlci5wcm90b3R5cGUubGlua1dpdGhDcmVkZW50aWFsIGluc3RlYWQuXCIpO1xuICAgIHJldHVybiB0aGlzLnBiKGEpO1xuICB9O1xuXG4gIGsucGIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgYyA9IG51bGw7XG4gICAgcmV0dXJuIFIodGhpcywgaG4odGhpcywgYS5wcm92aWRlcklkKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBiLkkoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICByZXR1cm4gYS5iKGIuYSwgZCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgYyA9IGduKGIsIGQsIFwibGlua1wiKTtcbiAgICAgIHJldHVybiBqbihiLCBkKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjO1xuICAgIH0pKTtcbiAgfTtcblxuICBrLkNjID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYyA9IHRoaXM7XG4gICAgcmV0dXJuIFIodGhpcywgaG4odGhpcywgXCJwaG9uZVwiKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBobShSbShjKSwgYSwgYiwgcShjLnBiLCBjKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIGsuTGMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcztcbiAgICByZXR1cm4gUih0aGlzLCBFKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gaG0oUm0oYyksIGEsIGIsIHEoYy5zYiwgYykpO1xuICAgIH0pLCAhMCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ24oYSwgYiwgYykge1xuICAgIHZhciBkID0gcmgoYik7XG4gICAgYiA9IHBnKGIpO1xuICAgIHJldHVybiBsZih7XG4gICAgICB1c2VyOiBhLFxuICAgICAgY3JlZGVudGlhbDogZCxcbiAgICAgIGFkZGl0aW9uYWxVc2VySW5mbzogYixcbiAgICAgIG9wZXJhdGlvblR5cGU6IGNcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGpuKGEsIGIpIHtcbiAgICB4bShhLCBiKTtcbiAgICByZXR1cm4gYS5yZWxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhO1xuICAgIH0pO1xuICB9XG5cbiAgay5BYiA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHJldHVybiBSKHRoaXMsIHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBiLmEuQWIoYywgYSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgeG0oYiwgYyk7XG4gICAgICByZXR1cm4gYi5yZWxvYWQoKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgay5kZCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHJldHVybiBSKHRoaXMsIHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBhLmIoYi5hLCBjKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICB4bShiLCBjKTtcbiAgICAgIHJldHVybiBiLnJlbG9hZCgpO1xuICAgIH0pKTtcbiAgfTtcblxuICBrLkJiID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IHRoaXM7XG4gICAgcmV0dXJuIFIodGhpcywgdGhpcy5JKCkudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGIuYS5CYihjLCBhKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICB4bShiLCBjKTtcbiAgICAgIHJldHVybiBiLnJlbG9hZCgpO1xuICAgIH0pKTtcbiAgfTtcblxuICBrLkNiID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAodm9pZCAwID09PSBhLmRpc3BsYXlOYW1lICYmIHZvaWQgMCA9PT0gYS5waG90b1VSTCkgcmV0dXJuIFltKHRoaXMpO1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gUih0aGlzLCB0aGlzLkkoKS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gYi5hLkNiKGMsIHtcbiAgICAgICAgZGlzcGxheU5hbWU6IGEuZGlzcGxheU5hbWUsXG4gICAgICAgIHBob3RvVXJsOiBhLnBob3RvVVJMXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChjKSB7XG4gICAgICB4bShiLCBjKTtcbiAgICAgIGJuKGIsIFwiZGlzcGxheU5hbWVcIiwgYy5kaXNwbGF5TmFtZSB8fCBudWxsKTtcbiAgICAgIGJuKGIsIFwicGhvdG9VUkxcIiwgYy5waG90b1VybCB8fCBudWxsKTtcbiAgICAgIHcoYi5wcm92aWRlckRhdGEsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIFwicGFzc3dvcmRcIiA9PT0gZC5wcm92aWRlcklkICYmIChNKGQsIFwiZGlzcGxheU5hbWVcIiwgYi5kaXNwbGF5TmFtZSksIE0oZCwgXCJwaG90b1VSTFwiLCBiLnBob3RvVVJMKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBWbShiKTtcbiAgICB9KS50aGVuKFhtKSk7XG4gIH07XG5cbiAgay5iZCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHJldHVybiBSKHRoaXMsIGRuKHRoaXMpLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBWYShabShiKSwgYSkgPyBzaihiLmEsIGMsIFthXSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgICB2YXIgZSA9IHt9O1xuICAgICAgICB3KGQucHJvdmlkZXJVc2VySW5mbyB8fCBbXSwgZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICBlW2YucHJvdmlkZXJJZF0gPSAhMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHcoWm0oYiksIGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgZVtmXSB8fCBhbihiLCBmKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGVbbWguUFJPVklERVJfSURdIHx8IE0oYiwgXCJwaG9uZU51bWJlclwiLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIFZtKGIpO1xuICAgICAgfSkgOiBWbShiKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgbmV3IHQoXCJuby1zdWNoLXByb3ZpZGVyXCIpO1xuICAgICAgfSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIGsuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdGhpcztcbiAgICByZXR1cm4gUih0aGlzLCB0aGlzLkkoKS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gTyhhLmEsIEdqLCB7XG4gICAgICAgIGlkVG9rZW46IGJcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgYS5kaXNwYXRjaEV2ZW50KG5ldyB0bShcInVzZXJEZWxldGVkXCIpKTtcbiAgICB9KSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBiID0gMDsgYiA8IGEuRy5sZW5ndGg7IGIrKykge1xuICAgICAgICBhLkdbYl0uY2FuY2VsKFwiYXBwLWRlbGV0ZWRcIik7XG4gICAgICB9XG5cbiAgICAgIE9tKGEsIG51bGwpO1xuICAgICAgUG0oYSwgbnVsbCk7XG4gICAgICBRbShhLCBudWxsKTtcbiAgICAgIGEuRyA9IFtdO1xuICAgICAgYS5BID0gITA7XG4gICAgICBUbShhKTtcbiAgICAgIE0oYSwgXCJyZWZyZXNoVG9rZW5cIiwgbnVsbCk7XG4gICAgICBhLmkgJiYgUmwoYS5pLCBhKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLkViID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gXCJsaW5rVmlhUG9wdXBcIiA9PSBhICYmICh0aGlzLmggfHwgbnVsbCkgPT0gYiAmJiB0aGlzLmcgfHwgXCJyZWF1dGhWaWFQb3B1cFwiID09IGEgJiYgKHRoaXMuaCB8fCBudWxsKSA9PSBiICYmIHRoaXMuZyB8fCBcImxpbmtWaWFSZWRpcmVjdFwiID09IGEgJiYgKHRoaXMuZ2EgfHwgbnVsbCkgPT0gYiB8fCBcInJlYXV0aFZpYVJlZGlyZWN0XCIgPT0gYSAmJiAodGhpcy5nYSB8fCBudWxsKSA9PSBiID8gITAgOiAhMTtcbiAgfTtcblxuICBrLm1hID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICBcImxpbmtWaWFQb3B1cFwiICE9IGEgJiYgXCJyZWF1dGhWaWFQb3B1cFwiICE9IGEgfHwgZCAhPSAodGhpcy5oIHx8IG51bGwpIHx8IChjICYmIHRoaXMuTyA/IHRoaXMuTyhjKSA6IGIgJiYgIWMgJiYgdGhpcy5nICYmIHRoaXMuZyhiKSwgdGhpcy5jICYmICh0aGlzLmMuY2FuY2VsKCksIHRoaXMuYyA9IG51bGwpLCBkZWxldGUgdGhpcy5nLCBkZWxldGUgdGhpcy5PKTtcbiAgfTtcblxuICBrLkZhID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gXCJsaW5rVmlhUG9wdXBcIiA9PSBhICYmIGIgPT0gKHRoaXMuaCB8fCBudWxsKSA/IHEodGhpcy5KYiwgdGhpcykgOiBcInJlYXV0aFZpYVBvcHVwXCIgPT0gYSAmJiBiID09ICh0aGlzLmggfHwgbnVsbCkgPyBxKHRoaXMuS2IsIHRoaXMpIDogXCJsaW5rVmlhUmVkaXJlY3RcIiA9PSBhICYmICh0aGlzLmdhIHx8IG51bGwpID09IGIgPyBxKHRoaXMuSmIsIHRoaXMpIDogXCJyZWF1dGhWaWFSZWRpcmVjdFwiID09IGEgJiYgKHRoaXMuZ2EgfHwgbnVsbCkgPT0gYiA/IHEodGhpcy5LYiwgdGhpcykgOiBudWxsO1xuICB9O1xuXG4gIGsuRGMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4ga24odGhpcywgXCJsaW5rVmlhUG9wdXBcIiwgYSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGhuKGIsIGEucHJvdmlkZXJJZCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBWbShiKTtcbiAgICAgIH0pO1xuICAgIH0sICExKTtcbiAgfTtcblxuICBrLk1jID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4ga24odGhpcywgXCJyZWF1dGhWaWFQb3B1cFwiLCBhLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRSgpO1xuICAgIH0sICEwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBrbihhLCBiLCBjLCBkLCBlKSB7XG4gICAgaWYgKCFSZSgpKSByZXR1cm4gRihuZXcgdChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO1xuICAgIGlmIChhLmYgJiYgIWUpIHJldHVybiBGKGEuZik7XG4gICAgdmFyIGYgPSBvZyhjLnByb3ZpZGVySWQpLFxuICAgICAgICBnID0gUWUoYS51aWQgKyBcIjo6OlwiKSxcbiAgICAgICAgaCA9IG51bGw7XG4gICAgKCFUZSgpIHx8IEllKCkpICYmIGEubyAmJiBjLmlzT0F1dGhQcm92aWRlciAmJiAoaCA9IGZrKGEubywgYS5sLCBhLm0sIGIsIGMsIG51bGwsIGcsIGZpcmViYXNlLlNES19WRVJTSU9OIHx8IG51bGwsIG51bGwsIG51bGwsIGEudGVuYW50SWQpKTtcbiAgICB2YXIgbiA9IHplKGgsIGYgJiYgZi51YSwgZiAmJiBmLnRhKTtcbiAgICBkID0gZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgbG4oYSk7XG4gICAgICBpZiAoIWUpIHJldHVybiBhLkkoKS50aGVuKGZ1bmN0aW9uICgpIHt9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBVbChhLmksIG4sIGIsIGMsIGcsICEhaCwgYS50ZW5hbnRJZCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IEQoZnVuY3Rpb24gKHAsIHYpIHtcbiAgICAgICAgYS5tYShiLCBudWxsLCBuZXcgdChcImNhbmNlbGxlZC1wb3B1cC1yZXF1ZXN0XCIpLCBhLmggfHwgbnVsbCk7XG4gICAgICAgIGEuZyA9IHA7XG4gICAgICAgIGEuTyA9IHY7XG4gICAgICAgIGEuaCA9IGc7XG4gICAgICAgIGEuYyA9IFdsKGEuaSwgYSwgYiwgbiwgZyk7XG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChwKSB7XG4gICAgICBuICYmIHllKG4pO1xuICAgICAgcmV0dXJuIHAgPyBsZihwKSA6IG51bGw7XG4gICAgfSkucyhmdW5jdGlvbiAocCkge1xuICAgICAgbiAmJiB5ZShuKTtcbiAgICAgIHRocm93IHA7XG4gICAgfSk7XG4gICAgcmV0dXJuIFIoYSwgZCwgZSk7XG4gIH1cblxuICBrLkVjID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IHRoaXM7XG4gICAgcmV0dXJuIG1uKHRoaXMsIFwibGlua1ZpYVJlZGlyZWN0XCIsIGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBobihiLCBhLnByb3ZpZGVySWQpO1xuICAgIH0sICExKTtcbiAgfTtcblxuICBrLk5jID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gbW4odGhpcywgXCJyZWF1dGhWaWFSZWRpcmVjdFwiLCBhLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRSgpO1xuICAgIH0sICEwKTtcbiAgfTtcblxuICBmdW5jdGlvbiBtbihhLCBiLCBjLCBkLCBlKSB7XG4gICAgaWYgKCFSZSgpKSByZXR1cm4gRihuZXcgdChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO1xuICAgIGlmIChhLmYgJiYgIWUpIHJldHVybiBGKGEuZik7XG4gICAgdmFyIGYgPSBudWxsLFxuICAgICAgICBnID0gUWUoYS51aWQgKyBcIjo6OlwiKTtcbiAgICBkID0gZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgbG4oYSk7XG4gICAgICBpZiAoIWUpIHJldHVybiBhLkkoKS50aGVuKGZ1bmN0aW9uICgpIHt9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGEuZ2EgPSBnO1xuICAgICAgcmV0dXJuIFZtKGEpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGgpIHtcbiAgICAgIGEuaGEgJiYgKGggPSBhLmhhLCBoID0gaC5iLnNldChubiwgYS53KCksIGguYSkpO1xuICAgICAgcmV0dXJuIGg7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gVmwoYS5pLCBiLCBjLCBnLCBhLnRlbmFudElkKTtcbiAgICB9KS5zKGZ1bmN0aW9uIChoKSB7XG4gICAgICBmID0gaDtcbiAgICAgIGlmIChhLmhhKSByZXR1cm4gb24oYS5oYSk7XG4gICAgICB0aHJvdyBmO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGYpIHRocm93IGY7XG4gICAgfSk7XG4gICAgcmV0dXJuIFIoYSwgZCwgZSk7XG4gIH1cblxuICBmdW5jdGlvbiBsbihhKSB7XG4gICAgaWYgKCFhLmkgfHwgIWEuUCkge1xuICAgICAgaWYgKGEuaSAmJiAhYS5QKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIpO1xuICAgICAgdGhyb3cgbmV3IHQoXCJhdXRoLWRvbWFpbi1jb25maWctcmVxdWlyZWRcIik7XG4gICAgfVxuICB9XG5cbiAgay5KYiA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgdmFyIGUgPSB0aGlzO1xuICAgIHRoaXMuYyAmJiAodGhpcy5jLmNhbmNlbCgpLCB0aGlzLmMgPSBudWxsKTtcbiAgICB2YXIgZiA9IG51bGw7XG4gICAgYyA9IHRoaXMuSSgpLnRoZW4oZnVuY3Rpb24gKGcpIHtcbiAgICAgIHJldHVybiBJZyhlLmEsIHtcbiAgICAgICAgcmVxdWVzdFVyaTogYSxcbiAgICAgICAgcG9zdEJvZHk6IGQsXG4gICAgICAgIHNlc3Npb25JZDogYixcbiAgICAgICAgaWRUb2tlbjogZ1xuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZykge1xuICAgICAgZiA9IGduKGUsIGcsIFwibGlua1wiKTtcbiAgICAgIHJldHVybiBqbihlLCBnKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmO1xuICAgIH0pO1xuICAgIHJldHVybiBSKHRoaXMsIGMpO1xuICB9O1xuXG4gIGsuS2IgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgIHZhciBlID0gdGhpcztcbiAgICB0aGlzLmMgJiYgKHRoaXMuYy5jYW5jZWwoKSwgdGhpcy5jID0gbnVsbCk7XG4gICAgdmFyIGYgPSBudWxsLFxuICAgICAgICBnID0gRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIERnKEpnKGUuYSwge1xuICAgICAgICByZXF1ZXN0VXJpOiBhLFxuICAgICAgICBzZXNzaW9uSWQ6IGIsXG4gICAgICAgIHBvc3RCb2R5OiBkLFxuICAgICAgICB0ZW5hbnRJZDogY1xuICAgICAgfSksIGUudWlkKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChoKSB7XG4gICAgICBmID0gZ24oZSwgaCwgXCJyZWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgIHhtKGUsIGgpO1xuICAgICAgZS5mID0gbnVsbDtcbiAgICAgIHJldHVybiBlLnJlbG9hZCgpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGY7XG4gICAgfSk7XG4gICAgcmV0dXJuIFIodGhpcywgZywgITApO1xuICB9O1xuXG4gIGsudGIgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgYyA9IG51bGw7XG4gICAgcmV0dXJuIFIodGhpcywgdGhpcy5JKCkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgYyA9IGQ7XG4gICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGEgfHwgbWIoYSkgPyB7fSA6IGNnKG5ldyBUZihhKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGIuYS50YihjLCBkKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICBpZiAoYi5lbWFpbCAhPSBkKSByZXR1cm4gYi5yZWxvYWQoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KSk7XG4gIH07XG5cbiAgay5EYiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGMgPSB0aGlzLFxuICAgICAgICBkID0gbnVsbDtcbiAgICByZXR1cm4gUih0aGlzLCB0aGlzLkkoKS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICBkID0gZTtcbiAgICAgIHJldHVybiBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgYiB8fCBtYihiKSA/IHt9IDogY2cobmV3IFRmKGIpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gYy5hLkRiKGQsIGEsIGUpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChjLmVtYWlsICE9IGUpIHJldHVybiBjLnJlbG9hZCgpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pKTtcbiAgfTtcblxuICBmdW5jdGlvbiBSKGEsIGIsIGMpIHtcbiAgICB2YXIgZCA9IHBuKGEsIGIsIGMpO1xuICAgIGEuRy5wdXNoKGQpO1xuICAgIGQubmEoZnVuY3Rpb24gKCkge1xuICAgICAgV2EoYS5HLCBkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZC5zKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZiA9IG51bGw7XG4gICAgICBlICYmIFwiYXV0aC9tdWx0aS1mYWN0b3ItYXV0aC1yZXF1aXJlZFwiID09PSBlLmNvZGUgJiYgKGYgPSBubShlLncoKSwgUm0oYSksIHEoYS5pYywgYSkpKTtcbiAgICAgIHRocm93IGYgfHwgZTtcbiAgICB9KTtcbiAgfVxuXG4gIGsuaWMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gbnVsbCxcbiAgICAgICAgYyA9IHRoaXM7XG4gICAgYSA9IERnKEUoYSksIGMudWlkKS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICBiID0gZ24oYywgZCwgXCJyZWF1dGhlbnRpY2F0ZVwiKTtcbiAgICAgIHhtKGMsIGQpO1xuICAgICAgYy5mID0gbnVsbDtcbiAgICAgIHJldHVybiBjLnJlbG9hZCgpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSk7XG4gICAgcmV0dXJuIFIodGhpcywgYSwgITApO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBuKGEsIGIsIGMpIHtcbiAgICByZXR1cm4gYS5mICYmICFjID8gKGIuY2FuY2VsKCksIEYoYS5mKSkgOiBiLnMoZnVuY3Rpb24gKGQpIHtcbiAgICAgICFkIHx8IFwiYXV0aC91c2VyLWRpc2FibGVkXCIgIT0gZC5jb2RlICYmIFwiYXV0aC91c2VyLXRva2VuLWV4cGlyZWRcIiAhPSBkLmNvZGUgfHwgKGEuZiB8fCBhLmRpc3BhdGNoRXZlbnQobmV3IHRtKFwidXNlckludmFsaWRhdGVkXCIpKSwgYS5mID0gZCk7XG4gICAgICB0aHJvdyBkO1xuICAgIH0pO1xuICB9XG5cbiAgay50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudygpO1xuICB9O1xuXG4gIGsudyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHtcbiAgICAgIHVpZDogdGhpcy51aWQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIHBob3RvVVJMOiB0aGlzLnBob3RvVVJMLFxuICAgICAgZW1haWw6IHRoaXMuZW1haWwsXG4gICAgICBlbWFpbFZlcmlmaWVkOiB0aGlzLmVtYWlsVmVyaWZpZWQsXG4gICAgICBwaG9uZU51bWJlcjogdGhpcy5waG9uZU51bWJlcixcbiAgICAgIGlzQW5vbnltb3VzOiB0aGlzLmlzQW5vbnltb3VzLFxuICAgICAgdGVuYW50SWQ6IHRoaXMudGVuYW50SWQsXG4gICAgICBwcm92aWRlckRhdGE6IFtdLFxuICAgICAgYXBpS2V5OiB0aGlzLmwsXG4gICAgICBhcHBOYW1lOiB0aGlzLm0sXG4gICAgICBhdXRoRG9tYWluOiB0aGlzLm8sXG4gICAgICBzdHNUb2tlbk1hbmFnZXI6IHRoaXMuYi53KCksXG4gICAgICByZWRpcmVjdEV2ZW50SWQ6IHRoaXMuZ2EgfHwgbnVsbFxuICAgIH07XG4gICAgdGhpcy5tZXRhZGF0YSAmJiB6KGEsIHRoaXMubWV0YWRhdGEudygpKTtcbiAgICB3KHRoaXMucHJvdmlkZXJEYXRhLCBmdW5jdGlvbiAoYikge1xuICAgICAgYS5wcm92aWRlckRhdGEucHVzaChtZihiKSk7XG4gICAgfSk7XG4gICAgeihhLCB0aGlzLk4udygpKTtcbiAgICByZXR1cm4gYTtcbiAgfTtcblxuICBmdW5jdGlvbiBxbihhKSB7XG4gICAgaWYgKCFhLmFwaUtleSkgcmV0dXJuIG51bGw7XG4gICAgdmFyIGIgPSB7XG4gICAgICBhcGlLZXk6IGEuYXBpS2V5LFxuICAgICAgYXV0aERvbWFpbjogYS5hdXRoRG9tYWluLFxuICAgICAgYXBwTmFtZTogYS5hcHBOYW1lLFxuICAgICAgZW11bGF0b3JDb25maWc6IGEuZW11bGF0b3JDb25maWdcbiAgICB9LFxuICAgICAgICBjID0ge307XG4gICAgaWYgKGEuc3RzVG9rZW5NYW5hZ2VyICYmIGEuc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuKSBjW0VnXSA9IGEuc3RzVG9rZW5NYW5hZ2VyLmFjY2Vzc1Rva2VuLCBjLnJlZnJlc2hUb2tlbiA9IGEuc3RzVG9rZW5NYW5hZ2VyLnJlZnJlc2hUb2tlbiB8fCBudWxsO2Vsc2UgcmV0dXJuIG51bGw7XG4gICAgdmFyIGQgPSBuZXcgSm0oYiwgYywgYSk7XG4gICAgYS5wcm92aWRlckRhdGEgJiYgdyhhLnByb3ZpZGVyRGF0YSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUgJiYgJG0oZCwgbGYoZSkpO1xuICAgIH0pO1xuICAgIGEucmVkaXJlY3RFdmVudElkICYmIChkLmdhID0gYS5yZWRpcmVjdEV2ZW50SWQpO1xuICAgIHJldHVybiBkO1xuICB9XG5cbiAgZnVuY3Rpb24gcm4oYSwgYiwgYywgZCkge1xuICAgIHZhciBlID0gbmV3IEptKGEsIGIpO1xuICAgIGMgJiYgKGUuaGEgPSBjKTtcbiAgICBkICYmIE5tKGUsIGQpO1xuICAgIHJldHVybiBlLnJlbG9hZCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGU7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbihhLCBiLCBjLCBkKSB7XG4gICAgdmFyIGUgPSBhLmIsXG4gICAgICAgIGYgPSB7fTtcbiAgICBmW0VnXSA9IGUuYiAmJiBlLmIudG9TdHJpbmcoKTtcbiAgICBmLnJlZnJlc2hUb2tlbiA9IGUuYTtcbiAgICBiID0gbmV3IEptKGIgfHwge1xuICAgICAgYXBpS2V5OiBhLmwsXG4gICAgICBhdXRoRG9tYWluOiBhLm8sXG4gICAgICBhcHBOYW1lOiBhLm1cbiAgICB9LCBmKTtcbiAgICBjICYmIChiLmhhID0gYyk7XG4gICAgZCAmJiBObShiLCBkKTtcbiAgICBjbihiLCBhKTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiB0bihhKSB7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmIgPSBXaygpO1xuICB9XG5cbiAgdmFyIG5uID0ge1xuICAgIG5hbWU6IFwicmVkaXJlY3RVc2VyXCIsXG4gICAgRDogXCJzZXNzaW9uXCJcbiAgfTtcblxuICBmdW5jdGlvbiBvbihhKSB7XG4gICAgcmV0dXJuICRrKGEuYiwgbm4sIGEuYSk7XG4gIH1cblxuICBmdW5jdGlvbiB1bihhLCBiKSB7XG4gICAgcmV0dXJuIGEuYi5nZXQobm4sIGEuYSkudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgYyAmJiBiICYmIChjLmF1dGhEb21haW4gPSBiKTtcbiAgICAgIHJldHVybiBxbihjIHx8IHt9KTtcbiAgICB9KTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiB2bihhKSB7XG4gICAgdGhpcy5hID0gYTtcbiAgICB0aGlzLmIgPSBXaygpO1xuICAgIHRoaXMuYyA9IG51bGw7XG4gICAgdGhpcy5mID0gd24odGhpcyk7XG4gICAgdGhpcy5iLmFkZExpc3RlbmVyKHhuKFwibG9jYWxcIiksIHRoaXMuYSwgcSh0aGlzLmcsIHRoaXMpKTtcbiAgfVxuXG4gIHZuLnByb3RvdHlwZS5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdGhpcyxcbiAgICAgICAgYiA9IHhuKFwibG9jYWxcIik7XG4gICAgeW4odGhpcywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIEUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGEuYyAmJiBcImxvY2FsXCIgIT0gYS5jLkQgPyBhLmIuZ2V0KGIsIGEuYSkgOiBudWxsO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgICBpZiAoYykgcmV0dXJuIHpuKGEsIFwibG9jYWxcIikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgYS5jID0gYjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiB6bihhLCBiKSB7XG4gICAgdmFyIGMgPSBbXSxcbiAgICAgICAgZDtcblxuICAgIGZvciAoZCBpbiBTaykge1xuICAgICAgU2tbZF0gIT09IGIgJiYgYy5wdXNoKCRrKGEuYiwgeG4oU2tbZF0pLCBhLmEpKTtcbiAgICB9XG5cbiAgICBjLnB1c2goJGsoYS5iLCBBbiwgYS5hKSk7XG4gICAgcmV0dXJuIEljKGMpO1xuICB9XG5cbiAgZnVuY3Rpb24gd24oYSkge1xuICAgIHZhciBiID0geG4oXCJsb2NhbFwiKSxcbiAgICAgICAgYyA9IHhuKFwic2Vzc2lvblwiKSxcbiAgICAgICAgZCA9IHhuKFwibm9uZVwiKTtcbiAgICByZXR1cm4gWmsoYS5iLCBiLCBhLmEpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuYi5nZXQoYywgYS5hKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gZSA/IGMgOiBhLmIuZ2V0KGQsIGEuYSkudGhlbihmdW5jdGlvbiAoZikge1xuICAgICAgICByZXR1cm4gZiA/IGQgOiBhLmIuZ2V0KGIsIGEuYSkudGhlbihmdW5jdGlvbiAoZykge1xuICAgICAgICAgIHJldHVybiBnID8gYiA6IGEuYi5nZXQoQW4sIGEuYSkudGhlbihmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgcmV0dXJuIGggPyB4bihoKSA6IGI7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZSkge1xuICAgICAgYS5jID0gZTtcbiAgICAgIHJldHVybiB6bihhLCBlLkQpO1xuICAgIH0pLnMoZnVuY3Rpb24gKCkge1xuICAgICAgYS5jIHx8IChhLmMgPSBiKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBBbiA9IHtcbiAgICBuYW1lOiBcInBlcnNpc3RlbmNlXCIsXG4gICAgRDogXCJzZXNzaW9uXCJcbiAgfTtcblxuICBmdW5jdGlvbiB4bihhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwiYXV0aFVzZXJcIixcbiAgICAgIEQ6IGFcbiAgICB9O1xuICB9XG5cbiAgdm4ucHJvdG90eXBlLndiID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IG51bGwsXG4gICAgICAgIGMgPSB0aGlzO1xuICAgIFRrKGEpO1xuICAgIHJldHVybiB5bih0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYSAhPSBjLmMuRCA/IGMuYi5nZXQoYy5jLCBjLmEpLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgYiA9IGQ7XG4gICAgICAgIHJldHVybiB6bihjLCBhKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBjLmMgPSB4bihhKTtcbiAgICAgICAgaWYgKGIpIHJldHVybiBjLmIuc2V0KGMuYywgYiwgYy5hKTtcbiAgICAgIH0pIDogRSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEJuKGEpIHtcbiAgICByZXR1cm4geW4oYSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEuYi5zZXQoQW4sIGEuYy5ELCBhLmEpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gQ24oYSwgYikge1xuICAgIHJldHVybiB5bihhLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYS5iLnNldChhLmMsIGIudygpLCBhLmEpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gRG4oYSkge1xuICAgIHJldHVybiB5bihhLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJGsoYS5iLCBhLmMsIGEuYSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBFbihhLCBiLCBjKSB7XG4gICAgcmV0dXJuIHluKGEsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhLmIuZ2V0KGEuYywgYS5hKS50aGVuKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIGQgJiYgYiAmJiAoZC5hdXRoRG9tYWluID0gYik7XG4gICAgICAgIGQgJiYgYyAmJiAoZC5lbXVsYXRvckNvbmZpZyA9IGMpO1xuICAgICAgICByZXR1cm4gcW4oZCB8fCB7fSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHluKGEsIGIpIHtcbiAgICBhLmYgPSBhLmYudGhlbihiLCBiKTtcbiAgICByZXR1cm4gYS5mO1xuICB9XG5cbiAgO1xuXG4gIGZ1bmN0aW9uIEZuKGEpIHtcbiAgICB0aGlzLm0gPSAhMTtcbiAgICBNKHRoaXMsIFwic2V0dGluZ3NcIiwgbmV3IGZtKCkpO1xuICAgIE0odGhpcywgXCJhcHBcIiwgYSk7XG4gICAgaWYgKFModGhpcykub3B0aW9ucyAmJiBTKHRoaXMpLm9wdGlvbnMuYXBpS2V5KSBhID0gZmlyZWJhc2UuU0RLX1ZFUlNJT04gPyBPZShmaXJlYmFzZS5TREtfVkVSU0lPTikgOiBudWxsLCB0aGlzLmEgPSBuZXcgSmkoUyh0aGlzKS5vcHRpb25zICYmIFModGhpcykub3B0aW9ucy5hcGlLZXksIENhKERhKSwgYSk7ZWxzZSB0aHJvdyBuZXcgdChcImludmFsaWQtYXBpLWtleVwiKTtcbiAgICB0aGlzLlIgPSBbXTtcbiAgICB0aGlzLnUgPSBbXTtcbiAgICB0aGlzLlAgPSBbXTtcbiAgICB0aGlzLmFjID0gZmlyZWJhc2UuSU5URVJOQUwuY3JlYXRlU3Vic2NyaWJlKHEodGhpcy55YywgdGhpcykpO1xuICAgIHRoaXMuWCA9IHZvaWQgMDtcbiAgICB0aGlzLmJjID0gZmlyZWJhc2UuSU5URVJOQUwuY3JlYXRlU3Vic2NyaWJlKHEodGhpcy56YywgdGhpcykpO1xuICAgIEduKHRoaXMsIG51bGwpO1xuICAgIHRoaXMubCA9IG5ldyB2bihTKHRoaXMpLm9wdGlvbnMuYXBpS2V5ICsgXCI6XCIgKyBTKHRoaXMpLm5hbWUpO1xuICAgIHRoaXMuRyA9IG5ldyB0bihTKHRoaXMpLm9wdGlvbnMuYXBpS2V5ICsgXCI6XCIgKyBTKHRoaXMpLm5hbWUpO1xuICAgIHRoaXMuJCA9IFQodGhpcywgSG4odGhpcykpO1xuICAgIHRoaXMuaSA9IFQodGhpcywgSW4odGhpcykpO1xuICAgIHRoaXMuYmEgPSAhMTtcbiAgICB0aGlzLnBhID0gcSh0aGlzLlljLCB0aGlzKTtcbiAgICB0aGlzLkJhID0gcSh0aGlzLmRhLCB0aGlzKTtcbiAgICB0aGlzLnlhID0gcSh0aGlzLmtjLCB0aGlzKTtcbiAgICB0aGlzLnphID0gcSh0aGlzLnZjLCB0aGlzKTtcbiAgICB0aGlzLkFhID0gcSh0aGlzLndjLCB0aGlzKTtcbiAgICB0aGlzLmIgPSBudWxsO1xuICAgIEpuKHRoaXMpO1xuICAgIHRoaXMuSU5URVJOQUwgPSB7fTtcbiAgICB0aGlzLklOVEVSTkFMW1wiZGVsZXRlXCJdID0gcSh0aGlzLmRlbGV0ZSwgdGhpcyk7XG4gICAgdGhpcy5JTlRFUk5BTC5sb2dGcmFtZXdvcmsgPSBxKHRoaXMuRmMsIHRoaXMpO1xuICAgIHRoaXMuQSA9IDA7XG4gICAgSS5jYWxsKHRoaXMpO1xuICAgIEtuKHRoaXMpO1xuICAgIHRoaXMuTiA9IFtdO1xuICAgIHRoaXMuZiA9IG51bGw7XG4gIH1cblxuICByKEZuLCBJKTtcblxuICBmdW5jdGlvbiBMbihhKSB7XG4gICAgRy5jYWxsKHRoaXMsIFwibGFuZ3VhZ2VDb2RlQ2hhbmdlZFwiKTtcbiAgICB0aGlzLmggPSBhO1xuICB9XG5cbiAgcihMbiwgRyk7XG5cbiAgZnVuY3Rpb24gTW4oYSkge1xuICAgIEcuY2FsbCh0aGlzLCBcImVtdWxhdG9yQ29uZmlnQ2hhbmdlZFwiKTtcbiAgICB0aGlzLmMgPSBhO1xuICB9XG5cbiAgcihNbiwgRyk7XG5cbiAgZnVuY3Rpb24gTm4oYSkge1xuICAgIEcuY2FsbCh0aGlzLCBcImZyYW1ld29ya0NoYW5nZWRcIik7XG4gICAgdGhpcy5mID0gYTtcbiAgfVxuXG4gIHIoTm4sIEcpO1xuICBrID0gRm4ucHJvdG90eXBlO1xuXG4gIGsud2IgPSBmdW5jdGlvbiAoYSkge1xuICAgIGEgPSB0aGlzLmwud2IoYSk7XG4gICAgcmV0dXJuIFQodGhpcywgYSk7XG4gIH07XG5cbiAgay53YSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdGhpcy5hYSA9PT0gYSB8fCB0aGlzLm0gfHwgKHRoaXMuYWEgPSBhLCBQaSh0aGlzLmEsIHRoaXMuYWEpLCB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IExuKHRoaXMua2EoKSkpKTtcbiAgfTtcblxuICBrLmthID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmFhO1xuICB9O1xuXG4gIGsuZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSBsLm5hdmlnYXRvcjtcbiAgICB0aGlzLndhKGEgPyBhLmxhbmd1YWdlcyAmJiBhLmxhbmd1YWdlc1swXSB8fCBhLmxhbmd1YWdlIHx8IGEudXNlckxhbmd1YWdlIHx8IG51bGwgOiBudWxsKTtcbiAgfTtcblxuICBrLmZkID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoIXRoaXMuZikge1xuICAgICAgaWYgKCEvXmh0dHBzPzpcXC9cXC8vLnRlc3QoYSkpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgXCJFbXVsYXRvciBVUkwgbXVzdCBzdGFydCB3aXRoIGEgdmFsaWQgc2NoZW1lIChodHRwOi8vIG9yIGh0dHBzOi8vKS5cIik7XG4gICAgICBPbigpO1xuICAgICAgdGhpcy5mID0ge1xuICAgICAgICB1cmw6IGFcbiAgICAgIH07XG4gICAgICB0aGlzLnNldHRpbmdzLmhiID0gITA7XG4gICAgICBRaSh0aGlzLmEsIHRoaXMuZik7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1uKHRoaXMuZikpO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBPbigpIHtcbiAgICBiZihcIldBUk5JTkc6IFlvdSBhcmUgdXNpbmcgdGhlIEF1dGggRW11bGF0b3IsIHdoaWNoIGlzIGludGVuZGVkIGZvciBsb2NhbCB0ZXN0aW5nIG9ubHkuICBEbyBub3QgdXNlIHdpdGggcHJvZHVjdGlvbiBjcmVkZW50aWFscy5cIik7XG4gICAgbC5kb2N1bWVudCAmJiBFZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGEgPSBsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICBhLmlubmVyVGV4dCA9IFwiUnVubmluZyBpbiBlbXVsYXRvciBtb2RlLiBEbyBub3QgdXNlIHdpdGggcHJvZHVjdGlvbiBjcmVkZW50aWFscy5cIjtcbiAgICAgIGEuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XG4gICAgICBhLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICBhLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgICAgYS5zdHlsZS5ib3JkZXIgPSBcIi4xZW0gc29saWQgIzAwMDAwMFwiO1xuICAgICAgYS5zdHlsZS5jb2xvciA9IFwiI2ZmMDAwMFwiO1xuICAgICAgYS5zdHlsZS5ib3R0b20gPSBcIjBweFwiO1xuICAgICAgYS5zdHlsZS5sZWZ0ID0gXCIwcHhcIjtcbiAgICAgIGEuc3R5bGUubWFyZ2luID0gXCIwcHhcIjtcbiAgICAgIGEuc3R5bGUuekluZGV4ID0gMUU0O1xuICAgICAgYS5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgYS5jbGFzc0xpc3QuYWRkKFwiZmlyZWJhc2UtZW11bGF0b3Itd2FybmluZ1wiKTtcbiAgICAgIGwuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICB9KTtcbiAgfVxuXG4gIGsuRmMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuTi5wdXNoKGEpO1xuICAgIFNpKHRoaXMuYSwgZmlyZWJhc2UuU0RLX1ZFUlNJT04gPyBPZShmaXJlYmFzZS5TREtfVkVSU0lPTiwgdGhpcy5OKSA6IG51bGwpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgTm4odGhpcy5OKSk7XG4gIH07XG5cbiAgay5HYSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gWmEodGhpcy5OKTtcbiAgfTtcblxuICBrLnhiID0gZnVuY3Rpb24gKGEpIHtcbiAgICB0aGlzLlcgPT09IGEgfHwgdGhpcy5tIHx8ICh0aGlzLlcgPSBhLCB0aGlzLmEuYiA9IHRoaXMuVyk7XG4gIH07XG5cbiAgay5TID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLlc7XG4gIH07XG5cbiAgZnVuY3Rpb24gS24oYSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBcImxjXCIsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5rYSgpO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGIpIHtcbiAgICAgICAgdGhpcy53YShiKTtcbiAgICAgIH0sXG4gICAgICBlbnVtZXJhYmxlOiAhMVxuICAgIH0pO1xuICAgIGEuYWEgPSBudWxsO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBcInRpXCIsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5TKCk7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoYikge1xuICAgICAgICB0aGlzLnhiKGIpO1xuICAgICAgfSxcbiAgICAgIGVudW1lcmFibGU6ICExXG4gICAgfSk7XG4gICAgYS5XID0gbnVsbDtcbiAgfVxuXG4gIGsudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhcGlLZXk6IFModGhpcykub3B0aW9ucy5hcGlLZXksXG4gICAgICBhdXRoRG9tYWluOiBTKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbixcbiAgICAgIGFwcE5hbWU6IFModGhpcykubmFtZSxcbiAgICAgIGN1cnJlbnRVc2VyOiBVKHRoaXMpICYmIFUodGhpcykudygpXG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiBQbihhKSB7XG4gICAgcmV0dXJuIGEuZ2IgfHwgRihuZXcgdChcImF1dGgtZG9tYWluLWNvbmZpZy1yZXF1aXJlZFwiKSk7XG4gIH1cblxuICBmdW5jdGlvbiBKbihhKSB7XG4gICAgdmFyIGIgPSBTKGEpLm9wdGlvbnMuYXV0aERvbWFpbixcbiAgICAgICAgYyA9IFMoYSkub3B0aW9ucy5hcGlLZXk7XG4gICAgYiAmJiBSZSgpICYmIChhLmdiID0gYS4kLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFhLm0pIHtcbiAgICAgICAgYS5iID0gWWwoYiwgYywgUyhhKS5uYW1lLCBhLmYpO1xuICAgICAgICBRbChhLmIsIGEpO1xuICAgICAgICBVKGEpICYmIFdtKFUoYSkpO1xuXG4gICAgICAgIGlmIChhLm8pIHtcbiAgICAgICAgICBXbShhLm8pO1xuICAgICAgICAgIHZhciBkID0gYS5vO1xuICAgICAgICAgIGQud2EoYS5rYSgpKTtcbiAgICAgICAgICBPbShkLCBhKTtcbiAgICAgICAgICBkID0gYS5vO1xuICAgICAgICAgIE5tKGQsIGEuTik7XG4gICAgICAgICAgUW0oZCwgYSk7XG4gICAgICAgICAgZCA9IGEubztcbiAgICAgICAgICBRaShkLmEsIGEuZik7XG4gICAgICAgICAgUG0oZCwgYSk7XG4gICAgICAgICAgYS5vID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhLmI7XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG5cbiAgay5FYiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgc3dpdGNoIChhKSB7XG4gICAgICBjYXNlIFwidW5rbm93blwiOlxuICAgICAgY2FzZSBcInNpZ25JblZpYVJlZGlyZWN0XCI6XG4gICAgICAgIHJldHVybiAhMDtcblxuICAgICAgY2FzZSBcInNpZ25JblZpYVBvcHVwXCI6XG4gICAgICAgIHJldHVybiB0aGlzLmggPT0gYiAmJiAhIXRoaXMuZztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfTtcblxuICBrLm1hID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHtcbiAgICBcInNpZ25JblZpYVBvcHVwXCIgPT0gYSAmJiB0aGlzLmggPT0gZCAmJiAoYyAmJiB0aGlzLk8gPyB0aGlzLk8oYykgOiBiICYmICFjICYmIHRoaXMuZyAmJiB0aGlzLmcoYiksIHRoaXMuYyAmJiAodGhpcy5jLmNhbmNlbCgpLCB0aGlzLmMgPSBudWxsKSwgZGVsZXRlIHRoaXMuZywgZGVsZXRlIHRoaXMuTyk7XG4gIH07XG5cbiAgay5GYSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIFwic2lnbkluVmlhUmVkaXJlY3RcIiA9PSBhIHx8IFwic2lnbkluVmlhUG9wdXBcIiA9PSBhICYmIHRoaXMuaCA9PSBiICYmIHRoaXMuZyA/IHEodGhpcy5oYywgdGhpcykgOiBudWxsO1xuICB9O1xuXG4gIGsuaGMgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkge1xuICAgIHZhciBlID0gdGhpcyxcbiAgICAgICAgZiA9IHtcbiAgICAgIHJlcXVlc3RVcmk6IGEsXG4gICAgICBwb3N0Qm9keTogZCxcbiAgICAgIHNlc3Npb25JZDogYixcbiAgICAgIHRlbmFudElkOiBjXG4gICAgfTtcbiAgICB0aGlzLmMgJiYgKHRoaXMuYy5jYW5jZWwoKSwgdGhpcy5jID0gbnVsbCk7XG4gICAgcmV0dXJuIGUuJC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBRbihlLCBHZyhlLmEsIGYpKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLldjID0gZnVuY3Rpb24gKGEpIHtcbiAgICBpZiAoIVJlKCkpIHJldHVybiBGKG5ldyB0KFwib3BlcmF0aW9uLW5vdC1zdXBwb3J0ZWQtaW4tdGhpcy1lbnZpcm9ubWVudFwiKSk7XG4gICAgdmFyIGIgPSB0aGlzLFxuICAgICAgICBjID0gb2coYS5wcm92aWRlcklkKSxcbiAgICAgICAgZCA9IFFlKCksXG4gICAgICAgIGUgPSBudWxsO1xuICAgICghVGUoKSB8fCBJZSgpKSAmJiBTKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbiAmJiBhLmlzT0F1dGhQcm92aWRlciAmJiAoZSA9IGZrKFModGhpcykub3B0aW9ucy5hdXRoRG9tYWluLCBTKHRoaXMpLm9wdGlvbnMuYXBpS2V5LCBTKHRoaXMpLm5hbWUsIFwic2lnbkluVmlhUG9wdXBcIiwgYSwgbnVsbCwgZCwgZmlyZWJhc2UuU0RLX1ZFUlNJT04gfHwgbnVsbCwgbnVsbCwgbnVsbCwgdGhpcy5TKCksIHRoaXMuZikpO1xuICAgIHZhciBmID0gemUoZSwgYyAmJiBjLnVhLCBjICYmIGMudGEpO1xuICAgIGMgPSBQbih0aGlzKS50aGVuKGZ1bmN0aW9uIChnKSB7XG4gICAgICByZXR1cm4gVWwoZywgZiwgXCJzaWduSW5WaWFQb3B1cFwiLCBhLCBkLCAhIWUsIGIuUygpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBuZXcgRChmdW5jdGlvbiAoZywgaCkge1xuICAgICAgICBiLm1hKFwic2lnbkluVmlhUG9wdXBcIiwgbnVsbCwgbmV3IHQoXCJjYW5jZWxsZWQtcG9wdXAtcmVxdWVzdFwiKSwgYi5oKTtcbiAgICAgICAgYi5nID0gZztcbiAgICAgICAgYi5PID0gaDtcbiAgICAgICAgYi5oID0gZDtcbiAgICAgICAgYi5jID0gV2woYi5iLCBiLCBcInNpZ25JblZpYVBvcHVwXCIsIGYsIGQpO1xuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZykge1xuICAgICAgZiAmJiB5ZShmKTtcbiAgICAgIHJldHVybiBnID8gbGYoZykgOiBudWxsO1xuICAgIH0pLnMoZnVuY3Rpb24gKGcpIHtcbiAgICAgIGYgJiYgeWUoZik7XG4gICAgICB0aHJvdyBnO1xuICAgIH0pO1xuICAgIHJldHVybiBUKHRoaXMsIGMpO1xuICB9O1xuXG4gIGsuWGMgPSBmdW5jdGlvbiAoYSkge1xuICAgIGlmICghUmUoKSkgcmV0dXJuIEYobmV3IHQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIpKTtcbiAgICB2YXIgYiA9IHRoaXMsXG4gICAgICAgIGMgPSBQbih0aGlzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBCbihiLmwpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFZsKGIuYiwgXCJzaWduSW5WaWFSZWRpcmVjdFwiLCBhLCB2b2lkIDAsIGIuUygpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gVCh0aGlzLCBjKTtcbiAgfTtcblxuICBmdW5jdGlvbiBSbihhKSB7XG4gICAgaWYgKCFSZSgpKSByZXR1cm4gRihuZXcgdChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIikpO1xuICAgIHZhciBiID0gUG4oYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYS5iLnFhKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuIGMgPyBsZihjKSA6IG51bGw7XG4gICAgfSk7XG4gICAgcmV0dXJuIFQoYSwgYik7XG4gIH1cblxuICBrLnFhID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdGhpcztcbiAgICByZXR1cm4gUm4odGhpcykudGhlbihmdW5jdGlvbiAoYikge1xuICAgICAgYS5iICYmIGFtKGEuYi5iKTtcbiAgICAgIHJldHVybiBiO1xuICAgIH0pLnMoZnVuY3Rpb24gKGIpIHtcbiAgICAgIGEuYiAmJiBhbShhLmIuYik7XG4gICAgICB0aHJvdyBiO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuY2QgPSBmdW5jdGlvbiAoYSkge1xuICAgIGlmICghYSkgcmV0dXJuIEYobmV3IHQoXCJudWxsLXVzZXJcIikpO1xuICAgIGlmICh0aGlzLlcgIT0gYS50ZW5hbnRJZCkgcmV0dXJuIEYobmV3IHQoXCJ0ZW5hbnQtaWQtbWlzbWF0Y2hcIikpO1xuICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgYyA9IHt9O1xuICAgIGMuYXBpS2V5ID0gUyh0aGlzKS5vcHRpb25zLmFwaUtleTtcbiAgICBjLmF1dGhEb21haW4gPSBTKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbjtcbiAgICBjLmFwcE5hbWUgPSBTKHRoaXMpLm5hbWU7XG4gICAgdmFyIGQgPSBzbihhLCBjLCBiLkcsIGIuR2EoKSk7XG4gICAgcmV0dXJuIFQodGhpcywgdGhpcy5pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKFMoYikub3B0aW9ucy5hcGlLZXkgIT0gYS5sKSByZXR1cm4gZC5yZWxvYWQoKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChVKGIpICYmIGEudWlkID09IFUoYikudWlkKSByZXR1cm4gY24oVShiKSwgYSksIGIuZGEoYSk7XG4gICAgICBHbihiLCBkKTtcbiAgICAgIFdtKGQpO1xuICAgICAgcmV0dXJuIGIuZGEoZCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBTbihiKTtcbiAgICB9KSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gVG4oYSwgYikge1xuICAgIHZhciBjID0ge307XG4gICAgYy5hcGlLZXkgPSBTKGEpLm9wdGlvbnMuYXBpS2V5O1xuICAgIGMuYXV0aERvbWFpbiA9IFMoYSkub3B0aW9ucy5hdXRoRG9tYWluO1xuICAgIGMuYXBwTmFtZSA9IFMoYSkubmFtZTtcbiAgICBhLmYgJiYgKGMuZW11bGF0b3JDb25maWcgPSBhLmYpO1xuICAgIHJldHVybiBhLiQudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcm4oYywgYiwgYS5HLCBhLkdhKCkpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgIGlmIChVKGEpICYmIGQudWlkID09IFUoYSkudWlkKSByZXR1cm4gY24oVShhKSwgZCksIGEuZGEoZCk7XG4gICAgICBHbihhLCBkKTtcbiAgICAgIFdtKGQpO1xuICAgICAgcmV0dXJuIGEuZGEoZCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBTbihhKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEduKGEsIGIpIHtcbiAgICBVKGEpICYmIChVbShVKGEpLCBhLkJhKSwgSChVKGEpLCBcInRva2VuQ2hhbmdlZFwiLCBhLnlhKSwgSChVKGEpLCBcInVzZXJEZWxldGVkXCIsIGEuemEpLCBIKFUoYSksIFwidXNlckludmFsaWRhdGVkXCIsIGEuQWEpLCBUbShVKGEpKSk7XG4gICAgYiAmJiAoYi5SLnB1c2goYS5CYSksIG5kKGIsIFwidG9rZW5DaGFuZ2VkXCIsIGEueWEpLCBuZChiLCBcInVzZXJEZWxldGVkXCIsIGEuemEpLCBuZChiLCBcInVzZXJJbnZhbGlkYXRlZFwiLCBhLkFhKSwgMCA8IGEuQSAmJiBTbShiKSk7XG4gICAgTShhLCBcImN1cnJlbnRVc2VyXCIsIGIpO1xuICAgIGIgJiYgKGIud2EoYS5rYSgpKSwgT20oYiwgYSksIE5tKGIsIGEuTiksIFFtKGIsIGEpLCBRaShiLmEsIGEuZiksIFBtKGIsIGEpKTtcbiAgfVxuXG4gIGsuemIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGEgPSB0aGlzLFxuICAgICAgICBiID0gdGhpcy5pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgYS5iICYmIGFtKGEuYi5iKTtcbiAgICAgIGlmICghVShhKSkgcmV0dXJuIEUoKTtcbiAgICAgIEduKGEsIG51bGwpO1xuICAgICAgcmV0dXJuIERuKGEubCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIFNuKGEpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFQodGhpcywgYik7XG4gIH07XG5cbiAgZnVuY3Rpb24gVW4oYSkge1xuICAgIHZhciBiID0gdW4oYS5HLCBTKGEpLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbihmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGEubyA9IGMpIGMuaGEgPSBhLkc7XG4gICAgICByZXR1cm4gb24oYS5HKTtcbiAgICB9KTtcbiAgICByZXR1cm4gVChhLCBiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEhuKGEpIHtcbiAgICB2YXIgYiA9IFMoYSkub3B0aW9ucy5hdXRoRG9tYWluLFxuICAgICAgICBjID0gVW4oYSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gRW4oYS5sLCBiLCBhLmYpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgIHJldHVybiBkID8gKGQuaGEgPSBhLkcsIGEubyAmJiAoYS5vLmdhIHx8IG51bGwpID09IChkLmdhIHx8IG51bGwpID8gZCA6IGQucmVsb2FkKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBDbihhLmwsIGQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICB9KTtcbiAgICAgIH0pLnMoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmV0dXJuIFwiYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIgPT0gZS5jb2RlID8gZCA6IERuKGEubCk7XG4gICAgICB9KSkgOiBudWxsO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgIEduKGEsIGQgfHwgbnVsbCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFQoYSwgYyk7XG4gIH1cblxuICBmdW5jdGlvbiBJbihhKSB7XG4gICAgcmV0dXJuIGEuJC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBSbihhKTtcbiAgICB9KS5zKGZ1bmN0aW9uICgpIHt9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghYS5tKSByZXR1cm4gYS5wYSgpO1xuICAgIH0pLnMoZnVuY3Rpb24gKCkge30pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFhLm0pIHtcbiAgICAgICAgYS5iYSA9ICEwO1xuICAgICAgICB2YXIgYiA9IGEubDtcbiAgICAgICAgYi5iLmFkZExpc3RlbmVyKHhuKFwibG9jYWxcIiksIGIuYSwgYS5wYSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBrLlljID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdGhpcztcbiAgICByZXR1cm4gRW4odGhpcy5sLCBTKHRoaXMpLm9wdGlvbnMuYXV0aERvbWFpbikudGhlbihmdW5jdGlvbiAoYikge1xuICAgICAgaWYgKCFhLm0pIHtcbiAgICAgICAgdmFyIGM7XG5cbiAgICAgICAgaWYgKGMgPSBVKGEpICYmIGIpIHtcbiAgICAgICAgICBjID0gVShhKS51aWQ7XG4gICAgICAgICAgdmFyIGQgPSBiLnVpZDtcbiAgICAgICAgICBjID0gdm9pZCAwID09PSBjIHx8IG51bGwgPT09IGMgfHwgXCJcIiA9PT0gYyB8fCB2b2lkIDAgPT09IGQgfHwgbnVsbCA9PT0gZCB8fCBcIlwiID09PSBkID8gITEgOiBjID09IGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYykgcmV0dXJuIGNuKFUoYSksIGIpLCBVKGEpLkkoKTtcbiAgICAgICAgaWYgKFUoYSkgfHwgYikgR24oYSwgYiksIGIgJiYgKFdtKGIpLCBiLmhhID0gYS5HKSwgYS5iICYmIFFsKGEuYiwgYSksIFNuKGEpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGsuZGEgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBDbih0aGlzLmwsIGEpO1xuICB9O1xuXG4gIGsua2MgPSBmdW5jdGlvbiAoKSB7XG4gICAgU24odGhpcyk7XG4gICAgdGhpcy5kYShVKHRoaXMpKTtcbiAgfTtcblxuICBrLnZjID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuemIoKTtcbiAgfTtcblxuICBrLndjID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuemIoKTtcbiAgfTtcblxuICBmdW5jdGlvbiBRbihhLCBiKSB7XG4gICAgdmFyIGMgPSBudWxsLFxuICAgICAgICBkID0gbnVsbDtcbiAgICByZXR1cm4gVChhLCBiLnRoZW4oZnVuY3Rpb24gKGUpIHtcbiAgICAgIGMgPSByaChlKTtcbiAgICAgIGQgPSBwZyhlKTtcbiAgICAgIHJldHVybiBUbihhLCBlKTtcbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGYgPSBudWxsO1xuICAgICAgZSAmJiBcImF1dGgvbXVsdGktZmFjdG9yLWF1dGgtcmVxdWlyZWRcIiA9PT0gZS5jb2RlICYmIChmID0gbm0oZS53KCksIGEsIHEoYS5qYywgYSkpKTtcbiAgICAgIHRocm93IGYgfHwgZTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBsZih7XG4gICAgICAgIHVzZXI6IFUoYSksXG4gICAgICAgIGNyZWRlbnRpYWw6IGMsXG4gICAgICAgIGFkZGl0aW9uYWxVc2VySW5mbzogZCxcbiAgICAgICAgb3BlcmF0aW9uVHlwZTogXCJzaWduSW5cIlxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9XG5cbiAgay5qYyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLmkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUW4oYiwgRShhKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgay55YyA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHRoaXMuYWRkQXV0aFRva2VuTGlzdGVuZXIoZnVuY3Rpb24gKCkge1xuICAgICAgYS5uZXh0KFUoYikpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuemMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICBWbih0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhLm5leHQoVShiKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgay5IYyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgdmFyIGQgPSB0aGlzO1xuICAgIHRoaXMuYmEgJiYgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhID8gYShVKGQpKSA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGEubmV4dCAmJiBhLm5leHQoVShkKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuYWMoYSwgYiwgYyk7XG4gIH07XG5cbiAgay5HYyA9IGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgdmFyIGQgPSB0aGlzO1xuICAgIHRoaXMuYmEgJiYgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBkLlggPSBkLmdldFVpZCgpO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYSA/IGEoVShkKSkgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhLm5leHQgJiYgYS5uZXh0KFUoZCkpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmJjKGEsIGIsIGMpO1xuICB9O1xuXG4gIGsubWMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcyxcbiAgICAgICAgYyA9IHRoaXMuaS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBVKGIpID8gVShiKS5JKGEpLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY2Nlc3NUb2tlbjogZFxuICAgICAgICB9O1xuICAgICAgfSkgOiBudWxsO1xuICAgIH0pO1xuICAgIHJldHVybiBUKHRoaXMsIGMpO1xuICB9O1xuXG4gIGsuU2MgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFFuKGIsIE8oYi5hLCBMaiwge1xuICAgICAgICB0b2tlbjogYVxuICAgICAgfSkpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGMpIHtcbiAgICAgIHZhciBkID0gYy51c2VyO1xuICAgICAgYm4oZCwgXCJpc0Fub255bW91c1wiLCAhMSk7XG4gICAgICBiLmRhKGQpO1xuICAgICAgcmV0dXJuIGM7XG4gICAgfSk7XG4gIH07XG5cbiAgay5UYyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGMgPSB0aGlzO1xuICAgIHJldHVybiB0aGlzLmkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUW4oYywgTyhjLmEsIGJoLCB7XG4gICAgICAgIGVtYWlsOiBhLFxuICAgICAgICBwYXNzd29yZDogYlxuICAgICAgfSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuZGMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFFuKGMsIE8oYy5hLCBGaiwge1xuICAgICAgICBlbWFpbDogYSxcbiAgICAgICAgcGFzc3dvcmQ6IGJcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICBrLlphID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXMuaS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBRbihiLCBhLmphKGIuYSkpO1xuICAgIH0pO1xuICB9O1xuXG4gIGsuUmMgPSBmdW5jdGlvbiAoYSkge1xuICAgIGhmKFwiZmlyZWJhc2UuYXV0aC5BdXRoLnByb3RvdHlwZS5zaWduSW5BbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGZpcmViYXNlLmF1dGguQXV0aC5wcm90b3R5cGUuc2lnbkluV2l0aENyZWRlbnRpYWwgaW5zdGVhZC5cIik7XG4gICAgcmV0dXJuIHRoaXMuWmEoYSk7XG4gIH07XG5cbiAgay55YiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYSA9IHRoaXM7XG4gICAgcmV0dXJuIHRoaXMuaS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBiID0gVShhKTtcblxuICAgICAgaWYgKGIgJiYgYi5pc0Fub255bW91cykge1xuICAgICAgICB2YXIgYyA9IGxmKHtcbiAgICAgICAgICBwcm92aWRlcklkOiBudWxsLFxuICAgICAgICAgIGlzTmV3VXNlcjogITFcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsZih7XG4gICAgICAgICAgdXNlcjogYixcbiAgICAgICAgICBjcmVkZW50aWFsOiBudWxsLFxuICAgICAgICAgIGFkZGl0aW9uYWxVc2VySW5mbzogYyxcbiAgICAgICAgICBvcGVyYXRpb25UeXBlOiBcInNpZ25JblwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUW4oYSwgYS5hLnliKCkpLnRoZW4oZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgdmFyIGUgPSBkLnVzZXI7XG4gICAgICAgIGJuKGUsIFwiaXNBbm9ueW1vdXNcIiwgITApO1xuICAgICAgICBhLmRhKGUpO1xuICAgICAgICByZXR1cm4gZDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFMoYSkge1xuICAgIHJldHVybiBhLmFwcDtcbiAgfVxuXG4gIGZ1bmN0aW9uIFUoYSkge1xuICAgIHJldHVybiBhLmN1cnJlbnRVc2VyO1xuICB9XG5cbiAgay5nZXRVaWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFUodGhpcykgJiYgVSh0aGlzKS51aWQgfHwgbnVsbDtcbiAgfTtcblxuICBmdW5jdGlvbiBXbihhKSB7XG4gICAgcmV0dXJuIFUoYSkgJiYgVShhKS5fbGF0IHx8IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBTbihhKSB7XG4gICAgaWYgKGEuYmEpIHtcbiAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYS51Lmxlbmd0aDsgYisrKSB7XG4gICAgICAgIGlmIChhLnVbYl0pIGEudVtiXShXbihhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhLlggIT09IGEuZ2V0VWlkKCkgJiYgYS5QLmxlbmd0aCkgZm9yIChhLlggPSBhLmdldFVpZCgpLCBiID0gMDsgYiA8IGEuUC5sZW5ndGg7IGIrKykge1xuICAgICAgICBpZiAoYS5QW2JdKSBhLlBbYl0oV24oYSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGsuY2MgPSBmdW5jdGlvbiAoYSkge1xuICAgIHRoaXMuYWRkQXV0aFRva2VuTGlzdGVuZXIoYSk7XG4gICAgdGhpcy5BKys7XG4gICAgMCA8IHRoaXMuQSAmJiBVKHRoaXMpICYmIFNtKFUodGhpcykpO1xuICB9O1xuXG4gIGsuT2MgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICB3KHRoaXMudSwgZnVuY3Rpb24gKGMpIHtcbiAgICAgIGMgPT0gYSAmJiBiLkEtLTtcbiAgICB9KTtcbiAgICAwID4gdGhpcy5BICYmICh0aGlzLkEgPSAwKTtcbiAgICAwID09IHRoaXMuQSAmJiBVKHRoaXMpICYmIFRtKFUodGhpcykpO1xuICAgIHRoaXMucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIoYSk7XG4gIH07XG5cbiAgay5hZGRBdXRoVG9rZW5MaXN0ZW5lciA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIGIgPSB0aGlzO1xuICAgIHRoaXMudS5wdXNoKGEpO1xuICAgIFQodGhpcywgdGhpcy5pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgYi5tIHx8IFZhKGIudSwgYSkgJiYgYShXbihiKSk7XG4gICAgfSkpO1xuICB9O1xuXG4gIGsucmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIgPSBmdW5jdGlvbiAoYSkge1xuICAgIFhhKHRoaXMudSwgZnVuY3Rpb24gKGIpIHtcbiAgICAgIHJldHVybiBiID09IGE7XG4gICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gVm4oYSwgYikge1xuICAgIGEuUC5wdXNoKGIpO1xuICAgIFQoYSwgYS5pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgIWEubSAmJiBWYShhLlAsIGIpICYmIGEuWCAhPT0gYS5nZXRVaWQoKSAmJiAoYS5YID0gYS5nZXRVaWQoKSwgYihXbihhKSkpO1xuICAgIH0pKTtcbiAgfVxuXG4gIGsuZGVsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubSA9ICEwO1xuXG4gICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLlIubGVuZ3RoOyBhKyspIHtcbiAgICAgIHRoaXMuUlthXS5jYW5jZWwoXCJhcHAtZGVsZXRlZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLlIgPSBbXTtcbiAgICB0aGlzLmwgJiYgKGEgPSB0aGlzLmwsIGEuYi5yZW1vdmVMaXN0ZW5lcih4bihcImxvY2FsXCIpLCBhLmEsIHRoaXMucGEpKTtcbiAgICB0aGlzLmIgJiYgKFJsKHRoaXMuYiwgdGhpcyksIGFtKHRoaXMuYi5iKSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFQoYSwgYikge1xuICAgIGEuUi5wdXNoKGIpO1xuICAgIGIubmEoZnVuY3Rpb24gKCkge1xuICAgICAgV2EoYS5SLCBiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gYjtcbiAgfVxuXG4gIGsuZ2MgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBUKHRoaXMsIGJqKHRoaXMuYSwgYSkpO1xuICB9O1xuXG4gIGsuQWMgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiAhIWdoKGEpO1xuICB9O1xuXG4gIGsudmIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcztcbiAgICByZXR1cm4gVCh0aGlzLCBFKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZCA9IG5ldyBUZihiKTtcbiAgICAgIGlmICghZC5jKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIGFnICsgXCIgbXVzdCBiZSB0cnVlIHdoZW4gc2VuZGluZyBzaWduIGluIGxpbmsgdG8gZW1haWxcIik7XG4gICAgICByZXR1cm4gY2coZCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGMuYS52YihhLCBkKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KSk7XG4gIH07XG5cbiAgay5oZCA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIHRoaXMuUWEoYSkudGhlbihmdW5jdGlvbiAoYikge1xuICAgICAgcmV0dXJuIGIuZGF0YS5lbWFpbDtcbiAgICB9KTtcbiAgfTtcblxuICBrLm1iID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gVCh0aGlzLCB0aGlzLmEubWIoYSwgYikudGhlbihmdW5jdGlvbiAoKSB7fSkpO1xuICB9O1xuXG4gIGsuUWEgPSBmdW5jdGlvbiAoYSkge1xuICAgIHJldHVybiBUKHRoaXMsIHRoaXMuYS5RYShhKS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gbmV3IHdmKGIpO1xuICAgIH0pKTtcbiAgfTtcblxuICBrLmliID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gVCh0aGlzLCB0aGlzLmEuaWIoYSkudGhlbihmdW5jdGlvbiAoKSB7fSkpO1xuICB9O1xuXG4gIGsudWIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcztcbiAgICByZXR1cm4gVCh0aGlzLCBFKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGIgfHwgbWIoYikgPyB7fSA6IGNnKG5ldyBUZihiKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoZCkge1xuICAgICAgcmV0dXJuIGMuYS51YihhLCBkKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHt9KSk7XG4gIH07XG5cbiAgay5WYyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIFQodGhpcywgaG0odGhpcywgYSwgYiwgcSh0aGlzLlphLCB0aGlzKSkpO1xuICB9O1xuXG4gIGsuVWMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIHZhciBjID0gdGhpcztcbiAgICByZXR1cm4gVCh0aGlzLCBFKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZCA9IGIgfHwgcmUoKSxcbiAgICAgICAgICBlID0gZmgoYSwgZCk7XG4gICAgICBkID0gZ2goZCk7XG4gICAgICBpZiAoIWQpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgXCJJbnZhbGlkIGVtYWlsIGxpbmshXCIpO1xuICAgICAgaWYgKGQudGVuYW50SWQgIT09IGMuUygpKSB0aHJvdyBuZXcgdChcInRlbmFudC1pZC1taXNtYXRjaFwiKTtcbiAgICAgIHJldHVybiBjLlphKGUpO1xuICAgIH0pKTtcbiAgfTtcblxuICBmdW5jdGlvbiBYbigpIHt9XG5cbiAgWG4ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIFhuLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIFhuLnByb3RvdHlwZS5nZXRSZXNwb25zZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIFhuLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKCkge307XG5cbiAgZnVuY3Rpb24gWW4oKSB7XG4gICAgdGhpcy5hID0ge307XG4gICAgdGhpcy5iID0gMUUxMjtcbiAgfVxuXG4gIHZhciBabiA9IG51bGw7XG5cbiAgWW4ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdGhpcy5hW3RoaXMuYi50b1N0cmluZygpXSA9IG5ldyAkbihhLCBiKTtcbiAgICByZXR1cm4gdGhpcy5iKys7XG4gIH07XG5cbiAgWW4ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKGEpIHtcbiAgICB2YXIgYiA9IGFvKHRoaXMsIGEpO1xuICAgIGEgPSBibyhhKTtcbiAgICBiICYmIGEgJiYgKGIuZGVsZXRlKCksIGRlbGV0ZSB0aGlzLmFbYV0pO1xuICB9O1xuXG4gIFluLnByb3RvdHlwZS5nZXRSZXNwb25zZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgcmV0dXJuIChhID0gYW8odGhpcywgYSkpID8gYS5nZXRSZXNwb25zZSgpIDogbnVsbDtcbiAgfTtcblxuICBZbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgKGEgPSBhbyh0aGlzLCBhKSkgJiYgYS5leGVjdXRlKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYW8oYSwgYikge1xuICAgIHJldHVybiAoYiA9IGJvKGIpKSA/IGEuYVtiXSB8fCBudWxsIDogbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGJvKGEpIHtcbiAgICByZXR1cm4gKGEgPSBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgYSA/IDFFMTIgOiBhKSA/IGEudG9TdHJpbmcoKSA6IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiAkbihhLCBiKSB7XG4gICAgdGhpcy5nID0gITE7XG4gICAgdGhpcy5jID0gYjtcbiAgICB0aGlzLmEgPSB0aGlzLmIgPSBudWxsO1xuICAgIHRoaXMuaCA9IFwiaW52aXNpYmxlXCIgIT09IHRoaXMuYy5zaXplO1xuICAgIHRoaXMuZiA9IGtjKGEpO1xuICAgIHZhciBjID0gdGhpcztcblxuICAgIHRoaXMuaSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGMuZXhlY3V0ZSgpO1xuICAgIH07XG5cbiAgICB0aGlzLmggPyB0aGlzLmV4ZWN1dGUoKSA6IG5kKHRoaXMuZiwgXCJjbGlja1wiLCB0aGlzLmkpO1xuICB9XG5cbiAgJG4ucHJvdG90eXBlLmdldFJlc3BvbnNlID0gZnVuY3Rpb24gKCkge1xuICAgIGNvKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLmI7XG4gIH07XG5cbiAgJG4ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY28odGhpcyk7XG4gICAgdmFyIGEgPSB0aGlzO1xuICAgIHRoaXMuYSB8fCAodGhpcy5hID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBhLmIgPSBNZSgpO1xuICAgICAgdmFyIGIgPSBhLmMuY2FsbGJhY2ssXG4gICAgICAgICAgYyA9IGEuY1tcImV4cGlyZWQtY2FsbGJhY2tcIl07XG4gICAgICBpZiAoYikgdHJ5IHtcbiAgICAgICAgYihhLmIpO1xuICAgICAgfSBjYXRjaCAoZCkge31cbiAgICAgIGEuYSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBhLmEgPSBudWxsO1xuICAgICAgICBhLmIgPSBudWxsO1xuICAgICAgICBpZiAoYykgdHJ5IHtcbiAgICAgICAgICBjKCk7XG4gICAgICAgIH0gY2F0Y2ggKGQpIHt9XG4gICAgICAgIGEuaCAmJiBhLmV4ZWN1dGUoKTtcbiAgICAgIH0sIDZFNCk7XG4gICAgfSwgNTAwKSk7XG4gIH07XG5cbiAgJG4ucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjbyh0aGlzKTtcbiAgICB0aGlzLmcgPSAhMDtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5hKTtcbiAgICB0aGlzLmEgPSBudWxsO1xuICAgIEgodGhpcy5mLCBcImNsaWNrXCIsIHRoaXMuaSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gY28oYSkge1xuICAgIGlmIChhLmcpIHRocm93IEVycm9yKFwicmVDQVBUQ0hBIG1vY2sgd2FzIGFscmVhZHkgZGVsZXRlZCFcIik7XG4gIH1cblxuICA7XG5cbiAgZnVuY3Rpb24gZW8oKSB7fVxuXG4gIE0oZW8sIFwiRkFDVE9SX0lEXCIsIFwicGhvbmVcIik7XG5cbiAgZnVuY3Rpb24gZm8oKSB7fVxuXG4gIGZvLnByb3RvdHlwZS5nID0gZnVuY3Rpb24gKCkge1xuICAgIFpuIHx8IChabiA9IG5ldyBZbigpKTtcbiAgICByZXR1cm4gRShabik7XG4gIH07XG5cbiAgZm8ucHJvdG90eXBlLmMgPSBmdW5jdGlvbiAoKSB7fTtcblxuICB2YXIgZ28gPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGhvKCkge1xuICAgIHRoaXMuYiA9IGwuZ3JlY2FwdGNoYSA/IEluZmluaXR5IDogMDtcbiAgICB0aGlzLmYgPSBudWxsO1xuICAgIHRoaXMuYSA9IFwiX19yY2JcIiArIE1hdGguZmxvb3IoMUU2ICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHZhciBpbyA9IG5ldyBxYihyYiwgXCJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanM/b25sb2FkPSV7b25sb2FkfSZyZW5kZXI9ZXhwbGljaXQmaGw9JXtobH1cIiksXG4gICAgICBqbyA9IG5ldyBaZSgzRTQsIDZFNCk7XG5cbiAgaG8ucHJvdG90eXBlLmcgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBiID0gdGhpcztcbiAgICByZXR1cm4gbmV3IEQoZnVuY3Rpb24gKGMsIGQpIHtcbiAgICAgIHZhciBlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGQobmV3IHQoXCJuZXR3b3JrLXJlcXVlc3QtZmFpbGVkXCIpKTtcbiAgICAgIH0sIGpvLmdldCgpKTtcblxuICAgICAgaWYgKCFsLmdyZWNhcHRjaGEgfHwgYSAhPT0gYi5mICYmICFiLmIpIHtcbiAgICAgICAgbFtiLmFdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChsLmdyZWNhcHRjaGEpIHtcbiAgICAgICAgICAgIGIuZiA9IGE7XG4gICAgICAgICAgICB2YXIgZyA9IGwuZ3JlY2FwdGNoYS5yZW5kZXI7XG5cbiAgICAgICAgICAgIGwuZ3JlY2FwdGNoYS5yZW5kZXIgPSBmdW5jdGlvbiAoaCwgbikge1xuICAgICAgICAgICAgICBoID0gZyhoLCBuKTtcbiAgICAgICAgICAgICAgYi5iKys7XG4gICAgICAgICAgICAgIHJldHVybiBoO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGUpO1xuICAgICAgICAgICAgYyhsLmdyZWNhcHRjaGEpO1xuICAgICAgICAgIH0gZWxzZSBjbGVhclRpbWVvdXQoZSksIGQobmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiKSk7XG5cbiAgICAgICAgICBkZWxldGUgbFtiLmFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBmID0gemIoaW8sIHtcbiAgICAgICAgICBvbmxvYWQ6IGIuYSxcbiAgICAgICAgICBobDogYSB8fCBcIlwiXG4gICAgICAgIH0pO1xuICAgICAgICBFKENpKGYpKS5zKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoZSk7XG4gICAgICAgICAgZChuZXcgdChcImludGVybmFsLWVycm9yXCIsIFwiVW5hYmxlIHRvIGxvYWQgZXh0ZXJuYWwgcmVDQVBUQ0hBIGRlcGVuZGVuY2llcyFcIikpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBjbGVhclRpbWVvdXQoZSksIGMobC5ncmVjYXB0Y2hhKTtcbiAgICB9KTtcbiAgfTtcblxuICBoby5wcm90b3R5cGUuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmItLTtcbiAgfTtcblxuICB2YXIga28gPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGxvKGEsIGIsIGMsIGQsIGUsIGYsIGcpIHtcbiAgICBNKHRoaXMsIFwidHlwZVwiLCBcInJlY2FwdGNoYVwiKTtcbiAgICB0aGlzLmMgPSB0aGlzLmYgPSBudWxsO1xuICAgIHRoaXMuQSA9ICExO1xuICAgIHRoaXMubSA9IGI7XG4gICAgdGhpcy5nID0gbnVsbDtcbiAgICBnID8gKGdvIHx8IChnbyA9IG5ldyBmbygpKSwgZyA9IGdvKSA6IChrbyB8fCAoa28gPSBuZXcgaG8oKSksIGcgPSBrbyk7XG4gICAgdGhpcy52ID0gZztcbiAgICB0aGlzLmEgPSBjIHx8IHtcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCIsXG4gICAgICB0eXBlOiBcImltYWdlXCJcbiAgICB9O1xuICAgIHRoaXMuaCA9IFtdO1xuICAgIGlmICh0aGlzLmFbbW9dKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFwic2l0ZWtleSBzaG91bGQgbm90IGJlIHByb3ZpZGVkIGZvciByZUNBUFRDSEEgYXMgb25lIGlzIGF1dG9tYXRpY2FsbHkgcHJvdmlzaW9uZWQgZm9yIHRoZSBjdXJyZW50IHByb2plY3QuXCIpO1xuICAgIHRoaXMuaSA9IFwiaW52aXNpYmxlXCIgPT09IHRoaXMuYVtub107XG4gICAgaWYgKCFsLmRvY3VtZW50KSB0aHJvdyBuZXcgdChcIm9wZXJhdGlvbi1ub3Qtc3VwcG9ydGVkLWluLXRoaXMtZW52aXJvbm1lbnRcIiwgXCJSZWNhcHRjaGFWZXJpZmllciBpcyBvbmx5IHN1cHBvcnRlZCBpbiBhIGJyb3dzZXIgSFRUUC9IVFRQUyBlbnZpcm9ubWVudCB3aXRoIERPTSBzdXBwb3J0LlwiKTtcbiAgICBpZiAoIWtjKGIpIHx8ICF0aGlzLmkgJiYga2MoYikuaGFzQ2hpbGROb2RlcygpKSB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFwicmVDQVBUQ0hBIGNvbnRhaW5lciBpcyBlaXRoZXIgbm90IGZvdW5kIG9yIGFscmVhZHkgY29udGFpbnMgaW5uZXIgZWxlbWVudHMhXCIpO1xuICAgIHRoaXMubyA9IG5ldyBKaShhLCBmIHx8IG51bGwsIGUgfHwgbnVsbCk7XG5cbiAgICB0aGlzLnUgPSBkIHx8IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICB2YXIgaCA9IHRoaXM7XG4gICAgdGhpcy5sID0gW107XG4gICAgdmFyIG4gPSB0aGlzLmFbb29dO1xuXG4gICAgdGhpcy5hW29vXSA9IGZ1bmN0aW9uICh2KSB7XG4gICAgICBwbyhoLCB2KTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuKSBuKHYpO2Vsc2UgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuKSB7XG4gICAgICAgIHZhciBCID0gTChuLCBsKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQiAmJiBCKHYpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcCA9IHRoaXMuYVtxb107XG5cbiAgICB0aGlzLmFbcW9dID0gZnVuY3Rpb24gKCkge1xuICAgICAgcG8oaCwgbnVsbCk7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcCkgcCgpO2Vsc2UgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwKSB7XG4gICAgICAgIHZhciB2ID0gTChwLCBsKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdiAmJiB2KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBvbyA9IFwiY2FsbGJhY2tcIixcbiAgICAgIHFvID0gXCJleHBpcmVkLWNhbGxiYWNrXCIsXG4gICAgICBtbyA9IFwic2l0ZWtleVwiLFxuICAgICAgbm8gPSBcInNpemVcIjtcblxuICBmdW5jdGlvbiBwbyhhLCBiKSB7XG4gICAgZm9yICh2YXIgYyA9IDA7IGMgPCBhLmwubGVuZ3RoOyBjKyspIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGEubFtjXShiKTtcbiAgICAgIH0gY2F0Y2ggKGQpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcm8oYSwgYikge1xuICAgIFhhKGEubCwgZnVuY3Rpb24gKGMpIHtcbiAgICAgIHJldHVybiBjID09IGI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbyhhLCBiKSB7XG4gICAgYS5oLnB1c2goYik7XG4gICAgYi5uYShmdW5jdGlvbiAoKSB7XG4gICAgICBXYShhLmgsIGIpO1xuICAgIH0pO1xuICAgIHJldHVybiBiO1xuICB9XG5cbiAgayA9IGxvLnByb3RvdHlwZTtcblxuICBrLklhID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhID0gdGhpcztcbiAgICByZXR1cm4gdGhpcy5mID8gdGhpcy5mIDogdGhpcy5mID0gc28odGhpcywgRSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKFNlKCkgJiYgIUplKCkpIHJldHVybiBFZSgpO1xuICAgICAgdGhyb3cgbmV3IHQoXCJvcGVyYXRpb24tbm90LXN1cHBvcnRlZC1pbi10aGlzLWVudmlyb25tZW50XCIsIFwiUmVjYXB0Y2hhVmVyaWZpZXIgaXMgb25seSBzdXBwb3J0ZWQgaW4gYSBicm93c2VyIEhUVFAvSFRUUFMgZW52aXJvbm1lbnQuXCIpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGEudi5nKGEudSgpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICBhLmcgPSBiO1xuICAgICAgcmV0dXJuIE8oYS5vLCBLaiwge30pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGIpIHtcbiAgICAgIGEuYVttb10gPSBiLnJlY2FwdGNoYVNpdGVLZXk7XG4gICAgfSkucyhmdW5jdGlvbiAoYikge1xuICAgICAgYS5mID0gbnVsbDtcbiAgICAgIHRocm93IGI7XG4gICAgfSkpO1xuICB9O1xuXG4gIGsucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHRvKHRoaXMpO1xuICAgIHZhciBhID0gdGhpcztcbiAgICByZXR1cm4gc28odGhpcywgdGhpcy5JYSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG51bGwgPT09IGEuYykge1xuICAgICAgICB2YXIgYiA9IGEubTtcblxuICAgICAgICBpZiAoIWEuaSkge1xuICAgICAgICAgIHZhciBjID0ga2MoYik7XG4gICAgICAgICAgYiA9IG5jKFwiRElWXCIpO1xuICAgICAgICAgIGMuYXBwZW5kQ2hpbGQoYik7XG4gICAgICAgIH1cblxuICAgICAgICBhLmMgPSBhLmcucmVuZGVyKGIsIGEuYSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhLmM7XG4gICAgfSkpO1xuICB9O1xuXG4gIGsudmVyaWZ5ID0gZnVuY3Rpb24gKCkge1xuICAgIHRvKHRoaXMpO1xuICAgIHZhciBhID0gdGhpcztcbiAgICByZXR1cm4gc28odGhpcywgdGhpcy5yZW5kZXIoKS50aGVuKGZ1bmN0aW9uIChiKSB7XG4gICAgICByZXR1cm4gbmV3IEQoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgdmFyIGQgPSBhLmcuZ2V0UmVzcG9uc2UoYik7XG4gICAgICAgIGlmIChkKSBjKGQpO2Vsc2Uge1xuICAgICAgICAgIHZhciBlID0gZnVuY3Rpb24gZShmKSB7XG4gICAgICAgICAgICBmICYmIChybyhhLCBlKSwgYyhmKSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGEubC5wdXNoKGUpO1xuICAgICAgICAgIGEuaSAmJiBhLmcuZXhlY3V0ZShhLmMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KSk7XG4gIH07XG5cbiAgay5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0byh0aGlzKTtcbiAgICBudWxsICE9PSB0aGlzLmMgJiYgdGhpcy5nLnJlc2V0KHRoaXMuYyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gdG8oYSkge1xuICAgIGlmIChhLkEpIHRocm93IG5ldyB0KFwiaW50ZXJuYWwtZXJyb3JcIiwgXCJSZWNhcHRjaGFWZXJpZmllciBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQuXCIpO1xuICB9XG5cbiAgay5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0byh0aGlzKTtcbiAgICB0aGlzLkEgPSAhMDtcbiAgICB0aGlzLnYuYygpO1xuXG4gICAgZm9yICh2YXIgYSA9IDA7IGEgPCB0aGlzLmgubGVuZ3RoOyBhKyspIHtcbiAgICAgIHRoaXMuaFthXS5jYW5jZWwoXCJSZWNhcHRjaGFWZXJpZmllciBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5pKSB7XG4gICAgICBhID0ga2ModGhpcy5tKTtcblxuICAgICAgZm9yICh2YXIgYjsgYiA9IGEuZmlyc3RDaGlsZDspIHtcbiAgICAgICAgYS5yZW1vdmVDaGlsZChiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gdW8oYSwgYiwgYykge1xuICAgIHZhciBkID0gITE7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5iID0gYyB8fCBmaXJlYmFzZS5hcHAoKTtcbiAgICB9IGNhdGNoIChnKSB7XG4gICAgICB0aHJvdyBuZXcgdChcImFyZ3VtZW50LWVycm9yXCIsIFwiTm8gZmlyZWJhc2UuYXBwLkFwcCBpbnN0YW5jZSBpcyBjdXJyZW50bHkgaW5pdGlhbGl6ZWQuXCIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmIub3B0aW9ucyAmJiB0aGlzLmIub3B0aW9ucy5hcGlLZXkpIGMgPSB0aGlzLmIub3B0aW9ucy5hcGlLZXk7ZWxzZSB0aHJvdyBuZXcgdChcImludmFsaWQtYXBpLWtleVwiKTtcbiAgICB2YXIgZSA9IHRoaXMsXG4gICAgICAgIGYgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGYgPSB0aGlzLmIuYXV0aCgpLkdhKCk7XG4gICAgfSBjYXRjaCAoZykge31cblxuICAgIHRyeSB7XG4gICAgICBkID0gdGhpcy5iLmF1dGgoKS5zZXR0aW5ncy5hcHBWZXJpZmljYXRpb25EaXNhYmxlZEZvclRlc3Rpbmc7XG4gICAgfSBjYXRjaCAoZykge31cblxuICAgIGYgPSBmaXJlYmFzZS5TREtfVkVSU0lPTiA/IE9lKGZpcmViYXNlLlNES19WRVJTSU9OLCBmKSA6IG51bGw7XG4gICAgbG8uY2FsbCh0aGlzLCBjLCBhLCBiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgZyA9IGUuYi5hdXRoKCkua2EoKTtcbiAgICAgIH0gY2F0Y2ggKGgpIHtcbiAgICAgICAgZyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnO1xuICAgIH0sIGYsIENhKERhKSwgZCk7XG4gIH1cblxuICByKHVvLCBsbyk7XG5cbiAgZnVuY3Rpb24gdm8oYSwgYiwgYywgZCkge1xuICAgIGE6IHtcbiAgICAgIGMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjKTtcbiAgICAgIHZhciBlID0gMDtcblxuICAgICAgZm9yICh2YXIgZiA9ICExLCBnID0gMDsgZyA8IGIubGVuZ3RoOyBnKyspIHtcbiAgICAgICAgaWYgKGJbZ10ub3B0aW9uYWwpIGYgPSAhMDtlbHNlIHtcbiAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IHQoXCJpbnRlcm5hbC1lcnJvclwiLCBcIkFyZ3VtZW50IHZhbGlkYXRvciBlbmNvdW50ZXJlZCBhIHJlcXVpcmVkIGFyZ3VtZW50IGFmdGVyIGFuIG9wdGlvbmFsIGFyZ3VtZW50LlwiKTtcbiAgICAgICAgICBlKys7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZiA9IGIubGVuZ3RoO1xuICAgICAgaWYgKGMubGVuZ3RoIDwgZSB8fCBmIDwgYy5sZW5ndGgpIGQgPSBcIkV4cGVjdGVkIFwiICsgKGUgPT0gZiA/IDEgPT0gZSA/IFwiMSBhcmd1bWVudFwiIDogZSArIFwiIGFyZ3VtZW50c1wiIDogZSArIFwiLVwiICsgZiArIFwiIGFyZ3VtZW50c1wiKSArIFwiIGJ1dCBnb3QgXCIgKyBjLmxlbmd0aCArIFwiLlwiO2Vsc2Uge1xuICAgICAgICBmb3IgKGUgPSAwOyBlIDwgYy5sZW5ndGg7IGUrKykge1xuICAgICAgICAgIGlmIChmID0gYltlXS5vcHRpb25hbCAmJiB2b2lkIDAgPT09IGNbZV0sICFiW2VdLksoY1tlXSkgJiYgIWYpIHtcbiAgICAgICAgICAgIGIgPSBiW2VdO1xuICAgICAgICAgICAgaWYgKDAgPiBlIHx8IGUgPj0gd28ubGVuZ3RoKSB0aHJvdyBuZXcgdChcImludGVybmFsLWVycm9yXCIsIFwiQXJndW1lbnQgdmFsaWRhdG9yIHJlY2VpdmVkIGFuIHVuc3VwcG9ydGVkIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO1xuICAgICAgICAgICAgYyA9IHdvW2VdO1xuICAgICAgICAgICAgZCA9IChkID8gXCJcIiA6IGMgKyBcIiBhcmd1bWVudCBcIikgKyAoYi5uYW1lID8gJ1wiJyArIGIubmFtZSArICdcIiAnIDogXCJcIikgKyBcIm11c3QgYmUgXCIgKyBiLkogKyBcIi5cIjtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGQpIHRocm93IG5ldyB0KFwiYXJndW1lbnQtZXJyb3JcIiwgYSArIFwiIGZhaWxlZDogXCIgKyBkKTtcbiAgfVxuXG4gIHZhciB3byA9IFwiRmlyc3QgU2Vjb25kIFRoaXJkIEZvdXJ0aCBGaWZ0aCBTaXh0aCBTZXZlbnRoIEVpZ2h0aCBOaW50aFwiLnNwbGl0KFwiIFwiKTtcblxuICBmdW5jdGlvbiBWKGEsIGIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYSB8fCBcIlwiLFxuICAgICAgSjogXCJhIHZhbGlkIHN0cmluZ1wiLFxuICAgICAgb3B0aW9uYWw6ICEhYixcbiAgICAgIEs6IGZ1bmN0aW9uIEsoYykge1xuICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGM7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHhvKGEsIGIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYSB8fCBcIlwiLFxuICAgICAgSjogXCJhIGJvb2xlYW5cIixcbiAgICAgIG9wdGlvbmFsOiAhIWIsXG4gICAgICBLOiBmdW5jdGlvbiBLKGMpIHtcbiAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiID09PSB0eXBlb2YgYztcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gVyhhLCBiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGEgfHwgXCJcIixcbiAgICAgIEo6IFwiYSB2YWxpZCBvYmplY3RcIixcbiAgICAgIG9wdGlvbmFsOiAhIWIsXG4gICAgICBLOiBtXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHlvKGEsIGIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogYSB8fCBcIlwiLFxuICAgICAgSjogXCJhIGZ1bmN0aW9uXCIsXG4gICAgICBvcHRpb25hbDogISFiLFxuICAgICAgSzogZnVuY3Rpb24gSyhjKSB7XG4gICAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB6byhhLCBiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IGEgfHwgXCJcIixcbiAgICAgIEo6IFwibnVsbFwiLFxuICAgICAgb3B0aW9uYWw6ICEhYixcbiAgICAgIEs6IGZ1bmN0aW9uIEsoYykge1xuICAgICAgICByZXR1cm4gbnVsbCA9PT0gYztcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gQW8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwiXCIsXG4gICAgICBKOiBcImFuIEhUTUwgZWxlbWVudFwiLFxuICAgICAgb3B0aW9uYWw6ICExLFxuICAgICAgSzogZnVuY3Rpb24gSyhhKSB7XG4gICAgICAgIHJldHVybiAhIShhICYmIGEgaW5zdGFuY2VvZiBFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gQm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwiYXV0aFwiLFxuICAgICAgSjogXCJhbiBpbnN0YW5jZSBvZiBGaXJlYmFzZSBBdXRoXCIsXG4gICAgICBvcHRpb25hbDogITAsXG4gICAgICBLOiBmdW5jdGlvbiBLKGEpIHtcbiAgICAgICAgcmV0dXJuICEhKGEgJiYgYSBpbnN0YW5jZW9mIEZuKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gQ28oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IFwiYXBwXCIsXG4gICAgICBKOiBcImFuIGluc3RhbmNlIG9mIEZpcmViYXNlIEFwcFwiLFxuICAgICAgb3B0aW9uYWw6ICEwLFxuICAgICAgSzogZnVuY3Rpb24gSyhhKSB7XG4gICAgICAgIHJldHVybiAhIShhICYmIGEgaW5zdGFuY2VvZiBmaXJlYmFzZS5hcHAuQXBwKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gRG8oYSkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBhID8gYSArIFwiQ3JlZGVudGlhbFwiIDogXCJjcmVkZW50aWFsXCIsXG4gICAgICBKOiBhID8gXCJhIHZhbGlkIFwiICsgYSArIFwiIGNyZWRlbnRpYWxcIiA6IFwiYSB2YWxpZCBjcmVkZW50aWFsXCIsXG4gICAgICBvcHRpb25hbDogITEsXG4gICAgICBLOiBmdW5jdGlvbiBLKGIpIHtcbiAgICAgICAgaWYgKCFiKSByZXR1cm4gITE7XG4gICAgICAgIHZhciBjID0gIWEgfHwgYi5wcm92aWRlcklkID09PSBhO1xuICAgICAgICByZXR1cm4gISghYi5qYSB8fCAhYyk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEVvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBcIm11bHRpRmFjdG9yQXNzZXJ0aW9uXCIsXG4gICAgICBKOiBcImEgdmFsaWQgbXVsdGlGYWN0b3JBc3NlcnRpb25cIixcbiAgICAgIG9wdGlvbmFsOiAhMSxcbiAgICAgIEs6IGZ1bmN0aW9uIEsoYSkge1xuICAgICAgICByZXR1cm4gYSA/ICEhYS5yYiA6ICExO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBGbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogXCJhdXRoUHJvdmlkZXJcIixcbiAgICAgIEo6IFwiYSB2YWxpZCBBdXRoIHByb3ZpZGVyXCIsXG4gICAgICBvcHRpb25hbDogITEsXG4gICAgICBLOiBmdW5jdGlvbiBLKGEpIHtcbiAgICAgICAgcmV0dXJuICEhKGEgJiYgYS5wcm92aWRlcklkICYmIGEuaGFzT3duUHJvcGVydHkgJiYgYS5oYXNPd25Qcm9wZXJ0eShcImlzT0F1dGhQcm92aWRlclwiKSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEdvKGEsIGIpIHtcbiAgICByZXR1cm4gbShhKSAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgYS50eXBlICYmIGEudHlwZSA9PT0gYiAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhLkhhO1xuICB9XG5cbiAgZnVuY3Rpb24gSG8oYSkge1xuICAgIHJldHVybiBtKGEpICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBhLnVpZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIElvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBcImFwcGxpY2F0aW9uVmVyaWZpZXJcIixcbiAgICAgIEo6IFwiYW4gaW1wbGVtZW50YXRpb24gb2YgZmlyZWJhc2UuYXV0aC5BcHBsaWNhdGlvblZlcmlmaWVyXCIsXG4gICAgICBvcHRpb25hbDogITEsXG4gICAgICBLOiBmdW5jdGlvbiBLKGEpIHtcbiAgICAgICAgcmV0dXJuICEoIWEgfHwgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIGEudHlwZSB8fCBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBhLnZlcmlmeSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIFgoYSwgYiwgYywgZCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBjIHx8IFwiXCIsXG4gICAgICBKOiBhLkogKyBcIiBvciBcIiArIGIuSixcbiAgICAgIG9wdGlvbmFsOiAhIWQsXG4gICAgICBLOiBmdW5jdGlvbiBLKGUpIHtcbiAgICAgICAgcmV0dXJuIGEuSyhlKSB8fCBiLksoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIDtcblxuICBmdW5jdGlvbiBZKGEsIGIpIHtcbiAgICBmb3IgKHZhciBjIGluIGIpIHtcbiAgICAgIHZhciBkID0gYltjXS5uYW1lO1xuICAgICAgYVtkXSA9IEpvKGQsIGFbY10sIGJbY10uaik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gS28oYSwgYikge1xuICAgIGZvciAodmFyIGMgaW4gYikge1xuICAgICAgdmFyIGQgPSBiW2NdLm5hbWU7XG4gICAgICBkICE9PSBjICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBkLCB7XG4gICAgICAgIGdldDogdWEoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gdGhpc1tlXTtcbiAgICAgICAgfSwgYyksXG4gICAgICAgIHNldDogdWEoZnVuY3Rpb24gKGUsIGYsIGcsIGgpIHtcbiAgICAgICAgICB2byhlLCBbZ10sIFtoXSwgITApO1xuICAgICAgICAgIHRoaXNbZl0gPSBoO1xuICAgICAgICB9LCBkLCBjLCBiW2NdLmpiKSxcbiAgICAgICAgZW51bWVyYWJsZTogITBcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIFooYSwgYiwgYywgZCkge1xuICAgIGFbYl0gPSBKbyhiLCBjLCBkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIEpvKGEsIGIsIGMpIHtcbiAgICBmdW5jdGlvbiBkKCkge1xuICAgICAgdmFyIGcgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgdm8oZSwgYywgZyk7XG4gICAgICByZXR1cm4gYi5hcHBseSh0aGlzLCBnKTtcbiAgICB9XG5cbiAgICBpZiAoIWMpIHJldHVybiBiO1xuICAgIHZhciBlID0gTG8oYSksXG4gICAgICAgIGY7XG5cbiAgICBmb3IgKGYgaW4gYikge1xuICAgICAgZFtmXSA9IGJbZl07XG4gICAgfVxuXG4gICAgZm9yIChmIGluIGIucHJvdG90eXBlKSB7XG4gICAgICBkLnByb3RvdHlwZVtmXSA9IGIucHJvdG90eXBlW2ZdO1xuICAgIH1cblxuICAgIHJldHVybiBkO1xuICB9XG5cbiAgZnVuY3Rpb24gTG8oYSkge1xuICAgIGEgPSBhLnNwbGl0KFwiLlwiKTtcbiAgICByZXR1cm4gYVthLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgO1xuICBZKEZuLnByb3RvdHlwZSwge1xuICAgIGliOiB7XG4gICAgICBuYW1lOiBcImFwcGx5QWN0aW9uQ29kZVwiLFxuICAgICAgajogW1YoXCJjb2RlXCIpXVxuICAgIH0sXG4gICAgUWE6IHtcbiAgICAgIG5hbWU6IFwiY2hlY2tBY3Rpb25Db2RlXCIsXG4gICAgICBqOiBbVihcImNvZGVcIildXG4gICAgfSxcbiAgICBtYjoge1xuICAgICAgbmFtZTogXCJjb25maXJtUGFzc3dvcmRSZXNldFwiLFxuICAgICAgajogW1YoXCJjb2RlXCIpLCBWKFwibmV3UGFzc3dvcmRcIildXG4gICAgfSxcbiAgICBkYzoge1xuICAgICAgbmFtZTogXCJjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmRcIixcbiAgICAgIGo6IFtWKFwiZW1haWxcIiksIFYoXCJwYXNzd29yZFwiKV1cbiAgICB9LFxuICAgIGdjOiB7XG4gICAgICBuYW1lOiBcImZldGNoU2lnbkluTWV0aG9kc0ZvckVtYWlsXCIsXG4gICAgICBqOiBbVihcImVtYWlsXCIpXVxuICAgIH0sXG4gICAgcWE6IHtcbiAgICAgIG5hbWU6IFwiZ2V0UmVkaXJlY3RSZXN1bHRcIixcbiAgICAgIGo6IFtdXG4gICAgfSxcbiAgICBBYzoge1xuICAgICAgbmFtZTogXCJpc1NpZ25JbldpdGhFbWFpbExpbmtcIixcbiAgICAgIGo6IFtWKFwiZW1haWxMaW5rXCIpXVxuICAgIH0sXG4gICAgR2M6IHtcbiAgICAgIG5hbWU6IFwib25BdXRoU3RhdGVDaGFuZ2VkXCIsXG4gICAgICBqOiBbWChXKCksIHlvKCksIFwibmV4dE9yT2JzZXJ2ZXJcIiksIHlvKFwib3B0X2Vycm9yXCIsICEwKSwgeW8oXCJvcHRfY29tcGxldGVkXCIsICEwKV1cbiAgICB9LFxuICAgIEhjOiB7XG4gICAgICBuYW1lOiBcIm9uSWRUb2tlbkNoYW5nZWRcIixcbiAgICAgIGo6IFtYKFcoKSwgeW8oKSwgXCJuZXh0T3JPYnNlcnZlclwiKSwgeW8oXCJvcHRfZXJyb3JcIiwgITApLCB5byhcIm9wdF9jb21wbGV0ZWRcIiwgITApXVxuICAgIH0sXG4gICAgdWI6IHtcbiAgICAgIG5hbWU6IFwic2VuZFBhc3N3b3JkUmVzZXRFbWFpbFwiLFxuICAgICAgajogW1YoXCJlbWFpbFwiKSwgWChXKFwib3B0X2FjdGlvbkNvZGVTZXR0aW5nc1wiLCAhMCksIHpvKG51bGwsICEwKSwgXCJvcHRfYWN0aW9uQ29kZVNldHRpbmdzXCIsICEwKV1cbiAgICB9LFxuICAgIHZiOiB7XG4gICAgICBuYW1lOiBcInNlbmRTaWduSW5MaW5rVG9FbWFpbFwiLFxuICAgICAgajogW1YoXCJlbWFpbFwiKSwgVyhcImFjdGlvbkNvZGVTZXR0aW5nc1wiKV1cbiAgICB9LFxuICAgIHdiOiB7XG4gICAgICBuYW1lOiBcInNldFBlcnNpc3RlbmNlXCIsXG4gICAgICBqOiBbVihcInBlcnNpc3RlbmNlXCIpXVxuICAgIH0sXG4gICAgUmM6IHtcbiAgICAgIG5hbWU6IFwic2lnbkluQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWxcIixcbiAgICAgIGo6IFtEbygpXVxuICAgIH0sXG4gICAgeWI6IHtcbiAgICAgIG5hbWU6IFwic2lnbkluQW5vbnltb3VzbHlcIixcbiAgICAgIGo6IFtdXG4gICAgfSxcbiAgICBaYToge1xuICAgICAgbmFtZTogXCJzaWduSW5XaXRoQ3JlZGVudGlhbFwiLFxuICAgICAgajogW0RvKCldXG4gICAgfSxcbiAgICBTYzoge1xuICAgICAgbmFtZTogXCJzaWduSW5XaXRoQ3VzdG9tVG9rZW5cIixcbiAgICAgIGo6IFtWKFwidG9rZW5cIildXG4gICAgfSxcbiAgICBUYzoge1xuICAgICAgbmFtZTogXCJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZFwiLFxuICAgICAgajogW1YoXCJlbWFpbFwiKSwgVihcInBhc3N3b3JkXCIpXVxuICAgIH0sXG4gICAgVWM6IHtcbiAgICAgIG5hbWU6IFwic2lnbkluV2l0aEVtYWlsTGlua1wiLFxuICAgICAgajogW1YoXCJlbWFpbFwiKSwgVihcImVtYWlsTGlua1wiLCAhMCldXG4gICAgfSxcbiAgICBWYzoge1xuICAgICAgbmFtZTogXCJzaWduSW5XaXRoUGhvbmVOdW1iZXJcIixcbiAgICAgIGo6IFtWKFwicGhvbmVOdW1iZXJcIiksIElvKCldXG4gICAgfSxcbiAgICBXYzoge1xuICAgICAgbmFtZTogXCJzaWduSW5XaXRoUG9wdXBcIixcbiAgICAgIGo6IFtGbygpXVxuICAgIH0sXG4gICAgWGM6IHtcbiAgICAgIG5hbWU6IFwic2lnbkluV2l0aFJlZGlyZWN0XCIsXG4gICAgICBqOiBbRm8oKV1cbiAgICB9LFxuICAgIGNkOiB7XG4gICAgICBuYW1lOiBcInVwZGF0ZUN1cnJlbnRVc2VyXCIsXG4gICAgICBqOiBbWChmdW5jdGlvbiAoYSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IFwidXNlclwiLFxuICAgICAgICAgIEo6IFwiYW4gaW5zdGFuY2Ugb2YgRmlyZWJhc2UgVXNlclwiLFxuICAgICAgICAgIG9wdGlvbmFsOiAhIWEsXG4gICAgICAgICAgSzogZnVuY3Rpb24gSyhiKSB7XG4gICAgICAgICAgICByZXR1cm4gISEoYiAmJiBiIGluc3RhbmNlb2YgSm0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0oKSwgem8oKSwgXCJ1c2VyXCIpXVxuICAgIH0sXG4gICAgemI6IHtcbiAgICAgIG5hbWU6IFwic2lnbk91dFwiLFxuICAgICAgajogW11cbiAgICB9LFxuICAgIHRvSlNPTjoge1xuICAgICAgbmFtZTogXCJ0b0pTT05cIixcbiAgICAgIGo6IFtWKG51bGwsICEwKV1cbiAgICB9LFxuICAgIGVkOiB7XG4gICAgICBuYW1lOiBcInVzZURldmljZUxhbmd1YWdlXCIsXG4gICAgICBqOiBbXVxuICAgIH0sXG4gICAgZmQ6IHtcbiAgICAgIG5hbWU6IFwidXNlRW11bGF0b3JcIixcbiAgICAgIGo6IFtWKFwidXJsXCIpXVxuICAgIH0sXG4gICAgaGQ6IHtcbiAgICAgIG5hbWU6IFwidmVyaWZ5UGFzc3dvcmRSZXNldENvZGVcIixcbiAgICAgIGo6IFtWKFwiY29kZVwiKV1cbiAgICB9XG4gIH0pO1xuICBLbyhGbi5wcm90b3R5cGUsIHtcbiAgICBsYzoge1xuICAgICAgbmFtZTogXCJsYW5ndWFnZUNvZGVcIixcbiAgICAgIGpiOiBYKFYoKSwgem8oKSwgXCJsYW5ndWFnZUNvZGVcIilcbiAgICB9LFxuICAgIHRpOiB7XG4gICAgICBuYW1lOiBcInRlbmFudElkXCIsXG4gICAgICBqYjogWChWKCksIHpvKCksIFwidGVuYW50SWRcIilcbiAgICB9XG4gIH0pO1xuICBGbi5QZXJzaXN0ZW5jZSA9IFNrO1xuICBGbi5QZXJzaXN0ZW5jZS5MT0NBTCA9IFwibG9jYWxcIjtcbiAgRm4uUGVyc2lzdGVuY2UuU0VTU0lPTiA9IFwic2Vzc2lvblwiO1xuICBGbi5QZXJzaXN0ZW5jZS5OT05FID0gXCJub25lXCI7XG4gIFkoSm0ucHJvdG90eXBlLCB7XG4gICAgXCJkZWxldGVcIjoge1xuICAgICAgbmFtZTogXCJkZWxldGVcIixcbiAgICAgIGo6IFtdXG4gICAgfSxcbiAgICBuYzoge1xuICAgICAgbmFtZTogXCJnZXRJZFRva2VuUmVzdWx0XCIsXG4gICAgICBqOiBbeG8oXCJvcHRfZm9yY2VSZWZyZXNoXCIsICEwKV1cbiAgICB9LFxuICAgIEk6IHtcbiAgICAgIG5hbWU6IFwiZ2V0SWRUb2tlblwiLFxuICAgICAgajogW3hvKFwib3B0X2ZvcmNlUmVmcmVzaFwiLCAhMCldXG4gICAgfSxcbiAgICBCYzoge1xuICAgICAgbmFtZTogXCJsaW5rQW5kUmV0cmlldmVEYXRhV2l0aENyZWRlbnRpYWxcIixcbiAgICAgIGo6IFtEbygpXVxuICAgIH0sXG4gICAgcGI6IHtcbiAgICAgIG5hbWU6IFwibGlua1dpdGhDcmVkZW50aWFsXCIsXG4gICAgICBqOiBbRG8oKV1cbiAgICB9LFxuICAgIENjOiB7XG4gICAgICBuYW1lOiBcImxpbmtXaXRoUGhvbmVOdW1iZXJcIixcbiAgICAgIGo6IFtWKFwicGhvbmVOdW1iZXJcIiksIElvKCldXG4gICAgfSxcbiAgICBEYzoge1xuICAgICAgbmFtZTogXCJsaW5rV2l0aFBvcHVwXCIsXG4gICAgICBqOiBbRm8oKV1cbiAgICB9LFxuICAgIEVjOiB7XG4gICAgICBuYW1lOiBcImxpbmtXaXRoUmVkaXJlY3RcIixcbiAgICAgIGo6IFtGbygpXVxuICAgIH0sXG4gICAgS2M6IHtcbiAgICAgIG5hbWU6IFwicmVhdXRoZW50aWNhdGVBbmRSZXRyaWV2ZURhdGFXaXRoQ3JlZGVudGlhbFwiLFxuICAgICAgajogW0RvKCldXG4gICAgfSxcbiAgICBzYjoge1xuICAgICAgbmFtZTogXCJyZWF1dGhlbnRpY2F0ZVdpdGhDcmVkZW50aWFsXCIsXG4gICAgICBqOiBbRG8oKV1cbiAgICB9LFxuICAgIExjOiB7XG4gICAgICBuYW1lOiBcInJlYXV0aGVudGljYXRlV2l0aFBob25lTnVtYmVyXCIsXG4gICAgICBqOiBbVihcInBob25lTnVtYmVyXCIpLCBJbygpXVxuICAgIH0sXG4gICAgTWM6IHtcbiAgICAgIG5hbWU6IFwicmVhdXRoZW50aWNhdGVXaXRoUG9wdXBcIixcbiAgICAgIGo6IFtGbygpXVxuICAgIH0sXG4gICAgTmM6IHtcbiAgICAgIG5hbWU6IFwicmVhdXRoZW50aWNhdGVXaXRoUmVkaXJlY3RcIixcbiAgICAgIGo6IFtGbygpXVxuICAgIH0sXG4gICAgcmVsb2FkOiB7XG4gICAgICBuYW1lOiBcInJlbG9hZFwiLFxuICAgICAgajogW11cbiAgICB9LFxuICAgIHRiOiB7XG4gICAgICBuYW1lOiBcInNlbmRFbWFpbFZlcmlmaWNhdGlvblwiLFxuICAgICAgajogW1goVyhcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwgITApLCB6byhudWxsLCAhMCksIFwib3B0X2FjdGlvbkNvZGVTZXR0aW5nc1wiLCAhMCldXG4gICAgfSxcbiAgICB0b0pTT046IHtcbiAgICAgIG5hbWU6IFwidG9KU09OXCIsXG4gICAgICBqOiBbVihudWxsLCAhMCldXG4gICAgfSxcbiAgICBiZDoge1xuICAgICAgbmFtZTogXCJ1bmxpbmtcIixcbiAgICAgIGo6IFtWKFwicHJvdmlkZXJcIildXG4gICAgfSxcbiAgICBBYjoge1xuICAgICAgbmFtZTogXCJ1cGRhdGVFbWFpbFwiLFxuICAgICAgajogW1YoXCJlbWFpbFwiKV1cbiAgICB9LFxuICAgIEJiOiB7XG4gICAgICBuYW1lOiBcInVwZGF0ZVBhc3N3b3JkXCIsXG4gICAgICBqOiBbVihcInBhc3N3b3JkXCIpXVxuICAgIH0sXG4gICAgZGQ6IHtcbiAgICAgIG5hbWU6IFwidXBkYXRlUGhvbmVOdW1iZXJcIixcbiAgICAgIGo6IFtEbyhcInBob25lXCIpXVxuICAgIH0sXG4gICAgQ2I6IHtcbiAgICAgIG5hbWU6IFwidXBkYXRlUHJvZmlsZVwiLFxuICAgICAgajogW1coXCJwcm9maWxlXCIpXVxuICAgIH0sXG4gICAgRGI6IHtcbiAgICAgIG5hbWU6IFwidmVyaWZ5QmVmb3JlVXBkYXRlRW1haWxcIixcbiAgICAgIGo6IFtWKFwiZW1haWxcIiksIFgoVyhcIm9wdF9hY3Rpb25Db2RlU2V0dGluZ3NcIiwgITApLCB6byhudWxsLCAhMCksIFwib3B0X2FjdGlvbkNvZGVTZXR0aW5nc1wiLCAhMCldXG4gICAgfVxuICB9KTtcbiAgWShZbi5wcm90b3R5cGUsIHtcbiAgICBleGVjdXRlOiB7XG4gICAgICBuYW1lOiBcImV4ZWN1dGVcIlxuICAgIH0sXG4gICAgcmVuZGVyOiB7XG4gICAgICBuYW1lOiBcInJlbmRlclwiXG4gICAgfSxcbiAgICByZXNldDoge1xuICAgICAgbmFtZTogXCJyZXNldFwiXG4gICAgfSxcbiAgICBnZXRSZXNwb25zZToge1xuICAgICAgbmFtZTogXCJnZXRSZXNwb25zZVwiXG4gICAgfVxuICB9KTtcbiAgWShYbi5wcm90b3R5cGUsIHtcbiAgICBleGVjdXRlOiB7XG4gICAgICBuYW1lOiBcImV4ZWN1dGVcIlxuICAgIH0sXG4gICAgcmVuZGVyOiB7XG4gICAgICBuYW1lOiBcInJlbmRlclwiXG4gICAgfSxcbiAgICByZXNldDoge1xuICAgICAgbmFtZTogXCJyZXNldFwiXG4gICAgfSxcbiAgICBnZXRSZXNwb25zZToge1xuICAgICAgbmFtZTogXCJnZXRSZXNwb25zZVwiXG4gICAgfVxuICB9KTtcbiAgWShELnByb3RvdHlwZSwge1xuICAgIG5hOiB7XG4gICAgICBuYW1lOiBcImZpbmFsbHlcIlxuICAgIH0sXG4gICAgczoge1xuICAgICAgbmFtZTogXCJjYXRjaFwiXG4gICAgfSxcbiAgICB0aGVuOiB7XG4gICAgICBuYW1lOiBcInRoZW5cIlxuICAgIH1cbiAgfSk7XG4gIEtvKGZtLnByb3RvdHlwZSwge1xuICAgIGFwcFZlcmlmaWNhdGlvbkRpc2FibGVkOiB7XG4gICAgICBuYW1lOiBcImFwcFZlcmlmaWNhdGlvbkRpc2FibGVkRm9yVGVzdGluZ1wiLFxuICAgICAgamI6IHhvKFwiYXBwVmVyaWZpY2F0aW9uRGlzYWJsZWRGb3JUZXN0aW5nXCIpXG4gICAgfVxuICB9KTtcbiAgWShnbS5wcm90b3R5cGUsIHtcbiAgICBjb25maXJtOiB7XG4gICAgICBuYW1lOiBcImNvbmZpcm1cIixcbiAgICAgIGo6IFtWKFwidmVyaWZpY2F0aW9uQ29kZVwiKV1cbiAgICB9XG4gIH0pO1xuICBaKENnLCBcImZyb21KU09OXCIsIGZ1bmN0aW9uIChhKSB7XG4gICAgYSA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhID8gSlNPTi5wYXJzZShhKSA6IGE7XG5cbiAgICBmb3IgKHZhciBiLCBjID0gW05nLCBlaCwgbGgsIEtnXSwgZCA9IDA7IGQgPCBjLmxlbmd0aDsgZCsrKSB7XG4gICAgICBpZiAoYiA9IGNbZF0oYSkpIHJldHVybiBiO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LCBbWChWKCksIFcoKSwgXCJqc29uXCIpXSk7XG4gIFooJGcsIFwiY3JlZGVudGlhbFwiLCBmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBuZXcgWmcoYSwgYik7XG4gIH0sIFtWKFwiZW1haWxcIiksIFYoXCJwYXNzd29yZFwiKV0pO1xuICBZKFpnLnByb3RvdHlwZSwge1xuICAgIHc6IHtcbiAgICAgIG5hbWU6IFwidG9KU09OXCIsXG4gICAgICBqOiBbVihudWxsLCAhMCldXG4gICAgfVxuICB9KTtcbiAgWShSZy5wcm90b3R5cGUsIHtcbiAgICBDYToge1xuICAgICAgbmFtZTogXCJhZGRTY29wZVwiLFxuICAgICAgajogW1YoXCJzY29wZVwiKV1cbiAgICB9LFxuICAgIEthOiB7XG4gICAgICBuYW1lOiBcInNldEN1c3RvbVBhcmFtZXRlcnNcIixcbiAgICAgIGo6IFtXKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXVxuICAgIH1cbiAgfSk7XG4gIFooUmcsIFwiY3JlZGVudGlhbFwiLCBTZywgW1goVigpLCBXKCksIFwidG9rZW5cIildKTtcbiAgWigkZywgXCJjcmVkZW50aWFsV2l0aExpbmtcIiwgZmgsIFtWKFwiZW1haWxcIiksIFYoXCJlbWFpbExpbmtcIildKTtcbiAgWShUZy5wcm90b3R5cGUsIHtcbiAgICBDYToge1xuICAgICAgbmFtZTogXCJhZGRTY29wZVwiLFxuICAgICAgajogW1YoXCJzY29wZVwiKV1cbiAgICB9LFxuICAgIEthOiB7XG4gICAgICBuYW1lOiBcInNldEN1c3RvbVBhcmFtZXRlcnNcIixcbiAgICAgIGo6IFtXKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXVxuICAgIH1cbiAgfSk7XG4gIFooVGcsIFwiY3JlZGVudGlhbFwiLCBVZywgW1goVigpLCBXKCksIFwidG9rZW5cIildKTtcbiAgWShWZy5wcm90b3R5cGUsIHtcbiAgICBDYToge1xuICAgICAgbmFtZTogXCJhZGRTY29wZVwiLFxuICAgICAgajogW1YoXCJzY29wZVwiKV1cbiAgICB9LFxuICAgIEthOiB7XG4gICAgICBuYW1lOiBcInNldEN1c3RvbVBhcmFtZXRlcnNcIixcbiAgICAgIGo6IFtXKFwiY3VzdG9tT0F1dGhQYXJhbWV0ZXJzXCIpXVxuICAgIH1cbiAgfSk7XG4gIFooVmcsIFwiY3JlZGVudGlhbFwiLCBXZywgW1goVigpLCBYKFcoKSwgem8oKSksIFwiaWRUb2tlblwiKSwgWChWKCksIHpvKCksIFwiYWNjZXNzVG9rZW5cIiwgITApXSk7XG4gIFkoWGcucHJvdG90eXBlLCB7XG4gICAgS2E6IHtcbiAgICAgIG5hbWU6IFwic2V0Q3VzdG9tUGFyYW1ldGVyc1wiLFxuICAgICAgajogW1coXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildXG4gICAgfVxuICB9KTtcbiAgWihYZywgXCJjcmVkZW50aWFsXCIsIFlnLCBbWChWKCksIFcoKSwgXCJ0b2tlblwiKSwgVihcInNlY3JldFwiLCAhMCldKTtcbiAgWShRZy5wcm90b3R5cGUsIHtcbiAgICBDYToge1xuICAgICAgbmFtZTogXCJhZGRTY29wZVwiLFxuICAgICAgajogW1YoXCJzY29wZVwiKV1cbiAgICB9LFxuICAgIGNyZWRlbnRpYWw6IHtcbiAgICAgIG5hbWU6IFwiY3JlZGVudGlhbFwiLFxuICAgICAgajogW1goVigpLCBYKFcoKSwgem8oKSksIFwib3B0aW9uc09ySWRUb2tlblwiKSwgWChWKCksIHpvKCksIFwiYWNjZXNzVG9rZW5cIiwgITApXVxuICAgIH0sXG4gICAgS2E6IHtcbiAgICAgIG5hbWU6IFwic2V0Q3VzdG9tUGFyYW1ldGVyc1wiLFxuICAgICAgajogW1coXCJjdXN0b21PQXV0aFBhcmFtZXRlcnNcIildXG4gICAgfVxuICB9KTtcbiAgWShMZy5wcm90b3R5cGUsIHtcbiAgICB3OiB7XG4gICAgICBuYW1lOiBcInRvSlNPTlwiLFxuICAgICAgajogW1YobnVsbCwgITApXVxuICAgIH1cbiAgfSk7XG4gIFkoRmcucHJvdG90eXBlLCB7XG4gICAgdzoge1xuICAgICAgbmFtZTogXCJ0b0pTT05cIixcbiAgICAgIGo6IFtWKG51bGwsICEwKV1cbiAgICB9XG4gIH0pO1xuICBaKG1oLCBcImNyZWRlbnRpYWxcIiwgcWgsIFtWKFwidmVyaWZpY2F0aW9uSWRcIiksIFYoXCJ2ZXJpZmljYXRpb25Db2RlXCIpXSk7XG4gIFkobWgucHJvdG90eXBlLCB7XG4gICAgZWI6IHtcbiAgICAgIG5hbWU6IFwidmVyaWZ5UGhvbmVOdW1iZXJcIixcbiAgICAgIGo6IFtYKFYoKSwgZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lOiBhIHx8IFwicGhvbmVJbmZvT3B0aW9uc1wiLFxuICAgICAgICAgIEo6IFwidmFsaWQgcGhvbmUgaW5mbyBvcHRpb25zXCIsXG4gICAgICAgICAgb3B0aW9uYWw6ICEhYixcbiAgICAgICAgICBLOiBmdW5jdGlvbiBLKGMpIHtcbiAgICAgICAgICAgIHJldHVybiBjID8gYy5zZXNzaW9uICYmIGMucGhvbmVOdW1iZXIgPyBHbyhjLnNlc3Npb24sIEFnKSAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgYy5waG9uZU51bWJlciA6IGMuc2Vzc2lvbiAmJiBjLm11bHRpRmFjdG9ySGludCA/IEdvKGMuc2Vzc2lvbiwgQmcpICYmIEhvKGMubXVsdGlGYWN0b3JIaW50KSA6IGMuc2Vzc2lvbiAmJiBjLm11bHRpRmFjdG9yVWlkID8gR28oYy5zZXNzaW9uLCBCZykgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGMubXVsdGlGYWN0b3JVaWQgOiBjLnBob25lTnVtYmVyID8gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGMucGhvbmVOdW1iZXIgOiAhMSA6ICExO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0oKSwgXCJwaG9uZUluZm9PcHRpb25zXCIpLCBJbygpXVxuICAgIH1cbiAgfSk7XG4gIFkoaGgucHJvdG90eXBlLCB7XG4gICAgdzoge1xuICAgICAgbmFtZTogXCJ0b0pTT05cIixcbiAgICAgIGo6IFtWKG51bGwsICEwKV1cbiAgICB9XG4gIH0pO1xuICBZKHQucHJvdG90eXBlLCB7XG4gICAgdG9KU09OOiB7XG4gICAgICBuYW1lOiBcInRvSlNPTlwiLFxuICAgICAgajogW1YobnVsbCwgITApXVxuICAgIH1cbiAgfSk7XG4gIFkoemgucHJvdG90eXBlLCB7XG4gICAgdG9KU09OOiB7XG4gICAgICBuYW1lOiBcInRvSlNPTlwiLFxuICAgICAgajogW1YobnVsbCwgITApXVxuICAgIH1cbiAgfSk7XG4gIFkoeWgucHJvdG90eXBlLCB7XG4gICAgdG9KU09OOiB7XG4gICAgICBuYW1lOiBcInRvSlNPTlwiLFxuICAgICAgajogW1YobnVsbCwgITApXVxuICAgIH1cbiAgfSk7XG4gIFkobW0ucHJvdG90eXBlLCB7XG4gICAgdG9KU09OOiB7XG4gICAgICBuYW1lOiBcInRvSlNPTlwiLFxuICAgICAgajogW1YobnVsbCwgITApXVxuICAgIH1cbiAgfSk7XG4gIFkoam0ucHJvdG90eXBlLCB7XG4gICAgUWM6IHtcbiAgICAgIG5hbWU6IFwicmVzb2x2ZVNpZ25JblwiLFxuICAgICAgajogW0VvKCldXG4gICAgfVxuICB9KTtcbiAgWSh1bS5wcm90b3R5cGUsIHtcbiAgICBRYjoge1xuICAgICAgbmFtZTogXCJnZXRTZXNzaW9uXCIsXG4gICAgICBqOiBbXVxuICAgIH0sXG4gICAgZWM6IHtcbiAgICAgIG5hbWU6IFwiZW5yb2xsXCIsXG4gICAgICBqOiBbRW8oKSwgVihcImRpc3BsYXlOYW1lXCIsICEwKV1cbiAgICB9LFxuICAgIGFkOiB7XG4gICAgICBuYW1lOiBcInVuZW5yb2xsXCIsXG4gICAgICBqOiBbWCh7XG4gICAgICAgIG5hbWU6IFwibXVsdGlGYWN0b3JJbmZvXCIsXG4gICAgICAgIEo6IFwiYSB2YWxpZCBtdWx0aUZhY3RvckluZm9cIixcbiAgICAgICAgb3B0aW9uYWw6ICExLFxuICAgICAgICBLOiBIb1xuICAgICAgfSwgVigpLCBcIm11bHRpRmFjdG9ySW5mb0lkZW50aWZpZXJcIildXG4gICAgfVxuICB9KTtcbiAgWSh1by5wcm90b3R5cGUsIHtcbiAgICBjbGVhcjoge1xuICAgICAgbmFtZTogXCJjbGVhclwiLFxuICAgICAgajogW11cbiAgICB9LFxuICAgIHJlbmRlcjoge1xuICAgICAgbmFtZTogXCJyZW5kZXJcIixcbiAgICAgIGo6IFtdXG4gICAgfSxcbiAgICB2ZXJpZnk6IHtcbiAgICAgIG5hbWU6IFwidmVyaWZ5XCIsXG4gICAgICBqOiBbXVxuICAgIH1cbiAgfSk7XG4gIFooS2YsIFwicGFyc2VMaW5rXCIsIFNmLCBbVihcImxpbmtcIildKTtcbiAgWihlbywgXCJhc3NlcnRpb25cIiwgZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gbmV3IHNtKGEpO1xuICB9LCBbRG8oXCJwaG9uZVwiKV0pO1xuXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBmaXJlYmFzZSAmJiBmaXJlYmFzZS5JTlRFUk5BTCAmJiBmaXJlYmFzZS5JTlRFUk5BTC5yZWdpc3RlckNvbXBvbmVudCkge1xuICAgICAgdmFyIGEgPSB7XG4gICAgICAgIEFjdGlvbkNvZGVJbmZvOiB7XG4gICAgICAgICAgT3BlcmF0aW9uOiB7XG4gICAgICAgICAgICBFTUFJTF9TSUdOSU46IEJmLFxuICAgICAgICAgICAgUEFTU1dPUkRfUkVTRVQ6IFwiUEFTU1dPUkRfUkVTRVRcIixcbiAgICAgICAgICAgIFJFQ09WRVJfRU1BSUw6IFwiUkVDT1ZFUl9FTUFJTFwiLFxuICAgICAgICAgICAgUkVWRVJUX1NFQ09ORF9GQUNUT1JfQURESVRJT046IERmLFxuICAgICAgICAgICAgVkVSSUZZX0FORF9DSEFOR0VfRU1BSUw6IENmLFxuICAgICAgICAgICAgVkVSSUZZX0VNQUlMOiBcIlZFUklGWV9FTUFJTFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBBdXRoOiBGbixcbiAgICAgICAgQXV0aENyZWRlbnRpYWw6IENnLFxuICAgICAgICBFcnJvcjogdFxuICAgICAgfTtcbiAgICAgIFooYSwgXCJFbWFpbEF1dGhQcm92aWRlclwiLCAkZywgW10pO1xuICAgICAgWihhLCBcIkZhY2Vib29rQXV0aFByb3ZpZGVyXCIsIFJnLCBbXSk7XG4gICAgICBaKGEsIFwiR2l0aHViQXV0aFByb3ZpZGVyXCIsIFRnLCBbXSk7XG4gICAgICBaKGEsIFwiR29vZ2xlQXV0aFByb3ZpZGVyXCIsIFZnLCBbXSk7XG4gICAgICBaKGEsIFwiVHdpdHRlckF1dGhQcm92aWRlclwiLCBYZywgW10pO1xuICAgICAgWihhLCBcIk9BdXRoUHJvdmlkZXJcIiwgUWcsIFtWKFwicHJvdmlkZXJJZFwiKV0pO1xuICAgICAgWihhLCBcIlNBTUxBdXRoUHJvdmlkZXJcIiwgUGcsIFtWKFwicHJvdmlkZXJJZFwiKV0pO1xuICAgICAgWihhLCBcIlBob25lQXV0aFByb3ZpZGVyXCIsIG1oLCBbQm8oKV0pO1xuICAgICAgWihhLCBcIlJlY2FwdGNoYVZlcmlmaWVyXCIsIHVvLCBbWChWKCksIEFvKCksIFwicmVjYXB0Y2hhQ29udGFpbmVyXCIpLCBXKFwicmVjYXB0Y2hhUGFyYW1ldGVyc1wiLCAhMCksIENvKCldKTtcbiAgICAgIFooYSwgXCJBY3Rpb25Db2RlVVJMXCIsIEtmLCBbXSk7XG4gICAgICBaKGEsIFwiUGhvbmVNdWx0aUZhY3RvckdlbmVyYXRvclwiLCBlbywgW10pO1xuICAgICAgZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQoe1xuICAgICAgICBuYW1lOiBcImF1dGhcIixcbiAgICAgICAgaW5zdGFuY2VGYWN0b3J5OiBmdW5jdGlvbiBpbnN0YW5jZUZhY3RvcnkoYikge1xuICAgICAgICAgIGIgPSBiLmdldFByb3ZpZGVyKFwiYXBwXCIpLmdldEltbWVkaWF0ZSgpO1xuICAgICAgICAgIHJldHVybiBuZXcgRm4oYik7XG4gICAgICAgIH0sXG4gICAgICAgIG11bHRpcGxlSW5zdGFuY2VzOiAhMSxcbiAgICAgICAgc2VydmljZVByb3BzOiBhLFxuICAgICAgICBpbnN0YW50aWF0aW9uTW9kZTogXCJMQVpZXCIsXG4gICAgICAgIHR5cGU6IFwiUFVCTElDXCJcbiAgICAgIH0pO1xuICAgICAgZmlyZWJhc2UuSU5URVJOQUwucmVnaXN0ZXJDb21wb25lbnQoe1xuICAgICAgICBuYW1lOiBcImF1dGgtaW50ZXJuYWxcIixcbiAgICAgICAgaW5zdGFuY2VGYWN0b3J5OiBmdW5jdGlvbiBpbnN0YW5jZUZhY3RvcnkoYikge1xuICAgICAgICAgIGIgPSBiLmdldFByb3ZpZGVyKFwiYXV0aFwiKS5nZXRJbW1lZGlhdGUoKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0VWlkOiBxKGIuZ2V0VWlkLCBiKSxcbiAgICAgICAgICAgIGdldFRva2VuOiBxKGIubWMsIGIpLFxuICAgICAgICAgICAgYWRkQXV0aFRva2VuTGlzdGVuZXI6IHEoYi5jYywgYiksXG4gICAgICAgICAgICByZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcjogcShiLk9jLCBiKVxuICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG11bHRpcGxlSW5zdGFuY2VzOiAhMSxcbiAgICAgICAgaW5zdGFudGlhdGlvbk1vZGU6IFwiTEFaWVwiLFxuICAgICAgICB0eXBlOiBcIlBSSVZBVEVcIlxuICAgICAgfSk7XG4gICAgICBmaXJlYmFzZS5yZWdpc3RlclZlcnNpb24oXCJAZmlyZWJhc2UvYXV0aFwiLCBcIjAuMTUuMlwiKTtcbiAgICAgIGZpcmViYXNlLklOVEVSTkFMLmV4dGVuZE5hbWVzcGFjZSh7XG4gICAgICAgIFVzZXI6IEptXG4gICAgICB9KTtcbiAgICB9IGVsc2UgdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCB0aGUgZmlyZWJhc2UgbmFtZXNwYWNlOyBiZSBzdXJlIHRvIGluY2x1ZGUgZmlyZWJhc2UtYXBwLmpzIGJlZm9yZSB0aGlzIGxpYnJhcnkuXCIpO1xuICB9KSgpO1xufSkuYXBwbHkodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fSk7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///t6oF\n')}}]);